2020-08-07 09:48:23
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-07 09:48:23
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 09:48:23
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 09:48:23
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 09:48:23
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 09:48:23
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = 
@LogDate7[DateTime] = 2020/8/7 9:48:23
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 09:48:24
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 09:48:24
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 09:48:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 09:48:25
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type10) 	
Parameters:
@Type10[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 09:48:25
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type11) 	
Parameters:
@Type11[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 09:48:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 09:48:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 09:48:25
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38)))	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 09:48:25
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode40) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode41) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 09:48:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 09:48:25
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 09:48:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 09:48:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 09:51:23
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 09:54:23
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 09:57:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:00:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:03:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:06:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:09:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:12:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:15:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:18:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:21:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:24:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:27:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:30:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:33:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:36:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:39:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:42:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:45:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:48:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:51:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:54:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 10:57:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:00:28
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:03:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:05:14
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-07 11:05:14
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 11:05:14
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 11:05:14
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 11:05:14
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 11:05:14
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = 
@LogDate7[DateTime] = 2020/8/7 11:05:14
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 11:05:16
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 11:05:16
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 11:05:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:05:16
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type10) 	
Parameters:
@Type10[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 11:05:16
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type11) 	
Parameters:
@Type11[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 11:05:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 11:05:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 11:05:16
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38)))	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 11:05:16
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode40) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode41) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 11:05:17
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 11:05:17
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 11:05:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 11:05:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 11:05:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 11:05:31
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId42) AND ([TbModelOrg].[SiteCode] IN (@SiteCode43))) 	
Parameters:
@ProjectId42[String] = 6372912251695766465
@SiteCode43[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-07 11:05:31
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE 1=2 	


-----------------------------------------------------------------------------
2020-08-07 11:05:31
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE (1=2) AND ([TbModelOtherInfo].[Type] = @Type44) 	
Parameters:
@Type44[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 11:05:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 11:05:44
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId45) AND ([TbModelOrg].[SiteCode] IN (@SiteCode46))) 	
Parameters:
@ProjectId45[String] = 6372912251695766465
@SiteCode46[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 11:05:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 11:05:56
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId47) AND ([TbModelOrg].[SiteCode] IN (@SiteCode48))) 	
Parameters:
@ProjectId47[String] = 6372912251695766465
@SiteCode48[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 11:08:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:11:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:14:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:17:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:20:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:23:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:26:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:29:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:32:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:32:36
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 11:32:36
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 11:32:36
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:32:36
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type49) 	
Parameters:
@Type49[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 11:32:36
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type50) 	
Parameters:
@Type50[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 11:32:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 11:32:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 11:32:36
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode78)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId51) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77)))	
Parameters:
@ProjectId51[String] = 6372912251695766465
@SiteCode52[String] = 6373083923489249281
@SiteCode53[String] = 6373083925531366080
@SiteCode54[String] = 6373083927883400612
@SiteCode55[String] = 6373083918575368225
@SiteCode56[String] = 6373083920445075162
@SiteCode57[String] = 6373083908618598731
@SiteCode58[String] = 6373083911842783146
@SiteCode59[String] = 6373083913928202424
@SiteCode60[String] = 6373083877551621804
@SiteCode61[String] = 6373083879921857377
@SiteCode62[String] = 6373083881542550067
@SiteCode63[String] = 6373083883689772886
@SiteCode64[String] = 6373083887136270013
@SiteCode65[String] = 6373083889697116488
@SiteCode66[String] = 6373083891969846476
@SiteCode67[String] = 6373083894422586761
@SiteCode68[String] = 6373083897509963358
@SiteCode69[String] = 6373083900444931227
@SiteCode70[String] = 6373083829464571372
@SiteCode71[String] = 6373083833327492328
@SiteCode72[String] = 6373083841964286321
@SiteCode73[String] = 6373083844982558950
@SiteCode74[String] = 6373083847585007801
@SiteCode75[String] = 6373083856887939900
@SiteCode76[String] = 6373083859102666584
@SiteCode77[String] = 6373083864919499284
@FDictionaryCode78[String] = OrderState
@FDictionaryCode79[String] = UrgentDegree
@FDictionaryCode80[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 11:32:36
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode79) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode80) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode78)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId51) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId51[String] = 6372912251695766465
@SiteCode52[String] = 6373083923489249281
@SiteCode53[String] = 6373083925531366080
@SiteCode54[String] = 6373083927883400612
@SiteCode55[String] = 6373083918575368225
@SiteCode56[String] = 6373083920445075162
@SiteCode57[String] = 6373083908618598731
@SiteCode58[String] = 6373083911842783146
@SiteCode59[String] = 6373083913928202424
@SiteCode60[String] = 6373083877551621804
@SiteCode61[String] = 6373083879921857377
@SiteCode62[String] = 6373083881542550067
@SiteCode63[String] = 6373083883689772886
@SiteCode64[String] = 6373083887136270013
@SiteCode65[String] = 6373083889697116488
@SiteCode66[String] = 6373083891969846476
@SiteCode67[String] = 6373083894422586761
@SiteCode68[String] = 6373083897509963358
@SiteCode69[String] = 6373083900444931227
@SiteCode70[String] = 6373083829464571372
@SiteCode71[String] = 6373083833327492328
@SiteCode72[String] = 6373083841964286321
@SiteCode73[String] = 6373083844982558950
@SiteCode74[String] = 6373083847585007801
@SiteCode75[String] = 6373083856887939900
@SiteCode76[String] = 6373083859102666584
@SiteCode77[String] = 6373083864919499284
@FDictionaryCode78[String] = OrderState
@FDictionaryCode79[String] = UrgentDegree
@FDictionaryCode80[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 11:32:37
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 11:32:37
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 11:32:37
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 11:32:37
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 11:32:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 11:32:53
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId81) AND ([TbModelOrg].[SiteCode] IN (@SiteCode82))) 	
Parameters:
@ProjectId81[String] = 6372912251695766465
@SiteCode82[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 11:33:41
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 11:33:42
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 11:33:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:33:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type83) 	
Parameters:
@Type83[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 11:33:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type84) 	
Parameters:
@Type84[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 11:33:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 11:33:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 11:33:42
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode112)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId85) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111)))	
Parameters:
@ProjectId85[String] = 6372912251695766465
@SiteCode86[String] = 6373083923489249281
@SiteCode87[String] = 6373083925531366080
@SiteCode88[String] = 6373083927883400612
@SiteCode89[String] = 6373083918575368225
@SiteCode90[String] = 6373083920445075162
@SiteCode91[String] = 6373083908618598731
@SiteCode92[String] = 6373083911842783146
@SiteCode93[String] = 6373083913928202424
@SiteCode94[String] = 6373083877551621804
@SiteCode95[String] = 6373083879921857377
@SiteCode96[String] = 6373083881542550067
@SiteCode97[String] = 6373083883689772886
@SiteCode98[String] = 6373083887136270013
@SiteCode99[String] = 6373083889697116488
@SiteCode100[String] = 6373083891969846476
@SiteCode101[String] = 6373083894422586761
@SiteCode102[String] = 6373083897509963358
@SiteCode103[String] = 6373083900444931227
@SiteCode104[String] = 6373083829464571372
@SiteCode105[String] = 6373083833327492328
@SiteCode106[String] = 6373083841964286321
@SiteCode107[String] = 6373083844982558950
@SiteCode108[String] = 6373083847585007801
@SiteCode109[String] = 6373083856887939900
@SiteCode110[String] = 6373083859102666584
@SiteCode111[String] = 6373083864919499284
@FDictionaryCode112[String] = OrderState
@FDictionaryCode113[String] = UrgentDegree
@FDictionaryCode114[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 11:33:42
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode113) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode114) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode112)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId85) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId85[String] = 6372912251695766465
@SiteCode86[String] = 6373083923489249281
@SiteCode87[String] = 6373083925531366080
@SiteCode88[String] = 6373083927883400612
@SiteCode89[String] = 6373083918575368225
@SiteCode90[String] = 6373083920445075162
@SiteCode91[String] = 6373083908618598731
@SiteCode92[String] = 6373083911842783146
@SiteCode93[String] = 6373083913928202424
@SiteCode94[String] = 6373083877551621804
@SiteCode95[String] = 6373083879921857377
@SiteCode96[String] = 6373083881542550067
@SiteCode97[String] = 6373083883689772886
@SiteCode98[String] = 6373083887136270013
@SiteCode99[String] = 6373083889697116488
@SiteCode100[String] = 6373083891969846476
@SiteCode101[String] = 6373083894422586761
@SiteCode102[String] = 6373083897509963358
@SiteCode103[String] = 6373083900444931227
@SiteCode104[String] = 6373083829464571372
@SiteCode105[String] = 6373083833327492328
@SiteCode106[String] = 6373083841964286321
@SiteCode107[String] = 6373083844982558950
@SiteCode108[String] = 6373083847585007801
@SiteCode109[String] = 6373083856887939900
@SiteCode110[String] = 6373083859102666584
@SiteCode111[String] = 6373083864919499284
@FDictionaryCode112[String] = OrderState
@FDictionaryCode113[String] = UrgentDegree
@FDictionaryCode114[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 11:33:43
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 11:33:43
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 11:33:43
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 11:33:43
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 11:33:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 11:33:46
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId115) AND ([TbModelOrg].[SiteCode] IN (@SiteCode116))) 	
Parameters:
@ProjectId115[String] = 6372912251695766465
@SiteCode116[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 11:36:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 11:36:25
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId117) AND ([TbModelOrg].[SiteCode] IN (@SiteCode118))) 	
Parameters:
@ProjectId117[String] = 6372912251695766465
@SiteCode118[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 11:36:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:38:16
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm119,@MxGjBm120,@MxGjBm121,@MxGjBm122,@MxGjBm123,@MxGjBm124,@MxGjBm125,@MxGjBm126,@MxGjBm127,@MxGjBm128,@MxGjBm129,@MxGjBm130,@MxGjBm131,@MxGjBm132,@MxGjBm133,@MxGjBm134,@MxGjBm135,@MxGjBm136,@MxGjBm137,@MxGjBm138,@MxGjBm139,@MxGjBm140,@MxGjBm141,@MxGjBm142,@MxGjBm143,@MxGjBm144,@MxGjBm145,@MxGjBm146,@MxGjBm147,@MxGjBm148,@MxGjBm149,@MxGjBm150,@MxGjBm151,@MxGjBm152,@MxGjBm153,@MxGjBm154,@MxGjBm155,@MxGjBm156,@MxGjBm157,@MxGjBm158,@MxGjBm159,@MxGjBm160,@MxGjBm161,@MxGjBm162,@MxGjBm163,@MxGjBm164,@MxGjBm165,@MxGjBm166,@MxGjBm167,@MxGjBm168) 	
Parameters:
@MxGjBm119[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm120[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm121[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm122[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm123[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm124[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm125[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm126[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm127[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm128[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm129[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm130[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm131[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm132[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm133[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm134[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm135[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm136[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm137[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm138[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm139[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm140[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm141[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm142[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm143[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm144[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm145[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm146[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm147[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm148[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm149[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm150[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm151[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm152[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm153[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm154[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm155[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm156[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm157[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm158[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm159[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm160[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm161[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm162[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm163[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm164[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm165[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm166[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm167[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm168[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-07 11:38:16
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode169,@ComponentCode170,@ComponentCode171,@ComponentCode172,@ComponentCode173,@ComponentCode174,@ComponentCode175,@ComponentCode176,@ComponentCode177,@ComponentCode178,@ComponentCode179,@ComponentCode180,@ComponentCode181,@ComponentCode182,@ComponentCode183,@ComponentCode184,@ComponentCode185,@ComponentCode186,@ComponentCode187,@ComponentCode188,@ComponentCode189,@ComponentCode190,@ComponentCode191,@ComponentCode192,@ComponentCode193,@ComponentCode194,@ComponentCode195,@ComponentCode196,@ComponentCode197,@ComponentCode198,@ComponentCode199,@ComponentCode200,@ComponentCode201,@ComponentCode202,@ComponentCode203,@ComponentCode204,@ComponentCode205,@ComponentCode206,@ComponentCode207,@ComponentCode208,@ComponentCode209,@ComponentCode210,@ComponentCode211,@ComponentCode212,@ComponentCode213,@ComponentCode214,@ComponentCode215,@ComponentCode216,@ComponentCode217,@ComponentCode218)) AND ([TbModelOtherInfo].[Type] = @Type219) 	
Parameters:
@ComponentCode169[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_124
@ComponentCode170[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_353
@ComponentCode171[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_099
@ComponentCode172[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008
@ComponentCode173[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB_000
@ComponentCode174[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_006
@ComponentCode175[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ_489
@ComponentCode176[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL_416
@ComponentCode177[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL_031
@ComponentCode178[String] = L21_Z08_SBZX_OT_OT_LG_LG_011
@ComponentCode179[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL_001
@ComponentCode180[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_373
@ComponentCode181[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ_029
@ComponentCode182[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST_003
@ComponentCode183[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ_004
@ComponentCode184[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC_003
@ComponentCode185[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB_018
@ComponentCode186[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX_316
@ComponentCode187[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_394
@ComponentCode188[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS_051
@ComponentCode189[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ_024
@ComponentCode190[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX_062
@ComponentCode191[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX_113
@ComponentCode192[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS_005
@ComponentCode193[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS_033
@ComponentCode194[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_039
@ComponentCode195[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS_000
@ComponentCode196[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC_000
@ComponentCode197[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG_993
@ComponentCode198[String] = L21_Z08_00QT_QT_QT_GL_SG--1_435
@ComponentCode199[String] = L21_Z08_00QT_QT_QT_GL_SG--2_098
@ComponentCode200[String] = L21_Z08_00QT_QT_QT_GL_SG--2_105
@ComponentCode201[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3_001
@ComponentCode202[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2_001
@ComponentCode203[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1_001
@ComponentCode204[String] = L21_Z08_00QT_QT_QT_GL_SG--1_121
@ComponentCode205[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2_000
@ComponentCode206[String] = L21_Z08_00GS_PS_PS_SG_SG--3_101
@ComponentCode207[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A_001
@ComponentCode208[String] = L21_Z08_00GS_PS_PS_SG_SG--3_067
@ComponentCode209[String] = L21_Z08_00GS_PS_PS_SG_SG--3_143
@ComponentCode210[String] = L21_Z08_00GS_PS_PS_SG_SG--3_050
@ComponentCode211[String] = L21_Z08_00GS_PS_PS_SG_SG--3_076
@ComponentCode212[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1_000
@ComponentCode213[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8_001
@ComponentCode214[String] = L21_Z08_00GS_XF_XF_SG_SG--3_170
@ComponentCode215[String] = L21_Z08_00GS_GS_GS_SG_SG--3_101
@ComponentCode216[String] = L21_Z08_00GS_GS_GS_SG_SG--3_105
@ComponentCode217[String] = L21_Z08_00GS_GS_GS_SG_SG--3_193
@ComponentCode218[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3_001
@Type219[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 11:39:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:42:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:45:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:48:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:51:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:54:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 11:57:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:00:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:03:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:06:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:09:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:12:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:15:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:18:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:21:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:24:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:27:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:30:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 12:33:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:26:57
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-07 15:26:57
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 15:26:57
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 15:26:57
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 15:26:57
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 15:26:57
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = 
@LogDate7[DateTime] = 2020/8/7 15:26:57
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:27:29
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 15:27:29
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 15:27:29
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:27:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 15:27:32
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type10) AND ([TbOrganizationMap].[ProjectId] = @ProjectId11)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode12,@CompanyCode13,@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21,@CompanyCode22,@CompanyCode23,@CompanyCode24,@CompanyCode25,@CompanyCode26,@CompanyCode27,@CompanyCode28,@CompanyCode29,@CompanyCode30,@CompanyCode31,@CompanyCode32,@CompanyCode33,@CompanyCode34,@CompanyCode35,@CompanyCode36,@CompanyCode37)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode38))) 	
Parameters:
@Type10[Int32] = 1
@ProjectId11[String] = 6372912251695766465
@CompanyCode12[String] = 6373083923489249281
@CompanyCode13[String] = 6373083925531366080
@CompanyCode14[String] = 6373083927883400612
@CompanyCode15[String] = 6373083918575368225
@CompanyCode16[String] = 6373083920445075162
@CompanyCode17[String] = 6373083908618598731
@CompanyCode18[String] = 6373083911842783146
@CompanyCode19[String] = 6373083913928202424
@CompanyCode20[String] = 6373083877551621804
@CompanyCode21[String] = 6373083879921857377
@CompanyCode22[String] = 6373083881542550067
@CompanyCode23[String] = 6373083883689772886
@CompanyCode24[String] = 6373083887136270013
@CompanyCode25[String] = 6373083889697116488
@CompanyCode26[String] = 6373083891969846476
@CompanyCode27[String] = 6373083894422586761
@CompanyCode28[String] = 6373083897509963358
@CompanyCode29[String] = 6373083900444931227
@CompanyCode30[String] = 6373083829464571372
@CompanyCode31[String] = 6373083833327492328
@CompanyCode32[String] = 6373083841964286321
@CompanyCode33[String] = 6373083844982558950
@CompanyCode34[String] = 6373083847585007801
@CompanyCode35[String] = 6373083856887939900
@CompanyCode36[String] = 6373083859102666584
@CompanyCode37[String] = 6373083864919499284
@ParentCompanyCode38[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 15:27:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 15:27:32
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type39) AND ([TbOrganizationMap].[ProjectId] = @ProjectId40)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode41,@CompanyCode42,@CompanyCode43,@CompanyCode44,@CompanyCode45,@CompanyCode46,@CompanyCode47,@CompanyCode48,@CompanyCode49,@CompanyCode50,@CompanyCode51,@CompanyCode52,@CompanyCode53,@CompanyCode54,@CompanyCode55,@CompanyCode56,@CompanyCode57,@CompanyCode58,@CompanyCode59,@CompanyCode60,@CompanyCode61,@CompanyCode62,@CompanyCode63,@CompanyCode64,@CompanyCode65,@CompanyCode66)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode67))) 	
Parameters:
@Type39[Int32] = 2
@ProjectId40[String] = 6372912251695766465
@CompanyCode41[String] = 6373083923489249281
@CompanyCode42[String] = 6373083925531366080
@CompanyCode43[String] = 6373083927883400612
@CompanyCode44[String] = 6373083918575368225
@CompanyCode45[String] = 6373083920445075162
@CompanyCode46[String] = 6373083908618598731
@CompanyCode47[String] = 6373083911842783146
@CompanyCode48[String] = 6373083913928202424
@CompanyCode49[String] = 6373083877551621804
@CompanyCode50[String] = 6373083879921857377
@CompanyCode51[String] = 6373083881542550067
@CompanyCode52[String] = 6373083883689772886
@CompanyCode53[String] = 6373083887136270013
@CompanyCode54[String] = 6373083889697116488
@CompanyCode55[String] = 6373083891969846476
@CompanyCode56[String] = 6373083894422586761
@CompanyCode57[String] = 6373083897509963358
@CompanyCode58[String] = 6373083900444931227
@CompanyCode59[String] = 6373083829464571372
@CompanyCode60[String] = 6373083833327492328
@CompanyCode61[String] = 6373083841964286321
@CompanyCode62[String] = 6373083844982558950
@CompanyCode63[String] = 6373083847585007801
@CompanyCode64[String] = 6373083856887939900
@CompanyCode65[String] = 6373083859102666584
@CompanyCode66[String] = 6373083864919499284
@ParentCompanyCode67[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 15:27:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 15:27:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 15:27:33
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode95)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId68) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94)))	
Parameters:
@ProjectId68[String] = 6372912251695766465
@SiteCode69[String] = 6373083923489249281
@SiteCode70[String] = 6373083925531366080
@SiteCode71[String] = 6373083927883400612
@SiteCode72[String] = 6373083918575368225
@SiteCode73[String] = 6373083920445075162
@SiteCode74[String] = 6373083908618598731
@SiteCode75[String] = 6373083911842783146
@SiteCode76[String] = 6373083913928202424
@SiteCode77[String] = 6373083877551621804
@SiteCode78[String] = 6373083879921857377
@SiteCode79[String] = 6373083881542550067
@SiteCode80[String] = 6373083883689772886
@SiteCode81[String] = 6373083887136270013
@SiteCode82[String] = 6373083889697116488
@SiteCode83[String] = 6373083891969846476
@SiteCode84[String] = 6373083894422586761
@SiteCode85[String] = 6373083897509963358
@SiteCode86[String] = 6373083900444931227
@SiteCode87[String] = 6373083829464571372
@SiteCode88[String] = 6373083833327492328
@SiteCode89[String] = 6373083841964286321
@SiteCode90[String] = 6373083844982558950
@SiteCode91[String] = 6373083847585007801
@SiteCode92[String] = 6373083856887939900
@SiteCode93[String] = 6373083859102666584
@SiteCode94[String] = 6373083864919499284
@FDictionaryCode95[String] = OrderState
@FDictionaryCode96[String] = UrgentDegree
@FDictionaryCode97[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:27:33
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode96) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode97) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode95)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId68) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId68[String] = 6372912251695766465
@SiteCode69[String] = 6373083923489249281
@SiteCode70[String] = 6373083925531366080
@SiteCode71[String] = 6373083927883400612
@SiteCode72[String] = 6373083918575368225
@SiteCode73[String] = 6373083920445075162
@SiteCode74[String] = 6373083908618598731
@SiteCode75[String] = 6373083911842783146
@SiteCode76[String] = 6373083913928202424
@SiteCode77[String] = 6373083877551621804
@SiteCode78[String] = 6373083879921857377
@SiteCode79[String] = 6373083881542550067
@SiteCode80[String] = 6373083883689772886
@SiteCode81[String] = 6373083887136270013
@SiteCode82[String] = 6373083889697116488
@SiteCode83[String] = 6373083891969846476
@SiteCode84[String] = 6373083894422586761
@SiteCode85[String] = 6373083897509963358
@SiteCode86[String] = 6373083900444931227
@SiteCode87[String] = 6373083829464571372
@SiteCode88[String] = 6373083833327492328
@SiteCode89[String] = 6373083841964286321
@SiteCode90[String] = 6373083844982558950
@SiteCode91[String] = 6373083847585007801
@SiteCode92[String] = 6373083856887939900
@SiteCode93[String] = 6373083859102666584
@SiteCode94[String] = 6373083864919499284
@FDictionaryCode95[String] = OrderState
@FDictionaryCode96[String] = UrgentDegree
@FDictionaryCode97[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:27:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 15:27:35
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 15:27:35
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 15:27:35
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 15:27:55
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 15:27:55
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 15:27:55
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:27:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 15:27:56
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type98) AND ([TbOrganizationMap].[ProjectId] = @ProjectId99)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode100,@CompanyCode101,@CompanyCode102,@CompanyCode103,@CompanyCode104,@CompanyCode105,@CompanyCode106,@CompanyCode107,@CompanyCode108,@CompanyCode109,@CompanyCode110,@CompanyCode111,@CompanyCode112,@CompanyCode113,@CompanyCode114,@CompanyCode115,@CompanyCode116,@CompanyCode117,@CompanyCode118,@CompanyCode119,@CompanyCode120,@CompanyCode121,@CompanyCode122,@CompanyCode123,@CompanyCode124,@CompanyCode125)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode126))) 	
Parameters:
@Type98[Int32] = 1
@ProjectId99[String] = 6372912251695766465
@CompanyCode100[String] = 6373083923489249281
@CompanyCode101[String] = 6373083925531366080
@CompanyCode102[String] = 6373083927883400612
@CompanyCode103[String] = 6373083918575368225
@CompanyCode104[String] = 6373083920445075162
@CompanyCode105[String] = 6373083908618598731
@CompanyCode106[String] = 6373083911842783146
@CompanyCode107[String] = 6373083913928202424
@CompanyCode108[String] = 6373083877551621804
@CompanyCode109[String] = 6373083879921857377
@CompanyCode110[String] = 6373083881542550067
@CompanyCode111[String] = 6373083883689772886
@CompanyCode112[String] = 6373083887136270013
@CompanyCode113[String] = 6373083889697116488
@CompanyCode114[String] = 6373083891969846476
@CompanyCode115[String] = 6373083894422586761
@CompanyCode116[String] = 6373083897509963358
@CompanyCode117[String] = 6373083900444931227
@CompanyCode118[String] = 6373083829464571372
@CompanyCode119[String] = 6373083833327492328
@CompanyCode120[String] = 6373083841964286321
@CompanyCode121[String] = 6373083844982558950
@CompanyCode122[String] = 6373083847585007801
@CompanyCode123[String] = 6373083856887939900
@CompanyCode124[String] = 6373083859102666584
@CompanyCode125[String] = 6373083864919499284
@ParentCompanyCode126[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 15:27:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 15:27:56
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type127) AND ([TbOrganizationMap].[ProjectId] = @ProjectId128)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode129,@CompanyCode130,@CompanyCode131,@CompanyCode132,@CompanyCode133,@CompanyCode134,@CompanyCode135,@CompanyCode136,@CompanyCode137,@CompanyCode138,@CompanyCode139,@CompanyCode140,@CompanyCode141,@CompanyCode142,@CompanyCode143,@CompanyCode144,@CompanyCode145,@CompanyCode146,@CompanyCode147,@CompanyCode148,@CompanyCode149,@CompanyCode150,@CompanyCode151,@CompanyCode152,@CompanyCode153,@CompanyCode154)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode155))) 	
Parameters:
@Type127[Int32] = 2
@ProjectId128[String] = 6372912251695766465
@CompanyCode129[String] = 6373083923489249281
@CompanyCode130[String] = 6373083925531366080
@CompanyCode131[String] = 6373083927883400612
@CompanyCode132[String] = 6373083918575368225
@CompanyCode133[String] = 6373083920445075162
@CompanyCode134[String] = 6373083908618598731
@CompanyCode135[String] = 6373083911842783146
@CompanyCode136[String] = 6373083913928202424
@CompanyCode137[String] = 6373083877551621804
@CompanyCode138[String] = 6373083879921857377
@CompanyCode139[String] = 6373083881542550067
@CompanyCode140[String] = 6373083883689772886
@CompanyCode141[String] = 6373083887136270013
@CompanyCode142[String] = 6373083889697116488
@CompanyCode143[String] = 6373083891969846476
@CompanyCode144[String] = 6373083894422586761
@CompanyCode145[String] = 6373083897509963358
@CompanyCode146[String] = 6373083900444931227
@CompanyCode147[String] = 6373083829464571372
@CompanyCode148[String] = 6373083833327492328
@CompanyCode149[String] = 6373083841964286321
@CompanyCode150[String] = 6373083844982558950
@CompanyCode151[String] = 6373083847585007801
@CompanyCode152[String] = 6373083856887939900
@CompanyCode153[String] = 6373083859102666584
@CompanyCode154[String] = 6373083864919499284
@ParentCompanyCode155[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 15:27:56
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 15:27:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 15:27:56
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode183)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId156) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182)))	
Parameters:
@ProjectId156[String] = 6372912251695766465
@SiteCode157[String] = 6373083923489249281
@SiteCode158[String] = 6373083925531366080
@SiteCode159[String] = 6373083927883400612
@SiteCode160[String] = 6373083918575368225
@SiteCode161[String] = 6373083920445075162
@SiteCode162[String] = 6373083908618598731
@SiteCode163[String] = 6373083911842783146
@SiteCode164[String] = 6373083913928202424
@SiteCode165[String] = 6373083877551621804
@SiteCode166[String] = 6373083879921857377
@SiteCode167[String] = 6373083881542550067
@SiteCode168[String] = 6373083883689772886
@SiteCode169[String] = 6373083887136270013
@SiteCode170[String] = 6373083889697116488
@SiteCode171[String] = 6373083891969846476
@SiteCode172[String] = 6373083894422586761
@SiteCode173[String] = 6373083897509963358
@SiteCode174[String] = 6373083900444931227
@SiteCode175[String] = 6373083829464571372
@SiteCode176[String] = 6373083833327492328
@SiteCode177[String] = 6373083841964286321
@SiteCode178[String] = 6373083844982558950
@SiteCode179[String] = 6373083847585007801
@SiteCode180[String] = 6373083856887939900
@SiteCode181[String] = 6373083859102666584
@SiteCode182[String] = 6373083864919499284
@FDictionaryCode183[String] = OrderState
@FDictionaryCode184[String] = UrgentDegree
@FDictionaryCode185[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:27:56
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode184) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode185) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode183)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId156) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId156[String] = 6372912251695766465
@SiteCode157[String] = 6373083923489249281
@SiteCode158[String] = 6373083925531366080
@SiteCode159[String] = 6373083927883400612
@SiteCode160[String] = 6373083918575368225
@SiteCode161[String] = 6373083920445075162
@SiteCode162[String] = 6373083908618598731
@SiteCode163[String] = 6373083911842783146
@SiteCode164[String] = 6373083913928202424
@SiteCode165[String] = 6373083877551621804
@SiteCode166[String] = 6373083879921857377
@SiteCode167[String] = 6373083881542550067
@SiteCode168[String] = 6373083883689772886
@SiteCode169[String] = 6373083887136270013
@SiteCode170[String] = 6373083889697116488
@SiteCode171[String] = 6373083891969846476
@SiteCode172[String] = 6373083894422586761
@SiteCode173[String] = 6373083897509963358
@SiteCode174[String] = 6373083900444931227
@SiteCode175[String] = 6373083829464571372
@SiteCode176[String] = 6373083833327492328
@SiteCode177[String] = 6373083841964286321
@SiteCode178[String] = 6373083844982558950
@SiteCode179[String] = 6373083847585007801
@SiteCode180[String] = 6373083856887939900
@SiteCode181[String] = 6373083859102666584
@SiteCode182[String] = 6373083864919499284
@FDictionaryCode183[String] = OrderState
@FDictionaryCode184[String] = UrgentDegree
@FDictionaryCode185[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:27:57
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 15:27:57
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 15:27:57
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 15:27:57
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 15:28:22
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:28:25
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = EarlyWarningTimeType


-----------------------------------------------------------------------------
2020-08-07 15:28:26
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = PoliticalOutlook


-----------------------------------------------------------------------------
2020-08-07 15:28:26
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Sex


-----------------------------------------------------------------------------
2020-08-07 15:28:26
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Unit


-----------------------------------------------------------------------------
2020-08-07 15:28:29
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ConfidentialityContract


-----------------------------------------------------------------------------
2020-08-07 15:28:29
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = IncumbencyState


-----------------------------------------------------------------------------
2020-08-07 15:28:29
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = RecruitmentSources


-----------------------------------------------------------------------------
2020-08-07 15:28:30
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ServiceContract


-----------------------------------------------------------------------------
2020-08-07 15:28:32
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SocialSecurity


-----------------------------------------------------------------------------
2020-08-07 15:28:33
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DistributionTimeJg


-----------------------------------------------------------------------------
2020-08-07 15:28:34
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:28:34
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-07 15:28:35
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DistributionTimeJg


-----------------------------------------------------------------------------
2020-08-07 15:28:37
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = scgl


-----------------------------------------------------------------------------
2020-08-07 15:28:39
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = CarInfo


-----------------------------------------------------------------------------
2020-08-07 15:28:40
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = MaterialType


-----------------------------------------------------------------------------
2020-08-07 15:28:40
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = CollarState


-----------------------------------------------------------------------------
2020-08-07 15:28:41
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = RebarType


-----------------------------------------------------------------------------
2020-08-07 15:28:41
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = StorageAttribute


-----------------------------------------------------------------------------
2020-08-07 15:28:42
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = RebarType


-----------------------------------------------------------------------------
2020-08-07 15:28:43
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = CarInfo


-----------------------------------------------------------------------------
2020-08-07 15:28:43
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = yuancail


-----------------------------------------------------------------------------
2020-08-07 15:28:47
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:29:38
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryCode] = @DictionaryCode186 	
Parameters:
@DictionaryCode186[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:29:38
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryType] = @DictionaryType187 	
Parameters:
@DictionaryType187[String] = 系统配置


-----------------------------------------------------------------------------
2020-08-07 15:29:39
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu188,@ActionType189,@HostName190,@LogDate191,@UserCode192,@UserIP193);select scope_identity()	
Parameters:
@ActionMenu188[String] = TbSysDictionaryType
@ActionType189[String] = 新增
@HostName190[String] = 
@LogDate191[DateTime] = 2020/8/7 15:29:39
@UserCode192[String] = 500000
@UserIP193[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:29:39
Text:	INSERT INTO [TbSysDictionaryType] ([DictionaryCode],[DictionaryType],[PDictionaryCode],[FullCode]) VALUES (@DictionaryCode194,@DictionaryType195,@PDictionaryCode196,@FullCode197);select scope_identity()	
Parameters:
@DictionaryCode194[String] = SystemSeting
@DictionaryType195[String] = 系统配置
@PDictionaryCode196[String] = 0
@FullCode197[String] = 


-----------------------------------------------------------------------------
2020-08-07 15:29:39
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:29:42
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:29:47
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:30:38
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryCode] = @DictionaryCode198 	
Parameters:
@DictionaryCode198[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:30:38
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryType] = @DictionaryType199 	
Parameters:
@DictionaryType199[String] = 默认组织机构


-----------------------------------------------------------------------------
2020-08-07 15:30:38
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu200,@ActionType201,@HostName202,@LogDate203,@UserCode204,@UserIP205);select scope_identity()	
Parameters:
@ActionMenu200[String] = TbSysDictionaryType
@ActionType201[String] = 新增
@HostName202[String] = 
@LogDate203[DateTime] = 2020/8/7 15:30:38
@UserCode204[String] = 500000
@UserIP205[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:30:38
Text:	INSERT INTO [TbSysDictionaryType] ([DictionaryCode],[DictionaryType],[PDictionaryCode],[FullCode]) VALUES (@DictionaryCode206,@DictionaryType207,@PDictionaryCode208,@FullCode209);select scope_identity()	
Parameters:
@DictionaryCode206[String] = DefultOrgCode
@DictionaryType207[String] = 默认组织机构
@PDictionaryCode208[String] = SystemSeting
@FullCode209[String] = 


-----------------------------------------------------------------------------
2020-08-07 15:30:38
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:30:41
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:30:41
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:30:42
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:30:50
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:30:51
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:30:53
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:30:55
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:31:18
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:31:18
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:31:22
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:31:25
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:32:02
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryCode] = @DictionaryCode210 	
Parameters:
@DictionaryCode210[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:32:02
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryType] = @DictionaryType211 	
Parameters:
@DictionaryType211[String] = 轨道


-----------------------------------------------------------------------------
2020-08-07 15:32:02
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu212,@ActionType213,@HostName214,@LogDate215,@UserCode216,@UserIP217);select scope_identity()	
Parameters:
@ActionMenu212[String] = TbSysDictionaryType
@ActionType213[String] = 新增
@HostName214[String] = 
@LogDate215[DateTime] = 2020/8/7 15:32:02
@UserCode216[String] = 500000
@UserIP217[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:32:02
Text:	INSERT INTO [TbSysDictionaryType] ([DictionaryCode],[DictionaryType],[PDictionaryCode],[FullCode]) VALUES (@DictionaryCode218,@DictionaryType219,@PDictionaryCode220,@FullCode221);select scope_identity()	
Parameters:
@DictionaryCode218[String] = Track
@DictionaryType219[String] = 轨道
@PDictionaryCode220[String] = SystemSeting
@FullCode221[String] = 


-----------------------------------------------------------------------------
2020-08-07 15:32:02
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:32:04
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:32:32
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:32:32
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:32:34
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:32:35
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:32:53
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryCode] = @DictionaryCode222 	
Parameters:
@DictionaryCode222[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:32:53
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryType] = @DictionaryType223 	
Parameters:
@DictionaryType223[String] = 装饰装修


-----------------------------------------------------------------------------
2020-08-07 15:32:53
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu224,@ActionType225,@HostName226,@LogDate227,@UserCode228,@UserIP229);select scope_identity()	
Parameters:
@ActionMenu224[String] = TbSysDictionaryType
@ActionType225[String] = 新增
@HostName226[String] = 
@LogDate227[DateTime] = 2020/8/7 15:32:53
@UserCode228[String] = 500000
@UserIP229[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:32:53
Text:	INSERT INTO [TbSysDictionaryType] ([DictionaryCode],[DictionaryType],[PDictionaryCode],[FullCode]) VALUES (@DictionaryCode230,@DictionaryType231,@PDictionaryCode232,@FullCode233);select scope_identity()	
Parameters:
@DictionaryCode230[String] = Decorate
@DictionaryType231[String] = 装饰装修
@PDictionaryCode232[String] = SystemSeting
@FullCode233[String] = 


-----------------------------------------------------------------------------
2020-08-07 15:32:53
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:32:58
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:33:00
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:33:23
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryCode] = @DictionaryCode234 	
Parameters:
@DictionaryCode234[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:33:23
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryType] = @DictionaryType235 	
Parameters:
@DictionaryType235[String] = 机电


-----------------------------------------------------------------------------
2020-08-07 15:33:23
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu236,@ActionType237,@HostName238,@LogDate239,@UserCode240,@UserIP241);select scope_identity()	
Parameters:
@ActionMenu236[String] = TbSysDictionaryType
@ActionType237[String] = 新增
@HostName238[String] = 
@LogDate239[DateTime] = 2020/8/7 15:33:23
@UserCode240[String] = 500000
@UserIP241[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:33:23
Text:	INSERT INTO [TbSysDictionaryType] ([DictionaryCode],[DictionaryType],[PDictionaryCode],[FullCode]) VALUES (@DictionaryCode242,@DictionaryType243,@PDictionaryCode244,@FullCode245);select scope_identity()	
Parameters:
@DictionaryCode242[String] = Electromechanical
@DictionaryType243[String] = 机电
@PDictionaryCode244[String] = SystemSeting
@FullCode245[String] = 


-----------------------------------------------------------------------------
2020-08-07 15:33:23
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:33:27
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:33:29
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:33:55
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:34:30
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:34:30
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:34:34
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:34:35
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:34:44
Text:	 SELECT   * FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode246) AND ([TbSysDictionaryData].[DictionaryText] = @DictionaryText247) 	
Parameters:
@FDictionaryCode246[String] = DefultOrgCode
@DictionaryText247[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 15:34:44
Text:	 SELECT   * FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = @DictionaryCode248) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode249) 	
Parameters:
@DictionaryCode248[String] = DefultOrgCode
@FDictionaryCode249[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:34:44
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu250,@ActionType251,@HostName252,@LogDate253,@UserCode254,@UserIP255);select scope_identity()	
Parameters:
@ActionMenu250[String] = TbSysDictionaryData
@ActionType251[String] = 新增
@HostName252[String] = 
@LogDate253[DateTime] = 2020/8/7 15:34:44
@UserCode254[String] = 500000
@UserIP255[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:34:44
Text:	INSERT INTO [TbSysDictionaryData] ([FDictionaryCode],[DictionaryCode],[DictionaryText],[DictionaryOrder],[DictionaryValue]) VALUES (@FDictionaryCode256,@DictionaryCode257,@DictionaryText258,@DictionaryOrder259,@DictionaryValue260);select scope_identity()	
Parameters:
@FDictionaryCode256[String] = DefultOrgCode
@DictionaryCode257[String] = DefultOrgCode
@DictionaryText258[String] = 6372921389720849710
@DictionaryOrder259[Int32] = 1
@DictionaryValue260[String] = 


-----------------------------------------------------------------------------
2020-08-07 15:34:44
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:34:52
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:34:52
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:34:55
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:34:56
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:34:57
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:35:48
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:35:48
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:35:50
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:35:52
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:36:08
Text:	 SELECT   * FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode261) AND ([TbSysDictionaryData].[DictionaryText] = @DictionaryText262) 	
Parameters:
@FDictionaryCode261[String] = Electromechanical
@DictionaryText262[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 15:36:08
Text:	 SELECT   * FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = @DictionaryCode263) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode264) 	
Parameters:
@DictionaryCode263[String] = Electromechanical
@FDictionaryCode264[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:36:08
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu265,@ActionType266,@HostName267,@LogDate268,@UserCode269,@UserIP270);select scope_identity()	
Parameters:
@ActionMenu265[String] = TbSysDictionaryData
@ActionType266[String] = 新增
@HostName267[String] = 
@LogDate268[DateTime] = 2020/8/7 15:36:08
@UserCode269[String] = 500000
@UserIP270[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:36:08
Text:	INSERT INTO [TbSysDictionaryData] ([FDictionaryCode],[DictionaryCode],[DictionaryText],[DictionaryOrder],[DictionaryValue]) VALUES (@FDictionaryCode271,@DictionaryCode272,@DictionaryText273,@DictionaryOrder274,@DictionaryValue275);select scope_identity()	
Parameters:
@FDictionaryCode271[String] = Electromechanical
@DictionaryCode272[String] = Electromechanical
@DictionaryText273[String] = 6372921389720849710
@DictionaryOrder274[Int32] = 1
@DictionaryValue275[String] = 


-----------------------------------------------------------------------------
2020-08-07 15:36:08
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:36:12
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:36:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:36:14
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:36:15
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:36:16
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:36:16
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:36:17
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:36:18
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:36:18
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:36:20
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:36:20
Text:	 SELECT   TOP 1 * FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryCode] = @DictionaryCode276 	
Parameters:
@DictionaryCode276[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:36:36
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE ([TbSysDictionaryType].[DictionaryCode] = @DictionaryCode277) AND ([TbSysDictionaryType].[id] <> @id278) 	
Parameters:
@DictionaryCode277[String] = Decorate
@id278[Int32] = 105


-----------------------------------------------------------------------------
2020-08-07 15:36:36
Text:	 SELECT   TOP 1 [TbSysDictionaryType].[id] FROM [TbSysDictionaryType]  WHERE ([TbSysDictionaryType].[DictionaryType] = @DictionaryType279) AND ([TbSysDictionaryType].[id] <> @id280) 	
Parameters:
@DictionaryType279[String] = 供电
@id280[Int32] = 105


-----------------------------------------------------------------------------
2020-08-07 15:36:36
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu281,@ActionType282,@HostName283,@LogDate284,@UserCode285,@UserIP286);select scope_identity()	
Parameters:
@ActionMenu281[String] = TbSysDictionaryType
@ActionType282[String] = 编辑
@HostName283[String] = 
@LogDate284[DateTime] = 2020/8/7 15:36:36
@UserCode285[String] = 500000
@UserIP286[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:36:36
Text:	UPDATE [TbSysDictionaryType] SET [DictionaryCode]=@DictionaryCode288,[DictionaryType]=@DictionaryType289,[PDictionaryCode]=@PDictionaryCode290,[FullCode]=@FullCode291 WHERE [TbSysDictionaryType].[DictionaryCode] = @DictionaryCode287	
Parameters:
@DictionaryCode288[String] = Decorate
@DictionaryType289[String] = 供电
@PDictionaryCode290[String] = SystemSeting
@FullCode291[String] = 
@DictionaryCode287[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:36:36
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:36:40
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:36:54
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:36:54
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:36:55
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:36:56
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:36:57
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:37:08
Text:	 SELECT   * FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode292) AND ([TbSysDictionaryData].[DictionaryText] = @DictionaryText293) 	
Parameters:
@FDictionaryCode292[String] = Decorate
@DictionaryText293[String] = 6372921380259608561


-----------------------------------------------------------------------------
2020-08-07 15:37:08
Text:	 SELECT   * FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = @DictionaryCode294) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode295) 	
Parameters:
@DictionaryCode294[String] = Decorate
@FDictionaryCode295[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:37:08
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu296,@ActionType297,@HostName298,@LogDate299,@UserCode300,@UserIP301);select scope_identity()	
Parameters:
@ActionMenu296[String] = TbSysDictionaryData
@ActionType297[String] = 新增
@HostName298[String] = 
@LogDate299[DateTime] = 2020/8/7 15:37:08
@UserCode300[String] = 500000
@UserIP301[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:37:08
Text:	INSERT INTO [TbSysDictionaryData] ([FDictionaryCode],[DictionaryCode],[DictionaryText],[DictionaryOrder],[DictionaryValue]) VALUES (@FDictionaryCode302,@DictionaryCode303,@DictionaryText304,@DictionaryOrder305,@DictionaryValue306);select scope_identity()	
Parameters:
@FDictionaryCode302[String] = Decorate
@DictionaryCode303[String] = Decorate
@DictionaryText304[String] = 6372921380259608561
@DictionaryOrder305[Int32] = 1
@DictionaryValue306[String] = 


-----------------------------------------------------------------------------
2020-08-07 15:37:08
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:37:15
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:37:18
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:37:20
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:37:21
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:37:21
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:37:23
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:37:23
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:37:26
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:37:27
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:37:41
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:37:42
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:37:44
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:37:46
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:37:46
Text:	 SELECT   TOP 1 * FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryCode] = @DictionaryCode307 	
Parameters:
@DictionaryCode307[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:37:49
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:37:57
Text:	 SELECT   * FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode308) AND ([TbSysDictionaryData].[DictionaryText] = @DictionaryText309) 	
Parameters:
@FDictionaryCode308[String] = Track
@DictionaryText309[String] = 6372921378678418123


-----------------------------------------------------------------------------
2020-08-07 15:37:57
Text:	 SELECT   * FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = @DictionaryCode310) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode311) 	
Parameters:
@DictionaryCode310[String] = Track
@FDictionaryCode311[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:37:57
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu312,@ActionType313,@HostName314,@LogDate315,@UserCode316,@UserIP317);select scope_identity()	
Parameters:
@ActionMenu312[String] = TbSysDictionaryData
@ActionType313[String] = 新增
@HostName314[String] = 
@LogDate315[DateTime] = 2020/8/7 15:37:57
@UserCode316[String] = 500000
@UserIP317[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:37:57
Text:	INSERT INTO [TbSysDictionaryData] ([FDictionaryCode],[DictionaryCode],[DictionaryText],[DictionaryOrder],[DictionaryValue]) VALUES (@FDictionaryCode318,@DictionaryCode319,@DictionaryText320,@DictionaryOrder321,@DictionaryValue322);select scope_identity()	
Parameters:
@FDictionaryCode318[String] = Track
@DictionaryCode319[String] = Track
@DictionaryText320[String] = 6372921378678418123
@DictionaryOrder321[Int32] = 1
@DictionaryValue322[String] = 


-----------------------------------------------------------------------------
2020-08-07 15:37:57
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:37:59
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:37:59
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:38:00
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:38:02
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:38:03
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:38:03
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:38:04
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:38:05
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:38:05
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:38:05
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:38:08
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:38:09
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:38:10
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:38:10
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:38:11
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:38:12
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:38:12
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:38:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:38:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:38:15
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:38:16
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:38:16
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:38:17
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:38:17
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:38:18
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:38:19
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:38:20
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:38:21
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:38:22
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:39:55
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:41:11
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:41:12
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:41:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:41:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:41:14
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:41:15
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:41:16
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:41:17
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:41:18
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:41:19
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:41:20
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:41:21
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:41:22
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:41:23
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:41:23
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:41:24
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:41:25
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:41:26
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:41:27
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:41:29
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:41:38
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:41:40
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:41:41
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:41:42
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:41:43
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:41:45
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:41:45
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:41:46
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:41:47
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:41:52
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:41:52
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:41:53
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:41:54
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:41:55
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:41:55
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:41:57
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:41:59
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:41:59
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:41:59
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:42:00
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:42:55
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:45:00
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:45:01
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:45:18
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:45:18
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:45:20
Text:	 SELECT count(*) as r_cnt FROM [TbSysDictionaryType] WHERE ([TbSysDictionaryType].[PDictionaryCode] = @PDictionaryCode323)	
Parameters:
@PDictionaryCode323[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:45:22
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu324,@ActionType325,@HostName326,@LogDate327,@UserCode328,@UserIP329);select scope_identity()	
Parameters:
@ActionMenu324[String] = TbSysDictionaryType
@ActionType325[String] = 删除
@HostName326[String] = 
@LogDate327[DateTime] = 2020/8/7 15:45:22
@UserCode328[String] = 500000
@UserIP329[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:45:22
Text:	DELETE FROM [TbSysDictionaryType] WHERE ([TbSysDictionaryType].[DictionaryCode] = @DictionaryCode330) OR ([TbSysDictionaryType].[PDictionaryCode] = @PDictionaryCode331)	
Parameters:
@DictionaryCode330[String] = Decorate
@PDictionaryCode331[String] = Decorate


-----------------------------------------------------------------------------
2020-08-07 15:45:22
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:45:24
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:45:25
Text:	 SELECT count(*) as r_cnt FROM [TbSysDictionaryType] WHERE ([TbSysDictionaryType].[PDictionaryCode] = @PDictionaryCode332)	
Parameters:
@PDictionaryCode332[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:45:27
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu333,@ActionType334,@HostName335,@LogDate336,@UserCode337,@UserIP338);select scope_identity()	
Parameters:
@ActionMenu333[String] = TbSysDictionaryType
@ActionType334[String] = 删除
@HostName335[String] = 
@LogDate336[DateTime] = 2020/8/7 15:45:27
@UserCode337[String] = 500000
@UserIP338[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:45:27
Text:	DELETE FROM [TbSysDictionaryType] WHERE ([TbSysDictionaryType].[DictionaryCode] = @DictionaryCode339) OR ([TbSysDictionaryType].[PDictionaryCode] = @PDictionaryCode340)	
Parameters:
@DictionaryCode339[String] = DefultOrgCode
@PDictionaryCode340[String] = DefultOrgCode


-----------------------------------------------------------------------------
2020-08-07 15:45:27
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:45:30
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:45:31
Text:	 SELECT count(*) as r_cnt FROM [TbSysDictionaryType] WHERE ([TbSysDictionaryType].[PDictionaryCode] = @PDictionaryCode341)	
Parameters:
@PDictionaryCode341[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:45:32
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu342,@ActionType343,@HostName344,@LogDate345,@UserCode346,@UserIP347);select scope_identity()	
Parameters:
@ActionMenu342[String] = TbSysDictionaryType
@ActionType343[String] = 删除
@HostName344[String] = 
@LogDate345[DateTime] = 2020/8/7 15:45:32
@UserCode346[String] = 500000
@UserIP347[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:45:32
Text:	DELETE FROM [TbSysDictionaryType] WHERE ([TbSysDictionaryType].[DictionaryCode] = @DictionaryCode348) OR ([TbSysDictionaryType].[PDictionaryCode] = @PDictionaryCode349)	
Parameters:
@DictionaryCode348[String] = Electromechanical
@PDictionaryCode349[String] = Electromechanical


-----------------------------------------------------------------------------
2020-08-07 15:45:32
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:45:34
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:45:35
Text:	 SELECT count(*) as r_cnt FROM [TbSysDictionaryType] WHERE ([TbSysDictionaryType].[PDictionaryCode] = @PDictionaryCode350)	
Parameters:
@PDictionaryCode350[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:45:36
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu351,@ActionType352,@HostName353,@LogDate354,@UserCode355,@UserIP356);select scope_identity()	
Parameters:
@ActionMenu351[String] = TbSysDictionaryType
@ActionType352[String] = 删除
@HostName353[String] = 
@LogDate354[DateTime] = 2020/8/7 15:45:36
@UserCode355[String] = 500000
@UserIP356[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 15:45:36
Text:	DELETE FROM [TbSysDictionaryType] WHERE ([TbSysDictionaryType].[DictionaryCode] = @DictionaryCode357) OR ([TbSysDictionaryType].[PDictionaryCode] = @PDictionaryCode358)	
Parameters:
@DictionaryCode357[String] = Track
@PDictionaryCode358[String] = Track


-----------------------------------------------------------------------------
2020-08-07 15:45:36
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:45:37
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:45:55
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:47:42
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:47:43
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:48:55
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:50:33
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:50:37
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:50:42
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DistributionTimeJg


-----------------------------------------------------------------------------
2020-08-07 15:50:42
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = OrderState


-----------------------------------------------------------------------------
2020-08-07 15:50:43
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DistributionTimeJg


-----------------------------------------------------------------------------
2020-08-07 15:50:43
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:50:44
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-07 15:50:45
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DistributionTimeJg


-----------------------------------------------------------------------------
2020-08-07 15:50:46
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:50:47
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DistributionTimeJg


-----------------------------------------------------------------------------
2020-08-07 15:50:48
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = OrderState


-----------------------------------------------------------------------------
2020-08-07 15:50:49
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:50:50
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-07 15:50:51
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:50:51
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = OrderState


-----------------------------------------------------------------------------
2020-08-07 15:50:52
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DistributionTimeJg


-----------------------------------------------------------------------------
2020-08-07 15:50:53
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:51:04
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ConfidentialityContract


-----------------------------------------------------------------------------
2020-08-07 15:51:06
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = IncumbencyState


-----------------------------------------------------------------------------
2020-08-07 15:51:08
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = RecruitmentSources


-----------------------------------------------------------------------------
2020-08-07 15:51:08
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ServiceContract


-----------------------------------------------------------------------------
2020-08-07 15:51:09
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = RecruitmentSources


-----------------------------------------------------------------------------
2020-08-07 15:51:10
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SocialSecurity


-----------------------------------------------------------------------------
2020-08-07 15:51:10
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = RecruitmentSources


-----------------------------------------------------------------------------
2020-08-07 15:51:11
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ConfidentialityContract


-----------------------------------------------------------------------------
2020-08-07 15:51:11
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ConfidentialityContract


-----------------------------------------------------------------------------
2020-08-07 15:51:14
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = DistributionTimeJg


-----------------------------------------------------------------------------
2020-08-07 15:51:14
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = OrderState


-----------------------------------------------------------------------------
2020-08-07 15:51:15
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:51:16
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-07 15:51:19
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:51:55
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:53:39
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:53:41
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:54:11
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:54:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:54:21
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:54:21
Text:	 SELECT   TOP 1 * FROM [TbSysDictionaryType]  WHERE [TbSysDictionaryType].[DictionaryCode] = @DictionaryCode359 	
Parameters:
@DictionaryCode359[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:54:26
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:54:26
Text:	select a.FDictionaryCode,a.DictionaryCode,a.DictionaryOrder,a.DictionaryText,a.id,b.DictionaryType as DictionaryValue  from TbSysDictionaryData a left join TbSysDictionaryType b on a.FDictionaryCode=b.DictionaryCode where 1=1 and a.DictionaryText = @name and a.FDictionaryCode=@type and a.DictionaryCode=@text	
Parameters:
@name[String] = 默认组织机构
@type[String] = SystemSeting
@text[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 15:54:55
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:55:32
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:55:33
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 15:55:37
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:55:37
Text:	select a.FDictionaryCode,a.DictionaryCode,a.DictionaryOrder,a.DictionaryText,a.id,b.DictionaryType as DictionaryValue  from TbSysDictionaryData a left join TbSysDictionaryType b on a.FDictionaryCode=b.DictionaryCode where 1=1 and a.DictionaryText = @name and a.FDictionaryCode=@type and a.DictionaryCode=@text	
Parameters:
@name[String] = 6372921389720849710
@type[String] = SystemSeting
@text[String] = 默认组织机构


-----------------------------------------------------------------------------
2020-08-07 15:55:47
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:55:47
Text:	select a.FDictionaryCode,a.DictionaryCode,a.DictionaryOrder,a.DictionaryText,a.id,b.DictionaryType as DictionaryValue  from TbSysDictionaryData a left join TbSysDictionaryType b on a.FDictionaryCode=b.DictionaryCode where 1=1 and a.DictionaryText = @name and a.FDictionaryCode=@type and a.DictionaryCode=@text	
Parameters:
@name[String] = 6372921378678418123
@type[String] = SystemSeting
@text[String] = 轨道


-----------------------------------------------------------------------------
2020-08-07 15:55:52
Text:	 SELECT   * FROM [TbSysDictionaryType]  ORDER BY [TbSysDictionaryType].[DictionaryCode] ASC 	


-----------------------------------------------------------------------------
2020-08-07 15:55:52
Text:	select a.FDictionaryCode,a.DictionaryCode,a.DictionaryOrder,a.DictionaryText,a.id,b.DictionaryType as DictionaryValue  from TbSysDictionaryData a left join TbSysDictionaryType b on a.FDictionaryCode=b.DictionaryCode where 1=1 and a.DictionaryText = @name and a.FDictionaryCode=@type and a.DictionaryCode=@text	
Parameters:
@name[String] = 6372921380259608561
@type[String] = SystemSeting
@text[String] = 供电


-----------------------------------------------------------------------------
2020-08-07 15:57:54
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 15:57:54
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 15:57:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 15:57:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 15:57:58
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type360) AND ([TbOrganizationMap].[ProjectId] = @ProjectId361)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode362,@CompanyCode363,@CompanyCode364,@CompanyCode365,@CompanyCode366,@CompanyCode367,@CompanyCode368,@CompanyCode369,@CompanyCode370,@CompanyCode371,@CompanyCode372,@CompanyCode373,@CompanyCode374,@CompanyCode375,@CompanyCode376,@CompanyCode377,@CompanyCode378,@CompanyCode379,@CompanyCode380,@CompanyCode381,@CompanyCode382,@CompanyCode383,@CompanyCode384,@CompanyCode385,@CompanyCode386,@CompanyCode387)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode388))) 	
Parameters:
@Type360[Int32] = 1
@ProjectId361[String] = 6372912251695766465
@CompanyCode362[String] = 6373083923489249281
@CompanyCode363[String] = 6373083925531366080
@CompanyCode364[String] = 6373083927883400612
@CompanyCode365[String] = 6373083918575368225
@CompanyCode366[String] = 6373083920445075162
@CompanyCode367[String] = 6373083908618598731
@CompanyCode368[String] = 6373083911842783146
@CompanyCode369[String] = 6373083913928202424
@CompanyCode370[String] = 6373083877551621804
@CompanyCode371[String] = 6373083879921857377
@CompanyCode372[String] = 6373083881542550067
@CompanyCode373[String] = 6373083883689772886
@CompanyCode374[String] = 6373083887136270013
@CompanyCode375[String] = 6373083889697116488
@CompanyCode376[String] = 6373083891969846476
@CompanyCode377[String] = 6373083894422586761
@CompanyCode378[String] = 6373083897509963358
@CompanyCode379[String] = 6373083900444931227
@CompanyCode380[String] = 6373083829464571372
@CompanyCode381[String] = 6373083833327492328
@CompanyCode382[String] = 6373083841964286321
@CompanyCode383[String] = 6373083844982558950
@CompanyCode384[String] = 6373083847585007801
@CompanyCode385[String] = 6373083856887939900
@CompanyCode386[String] = 6373083859102666584
@CompanyCode387[String] = 6373083864919499284
@ParentCompanyCode388[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 15:57:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 15:57:58
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type389) AND ([TbOrganizationMap].[ProjectId] = @ProjectId390)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode391,@CompanyCode392,@CompanyCode393,@CompanyCode394,@CompanyCode395,@CompanyCode396,@CompanyCode397,@CompanyCode398,@CompanyCode399,@CompanyCode400,@CompanyCode401,@CompanyCode402,@CompanyCode403,@CompanyCode404,@CompanyCode405,@CompanyCode406,@CompanyCode407,@CompanyCode408,@CompanyCode409,@CompanyCode410,@CompanyCode411,@CompanyCode412,@CompanyCode413,@CompanyCode414,@CompanyCode415,@CompanyCode416)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode417))) 	
Parameters:
@Type389[Int32] = 2
@ProjectId390[String] = 6372912251695766465
@CompanyCode391[String] = 6373083923489249281
@CompanyCode392[String] = 6373083925531366080
@CompanyCode393[String] = 6373083927883400612
@CompanyCode394[String] = 6373083918575368225
@CompanyCode395[String] = 6373083920445075162
@CompanyCode396[String] = 6373083908618598731
@CompanyCode397[String] = 6373083911842783146
@CompanyCode398[String] = 6373083913928202424
@CompanyCode399[String] = 6373083877551621804
@CompanyCode400[String] = 6373083879921857377
@CompanyCode401[String] = 6373083881542550067
@CompanyCode402[String] = 6373083883689772886
@CompanyCode403[String] = 6373083887136270013
@CompanyCode404[String] = 6373083889697116488
@CompanyCode405[String] = 6373083891969846476
@CompanyCode406[String] = 6373083894422586761
@CompanyCode407[String] = 6373083897509963358
@CompanyCode408[String] = 6373083900444931227
@CompanyCode409[String] = 6373083829464571372
@CompanyCode410[String] = 6373083833327492328
@CompanyCode411[String] = 6373083841964286321
@CompanyCode412[String] = 6373083844982558950
@CompanyCode413[String] = 6373083847585007801
@CompanyCode414[String] = 6373083856887939900
@CompanyCode415[String] = 6373083859102666584
@CompanyCode416[String] = 6373083864919499284
@ParentCompanyCode417[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 15:57:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 15:57:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 15:57:58
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode445)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId418) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode419,@SiteCode420,@SiteCode421,@SiteCode422,@SiteCode423,@SiteCode424,@SiteCode425,@SiteCode426,@SiteCode427,@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433,@SiteCode434,@SiteCode435,@SiteCode436,@SiteCode437,@SiteCode438,@SiteCode439,@SiteCode440,@SiteCode441,@SiteCode442,@SiteCode443,@SiteCode444)))	
Parameters:
@ProjectId418[String] = 6372912251695766465
@SiteCode419[String] = 6373083923489249281
@SiteCode420[String] = 6373083925531366080
@SiteCode421[String] = 6373083927883400612
@SiteCode422[String] = 6373083918575368225
@SiteCode423[String] = 6373083920445075162
@SiteCode424[String] = 6373083908618598731
@SiteCode425[String] = 6373083911842783146
@SiteCode426[String] = 6373083913928202424
@SiteCode427[String] = 6373083877551621804
@SiteCode428[String] = 6373083879921857377
@SiteCode429[String] = 6373083881542550067
@SiteCode430[String] = 6373083883689772886
@SiteCode431[String] = 6373083887136270013
@SiteCode432[String] = 6373083889697116488
@SiteCode433[String] = 6373083891969846476
@SiteCode434[String] = 6373083894422586761
@SiteCode435[String] = 6373083897509963358
@SiteCode436[String] = 6373083900444931227
@SiteCode437[String] = 6373083829464571372
@SiteCode438[String] = 6373083833327492328
@SiteCode439[String] = 6373083841964286321
@SiteCode440[String] = 6373083844982558950
@SiteCode441[String] = 6373083847585007801
@SiteCode442[String] = 6373083856887939900
@SiteCode443[String] = 6373083859102666584
@SiteCode444[String] = 6373083864919499284
@FDictionaryCode445[String] = OrderState
@FDictionaryCode446[String] = UrgentDegree
@FDictionaryCode447[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:57:58
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode446) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode447) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode445)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId418) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode419,@SiteCode420,@SiteCode421,@SiteCode422,@SiteCode423,@SiteCode424,@SiteCode425,@SiteCode426,@SiteCode427,@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433,@SiteCode434,@SiteCode435,@SiteCode436,@SiteCode437,@SiteCode438,@SiteCode439,@SiteCode440,@SiteCode441,@SiteCode442,@SiteCode443,@SiteCode444))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId418[String] = 6372912251695766465
@SiteCode419[String] = 6373083923489249281
@SiteCode420[String] = 6373083925531366080
@SiteCode421[String] = 6373083927883400612
@SiteCode422[String] = 6373083918575368225
@SiteCode423[String] = 6373083920445075162
@SiteCode424[String] = 6373083908618598731
@SiteCode425[String] = 6373083911842783146
@SiteCode426[String] = 6373083913928202424
@SiteCode427[String] = 6373083877551621804
@SiteCode428[String] = 6373083879921857377
@SiteCode429[String] = 6373083881542550067
@SiteCode430[String] = 6373083883689772886
@SiteCode431[String] = 6373083887136270013
@SiteCode432[String] = 6373083889697116488
@SiteCode433[String] = 6373083891969846476
@SiteCode434[String] = 6373083894422586761
@SiteCode435[String] = 6373083897509963358
@SiteCode436[String] = 6373083900444931227
@SiteCode437[String] = 6373083829464571372
@SiteCode438[String] = 6373083833327492328
@SiteCode439[String] = 6373083841964286321
@SiteCode440[String] = 6373083844982558950
@SiteCode441[String] = 6373083847585007801
@SiteCode442[String] = 6373083856887939900
@SiteCode443[String] = 6373083859102666584
@SiteCode444[String] = 6373083864919499284
@FDictionaryCode445[String] = OrderState
@FDictionaryCode446[String] = UrgentDegree
@FDictionaryCode447[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 15:57:59
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 15:57:59
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 15:57:59
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 15:57:59
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 15:58:07
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 15:58:07
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId448) AND ([TbModelOrg].[SiteCode] IN (@SiteCode449))) 	
Parameters:
@ProjectId448[String] = 6372912251695766465
@SiteCode449[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 15:58:47
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = SystemSeting


-----------------------------------------------------------------------------
2020-08-07 16:00:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:03:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:06:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:09:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:12:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:15:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:18:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:21:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:24:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:27:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:30:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:33:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:36:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:39:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:42:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:45:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:48:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:51:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:54:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 16:57:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:00:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:03:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:06:28
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 17:06:28
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 17:06:28
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3,@CompanyCode4,@CompanyCode5,@CompanyCode6,@CompanyCode7,@CompanyCode8,@CompanyCode9,@CompanyCode10,@CompanyCode11,@CompanyCode12,@CompanyCode13,@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21,@CompanyCode22,@CompanyCode23,@CompanyCode24,@CompanyCode25,@CompanyCode26,@CompanyCode27,@CompanyCode28)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode29))) 	
Parameters:
@Type1[Int32] = 1
@ProjectId2[String] = 6372912251695766465
@CompanyCode3[String] = 6373083923489249281
@CompanyCode4[String] = 6373083925531366080
@CompanyCode5[String] = 6373083927883400612
@CompanyCode6[String] = 6373083918575368225
@CompanyCode7[String] = 6373083920445075162
@CompanyCode8[String] = 6373083908618598731
@CompanyCode9[String] = 6373083911842783146
@CompanyCode10[String] = 6373083913928202424
@CompanyCode11[String] = 6373083877551621804
@CompanyCode12[String] = 6373083879921857377
@CompanyCode13[String] = 6373083881542550067
@CompanyCode14[String] = 6373083883689772886
@CompanyCode15[String] = 6373083887136270013
@CompanyCode16[String] = 6373083889697116488
@CompanyCode17[String] = 6373083891969846476
@CompanyCode18[String] = 6373083894422586761
@CompanyCode19[String] = 6373083897509963358
@CompanyCode20[String] = 6373083900444931227
@CompanyCode21[String] = 6373083829464571372
@CompanyCode22[String] = 6373083833327492328
@CompanyCode23[String] = 6373083841964286321
@CompanyCode24[String] = 6373083844982558950
@CompanyCode25[String] = 6373083847585007801
@CompanyCode26[String] = 6373083856887939900
@CompanyCode27[String] = 6373083859102666584
@CompanyCode28[String] = 6373083864919499284
@ParentCompanyCode29[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type30) AND ([TbOrganizationMap].[ProjectId] = @ProjectId31)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode32,@CompanyCode33,@CompanyCode34,@CompanyCode35,@CompanyCode36,@CompanyCode37,@CompanyCode38,@CompanyCode39,@CompanyCode40,@CompanyCode41,@CompanyCode42,@CompanyCode43,@CompanyCode44,@CompanyCode45,@CompanyCode46,@CompanyCode47,@CompanyCode48,@CompanyCode49,@CompanyCode50,@CompanyCode51,@CompanyCode52,@CompanyCode53,@CompanyCode54,@CompanyCode55,@CompanyCode56,@CompanyCode57)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode58))) 	
Parameters:
@Type30[Int32] = 2
@ProjectId31[String] = 6372912251695766465
@CompanyCode32[String] = 6373083923489249281
@CompanyCode33[String] = 6373083925531366080
@CompanyCode34[String] = 6373083927883400612
@CompanyCode35[String] = 6373083918575368225
@CompanyCode36[String] = 6373083920445075162
@CompanyCode37[String] = 6373083908618598731
@CompanyCode38[String] = 6373083911842783146
@CompanyCode39[String] = 6373083913928202424
@CompanyCode40[String] = 6373083877551621804
@CompanyCode41[String] = 6373083879921857377
@CompanyCode42[String] = 6373083881542550067
@CompanyCode43[String] = 6373083883689772886
@CompanyCode44[String] = 6373083887136270013
@CompanyCode45[String] = 6373083889697116488
@CompanyCode46[String] = 6373083891969846476
@CompanyCode47[String] = 6373083894422586761
@CompanyCode48[String] = 6373083897509963358
@CompanyCode49[String] = 6373083900444931227
@CompanyCode50[String] = 6373083829464571372
@CompanyCode51[String] = 6373083833327492328
@CompanyCode52[String] = 6373083841964286321
@CompanyCode53[String] = 6373083844982558950
@CompanyCode54[String] = 6373083847585007801
@CompanyCode55[String] = 6373083856887939900
@CompanyCode56[String] = 6373083859102666584
@CompanyCode57[String] = 6373083864919499284
@ParentCompanyCode58[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode86)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId59) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85)))	
Parameters:
@ProjectId59[String] = 6372912251695766465
@SiteCode60[String] = 6373083923489249281
@SiteCode61[String] = 6373083925531366080
@SiteCode62[String] = 6373083927883400612
@SiteCode63[String] = 6373083918575368225
@SiteCode64[String] = 6373083920445075162
@SiteCode65[String] = 6373083908618598731
@SiteCode66[String] = 6373083911842783146
@SiteCode67[String] = 6373083913928202424
@SiteCode68[String] = 6373083877551621804
@SiteCode69[String] = 6373083879921857377
@SiteCode70[String] = 6373083881542550067
@SiteCode71[String] = 6373083883689772886
@SiteCode72[String] = 6373083887136270013
@SiteCode73[String] = 6373083889697116488
@SiteCode74[String] = 6373083891969846476
@SiteCode75[String] = 6373083894422586761
@SiteCode76[String] = 6373083897509963358
@SiteCode77[String] = 6373083900444931227
@SiteCode78[String] = 6373083829464571372
@SiteCode79[String] = 6373083833327492328
@SiteCode80[String] = 6373083841964286321
@SiteCode81[String] = 6373083844982558950
@SiteCode82[String] = 6373083847585007801
@SiteCode83[String] = 6373083856887939900
@SiteCode84[String] = 6373083859102666584
@SiteCode85[String] = 6373083864919499284
@FDictionaryCode86[String] = OrderState
@FDictionaryCode87[String] = UrgentDegree
@FDictionaryCode88[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode87) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode88) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode86)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId59) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId59[String] = 6372912251695766465
@SiteCode60[String] = 6373083923489249281
@SiteCode61[String] = 6373083925531366080
@SiteCode62[String] = 6373083927883400612
@SiteCode63[String] = 6373083918575368225
@SiteCode64[String] = 6373083920445075162
@SiteCode65[String] = 6373083908618598731
@SiteCode66[String] = 6373083911842783146
@SiteCode67[String] = 6373083913928202424
@SiteCode68[String] = 6373083877551621804
@SiteCode69[String] = 6373083879921857377
@SiteCode70[String] = 6373083881542550067
@SiteCode71[String] = 6373083883689772886
@SiteCode72[String] = 6373083887136270013
@SiteCode73[String] = 6373083889697116488
@SiteCode74[String] = 6373083891969846476
@SiteCode75[String] = 6373083894422586761
@SiteCode76[String] = 6373083897509963358
@SiteCode77[String] = 6373083900444931227
@SiteCode78[String] = 6373083829464571372
@SiteCode79[String] = 6373083833327492328
@SiteCode80[String] = 6373083841964286321
@SiteCode81[String] = 6373083844982558950
@SiteCode82[String] = 6373083847585007801
@SiteCode83[String] = 6373083856887939900
@SiteCode84[String] = 6373083859102666584
@SiteCode85[String] = 6373083864919499284
@FDictionaryCode86[String] = OrderState
@FDictionaryCode87[String] = UrgentDegree
@FDictionaryCode88[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 17:06:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 17:10:54
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode89) AND ([TbUser].[UserPwd] = @UserPwd90) 	
Parameters:
@UserCode89[String] = 500000
@UserPwd90[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-07 17:10:54
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 17:10:54
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 17:10:54
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 17:10:54
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode91 	
Parameters:
@UserCode91[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 17:10:55
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu92,@ActionType93,@HostName94,@LogDate95,@UserCode96,@UserIP97);select scope_identity()	
Parameters:
@ActionMenu92[String] = 0
@ActionType93[String] = 登录系统
@HostName94[String] = 
@LogDate95[DateTime] = 2020/8/7 17:10:55
@UserCode96[String] = 500000
@UserIP97[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 17:10:56
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 17:10:56
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 17:10:56
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:10:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:10:58
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type98) AND ([TbOrganizationMap].[ProjectId] = @ProjectId99)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode100,@CompanyCode101,@CompanyCode102,@CompanyCode103,@CompanyCode104,@CompanyCode105,@CompanyCode106,@CompanyCode107,@CompanyCode108,@CompanyCode109,@CompanyCode110,@CompanyCode111,@CompanyCode112,@CompanyCode113,@CompanyCode114,@CompanyCode115,@CompanyCode116,@CompanyCode117,@CompanyCode118,@CompanyCode119,@CompanyCode120,@CompanyCode121,@CompanyCode122,@CompanyCode123,@CompanyCode124,@CompanyCode125)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode126))) 	
Parameters:
@Type98[Int32] = 1
@ProjectId99[String] = 6372912251695766465
@CompanyCode100[String] = 6373083923489249281
@CompanyCode101[String] = 6373083925531366080
@CompanyCode102[String] = 6373083927883400612
@CompanyCode103[String] = 6373083918575368225
@CompanyCode104[String] = 6373083920445075162
@CompanyCode105[String] = 6373083908618598731
@CompanyCode106[String] = 6373083911842783146
@CompanyCode107[String] = 6373083913928202424
@CompanyCode108[String] = 6373083877551621804
@CompanyCode109[String] = 6373083879921857377
@CompanyCode110[String] = 6373083881542550067
@CompanyCode111[String] = 6373083883689772886
@CompanyCode112[String] = 6373083887136270013
@CompanyCode113[String] = 6373083889697116488
@CompanyCode114[String] = 6373083891969846476
@CompanyCode115[String] = 6373083894422586761
@CompanyCode116[String] = 6373083897509963358
@CompanyCode117[String] = 6373083900444931227
@CompanyCode118[String] = 6373083829464571372
@CompanyCode119[String] = 6373083833327492328
@CompanyCode120[String] = 6373083841964286321
@CompanyCode121[String] = 6373083844982558950
@CompanyCode122[String] = 6373083847585007801
@CompanyCode123[String] = 6373083856887939900
@CompanyCode124[String] = 6373083859102666584
@CompanyCode125[String] = 6373083864919499284
@ParentCompanyCode126[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 17:10:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:10:58
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type127) AND ([TbOrganizationMap].[ProjectId] = @ProjectId128)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode129,@CompanyCode130,@CompanyCode131,@CompanyCode132,@CompanyCode133,@CompanyCode134,@CompanyCode135,@CompanyCode136,@CompanyCode137,@CompanyCode138,@CompanyCode139,@CompanyCode140,@CompanyCode141,@CompanyCode142,@CompanyCode143,@CompanyCode144,@CompanyCode145,@CompanyCode146,@CompanyCode147,@CompanyCode148,@CompanyCode149,@CompanyCode150,@CompanyCode151,@CompanyCode152,@CompanyCode153,@CompanyCode154)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode155))) 	
Parameters:
@Type127[Int32] = 2
@ProjectId128[String] = 6372912251695766465
@CompanyCode129[String] = 6373083923489249281
@CompanyCode130[String] = 6373083925531366080
@CompanyCode131[String] = 6373083927883400612
@CompanyCode132[String] = 6373083918575368225
@CompanyCode133[String] = 6373083920445075162
@CompanyCode134[String] = 6373083908618598731
@CompanyCode135[String] = 6373083911842783146
@CompanyCode136[String] = 6373083913928202424
@CompanyCode137[String] = 6373083877551621804
@CompanyCode138[String] = 6373083879921857377
@CompanyCode139[String] = 6373083881542550067
@CompanyCode140[String] = 6373083883689772886
@CompanyCode141[String] = 6373083887136270013
@CompanyCode142[String] = 6373083889697116488
@CompanyCode143[String] = 6373083891969846476
@CompanyCode144[String] = 6373083894422586761
@CompanyCode145[String] = 6373083897509963358
@CompanyCode146[String] = 6373083900444931227
@CompanyCode147[String] = 6373083829464571372
@CompanyCode148[String] = 6373083833327492328
@CompanyCode149[String] = 6373083841964286321
@CompanyCode150[String] = 6373083844982558950
@CompanyCode151[String] = 6373083847585007801
@CompanyCode152[String] = 6373083856887939900
@CompanyCode153[String] = 6373083859102666584
@CompanyCode154[String] = 6373083864919499284
@ParentCompanyCode155[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 17:10:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 17:10:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:10:58
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode183)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId156) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182)))	
Parameters:
@ProjectId156[String] = 6372912251695766465
@SiteCode157[String] = 6373083923489249281
@SiteCode158[String] = 6373083925531366080
@SiteCode159[String] = 6373083927883400612
@SiteCode160[String] = 6373083918575368225
@SiteCode161[String] = 6373083920445075162
@SiteCode162[String] = 6373083908618598731
@SiteCode163[String] = 6373083911842783146
@SiteCode164[String] = 6373083913928202424
@SiteCode165[String] = 6373083877551621804
@SiteCode166[String] = 6373083879921857377
@SiteCode167[String] = 6373083881542550067
@SiteCode168[String] = 6373083883689772886
@SiteCode169[String] = 6373083887136270013
@SiteCode170[String] = 6373083889697116488
@SiteCode171[String] = 6373083891969846476
@SiteCode172[String] = 6373083894422586761
@SiteCode173[String] = 6373083897509963358
@SiteCode174[String] = 6373083900444931227
@SiteCode175[String] = 6373083829464571372
@SiteCode176[String] = 6373083833327492328
@SiteCode177[String] = 6373083841964286321
@SiteCode178[String] = 6373083844982558950
@SiteCode179[String] = 6373083847585007801
@SiteCode180[String] = 6373083856887939900
@SiteCode181[String] = 6373083859102666584
@SiteCode182[String] = 6373083864919499284
@FDictionaryCode183[String] = OrderState
@FDictionaryCode184[String] = UrgentDegree
@FDictionaryCode185[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:10:58
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode184) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode185) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode183)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId156) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId156[String] = 6372912251695766465
@SiteCode157[String] = 6373083923489249281
@SiteCode158[String] = 6373083925531366080
@SiteCode159[String] = 6373083927883400612
@SiteCode160[String] = 6373083918575368225
@SiteCode161[String] = 6373083920445075162
@SiteCode162[String] = 6373083908618598731
@SiteCode163[String] = 6373083911842783146
@SiteCode164[String] = 6373083913928202424
@SiteCode165[String] = 6373083877551621804
@SiteCode166[String] = 6373083879921857377
@SiteCode167[String] = 6373083881542550067
@SiteCode168[String] = 6373083883689772886
@SiteCode169[String] = 6373083887136270013
@SiteCode170[String] = 6373083889697116488
@SiteCode171[String] = 6373083891969846476
@SiteCode172[String] = 6373083894422586761
@SiteCode173[String] = 6373083897509963358
@SiteCode174[String] = 6373083900444931227
@SiteCode175[String] = 6373083829464571372
@SiteCode176[String] = 6373083833327492328
@SiteCode177[String] = 6373083841964286321
@SiteCode178[String] = 6373083844982558950
@SiteCode179[String] = 6373083847585007801
@SiteCode180[String] = 6373083856887939900
@SiteCode181[String] = 6373083859102666584
@SiteCode182[String] = 6373083864919499284
@FDictionaryCode183[String] = OrderState
@FDictionaryCode184[String] = UrgentDegree
@FDictionaryCode185[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:10:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 17:10:59
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 17:10:59
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 17:10:59
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 17:31:51
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-07 17:31:51
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 17:31:51
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 17:31:51
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 17:31:51
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-07 17:31:51
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = 
@LogDate7[DateTime] = 2020/8/7 17:31:51
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 17:31:53
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 17:31:53
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 17:31:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type10) AND ([TbOrganizationMap].[ProjectId] = @ProjectId11)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode12,@CompanyCode13,@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21,@CompanyCode22,@CompanyCode23,@CompanyCode24,@CompanyCode25,@CompanyCode26,@CompanyCode27,@CompanyCode28,@CompanyCode29,@CompanyCode30,@CompanyCode31,@CompanyCode32,@CompanyCode33,@CompanyCode34,@CompanyCode35,@CompanyCode36,@CompanyCode37)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode38))) 	
Parameters:
@Type10[Int32] = 1
@ProjectId11[String] = 6372912251695766465
@CompanyCode12[String] = 6373083923489249281
@CompanyCode13[String] = 6373083925531366080
@CompanyCode14[String] = 6373083927883400612
@CompanyCode15[String] = 6373083918575368225
@CompanyCode16[String] = 6373083920445075162
@CompanyCode17[String] = 6373083908618598731
@CompanyCode18[String] = 6373083911842783146
@CompanyCode19[String] = 6373083913928202424
@CompanyCode20[String] = 6373083877551621804
@CompanyCode21[String] = 6373083879921857377
@CompanyCode22[String] = 6373083881542550067
@CompanyCode23[String] = 6373083883689772886
@CompanyCode24[String] = 6373083887136270013
@CompanyCode25[String] = 6373083889697116488
@CompanyCode26[String] = 6373083891969846476
@CompanyCode27[String] = 6373083894422586761
@CompanyCode28[String] = 6373083897509963358
@CompanyCode29[String] = 6373083900444931227
@CompanyCode30[String] = 6373083829464571372
@CompanyCode31[String] = 6373083833327492328
@CompanyCode32[String] = 6373083841964286321
@CompanyCode33[String] = 6373083844982558950
@CompanyCode34[String] = 6373083847585007801
@CompanyCode35[String] = 6373083856887939900
@CompanyCode36[String] = 6373083859102666584
@CompanyCode37[String] = 6373083864919499284
@ParentCompanyCode38[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type39) AND ([TbOrganizationMap].[ProjectId] = @ProjectId40)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode41,@CompanyCode42,@CompanyCode43,@CompanyCode44,@CompanyCode45,@CompanyCode46,@CompanyCode47,@CompanyCode48,@CompanyCode49,@CompanyCode50,@CompanyCode51,@CompanyCode52,@CompanyCode53,@CompanyCode54,@CompanyCode55,@CompanyCode56,@CompanyCode57,@CompanyCode58,@CompanyCode59,@CompanyCode60,@CompanyCode61,@CompanyCode62,@CompanyCode63,@CompanyCode64,@CompanyCode65,@CompanyCode66)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode67))) 	
Parameters:
@Type39[Int32] = 2
@ProjectId40[String] = 6372912251695766465
@CompanyCode41[String] = 6373083923489249281
@CompanyCode42[String] = 6373083925531366080
@CompanyCode43[String] = 6373083927883400612
@CompanyCode44[String] = 6373083918575368225
@CompanyCode45[String] = 6373083920445075162
@CompanyCode46[String] = 6373083908618598731
@CompanyCode47[String] = 6373083911842783146
@CompanyCode48[String] = 6373083913928202424
@CompanyCode49[String] = 6373083877551621804
@CompanyCode50[String] = 6373083879921857377
@CompanyCode51[String] = 6373083881542550067
@CompanyCode52[String] = 6373083883689772886
@CompanyCode53[String] = 6373083887136270013
@CompanyCode54[String] = 6373083889697116488
@CompanyCode55[String] = 6373083891969846476
@CompanyCode56[String] = 6373083894422586761
@CompanyCode57[String] = 6373083897509963358
@CompanyCode58[String] = 6373083900444931227
@CompanyCode59[String] = 6373083829464571372
@CompanyCode60[String] = 6373083833327492328
@CompanyCode61[String] = 6373083841964286321
@CompanyCode62[String] = 6373083844982558950
@CompanyCode63[String] = 6373083847585007801
@CompanyCode64[String] = 6373083856887939900
@CompanyCode65[String] = 6373083859102666584
@CompanyCode66[String] = 6373083864919499284
@ParentCompanyCode67[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode95)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId68) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94)))	
Parameters:
@ProjectId68[String] = 6372912251695766465
@SiteCode69[String] = 6373083923489249281
@SiteCode70[String] = 6373083925531366080
@SiteCode71[String] = 6373083927883400612
@SiteCode72[String] = 6373083918575368225
@SiteCode73[String] = 6373083920445075162
@SiteCode74[String] = 6373083908618598731
@SiteCode75[String] = 6373083911842783146
@SiteCode76[String] = 6373083913928202424
@SiteCode77[String] = 6373083877551621804
@SiteCode78[String] = 6373083879921857377
@SiteCode79[String] = 6373083881542550067
@SiteCode80[String] = 6373083883689772886
@SiteCode81[String] = 6373083887136270013
@SiteCode82[String] = 6373083889697116488
@SiteCode83[String] = 6373083891969846476
@SiteCode84[String] = 6373083894422586761
@SiteCode85[String] = 6373083897509963358
@SiteCode86[String] = 6373083900444931227
@SiteCode87[String] = 6373083829464571372
@SiteCode88[String] = 6373083833327492328
@SiteCode89[String] = 6373083841964286321
@SiteCode90[String] = 6373083844982558950
@SiteCode91[String] = 6373083847585007801
@SiteCode92[String] = 6373083856887939900
@SiteCode93[String] = 6373083859102666584
@SiteCode94[String] = 6373083864919499284
@FDictionaryCode95[String] = OrderState
@FDictionaryCode96[String] = UrgentDegree
@FDictionaryCode97[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode96) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode97) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode95)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId68) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId68[String] = 6372912251695766465
@SiteCode69[String] = 6373083923489249281
@SiteCode70[String] = 6373083925531366080
@SiteCode71[String] = 6373083927883400612
@SiteCode72[String] = 6373083918575368225
@SiteCode73[String] = 6373083920445075162
@SiteCode74[String] = 6373083908618598731
@SiteCode75[String] = 6373083911842783146
@SiteCode76[String] = 6373083913928202424
@SiteCode77[String] = 6373083877551621804
@SiteCode78[String] = 6373083879921857377
@SiteCode79[String] = 6373083881542550067
@SiteCode80[String] = 6373083883689772886
@SiteCode81[String] = 6373083887136270013
@SiteCode82[String] = 6373083889697116488
@SiteCode83[String] = 6373083891969846476
@SiteCode84[String] = 6373083894422586761
@SiteCode85[String] = 6373083897509963358
@SiteCode86[String] = 6373083900444931227
@SiteCode87[String] = 6373083829464571372
@SiteCode88[String] = 6373083833327492328
@SiteCode89[String] = 6373083841964286321
@SiteCode90[String] = 6373083844982558950
@SiteCode91[String] = 6373083847585007801
@SiteCode92[String] = 6373083856887939900
@SiteCode93[String] = 6373083859102666584
@SiteCode94[String] = 6373083864919499284
@FDictionaryCode95[String] = OrderState
@FDictionaryCode96[String] = UrgentDegree
@FDictionaryCode97[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 17:31:56
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 17:32:47
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:32:47
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId98) AND ([TbModelOrg].[SiteCode] IN (@SiteCode99))) 	
Parameters:
@ProjectId98[String] = 6372912251695766465
@SiteCode99[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:33:41
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 17:33:41
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 17:33:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type100) AND ([TbOrganizationMap].[ProjectId] = @ProjectId101)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode102,@CompanyCode103,@CompanyCode104,@CompanyCode105,@CompanyCode106,@CompanyCode107,@CompanyCode108,@CompanyCode109)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode110))) 	
Parameters:
@Type100[Int32] = 1
@ProjectId101[String] = 6372912251695766465
@CompanyCode102[String] = 6373083923489249281
@CompanyCode103[String] = 6373083925531366080
@CompanyCode104[String] = 6373083927883400612
@CompanyCode105[String] = 6373083918575368225
@CompanyCode106[String] = 6373083920445075162
@CompanyCode107[String] = 6373083908618598731
@CompanyCode108[String] = 6373083911842783146
@CompanyCode109[String] = 6373083913928202424
@ParentCompanyCode110[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type111) AND ([TbOrganizationMap].[ProjectId] = @ProjectId112)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode113,@CompanyCode114,@CompanyCode115,@CompanyCode116,@CompanyCode117,@CompanyCode118,@CompanyCode119,@CompanyCode120)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode121))) 	
Parameters:
@Type111[Int32] = 2
@ProjectId112[String] = 6372912251695766465
@CompanyCode113[String] = 6373083923489249281
@CompanyCode114[String] = 6373083925531366080
@CompanyCode115[String] = 6373083927883400612
@CompanyCode116[String] = 6373083918575368225
@CompanyCode117[String] = 6373083920445075162
@CompanyCode118[String] = 6373083908618598731
@CompanyCode119[String] = 6373083911842783146
@CompanyCode120[String] = 6373083913928202424
@ParentCompanyCode121[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode149)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId122) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132,@SiteCode133,@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148)))	
Parameters:
@ProjectId122[String] = 6372912251695766465
@SiteCode123[String] = 6373083923489249281
@SiteCode124[String] = 6373083925531366080
@SiteCode125[String] = 6373083927883400612
@SiteCode126[String] = 6373083918575368225
@SiteCode127[String] = 6373083920445075162
@SiteCode128[String] = 6373083908618598731
@SiteCode129[String] = 6373083911842783146
@SiteCode130[String] = 6373083913928202424
@SiteCode131[String] = 6373083877551621804
@SiteCode132[String] = 6373083879921857377
@SiteCode133[String] = 6373083881542550067
@SiteCode134[String] = 6373083883689772886
@SiteCode135[String] = 6373083887136270013
@SiteCode136[String] = 6373083889697116488
@SiteCode137[String] = 6373083891969846476
@SiteCode138[String] = 6373083894422586761
@SiteCode139[String] = 6373083897509963358
@SiteCode140[String] = 6373083900444931227
@SiteCode141[String] = 6373083829464571372
@SiteCode142[String] = 6373083833327492328
@SiteCode143[String] = 6373083841964286321
@SiteCode144[String] = 6373083844982558950
@SiteCode145[String] = 6373083847585007801
@SiteCode146[String] = 6373083856887939900
@SiteCode147[String] = 6373083859102666584
@SiteCode148[String] = 6373083864919499284
@FDictionaryCode149[String] = OrderState
@FDictionaryCode150[String] = UrgentDegree
@FDictionaryCode151[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode150) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode151) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode149)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId122) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132,@SiteCode133,@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId122[String] = 6372912251695766465
@SiteCode123[String] = 6373083923489249281
@SiteCode124[String] = 6373083925531366080
@SiteCode125[String] = 6373083927883400612
@SiteCode126[String] = 6373083918575368225
@SiteCode127[String] = 6373083920445075162
@SiteCode128[String] = 6373083908618598731
@SiteCode129[String] = 6373083911842783146
@SiteCode130[String] = 6373083913928202424
@SiteCode131[String] = 6373083877551621804
@SiteCode132[String] = 6373083879921857377
@SiteCode133[String] = 6373083881542550067
@SiteCode134[String] = 6373083883689772886
@SiteCode135[String] = 6373083887136270013
@SiteCode136[String] = 6373083889697116488
@SiteCode137[String] = 6373083891969846476
@SiteCode138[String] = 6373083894422586761
@SiteCode139[String] = 6373083897509963358
@SiteCode140[String] = 6373083900444931227
@SiteCode141[String] = 6373083829464571372
@SiteCode142[String] = 6373083833327492328
@SiteCode143[String] = 6373083841964286321
@SiteCode144[String] = 6373083844982558950
@SiteCode145[String] = 6373083847585007801
@SiteCode146[String] = 6373083856887939900
@SiteCode147[String] = 6373083859102666584
@SiteCode148[String] = 6373083864919499284
@FDictionaryCode149[String] = OrderState
@FDictionaryCode150[String] = UrgentDegree
@FDictionaryCode151[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 17:33:43
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 17:33:47
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:33:47
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId152) AND ([TbModelOrg].[SiteCode] IN (@SiteCode153))) 	
Parameters:
@ProjectId152[String] = 6372912251695766465
@SiteCode153[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:34:58
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm154,@MxGjBm155,@MxGjBm156,@MxGjBm157,@MxGjBm158,@MxGjBm159,@MxGjBm160,@MxGjBm161,@MxGjBm162,@MxGjBm163,@MxGjBm164,@MxGjBm165,@MxGjBm166,@MxGjBm167,@MxGjBm168,@MxGjBm169,@MxGjBm170,@MxGjBm171,@MxGjBm172,@MxGjBm173,@MxGjBm174,@MxGjBm175,@MxGjBm176,@MxGjBm177,@MxGjBm178,@MxGjBm179,@MxGjBm180,@MxGjBm181,@MxGjBm182,@MxGjBm183,@MxGjBm184,@MxGjBm185,@MxGjBm186,@MxGjBm187,@MxGjBm188,@MxGjBm189,@MxGjBm190,@MxGjBm191,@MxGjBm192,@MxGjBm193,@MxGjBm194,@MxGjBm195,@MxGjBm196,@MxGjBm197,@MxGjBm198,@MxGjBm199,@MxGjBm200,@MxGjBm201,@MxGjBm202,@MxGjBm203) 	
Parameters:
@MxGjBm154[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm155[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm156[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm157[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm158[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm159[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm160[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm161[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm162[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm163[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm164[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm165[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm166[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm167[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm168[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm169[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm170[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm171[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm172[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm173[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm174[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm175[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm176[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm177[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm178[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm179[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm180[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm181[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm182[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm183[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm184[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm185[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm186[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm187[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm188[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm189[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm190[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm191[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm192[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm193[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm194[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm195[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm196[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm197[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm198[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm199[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm200[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm201[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm202[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm203[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-07 17:34:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode204,@ComponentCode205,@ComponentCode206,@ComponentCode207,@ComponentCode208,@ComponentCode209,@ComponentCode210,@ComponentCode211,@ComponentCode212,@ComponentCode213,@ComponentCode214,@ComponentCode215,@ComponentCode216,@ComponentCode217,@ComponentCode218,@ComponentCode219,@ComponentCode220,@ComponentCode221,@ComponentCode222,@ComponentCode223,@ComponentCode224,@ComponentCode225,@ComponentCode226,@ComponentCode227,@ComponentCode228,@ComponentCode229,@ComponentCode230,@ComponentCode231,@ComponentCode232,@ComponentCode233,@ComponentCode234,@ComponentCode235,@ComponentCode236,@ComponentCode237,@ComponentCode238,@ComponentCode239,@ComponentCode240,@ComponentCode241,@ComponentCode242,@ComponentCode243,@ComponentCode244,@ComponentCode245,@ComponentCode246,@ComponentCode247,@ComponentCode248,@ComponentCode249,@ComponentCode250,@ComponentCode251,@ComponentCode252,@ComponentCode253)) AND ([TbModelOtherInfo].[Type] = @Type254) 	
Parameters:
@ComponentCode204[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_124
@ComponentCode205[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_353
@ComponentCode206[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_099
@ComponentCode207[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008
@ComponentCode208[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB_000
@ComponentCode209[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_006
@ComponentCode210[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ_489
@ComponentCode211[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL_416
@ComponentCode212[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL_031
@ComponentCode213[String] = L21_Z08_SBZX_OT_OT_LG_LG_011
@ComponentCode214[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL_001
@ComponentCode215[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_373
@ComponentCode216[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ_029
@ComponentCode217[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST_003
@ComponentCode218[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ_004
@ComponentCode219[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC_003
@ComponentCode220[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB_018
@ComponentCode221[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX_316
@ComponentCode222[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_394
@ComponentCode223[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS_051
@ComponentCode224[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ_024
@ComponentCode225[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX_062
@ComponentCode226[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX_113
@ComponentCode227[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS_005
@ComponentCode228[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS_033
@ComponentCode229[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_039
@ComponentCode230[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS_000
@ComponentCode231[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC_000
@ComponentCode232[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG_993
@ComponentCode233[String] = L21_Z08_00QT_QT_QT_GL_SG--1_435
@ComponentCode234[String] = L21_Z08_00QT_QT_QT_GL_SG--2_098
@ComponentCode235[String] = L21_Z08_00QT_QT_QT_GL_SG--2_105
@ComponentCode236[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3_001
@ComponentCode237[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2_001
@ComponentCode238[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1_001
@ComponentCode239[String] = L21_Z08_00QT_QT_QT_GL_SG--1_121
@ComponentCode240[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2_000
@ComponentCode241[String] = L21_Z08_00GS_PS_PS_SG_SG--3_101
@ComponentCode242[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A_001
@ComponentCode243[String] = L21_Z08_00GS_PS_PS_SG_SG--3_067
@ComponentCode244[String] = L21_Z08_00GS_PS_PS_SG_SG--3_143
@ComponentCode245[String] = L21_Z08_00GS_PS_PS_SG_SG--3_050
@ComponentCode246[String] = L21_Z08_00GS_PS_PS_SG_SG--3_076
@ComponentCode247[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1_000
@ComponentCode248[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8_001
@ComponentCode249[String] = L21_Z08_00GS_XF_XF_SG_SG--3_170
@ComponentCode250[String] = L21_Z08_00GS_GS_GS_SG_SG--3_101
@ComponentCode251[String] = L21_Z08_00GS_GS_GS_SG_SG--3_105
@ComponentCode252[String] = L21_Z08_00GS_GS_GS_SG_SG--3_193
@ComponentCode253[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3_001
@Type254[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 17:35:38
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId255,@MxGjId256,@MxGjId257,@MxGjId258,@MxGjId259,@MxGjId260,@MxGjId261,@MxGjId262,@MxGjId263,@MxGjId264) 	
Parameters:
@MxGjId255[String] = 4e8fee44-60f3-437e-adc1-a7a703d45905
@MxGjId256[String] = 4e8fee44-60f3-437e-adc1-a7a703d45907
@MxGjId257[String] = 4e8fee44-60f3-437e-adc1-a7a703d45911
@MxGjId258[String] = 4e8fee44-60f3-437e-adc1-a7a703d45913
@MxGjId259[String] = 4e8fee44-60f3-437e-adc1-a7a703d45915
@MxGjId260[String] = 4e8fee44-60f3-437e-adc1-a7a703d45917
@MxGjId261[String] = 4e8fee44-60f3-437e-adc1-a7a703d45919
@MxGjId262[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591b
@MxGjId263[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591d
@MxGjId264[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591f


-----------------------------------------------------------------------------
2020-08-07 17:35:38
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode265,@ComponentCode266,@ComponentCode267,@ComponentCode268,@ComponentCode269,@ComponentCode270,@ComponentCode271,@ComponentCode272,@ComponentCode273,@ComponentCode274)) AND ([TbModelOtherInfo].[Type] = @Type275) 	
Parameters:
@ComponentCode265[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_001
@ComponentCode266[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_000
@ComponentCode267[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_007
@ComponentCode268[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_006
@ComponentCode269[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_009
@ComponentCode270[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_008
@ComponentCode271[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_003
@ComponentCode272[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_002
@ComponentCode273[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_005
@ComponentCode274[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_004
@Type275[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 17:35:50
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId276,@MxGjId277,@MxGjId278,@MxGjId279,@MxGjId280,@MxGjId281,@MxGjId282,@MxGjId283,@MxGjId284,@MxGjId285) 	
Parameters:
@MxGjId276[String] = 4e8fee44-60f3-437e-adc1-a7a703d45841
@MxGjId277[String] = 4e8fee44-60f3-437e-adc1-a7a703d45843
@MxGjId278[String] = 4e8fee44-60f3-437e-adc1-a7a703d45845
@MxGjId279[String] = 4e8fee44-60f3-437e-adc1-a7a703d45847
@MxGjId280[String] = 4e8fee44-60f3-437e-adc1-a7a703d45849
@MxGjId281[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584b
@MxGjId282[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584d
@MxGjId283[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584f
@MxGjId284[String] = 4e8fee44-60f3-437e-adc1-a7a703d45859
@MxGjId285[String] = 4e8fee44-60f3-437e-adc1-a7a703d4585b


-----------------------------------------------------------------------------
2020-08-07 17:35:50
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode286,@ComponentCode287,@ComponentCode288,@ComponentCode289,@ComponentCode290,@ComponentCode291,@ComponentCode292,@ComponentCode293,@ComponentCode294,@ComponentCode295)) AND ([TbModelOtherInfo].[Type] = @Type296) 	
Parameters:
@ComponentCode286[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_007
@ComponentCode287[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_006
@ComponentCode288[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_009
@ComponentCode289[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_008
@ComponentCode290[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_003
@ComponentCode291[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_002
@ComponentCode292[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_005
@ComponentCode293[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_004
@ComponentCode294[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_011
@ComponentCode295[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_010
@Type296[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 17:36:17
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId297,@MxGjId298,@MxGjId299,@MxGjId300,@MxGjId301,@MxGjId302,@MxGjId303,@MxGjId304,@MxGjId305,@MxGjId306) 	
Parameters:
@MxGjId297[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a05b
@MxGjId298[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a080
@MxGjId299[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a09f
@MxGjId300[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a0a8
@MxGjId301[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a0ac
@MxGjId302[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a382
@MxGjId303[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a473
@MxGjId304[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a542
@MxGjId305[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a550
@MxGjId306[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a55b


-----------------------------------------------------------------------------
2020-08-07 17:36:17
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode307,@ComponentCode308,@ComponentCode309,@ComponentCode310,@ComponentCode311,@ComponentCode312,@ComponentCode313,@ComponentCode314,@ComponentCode315,@ComponentCode316)) AND ([TbModelOtherInfo].[Type] = @Type317) 	
Parameters:
@ComponentCode307[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_018
@ComponentCode308[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_021
@ComponentCode309[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_022
@ComponentCode310[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_019
@ComponentCode311[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_020
@ComponentCode312[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_017
@ComponentCode313[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_004
@ComponentCode314[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_008
@ComponentCode315[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_010
@ComponentCode316[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_009
@Type317[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 17:36:36
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId318,@MxGjId319,@MxGjId320,@MxGjId321,@MxGjId322,@MxGjId323,@MxGjId324,@MxGjId325,@MxGjId326) 	
Parameters:
@MxGjId318[String] = 4e8fee44-60f3-437e-adc1-a7a703d4588d
@MxGjId319[String] = 4e8fee44-60f3-437e-adc1-a7a703d4589e
@MxGjId320[String] = 4e8fee44-60f3-437e-adc1-a7a703d458c2
@MxGjId321[String] = 4e8fee44-60f3-437e-adc1-a7a703d458e3
@MxGjId322[String] = 4e8fee44-60f3-437e-adc1-a7a703d458fc
@MxGjId323[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ac8d
@MxGjId324[String] = 4e8fee44-60f3-437e-adc1-a7a703d4acd6
@MxGjId325[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ad7b
@MxGjId326[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ad8c


-----------------------------------------------------------------------------
2020-08-07 17:36:36
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode327,@ComponentCode328,@ComponentCode329,@ComponentCode330,@ComponentCode331,@ComponentCode332,@ComponentCode333,@ComponentCode334,@ComponentCode335)) AND ([TbModelOtherInfo].[Type] = @Type336) 	
Parameters:
@ComponentCode327[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_000
@ComponentCode328[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_001
@ComponentCode329[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_004
@ComponentCode330[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_002
@ComponentCode331[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_003
@ComponentCode332[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_005
@ComponentCode333[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_006
@ComponentCode334[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_007
@ComponentCode335[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008
@Type336[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 17:36:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:39:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:42:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:43:39
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 17:43:39
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 17:43:39
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:43:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:43:40
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type337) AND ([TbOrganizationMap].[ProjectId] = @ProjectId338)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode339,@CompanyCode340,@CompanyCode341,@CompanyCode342,@CompanyCode343,@CompanyCode344,@CompanyCode345,@CompanyCode346)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode347))) 	
Parameters:
@Type337[Int32] = 1
@ProjectId338[String] = 6372912251695766465
@CompanyCode339[String] = 6373083923489249281
@CompanyCode340[String] = 6373083925531366080
@CompanyCode341[String] = 6373083927883400612
@CompanyCode342[String] = 6373083918575368225
@CompanyCode343[String] = 6373083920445075162
@CompanyCode344[String] = 6373083908618598731
@CompanyCode345[String] = 6373083911842783146
@CompanyCode346[String] = 6373083913928202424
@ParentCompanyCode347[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 17:43:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:43:40
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type348) AND ([TbOrganizationMap].[ProjectId] = @ProjectId349)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode350,@CompanyCode351,@CompanyCode352,@CompanyCode353,@CompanyCode354,@CompanyCode355,@CompanyCode356,@CompanyCode357)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode358))) 	
Parameters:
@Type348[Int32] = 2
@ProjectId349[String] = 6372912251695766465
@CompanyCode350[String] = 6373083923489249281
@CompanyCode351[String] = 6373083925531366080
@CompanyCode352[String] = 6373083927883400612
@CompanyCode353[String] = 6373083918575368225
@CompanyCode354[String] = 6373083920445075162
@CompanyCode355[String] = 6373083908618598731
@CompanyCode356[String] = 6373083911842783146
@CompanyCode357[String] = 6373083913928202424
@ParentCompanyCode358[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 17:43:40
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 17:43:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:43:40
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode386)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId359) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode360,@SiteCode361,@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368,@SiteCode369,@SiteCode370,@SiteCode371,@SiteCode372,@SiteCode373,@SiteCode374,@SiteCode375,@SiteCode376,@SiteCode377,@SiteCode378,@SiteCode379,@SiteCode380,@SiteCode381,@SiteCode382,@SiteCode383,@SiteCode384,@SiteCode385)))	
Parameters:
@ProjectId359[String] = 6372912251695766465
@SiteCode360[String] = 6373083923489249281
@SiteCode361[String] = 6373083925531366080
@SiteCode362[String] = 6373083927883400612
@SiteCode363[String] = 6373083918575368225
@SiteCode364[String] = 6373083920445075162
@SiteCode365[String] = 6373083908618598731
@SiteCode366[String] = 6373083911842783146
@SiteCode367[String] = 6373083913928202424
@SiteCode368[String] = 6373083877551621804
@SiteCode369[String] = 6373083879921857377
@SiteCode370[String] = 6373083881542550067
@SiteCode371[String] = 6373083883689772886
@SiteCode372[String] = 6373083887136270013
@SiteCode373[String] = 6373083889697116488
@SiteCode374[String] = 6373083891969846476
@SiteCode375[String] = 6373083894422586761
@SiteCode376[String] = 6373083897509963358
@SiteCode377[String] = 6373083900444931227
@SiteCode378[String] = 6373083829464571372
@SiteCode379[String] = 6373083833327492328
@SiteCode380[String] = 6373083841964286321
@SiteCode381[String] = 6373083844982558950
@SiteCode382[String] = 6373083847585007801
@SiteCode383[String] = 6373083856887939900
@SiteCode384[String] = 6373083859102666584
@SiteCode385[String] = 6373083864919499284
@FDictionaryCode386[String] = OrderState
@FDictionaryCode387[String] = UrgentDegree
@FDictionaryCode388[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:43:40
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode387) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode388) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode386)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId359) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode360,@SiteCode361,@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368,@SiteCode369,@SiteCode370,@SiteCode371,@SiteCode372,@SiteCode373,@SiteCode374,@SiteCode375,@SiteCode376,@SiteCode377,@SiteCode378,@SiteCode379,@SiteCode380,@SiteCode381,@SiteCode382,@SiteCode383,@SiteCode384,@SiteCode385))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId359[String] = 6372912251695766465
@SiteCode360[String] = 6373083923489249281
@SiteCode361[String] = 6373083925531366080
@SiteCode362[String] = 6373083927883400612
@SiteCode363[String] = 6373083918575368225
@SiteCode364[String] = 6373083920445075162
@SiteCode365[String] = 6373083908618598731
@SiteCode366[String] = 6373083911842783146
@SiteCode367[String] = 6373083913928202424
@SiteCode368[String] = 6373083877551621804
@SiteCode369[String] = 6373083879921857377
@SiteCode370[String] = 6373083881542550067
@SiteCode371[String] = 6373083883689772886
@SiteCode372[String] = 6373083887136270013
@SiteCode373[String] = 6373083889697116488
@SiteCode374[String] = 6373083891969846476
@SiteCode375[String] = 6373083894422586761
@SiteCode376[String] = 6373083897509963358
@SiteCode377[String] = 6373083900444931227
@SiteCode378[String] = 6373083829464571372
@SiteCode379[String] = 6373083833327492328
@SiteCode380[String] = 6373083841964286321
@SiteCode381[String] = 6373083844982558950
@SiteCode382[String] = 6373083847585007801
@SiteCode383[String] = 6373083856887939900
@SiteCode384[String] = 6373083859102666584
@SiteCode385[String] = 6373083864919499284
@FDictionaryCode386[String] = OrderState
@FDictionaryCode387[String] = UrgentDegree
@FDictionaryCode388[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:43:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 17:43:41
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 17:43:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 17:43:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 17:43:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:43:46
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId389) AND ([TbModelOrg].[SiteCode] IN (@SiteCode390))) 	
Parameters:
@ProjectId389[String] = 6372912251695766465
@SiteCode390[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:43:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:43:53
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId391) AND ([TbModelOrg].[SiteCode] IN (@SiteCode392))) 	
Parameters:
@ProjectId391[String] = 6372912251695766465
@SiteCode392[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:46:39
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:49:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:49:15
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId393) AND ([TbModelOrg].[SiteCode] IN (@SiteCode394))) 	
Parameters:
@ProjectId393[String] = 6372912251695766465
@SiteCode394[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:49:18
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:49:18
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId395) AND ([TbModelOrg].[SiteCode] IN (@SiteCode396))) 	
Parameters:
@ProjectId395[String] = 6372912251695766465
@SiteCode396[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:49:22
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:49:22
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId397) AND ([TbModelOrg].[SiteCode] IN (@SiteCode398))) 	
Parameters:
@ProjectId397[String] = 6372912251695766465
@SiteCode398[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:49:39
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:51:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:51:09
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId399) AND ([TbModelOrg].[SiteCode] IN (@SiteCode400))) 	
Parameters:
@ProjectId399[String] = 6372912251695766465
@SiteCode400[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:51:47
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:51:47
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId401) AND ([TbModelOrg].[SiteCode] IN (@SiteCode402))) 	
Parameters:
@ProjectId401[String] = 6372912251695766465
@SiteCode402[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:51:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:51:53
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId403) AND ([TbModelOrg].[SiteCode] IN (@SiteCode404))) 	
Parameters:
@ProjectId403[String] = 6372912251695766465
@SiteCode404[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:52:39
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:55:39
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:56:26
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 17:56:26
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 17:56:26
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:56:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:56:27
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type405) AND ([TbOrganizationMap].[ProjectId] = @ProjectId406)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode407,@CompanyCode408,@CompanyCode409,@CompanyCode410,@CompanyCode411,@CompanyCode412,@CompanyCode413,@CompanyCode414)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode415))) 	
Parameters:
@Type405[Int32] = 1
@ProjectId406[String] = 6372912251695766465
@CompanyCode407[String] = 6373083923489249281
@CompanyCode408[String] = 6373083925531366080
@CompanyCode409[String] = 6373083927883400612
@CompanyCode410[String] = 6373083918575368225
@CompanyCode411[String] = 6373083920445075162
@CompanyCode412[String] = 6373083908618598731
@CompanyCode413[String] = 6373083911842783146
@CompanyCode414[String] = 6373083913928202424
@ParentCompanyCode415[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 17:56:28
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:56:28
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type416) AND ([TbOrganizationMap].[ProjectId] = @ProjectId417)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode418,@CompanyCode419,@CompanyCode420,@CompanyCode421,@CompanyCode422,@CompanyCode423,@CompanyCode424,@CompanyCode425)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode426))) 	
Parameters:
@Type416[Int32] = 2
@ProjectId417[String] = 6372912251695766465
@CompanyCode418[String] = 6373083923489249281
@CompanyCode419[String] = 6373083925531366080
@CompanyCode420[String] = 6373083927883400612
@CompanyCode421[String] = 6373083918575368225
@CompanyCode422[String] = 6373083920445075162
@CompanyCode423[String] = 6373083908618598731
@CompanyCode424[String] = 6373083911842783146
@CompanyCode425[String] = 6373083913928202424
@ParentCompanyCode426[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 17:56:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 17:56:28
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:56:28
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode454)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId427) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433,@SiteCode434,@SiteCode435,@SiteCode436,@SiteCode437,@SiteCode438,@SiteCode439,@SiteCode440,@SiteCode441,@SiteCode442,@SiteCode443,@SiteCode444,@SiteCode445,@SiteCode446,@SiteCode447,@SiteCode448,@SiteCode449,@SiteCode450,@SiteCode451,@SiteCode452,@SiteCode453)))	
Parameters:
@ProjectId427[String] = 6372912251695766465
@SiteCode428[String] = 6373083923489249281
@SiteCode429[String] = 6373083925531366080
@SiteCode430[String] = 6373083927883400612
@SiteCode431[String] = 6373083918575368225
@SiteCode432[String] = 6373083920445075162
@SiteCode433[String] = 6373083908618598731
@SiteCode434[String] = 6373083911842783146
@SiteCode435[String] = 6373083913928202424
@SiteCode436[String] = 6373083877551621804
@SiteCode437[String] = 6373083879921857377
@SiteCode438[String] = 6373083881542550067
@SiteCode439[String] = 6373083883689772886
@SiteCode440[String] = 6373083887136270013
@SiteCode441[String] = 6373083889697116488
@SiteCode442[String] = 6373083891969846476
@SiteCode443[String] = 6373083894422586761
@SiteCode444[String] = 6373083897509963358
@SiteCode445[String] = 6373083900444931227
@SiteCode446[String] = 6373083829464571372
@SiteCode447[String] = 6373083833327492328
@SiteCode448[String] = 6373083841964286321
@SiteCode449[String] = 6373083844982558950
@SiteCode450[String] = 6373083847585007801
@SiteCode451[String] = 6373083856887939900
@SiteCode452[String] = 6373083859102666584
@SiteCode453[String] = 6373083864919499284
@FDictionaryCode454[String] = OrderState
@FDictionaryCode455[String] = UrgentDegree
@FDictionaryCode456[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:56:28
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode455) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode456) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode454)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId427) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433,@SiteCode434,@SiteCode435,@SiteCode436,@SiteCode437,@SiteCode438,@SiteCode439,@SiteCode440,@SiteCode441,@SiteCode442,@SiteCode443,@SiteCode444,@SiteCode445,@SiteCode446,@SiteCode447,@SiteCode448,@SiteCode449,@SiteCode450,@SiteCode451,@SiteCode452,@SiteCode453))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId427[String] = 6372912251695766465
@SiteCode428[String] = 6373083923489249281
@SiteCode429[String] = 6373083925531366080
@SiteCode430[String] = 6373083927883400612
@SiteCode431[String] = 6373083918575368225
@SiteCode432[String] = 6373083920445075162
@SiteCode433[String] = 6373083908618598731
@SiteCode434[String] = 6373083911842783146
@SiteCode435[String] = 6373083913928202424
@SiteCode436[String] = 6373083877551621804
@SiteCode437[String] = 6373083879921857377
@SiteCode438[String] = 6373083881542550067
@SiteCode439[String] = 6373083883689772886
@SiteCode440[String] = 6373083887136270013
@SiteCode441[String] = 6373083889697116488
@SiteCode442[String] = 6373083891969846476
@SiteCode443[String] = 6373083894422586761
@SiteCode444[String] = 6373083897509963358
@SiteCode445[String] = 6373083900444931227
@SiteCode446[String] = 6373083829464571372
@SiteCode447[String] = 6373083833327492328
@SiteCode448[String] = 6373083841964286321
@SiteCode449[String] = 6373083844982558950
@SiteCode450[String] = 6373083847585007801
@SiteCode451[String] = 6373083856887939900
@SiteCode452[String] = 6373083859102666584
@SiteCode453[String] = 6373083864919499284
@FDictionaryCode454[String] = OrderState
@FDictionaryCode455[String] = UrgentDegree
@FDictionaryCode456[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:56:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 17:56:28
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 17:56:28
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 17:56:28
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type457) AND ([TbOrganizationMap].[ProjectId] = @ProjectId458)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode459,@CompanyCode460,@CompanyCode461,@CompanyCode462,@CompanyCode463,@CompanyCode464,@CompanyCode465,@CompanyCode466)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode467))) 	
Parameters:
@Type457[Int32] = 1
@ProjectId458[String] = 6372912251695766465
@CompanyCode459[String] = 6373083923489249281
@CompanyCode460[String] = 6373083925531366080
@CompanyCode461[String] = 6373083927883400612
@CompanyCode462[String] = 6373083918575368225
@CompanyCode463[String] = 6373083920445075162
@CompanyCode464[String] = 6373083908618598731
@CompanyCode465[String] = 6373083911842783146
@CompanyCode466[String] = 6373083913928202424
@ParentCompanyCode467[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type468) AND ([TbOrganizationMap].[ProjectId] = @ProjectId469)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode470,@CompanyCode471,@CompanyCode472,@CompanyCode473,@CompanyCode474,@CompanyCode475,@CompanyCode476,@CompanyCode477)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode478))) 	
Parameters:
@Type468[Int32] = 2
@ProjectId469[String] = 6372912251695766465
@CompanyCode470[String] = 6373083923489249281
@CompanyCode471[String] = 6373083925531366080
@CompanyCode472[String] = 6373083927883400612
@CompanyCode473[String] = 6373083918575368225
@CompanyCode474[String] = 6373083920445075162
@CompanyCode475[String] = 6373083908618598731
@CompanyCode476[String] = 6373083911842783146
@CompanyCode477[String] = 6373083913928202424
@ParentCompanyCode478[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode506)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId479) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode480,@SiteCode481,@SiteCode482,@SiteCode483,@SiteCode484,@SiteCode485,@SiteCode486,@SiteCode487,@SiteCode488,@SiteCode489,@SiteCode490,@SiteCode491,@SiteCode492,@SiteCode493,@SiteCode494,@SiteCode495,@SiteCode496,@SiteCode497,@SiteCode498,@SiteCode499,@SiteCode500,@SiteCode501,@SiteCode502,@SiteCode503,@SiteCode504,@SiteCode505)))	
Parameters:
@ProjectId479[String] = 6372912251695766465
@SiteCode480[String] = 6373083923489249281
@SiteCode481[String] = 6373083925531366080
@SiteCode482[String] = 6373083927883400612
@SiteCode483[String] = 6373083918575368225
@SiteCode484[String] = 6373083920445075162
@SiteCode485[String] = 6373083908618598731
@SiteCode486[String] = 6373083911842783146
@SiteCode487[String] = 6373083913928202424
@SiteCode488[String] = 6373083877551621804
@SiteCode489[String] = 6373083879921857377
@SiteCode490[String] = 6373083881542550067
@SiteCode491[String] = 6373083883689772886
@SiteCode492[String] = 6373083887136270013
@SiteCode493[String] = 6373083889697116488
@SiteCode494[String] = 6373083891969846476
@SiteCode495[String] = 6373083894422586761
@SiteCode496[String] = 6373083897509963358
@SiteCode497[String] = 6373083900444931227
@SiteCode498[String] = 6373083829464571372
@SiteCode499[String] = 6373083833327492328
@SiteCode500[String] = 6373083841964286321
@SiteCode501[String] = 6373083844982558950
@SiteCode502[String] = 6373083847585007801
@SiteCode503[String] = 6373083856887939900
@SiteCode504[String] = 6373083859102666584
@SiteCode505[String] = 6373083864919499284
@FDictionaryCode506[String] = OrderState
@FDictionaryCode507[String] = UrgentDegree
@FDictionaryCode508[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:58:29
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode507) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode508) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode506)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId479) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode480,@SiteCode481,@SiteCode482,@SiteCode483,@SiteCode484,@SiteCode485,@SiteCode486,@SiteCode487,@SiteCode488,@SiteCode489,@SiteCode490,@SiteCode491,@SiteCode492,@SiteCode493,@SiteCode494,@SiteCode495,@SiteCode496,@SiteCode497,@SiteCode498,@SiteCode499,@SiteCode500,@SiteCode501,@SiteCode502,@SiteCode503,@SiteCode504,@SiteCode505))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId479[String] = 6372912251695766465
@SiteCode480[String] = 6373083923489249281
@SiteCode481[String] = 6373083925531366080
@SiteCode482[String] = 6373083927883400612
@SiteCode483[String] = 6373083918575368225
@SiteCode484[String] = 6373083920445075162
@SiteCode485[String] = 6373083908618598731
@SiteCode486[String] = 6373083911842783146
@SiteCode487[String] = 6373083913928202424
@SiteCode488[String] = 6373083877551621804
@SiteCode489[String] = 6373083879921857377
@SiteCode490[String] = 6373083881542550067
@SiteCode491[String] = 6373083883689772886
@SiteCode492[String] = 6373083887136270013
@SiteCode493[String] = 6373083889697116488
@SiteCode494[String] = 6373083891969846476
@SiteCode495[String] = 6373083894422586761
@SiteCode496[String] = 6373083897509963358
@SiteCode497[String] = 6373083900444931227
@SiteCode498[String] = 6373083829464571372
@SiteCode499[String] = 6373083833327492328
@SiteCode500[String] = 6373083841964286321
@SiteCode501[String] = 6373083844982558950
@SiteCode502[String] = 6373083847585007801
@SiteCode503[String] = 6373083856887939900
@SiteCode504[String] = 6373083859102666584
@SiteCode505[String] = 6373083864919499284
@FDictionaryCode506[String] = OrderState
@FDictionaryCode507[String] = UrgentDegree
@FDictionaryCode508[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 17:58:30
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 17:58:30
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 17:58:30
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 17:58:30
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 17:58:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:58:36
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId509) AND ([TbModelOrg].[SiteCode] IN (@SiteCode510))) 	
Parameters:
@ProjectId509[String] = 6372912251695766465
@SiteCode510[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:58:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:58:44
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId511) AND ([TbModelOrg].[SiteCode] IN (@SiteCode512))) 	
Parameters:
@ProjectId511[String] = 6372912251695766465
@SiteCode512[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 17:58:47
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 17:58:47
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId513) AND ([TbModelOrg].[SiteCode] IN (@SiteCode514))) 	
Parameters:
@ProjectId513[String] = 6372912251695766465
@SiteCode514[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:01:29
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:04:29
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:05:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:05:57
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId515) AND ([TbModelOrg].[SiteCode] IN (@SiteCode516))) 	
Parameters:
@ProjectId515[String] = 6372912251695766465
@SiteCode516[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:06:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:06:01
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId517) AND ([TbModelOrg].[SiteCode] IN (@SiteCode518))) 	
Parameters:
@ProjectId517[String] = 6372912251695766465
@SiteCode518[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:06:06
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:06:06
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId519) AND ([TbModelOrg].[SiteCode] IN (@SiteCode520))) 	
Parameters:
@ProjectId519[String] = 6372912251695766465
@SiteCode520[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:07:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:07:10
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId521) AND ([TbModelOrg].[SiteCode] IN (@SiteCode522))) 	
Parameters:
@ProjectId521[String] = 6372912251695766465
@SiteCode522[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-07 18:07:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:07:13
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId523) AND ([TbModelOrg].[SiteCode] IN (@SiteCode524))) 	
Parameters:
@ProjectId523[String] = 6372912251695766465
@SiteCode524[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-07 18:07:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:07:16
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId525) AND ([TbModelOrg].[SiteCode] IN (@SiteCode526))) 	
Parameters:
@ProjectId525[String] = 6372912251695766465
@SiteCode526[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-07 18:07:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:07:19
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId527) AND ([TbModelOrg].[SiteCode] IN (@SiteCode528))) 	
Parameters:
@ProjectId527[String] = 6372912251695766465
@SiteCode528[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:07:29
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type529) AND ([TbOrganizationMap].[ProjectId] = @ProjectId530)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode531,@CompanyCode532,@CompanyCode533,@CompanyCode534,@CompanyCode535,@CompanyCode536,@CompanyCode537,@CompanyCode538)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode539))) 	
Parameters:
@Type529[Int32] = 1
@ProjectId530[String] = 6372912251695766465
@CompanyCode531[String] = 6373083923489249281
@CompanyCode532[String] = 6373083925531366080
@CompanyCode533[String] = 6373083927883400612
@CompanyCode534[String] = 6373083918575368225
@CompanyCode535[String] = 6373083920445075162
@CompanyCode536[String] = 6373083908618598731
@CompanyCode537[String] = 6373083911842783146
@CompanyCode538[String] = 6373083913928202424
@ParentCompanyCode539[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type540) AND ([TbOrganizationMap].[ProjectId] = @ProjectId541)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode542,@CompanyCode543,@CompanyCode544,@CompanyCode545,@CompanyCode546,@CompanyCode547,@CompanyCode548,@CompanyCode549)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode550))) 	
Parameters:
@Type540[Int32] = 2
@ProjectId541[String] = 6372912251695766465
@CompanyCode542[String] = 6373083923489249281
@CompanyCode543[String] = 6373083925531366080
@CompanyCode544[String] = 6373083927883400612
@CompanyCode545[String] = 6373083918575368225
@CompanyCode546[String] = 6373083920445075162
@CompanyCode547[String] = 6373083908618598731
@CompanyCode548[String] = 6373083911842783146
@CompanyCode549[String] = 6373083913928202424
@ParentCompanyCode550[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 18:09:09
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 18:09:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:09:10
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode578)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId551) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode552,@SiteCode553,@SiteCode554,@SiteCode555,@SiteCode556,@SiteCode557,@SiteCode558,@SiteCode559,@SiteCode560,@SiteCode561,@SiteCode562,@SiteCode563,@SiteCode564,@SiteCode565,@SiteCode566,@SiteCode567,@SiteCode568,@SiteCode569,@SiteCode570,@SiteCode571,@SiteCode572,@SiteCode573,@SiteCode574,@SiteCode575,@SiteCode576,@SiteCode577)))	
Parameters:
@ProjectId551[String] = 6372912251695766465
@SiteCode552[String] = 6373083923489249281
@SiteCode553[String] = 6373083925531366080
@SiteCode554[String] = 6373083927883400612
@SiteCode555[String] = 6373083918575368225
@SiteCode556[String] = 6373083920445075162
@SiteCode557[String] = 6373083908618598731
@SiteCode558[String] = 6373083911842783146
@SiteCode559[String] = 6373083913928202424
@SiteCode560[String] = 6373083877551621804
@SiteCode561[String] = 6373083879921857377
@SiteCode562[String] = 6373083881542550067
@SiteCode563[String] = 6373083883689772886
@SiteCode564[String] = 6373083887136270013
@SiteCode565[String] = 6373083889697116488
@SiteCode566[String] = 6373083891969846476
@SiteCode567[String] = 6373083894422586761
@SiteCode568[String] = 6373083897509963358
@SiteCode569[String] = 6373083900444931227
@SiteCode570[String] = 6373083829464571372
@SiteCode571[String] = 6373083833327492328
@SiteCode572[String] = 6373083841964286321
@SiteCode573[String] = 6373083844982558950
@SiteCode574[String] = 6373083847585007801
@SiteCode575[String] = 6373083856887939900
@SiteCode576[String] = 6373083859102666584
@SiteCode577[String] = 6373083864919499284
@FDictionaryCode578[String] = OrderState
@FDictionaryCode579[String] = UrgentDegree
@FDictionaryCode580[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 18:09:10
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode579) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode580) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode578)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId551) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode552,@SiteCode553,@SiteCode554,@SiteCode555,@SiteCode556,@SiteCode557,@SiteCode558,@SiteCode559,@SiteCode560,@SiteCode561,@SiteCode562,@SiteCode563,@SiteCode564,@SiteCode565,@SiteCode566,@SiteCode567,@SiteCode568,@SiteCode569,@SiteCode570,@SiteCode571,@SiteCode572,@SiteCode573,@SiteCode574,@SiteCode575,@SiteCode576,@SiteCode577))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId551[String] = 6372912251695766465
@SiteCode552[String] = 6373083923489249281
@SiteCode553[String] = 6373083925531366080
@SiteCode554[String] = 6373083927883400612
@SiteCode555[String] = 6373083918575368225
@SiteCode556[String] = 6373083920445075162
@SiteCode557[String] = 6373083908618598731
@SiteCode558[String] = 6373083911842783146
@SiteCode559[String] = 6373083913928202424
@SiteCode560[String] = 6373083877551621804
@SiteCode561[String] = 6373083879921857377
@SiteCode562[String] = 6373083881542550067
@SiteCode563[String] = 6373083883689772886
@SiteCode564[String] = 6373083887136270013
@SiteCode565[String] = 6373083889697116488
@SiteCode566[String] = 6373083891969846476
@SiteCode567[String] = 6373083894422586761
@SiteCode568[String] = 6373083897509963358
@SiteCode569[String] = 6373083900444931227
@SiteCode570[String] = 6373083829464571372
@SiteCode571[String] = 6373083833327492328
@SiteCode572[String] = 6373083841964286321
@SiteCode573[String] = 6373083844982558950
@SiteCode574[String] = 6373083847585007801
@SiteCode575[String] = 6373083856887939900
@SiteCode576[String] = 6373083859102666584
@SiteCode577[String] = 6373083864919499284
@FDictionaryCode578[String] = OrderState
@FDictionaryCode579[String] = UrgentDegree
@FDictionaryCode580[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 18:09:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:09:19
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode583)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId581) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode582)))	
Parameters:
@ProjectId581[String] = 6372912251695766465
@SiteCode582[String] = 6373083833327492328
@FDictionaryCode583[String] = OrderState
@FDictionaryCode584[String] = UrgentDegree
@FDictionaryCode585[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 18:09:19
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode584) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode585) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode583)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId581) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode582))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId581[String] = 6372912251695766465
@SiteCode582[String] = 6373083833327492328
@FDictionaryCode583[String] = OrderState
@FDictionaryCode584[String] = UrgentDegree
@FDictionaryCode585[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 18:10:29
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:13:19
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 18:13:19
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 18:13:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type586) AND ([TbOrganizationMap].[ProjectId] = @ProjectId587)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode588,@CompanyCode589,@CompanyCode590,@CompanyCode591,@CompanyCode592,@CompanyCode593,@CompanyCode594,@CompanyCode595)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode596))) 	
Parameters:
@Type586[Int32] = 1
@ProjectId587[String] = 6372912251695766465
@CompanyCode588[String] = 6373083923489249281
@CompanyCode589[String] = 6373083925531366080
@CompanyCode590[String] = 6373083927883400612
@CompanyCode591[String] = 6373083918575368225
@CompanyCode592[String] = 6373083920445075162
@CompanyCode593[String] = 6373083908618598731
@CompanyCode594[String] = 6373083911842783146
@CompanyCode595[String] = 6373083913928202424
@ParentCompanyCode596[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type597) AND ([TbOrganizationMap].[ProjectId] = @ProjectId598)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode599,@CompanyCode600,@CompanyCode601,@CompanyCode602,@CompanyCode603,@CompanyCode604,@CompanyCode605,@CompanyCode606)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode607))) 	
Parameters:
@Type597[Int32] = 2
@ProjectId598[String] = 6372912251695766465
@CompanyCode599[String] = 6373083923489249281
@CompanyCode600[String] = 6373083925531366080
@CompanyCode601[String] = 6373083927883400612
@CompanyCode602[String] = 6373083918575368225
@CompanyCode603[String] = 6373083920445075162
@CompanyCode604[String] = 6373083908618598731
@CompanyCode605[String] = 6373083911842783146
@CompanyCode606[String] = 6373083913928202424
@ParentCompanyCode607[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode635)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId608) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode609,@SiteCode610,@SiteCode611,@SiteCode612,@SiteCode613,@SiteCode614,@SiteCode615,@SiteCode616,@SiteCode617,@SiteCode618,@SiteCode619,@SiteCode620,@SiteCode621,@SiteCode622,@SiteCode623,@SiteCode624,@SiteCode625,@SiteCode626,@SiteCode627,@SiteCode628,@SiteCode629,@SiteCode630,@SiteCode631,@SiteCode632,@SiteCode633,@SiteCode634)))	
Parameters:
@ProjectId608[String] = 6372912251695766465
@SiteCode609[String] = 6373083923489249281
@SiteCode610[String] = 6373083925531366080
@SiteCode611[String] = 6373083927883400612
@SiteCode612[String] = 6373083918575368225
@SiteCode613[String] = 6373083920445075162
@SiteCode614[String] = 6373083908618598731
@SiteCode615[String] = 6373083911842783146
@SiteCode616[String] = 6373083913928202424
@SiteCode617[String] = 6373083877551621804
@SiteCode618[String] = 6373083879921857377
@SiteCode619[String] = 6373083881542550067
@SiteCode620[String] = 6373083883689772886
@SiteCode621[String] = 6373083887136270013
@SiteCode622[String] = 6373083889697116488
@SiteCode623[String] = 6373083891969846476
@SiteCode624[String] = 6373083894422586761
@SiteCode625[String] = 6373083897509963358
@SiteCode626[String] = 6373083900444931227
@SiteCode627[String] = 6373083829464571372
@SiteCode628[String] = 6373083833327492328
@SiteCode629[String] = 6373083841964286321
@SiteCode630[String] = 6373083844982558950
@SiteCode631[String] = 6373083847585007801
@SiteCode632[String] = 6373083856887939900
@SiteCode633[String] = 6373083859102666584
@SiteCode634[String] = 6373083864919499284
@FDictionaryCode635[String] = OrderState
@FDictionaryCode636[String] = UrgentDegree
@FDictionaryCode637[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode636) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode637) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode635)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId608) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode609,@SiteCode610,@SiteCode611,@SiteCode612,@SiteCode613,@SiteCode614,@SiteCode615,@SiteCode616,@SiteCode617,@SiteCode618,@SiteCode619,@SiteCode620,@SiteCode621,@SiteCode622,@SiteCode623,@SiteCode624,@SiteCode625,@SiteCode626,@SiteCode627,@SiteCode628,@SiteCode629,@SiteCode630,@SiteCode631,@SiteCode632,@SiteCode633,@SiteCode634))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId608[String] = 6372912251695766465
@SiteCode609[String] = 6373083923489249281
@SiteCode610[String] = 6373083925531366080
@SiteCode611[String] = 6373083927883400612
@SiteCode612[String] = 6373083918575368225
@SiteCode613[String] = 6373083920445075162
@SiteCode614[String] = 6373083908618598731
@SiteCode615[String] = 6373083911842783146
@SiteCode616[String] = 6373083913928202424
@SiteCode617[String] = 6373083877551621804
@SiteCode618[String] = 6373083879921857377
@SiteCode619[String] = 6373083881542550067
@SiteCode620[String] = 6373083883689772886
@SiteCode621[String] = 6373083887136270013
@SiteCode622[String] = 6373083889697116488
@SiteCode623[String] = 6373083891969846476
@SiteCode624[String] = 6373083894422586761
@SiteCode625[String] = 6373083897509963358
@SiteCode626[String] = 6373083900444931227
@SiteCode627[String] = 6373083829464571372
@SiteCode628[String] = 6373083833327492328
@SiteCode629[String] = 6373083841964286321
@SiteCode630[String] = 6373083844982558950
@SiteCode631[String] = 6373083847585007801
@SiteCode632[String] = 6373083856887939900
@SiteCode633[String] = 6373083859102666584
@SiteCode634[String] = 6373083864919499284
@FDictionaryCode635[String] = OrderState
@FDictionaryCode636[String] = UrgentDegree
@FDictionaryCode637[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 18:13:21
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 18:13:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:13:27
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId638) AND ([TbModelOrg].[SiteCode] IN (@SiteCode639))) 	
Parameters:
@ProjectId638[String] = 6372912251695766465
@SiteCode639[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:13:38
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:13:38
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId640) AND ([TbModelOrg].[SiteCode] IN (@SiteCode641))) 	
Parameters:
@ProjectId640[String] = 6372912251695766465
@SiteCode641[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:13:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:13:46
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId642) AND ([TbModelOrg].[SiteCode] IN (@SiteCode643))) 	
Parameters:
@ProjectId642[String] = 6372912251695766465
@SiteCode643[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:14:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:14:04
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId644) AND ([TbModelOrg].[SiteCode] IN (@SiteCode645))) 	
Parameters:
@ProjectId644[String] = 6372912251695766465
@SiteCode645[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:14:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:14:08
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId646) AND ([TbModelOrg].[SiteCode] IN (@SiteCode647))) 	
Parameters:
@ProjectId646[String] = 6372912251695766465
@SiteCode647[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:14:20
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm648,@MxGjBm649,@MxGjBm650,@MxGjBm651,@MxGjBm652,@MxGjBm653,@MxGjBm654,@MxGjBm655,@MxGjBm656,@MxGjBm657,@MxGjBm658,@MxGjBm659,@MxGjBm660,@MxGjBm661,@MxGjBm662,@MxGjBm663,@MxGjBm664,@MxGjBm665,@MxGjBm666,@MxGjBm667,@MxGjBm668,@MxGjBm669,@MxGjBm670,@MxGjBm671,@MxGjBm672,@MxGjBm673,@MxGjBm674,@MxGjBm675,@MxGjBm676,@MxGjBm677,@MxGjBm678,@MxGjBm679,@MxGjBm680,@MxGjBm681,@MxGjBm682,@MxGjBm683,@MxGjBm684,@MxGjBm685,@MxGjBm686,@MxGjBm687,@MxGjBm688,@MxGjBm689,@MxGjBm690,@MxGjBm691,@MxGjBm692,@MxGjBm693,@MxGjBm694,@MxGjBm695,@MxGjBm696,@MxGjBm697) 	
Parameters:
@MxGjBm648[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm649[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm650[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm651[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm652[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm653[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm654[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm655[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm656[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm657[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm658[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm659[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm660[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm661[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm662[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm663[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm664[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm665[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm666[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm667[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm668[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm669[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm670[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm671[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm672[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm673[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm674[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm675[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm676[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm677[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm678[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm679[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm680[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm681[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm682[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm683[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm684[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm685[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm686[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm687[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm688[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm689[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm690[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm691[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm692[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm693[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm694[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm695[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm696[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm697[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-07 18:14:20
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode698,@ComponentCode699,@ComponentCode700,@ComponentCode701,@ComponentCode702,@ComponentCode703,@ComponentCode704,@ComponentCode705,@ComponentCode706,@ComponentCode707,@ComponentCode708,@ComponentCode709,@ComponentCode710,@ComponentCode711,@ComponentCode712,@ComponentCode713,@ComponentCode714,@ComponentCode715,@ComponentCode716,@ComponentCode717,@ComponentCode718,@ComponentCode719,@ComponentCode720,@ComponentCode721,@ComponentCode722,@ComponentCode723,@ComponentCode724,@ComponentCode725,@ComponentCode726,@ComponentCode727,@ComponentCode728,@ComponentCode729,@ComponentCode730,@ComponentCode731,@ComponentCode732,@ComponentCode733,@ComponentCode734,@ComponentCode735,@ComponentCode736,@ComponentCode737,@ComponentCode738,@ComponentCode739,@ComponentCode740,@ComponentCode741,@ComponentCode742,@ComponentCode743,@ComponentCode744,@ComponentCode745,@ComponentCode746,@ComponentCode747)) AND ([TbModelOtherInfo].[Type] = @Type748) 	
Parameters:
@ComponentCode698[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_124
@ComponentCode699[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_353
@ComponentCode700[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_099
@ComponentCode701[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008
@ComponentCode702[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB_000
@ComponentCode703[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_006
@ComponentCode704[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ_489
@ComponentCode705[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL_416
@ComponentCode706[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL_031
@ComponentCode707[String] = L21_Z08_SBZX_OT_OT_LG_LG_011
@ComponentCode708[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL_001
@ComponentCode709[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_373
@ComponentCode710[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ_029
@ComponentCode711[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST_003
@ComponentCode712[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ_004
@ComponentCode713[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC_003
@ComponentCode714[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB_018
@ComponentCode715[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX_316
@ComponentCode716[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_394
@ComponentCode717[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS_051
@ComponentCode718[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ_024
@ComponentCode719[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX_062
@ComponentCode720[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX_113
@ComponentCode721[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS_005
@ComponentCode722[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS_033
@ComponentCode723[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_039
@ComponentCode724[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS_000
@ComponentCode725[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC_000
@ComponentCode726[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG_993
@ComponentCode727[String] = L21_Z08_00QT_QT_QT_GL_SG--1_435
@ComponentCode728[String] = L21_Z08_00QT_QT_QT_GL_SG--2_098
@ComponentCode729[String] = L21_Z08_00QT_QT_QT_GL_SG--2_105
@ComponentCode730[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3_001
@ComponentCode731[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2_001
@ComponentCode732[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1_001
@ComponentCode733[String] = L21_Z08_00QT_QT_QT_GL_SG--1_121
@ComponentCode734[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2_000
@ComponentCode735[String] = L21_Z08_00GS_PS_PS_SG_SG--3_101
@ComponentCode736[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A_001
@ComponentCode737[String] = L21_Z08_00GS_PS_PS_SG_SG--3_067
@ComponentCode738[String] = L21_Z08_00GS_PS_PS_SG_SG--3_143
@ComponentCode739[String] = L21_Z08_00GS_PS_PS_SG_SG--3_050
@ComponentCode740[String] = L21_Z08_00GS_PS_PS_SG_SG--3_076
@ComponentCode741[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1_000
@ComponentCode742[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8_001
@ComponentCode743[String] = L21_Z08_00GS_XF_XF_SG_SG--3_170
@ComponentCode744[String] = L21_Z08_00GS_GS_GS_SG_SG--3_101
@ComponentCode745[String] = L21_Z08_00GS_GS_GS_SG_SG--3_105
@ComponentCode746[String] = L21_Z08_00GS_GS_GS_SG_SG--3_193
@ComponentCode747[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3_001
@Type748[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 18:16:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:16:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:16:53
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId749) AND ([TbModelOrg].[SiteCode] IN (@SiteCode750))) 	
Parameters:
@ProjectId749[String] = 6372912251695766465
@SiteCode750[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:17:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:17:17
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId751) AND ([TbModelOrg].[SiteCode] IN (@SiteCode752))) 	
Parameters:
@ProjectId751[String] = 6372912251695766465
@SiteCode752[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:18:43
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId753,@MxGjId754,@MxGjId755,@MxGjId756,@MxGjId757,@MxGjId758,@MxGjId759,@MxGjId760,@MxGjId761,@MxGjId762) 	
Parameters:
@MxGjId753[String] = 4e8fee44-60f3-437e-adc1-a7a703d45905
@MxGjId754[String] = 4e8fee44-60f3-437e-adc1-a7a703d45907
@MxGjId755[String] = 4e8fee44-60f3-437e-adc1-a7a703d45911
@MxGjId756[String] = 4e8fee44-60f3-437e-adc1-a7a703d45913
@MxGjId757[String] = 4e8fee44-60f3-437e-adc1-a7a703d45915
@MxGjId758[String] = 4e8fee44-60f3-437e-adc1-a7a703d45917
@MxGjId759[String] = 4e8fee44-60f3-437e-adc1-a7a703d45919
@MxGjId760[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591b
@MxGjId761[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591d
@MxGjId762[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591f


-----------------------------------------------------------------------------
2020-08-07 18:18:43
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode763,@ComponentCode764,@ComponentCode765,@ComponentCode766,@ComponentCode767,@ComponentCode768,@ComponentCode769,@ComponentCode770,@ComponentCode771,@ComponentCode772)) AND ([TbModelOtherInfo].[Type] = @Type773) 	
Parameters:
@ComponentCode763[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_001
@ComponentCode764[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_000
@ComponentCode765[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_007
@ComponentCode766[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_006
@ComponentCode767[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_009
@ComponentCode768[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_008
@ComponentCode769[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_003
@ComponentCode770[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_002
@ComponentCode771[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_005
@ComponentCode772[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_004
@Type773[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 18:18:56
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode774) AND ([TbModelOtherInfo].[Type] = @Type775) 	
Parameters:
@ComponentCode774[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_006
@Type775[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 18:18:56
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu776,@ActionType777,@HostName778,@LogDate779,@UserCode780,@UserIP781);select scope_identity()	
Parameters:
@ActionMenu776[String] = TbModelOtherInfo
@ActionType777[String] = 编辑
@HostName778[String] = 
@LogDate779[DateTime] = 2020/8/7 18:18:56
@UserCode780[String] = 500000
@UserIP781[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 18:18:56
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode783,[PlanTime]=@PlanTime784,[Remark]=@Remark785,[SiteCode]=@SiteCode786,[Type]=@Type787,[ProjectId]=@ProjectId788 WHERE [TbModelOtherInfo].[ID] = @ID782	
Parameters:
@ComponentCode783[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_006
@PlanTime784[DateTime] = 2020/8/12 0:00:00
@Remark785[String] = xxx
@SiteCode786[String] = undefined
@Type787[Int32] = 2
@ProjectId788[String] = 6372912251695766465
@ID782[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:18:59
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode789) AND ([TbModelOtherInfo].[Type] = @Type790) 	
Parameters:
@ComponentCode789[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_000
@Type790[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 18:18:59
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu791,@ActionType792,@HostName793,@LogDate794,@UserCode795,@UserIP796);select scope_identity()	
Parameters:
@ActionMenu791[String] = TbModelOtherInfo
@ActionType792[String] = 编辑
@HostName793[String] = 
@LogDate794[DateTime] = 2020/8/7 18:18:59
@UserCode795[String] = 500000
@UserIP796[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 18:18:59
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode798,[PlanTime]=@PlanTime799,[Remark]=@Remark800,[SiteCode]=@SiteCode801,[Type]=@Type802,[ProjectId]=@ProjectId803 WHERE [TbModelOtherInfo].[ID] = @ID797	
Parameters:
@ComponentCode798[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_000
@PlanTime799[DateTime] = 2020/8/19 0:00:00
@Remark800[String] = ccc
@SiteCode801[String] = undefined
@Type802[Int32] = 2
@ProjectId803[String] = 6372912251695766465
@ID797[Int32] = 3


-----------------------------------------------------------------------------
2020-08-07 18:19:18
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode804) AND ([TbModelOtherInfo].[Type] = @Type805) 	
Parameters:
@ComponentCode804[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_099
@Type805[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 18:19:18
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu806,@ActionType807,@HostName808,@LogDate809,@UserCode810,@UserIP811);select scope_identity()	
Parameters:
@ActionMenu806[String] = TbModelOtherInfo
@ActionType807[String] = 新增
@HostName808[String] = 
@LogDate809[DateTime] = 2020/8/7 18:19:18
@UserCode810[String] = 500000
@UserIP811[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 18:19:18
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode812,@PlanTime813,@Remark814,@SiteCode815,@Type816,@ProjectId817);select scope_identity()	
Parameters:
@ComponentCode812[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_099
@PlanTime813[DateTime] = 2020/8/20 0:00:00
@Remark814[String] = 
@SiteCode815[String] = undefined
@Type816[Int32] = 1
@ProjectId817[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:19:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:19:21
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode818) AND ([TbModelOtherInfo].[Type] = @Type819) 	
Parameters:
@ComponentCode818[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008
@Type819[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 18:19:21
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu820,@ActionType821,@HostName822,@LogDate823,@UserCode824,@UserIP825);select scope_identity()	
Parameters:
@ActionMenu820[String] = TbModelOtherInfo
@ActionType821[String] = 新增
@HostName822[String] = 
@LogDate823[DateTime] = 2020/8/7 18:19:21
@UserCode824[String] = 500000
@UserIP825[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 18:19:21
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode826,@PlanTime827,@Remark828,@SiteCode829,@Type830,@ProjectId831);select scope_identity()	
Parameters:
@ComponentCode826[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008
@PlanTime827[DateTime] = 2020/8/18 0:00:00
@Remark828[String] = 
@SiteCode829[String] = undefined
@Type830[Int32] = 1
@ProjectId831[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:19:30
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId832,@MxGjId833,@MxGjId834,@MxGjId835,@MxGjId836,@MxGjId837,@MxGjId838,@MxGjId839,@MxGjId840) 	
Parameters:
@MxGjId832[String] = 4e8fee44-60f3-437e-adc1-a7a703d4588d
@MxGjId833[String] = 4e8fee44-60f3-437e-adc1-a7a703d4589e
@MxGjId834[String] = 4e8fee44-60f3-437e-adc1-a7a703d458c2
@MxGjId835[String] = 4e8fee44-60f3-437e-adc1-a7a703d458e3
@MxGjId836[String] = 4e8fee44-60f3-437e-adc1-a7a703d458fc
@MxGjId837[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ac8d
@MxGjId838[String] = 4e8fee44-60f3-437e-adc1-a7a703d4acd6
@MxGjId839[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ad7b
@MxGjId840[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ad8c


-----------------------------------------------------------------------------
2020-08-07 18:19:30
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode841,@ComponentCode842,@ComponentCode843,@ComponentCode844,@ComponentCode845,@ComponentCode846,@ComponentCode847,@ComponentCode848,@ComponentCode849)) AND ([TbModelOtherInfo].[Type] = @Type850) 	
Parameters:
@ComponentCode841[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_000
@ComponentCode842[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_001
@ComponentCode843[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_004
@ComponentCode844[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_002
@ComponentCode845[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_003
@ComponentCode846[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_005
@ComponentCode847[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_006
@ComponentCode848[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_007
@ComponentCode849[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008
@Type850[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 18:19:37
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode851) AND ([TbModelOtherInfo].[Type] = @Type852) 	
Parameters:
@ComponentCode851[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB_000
@Type852[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 18:19:37
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu853,@ActionType854,@HostName855,@LogDate856,@UserCode857,@UserIP858);select scope_identity()	
Parameters:
@ActionMenu853[String] = TbModelOtherInfo
@ActionType854[String] = 新增
@HostName855[String] = 
@LogDate856[DateTime] = 2020/8/7 18:19:37
@UserCode857[String] = 500000
@UserIP858[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 18:19:37
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode859,@PlanTime860,@Remark861,@SiteCode862,@Type863,@ProjectId864);select scope_identity()	
Parameters:
@ComponentCode859[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB_000
@PlanTime860[DateTime] = 2020/8/21 0:00:00
@Remark861[String] = 
@SiteCode862[String] = undefined
@Type863[Int32] = 1
@ProjectId864[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:19:39
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode865) AND ([TbModelOtherInfo].[Type] = @Type866) 	
Parameters:
@ComponentCode865[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_001
@Type866[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 18:19:39
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu867,@ActionType868,@HostName869,@LogDate870,@UserCode871,@UserIP872);select scope_identity()	
Parameters:
@ActionMenu867[String] = TbModelOtherInfo
@ActionType868[String] = 新增
@HostName869[String] = 
@LogDate870[DateTime] = 2020/8/7 18:19:39
@UserCode871[String] = 500000
@UserIP872[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-07 18:19:39
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode873,@PlanTime874,@Remark875,@SiteCode876,@Type877,@ProjectId878);select scope_identity()	
Parameters:
@ComponentCode873[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_001
@PlanTime874[DateTime] = 2020/8/20 0:00:00
@Remark875[String] = 
@SiteCode876[String] = undefined
@Type877[Int32] = 2
@ProjectId878[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:19:44
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId879) 	
Parameters:
@MxGjId879[String] = 4e8fee44-60f3-437e-adc1-a7a703d4593d


-----------------------------------------------------------------------------
2020-08-07 18:19:44
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode880)) AND ([TbModelOtherInfo].[Type] = @Type881) 	
Parameters:
@ComponentCode880[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB_000
@Type881[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 18:19:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:19:58
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId882) AND ([TbModelOrg].[SiteCode] IN (@SiteCode883))) 	
Parameters:
@ProjectId882[String] = 6372912251695766465
@SiteCode883[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:20:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:20:23
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId884) AND ([TbModelOrg].[SiteCode] IN (@SiteCode885))) 	
Parameters:
@ProjectId884[String] = 6372912251695766465
@SiteCode885[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:21:27
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 18:21:27
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 18:21:27
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:21:28
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:21:28
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type886) AND ([TbOrganizationMap].[ProjectId] = @ProjectId887)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode888,@CompanyCode889,@CompanyCode890,@CompanyCode891,@CompanyCode892,@CompanyCode893,@CompanyCode894,@CompanyCode895)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode896))) 	
Parameters:
@Type886[Int32] = 1
@ProjectId887[String] = 6372912251695766465
@CompanyCode888[String] = 6373083923489249281
@CompanyCode889[String] = 6373083925531366080
@CompanyCode890[String] = 6373083927883400612
@CompanyCode891[String] = 6373083918575368225
@CompanyCode892[String] = 6373083920445075162
@CompanyCode893[String] = 6373083908618598731
@CompanyCode894[String] = 6373083911842783146
@CompanyCode895[String] = 6373083913928202424
@ParentCompanyCode896[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 18:21:28
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:21:28
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type897) AND ([TbOrganizationMap].[ProjectId] = @ProjectId898)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode899,@CompanyCode900,@CompanyCode901,@CompanyCode902,@CompanyCode903,@CompanyCode904,@CompanyCode905,@CompanyCode906)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode907))) 	
Parameters:
@Type897[Int32] = 2
@ProjectId898[String] = 6372912251695766465
@CompanyCode899[String] = 6373083923489249281
@CompanyCode900[String] = 6373083925531366080
@CompanyCode901[String] = 6373083927883400612
@CompanyCode902[String] = 6373083918575368225
@CompanyCode903[String] = 6373083920445075162
@CompanyCode904[String] = 6373083908618598731
@CompanyCode905[String] = 6373083911842783146
@CompanyCode906[String] = 6373083913928202424
@ParentCompanyCode907[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 18:21:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 18:21:28
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:21:28
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode935)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId908) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode909,@SiteCode910,@SiteCode911,@SiteCode912,@SiteCode913,@SiteCode914,@SiteCode915,@SiteCode916,@SiteCode917,@SiteCode918,@SiteCode919,@SiteCode920,@SiteCode921,@SiteCode922,@SiteCode923,@SiteCode924,@SiteCode925,@SiteCode926,@SiteCode927,@SiteCode928,@SiteCode929,@SiteCode930,@SiteCode931,@SiteCode932,@SiteCode933,@SiteCode934)))	
Parameters:
@ProjectId908[String] = 6372912251695766465
@SiteCode909[String] = 6373083923489249281
@SiteCode910[String] = 6373083925531366080
@SiteCode911[String] = 6373083927883400612
@SiteCode912[String] = 6373083918575368225
@SiteCode913[String] = 6373083920445075162
@SiteCode914[String] = 6373083908618598731
@SiteCode915[String] = 6373083911842783146
@SiteCode916[String] = 6373083913928202424
@SiteCode917[String] = 6373083877551621804
@SiteCode918[String] = 6373083879921857377
@SiteCode919[String] = 6373083881542550067
@SiteCode920[String] = 6373083883689772886
@SiteCode921[String] = 6373083887136270013
@SiteCode922[String] = 6373083889697116488
@SiteCode923[String] = 6373083891969846476
@SiteCode924[String] = 6373083894422586761
@SiteCode925[String] = 6373083897509963358
@SiteCode926[String] = 6373083900444931227
@SiteCode927[String] = 6373083829464571372
@SiteCode928[String] = 6373083833327492328
@SiteCode929[String] = 6373083841964286321
@SiteCode930[String] = 6373083844982558950
@SiteCode931[String] = 6373083847585007801
@SiteCode932[String] = 6373083856887939900
@SiteCode933[String] = 6373083859102666584
@SiteCode934[String] = 6373083864919499284
@FDictionaryCode935[String] = OrderState
@FDictionaryCode936[String] = UrgentDegree
@FDictionaryCode937[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 18:21:28
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode936) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode937) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode935)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId908) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode909,@SiteCode910,@SiteCode911,@SiteCode912,@SiteCode913,@SiteCode914,@SiteCode915,@SiteCode916,@SiteCode917,@SiteCode918,@SiteCode919,@SiteCode920,@SiteCode921,@SiteCode922,@SiteCode923,@SiteCode924,@SiteCode925,@SiteCode926,@SiteCode927,@SiteCode928,@SiteCode929,@SiteCode930,@SiteCode931,@SiteCode932,@SiteCode933,@SiteCode934))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId908[String] = 6372912251695766465
@SiteCode909[String] = 6373083923489249281
@SiteCode910[String] = 6373083925531366080
@SiteCode911[String] = 6373083927883400612
@SiteCode912[String] = 6373083918575368225
@SiteCode913[String] = 6373083920445075162
@SiteCode914[String] = 6373083908618598731
@SiteCode915[String] = 6373083911842783146
@SiteCode916[String] = 6373083913928202424
@SiteCode917[String] = 6373083877551621804
@SiteCode918[String] = 6373083879921857377
@SiteCode919[String] = 6373083881542550067
@SiteCode920[String] = 6373083883689772886
@SiteCode921[String] = 6373083887136270013
@SiteCode922[String] = 6373083889697116488
@SiteCode923[String] = 6373083891969846476
@SiteCode924[String] = 6373083894422586761
@SiteCode925[String] = 6373083897509963358
@SiteCode926[String] = 6373083900444931227
@SiteCode927[String] = 6373083829464571372
@SiteCode928[String] = 6373083833327492328
@SiteCode929[String] = 6373083841964286321
@SiteCode930[String] = 6373083844982558950
@SiteCode931[String] = 6373083847585007801
@SiteCode932[String] = 6373083856887939900
@SiteCode933[String] = 6373083859102666584
@SiteCode934[String] = 6373083864919499284
@FDictionaryCode935[String] = OrderState
@FDictionaryCode936[String] = UrgentDegree
@FDictionaryCode937[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 18:21:29
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 18:21:29
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 18:21:29
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 18:21:29
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 18:21:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:21:33
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId938) AND ([TbModelOrg].[SiteCode] IN (@SiteCode939))) 	
Parameters:
@ProjectId938[String] = 6372912251695766465
@SiteCode939[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-07 18:21:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:21:39
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId940) AND ([TbModelOrg].[SiteCode] IN (@SiteCode941))) 	
Parameters:
@ProjectId940[String] = 6372912251695766465
@SiteCode941[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-07 18:21:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:21:43
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId942) AND ([TbModelOrg].[SiteCode] IN (@SiteCode943))) 	
Parameters:
@ProjectId942[String] = 6372912251695766465
@SiteCode943[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:21:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:21:52
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId944) AND ([TbModelOrg].[SiteCode] IN (@SiteCode945))) 	
Parameters:
@ProjectId944[String] = 6372912251695766465
@SiteCode945[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:24:47
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:27:27
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:27:43
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-07 18:27:44
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-07 18:27:44
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3,@CompanyCode4,@CompanyCode5,@CompanyCode6,@CompanyCode7,@CompanyCode8,@CompanyCode9,@CompanyCode10)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode11))) 	
Parameters:
@Type1[Int32] = 1
@ProjectId2[String] = 6372912251695766465
@CompanyCode3[String] = 6373083923489249281
@CompanyCode4[String] = 6373083925531366080
@CompanyCode5[String] = 6373083927883400612
@CompanyCode6[String] = 6373083918575368225
@CompanyCode7[String] = 6373083920445075162
@CompanyCode8[String] = 6373083908618598731
@CompanyCode9[String] = 6373083911842783146
@CompanyCode10[String] = 6373083913928202424
@ParentCompanyCode11[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type12) AND ([TbOrganizationMap].[ProjectId] = @ProjectId13)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode22))) 	
Parameters:
@Type12[Int32] = 2
@ProjectId13[String] = 6372912251695766465
@CompanyCode14[String] = 6373083923489249281
@CompanyCode15[String] = 6373083925531366080
@CompanyCode16[String] = 6373083927883400612
@CompanyCode17[String] = 6373083918575368225
@CompanyCode18[String] = 6373083920445075162
@CompanyCode19[String] = 6373083908618598731
@CompanyCode20[String] = 6373083911842783146
@CompanyCode21[String] = 6373083913928202424
@ParentCompanyCode22[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49)))	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode51) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode52) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-07 18:28:02
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-07 18:28:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:28:08
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId53) AND ([TbModelOrg].[SiteCode] IN (@SiteCode54))) 	
Parameters:
@ProjectId53[String] = 6372912251695766465
@SiteCode54[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:28:19
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm55,@MxGjBm56,@MxGjBm57,@MxGjBm58,@MxGjBm59,@MxGjBm60,@MxGjBm61,@MxGjBm62,@MxGjBm63,@MxGjBm64,@MxGjBm65,@MxGjBm66,@MxGjBm67,@MxGjBm68,@MxGjBm69,@MxGjBm70,@MxGjBm71,@MxGjBm72,@MxGjBm73,@MxGjBm74,@MxGjBm75,@MxGjBm76,@MxGjBm77,@MxGjBm78,@MxGjBm79,@MxGjBm80,@MxGjBm81,@MxGjBm82,@MxGjBm83,@MxGjBm84,@MxGjBm85,@MxGjBm86,@MxGjBm87,@MxGjBm88,@MxGjBm89,@MxGjBm90,@MxGjBm91,@MxGjBm92,@MxGjBm93,@MxGjBm94,@MxGjBm95,@MxGjBm96,@MxGjBm97,@MxGjBm98,@MxGjBm99,@MxGjBm100,@MxGjBm101,@MxGjBm102,@MxGjBm103,@MxGjBm104) 	
Parameters:
@MxGjBm55[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm56[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm57[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm58[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm59[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm60[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm61[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm62[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm63[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm64[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm65[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm66[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm67[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm68[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm69[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm70[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm71[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm72[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm73[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm74[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm75[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm76[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm77[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm78[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm79[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm80[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm81[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm82[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm83[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm84[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm85[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm86[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm87[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm88[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm89[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm90[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm91[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm92[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm93[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm94[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm95[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm96[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm97[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm98[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm99[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm100[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm101[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm102[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm103[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm104[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-07 18:28:19
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode105,@ComponentCode106,@ComponentCode107,@ComponentCode108,@ComponentCode109,@ComponentCode110,@ComponentCode111,@ComponentCode112,@ComponentCode113,@ComponentCode114,@ComponentCode115,@ComponentCode116,@ComponentCode117,@ComponentCode118,@ComponentCode119,@ComponentCode120,@ComponentCode121,@ComponentCode122,@ComponentCode123,@ComponentCode124,@ComponentCode125,@ComponentCode126,@ComponentCode127,@ComponentCode128,@ComponentCode129,@ComponentCode130,@ComponentCode131,@ComponentCode132,@ComponentCode133,@ComponentCode134,@ComponentCode135,@ComponentCode136,@ComponentCode137,@ComponentCode138,@ComponentCode139,@ComponentCode140,@ComponentCode141,@ComponentCode142,@ComponentCode143,@ComponentCode144,@ComponentCode145,@ComponentCode146,@ComponentCode147,@ComponentCode148,@ComponentCode149,@ComponentCode150,@ComponentCode151,@ComponentCode152,@ComponentCode153,@ComponentCode154)) AND ([TbModelOtherInfo].[Type] = @Type155) 	
Parameters:
@ComponentCode105[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_124
@ComponentCode106[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_353
@ComponentCode107[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_099
@ComponentCode108[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008
@ComponentCode109[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB_000
@ComponentCode110[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_006
@ComponentCode111[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ_489
@ComponentCode112[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL_416
@ComponentCode113[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL_031
@ComponentCode114[String] = L21_Z08_SBZX_OT_OT_LG_LG_011
@ComponentCode115[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL_001
@ComponentCode116[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_373
@ComponentCode117[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ_029
@ComponentCode118[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST_003
@ComponentCode119[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ_004
@ComponentCode120[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC_003
@ComponentCode121[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB_018
@ComponentCode122[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX_316
@ComponentCode123[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_394
@ComponentCode124[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS_051
@ComponentCode125[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ_024
@ComponentCode126[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX_062
@ComponentCode127[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX_113
@ComponentCode128[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS_005
@ComponentCode129[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS_033
@ComponentCode130[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_039
@ComponentCode131[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS_000
@ComponentCode132[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC_000
@ComponentCode133[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG_993
@ComponentCode134[String] = L21_Z08_00QT_QT_QT_GL_SG--1_435
@ComponentCode135[String] = L21_Z08_00QT_QT_QT_GL_SG--2_098
@ComponentCode136[String] = L21_Z08_00QT_QT_QT_GL_SG--2_105
@ComponentCode137[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3_001
@ComponentCode138[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2_001
@ComponentCode139[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1_001
@ComponentCode140[String] = L21_Z08_00QT_QT_QT_GL_SG--1_121
@ComponentCode141[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2_000
@ComponentCode142[String] = L21_Z08_00GS_PS_PS_SG_SG--3_101
@ComponentCode143[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A_001
@ComponentCode144[String] = L21_Z08_00GS_PS_PS_SG_SG--3_067
@ComponentCode145[String] = L21_Z08_00GS_PS_PS_SG_SG--3_143
@ComponentCode146[String] = L21_Z08_00GS_PS_PS_SG_SG--3_050
@ComponentCode147[String] = L21_Z08_00GS_PS_PS_SG_SG--3_076
@ComponentCode148[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1_000
@ComponentCode149[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8_001
@ComponentCode150[String] = L21_Z08_00GS_XF_XF_SG_SG--3_170
@ComponentCode151[String] = L21_Z08_00GS_GS_GS_SG_SG--3_101
@ComponentCode152[String] = L21_Z08_00GS_GS_GS_SG_SG--3_105
@ComponentCode153[String] = L21_Z08_00GS_GS_GS_SG_SG--3_193
@ComponentCode154[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3_001
@Type155[Int32] = 1


-----------------------------------------------------------------------------
2020-08-07 18:29:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:29:19
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId156) AND ([TbModelOrg].[SiteCode] IN (@SiteCode157))) 	
Parameters:
@ProjectId156[String] = 6372912251695766465
@SiteCode157[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:29:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:29:44
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId158) AND ([TbModelOrg].[SiteCode] IN (@SiteCode159))) 	
Parameters:
@ProjectId158[String] = 6372912251695766465
@SiteCode159[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:30:09
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId160,@MxGjId161,@MxGjId162,@MxGjId163,@MxGjId164,@MxGjId165,@MxGjId166,@MxGjId167,@MxGjId168,@MxGjId169) 	
Parameters:
@MxGjId160[String] = 4e8fee44-60f3-437e-adc1-a7a703d45841
@MxGjId161[String] = 4e8fee44-60f3-437e-adc1-a7a703d45843
@MxGjId162[String] = 4e8fee44-60f3-437e-adc1-a7a703d45845
@MxGjId163[String] = 4e8fee44-60f3-437e-adc1-a7a703d45847
@MxGjId164[String] = 4e8fee44-60f3-437e-adc1-a7a703d45849
@MxGjId165[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584b
@MxGjId166[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584d
@MxGjId167[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584f
@MxGjId168[String] = 4e8fee44-60f3-437e-adc1-a7a703d45859
@MxGjId169[String] = 4e8fee44-60f3-437e-adc1-a7a703d4585b


-----------------------------------------------------------------------------
2020-08-07 18:30:09
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode170,@ComponentCode171,@ComponentCode172,@ComponentCode173,@ComponentCode174,@ComponentCode175,@ComponentCode176,@ComponentCode177,@ComponentCode178,@ComponentCode179)) AND ([TbModelOtherInfo].[Type] = @Type180) 	
Parameters:
@ComponentCode170[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_007
@ComponentCode171[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_006
@ComponentCode172[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_009
@ComponentCode173[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_008
@ComponentCode174[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_003
@ComponentCode175[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_002
@ComponentCode176[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_005
@ComponentCode177[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_004
@ComponentCode178[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_011
@ComponentCode179[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_010
@Type180[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 18:30:26
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId181,@MxGjId182,@MxGjId183,@MxGjId184,@MxGjId185,@MxGjId186,@MxGjId187,@MxGjId188,@MxGjId189,@MxGjId190) 	
Parameters:
@MxGjId181[String] = 4e8fee44-60f3-437e-adc1-a7a703d78b80
@MxGjId182[String] = 4e8fee44-60f3-437e-adc1-a7a703d78b81
@MxGjId183[String] = 4e8fee44-60f3-437e-adc1-a7a703d78b82
@MxGjId184[String] = 4e8fee44-60f3-437e-adc1-a7a703d78b83
@MxGjId185[String] = 4e8fee44-60f3-437e-adc1-a7a703d78b84
@MxGjId186[String] = 4e8fee44-60f3-437e-adc1-a7a703d78b85
@MxGjId187[String] = 4e8fee44-60f3-437e-adc1-a7a703d78b86
@MxGjId188[String] = 4e8fee44-60f3-437e-adc1-a7a703d78b87
@MxGjId189[String] = 4e8fee44-60f3-437e-adc1-a7a703d78b88
@MxGjId190[String] = 4e8fee44-60f3-437e-adc1-a7a703d78b89


-----------------------------------------------------------------------------
2020-08-07 18:30:26
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode191,@ComponentCode192,@ComponentCode193,@ComponentCode194,@ComponentCode195,@ComponentCode196,@ComponentCode197,@ComponentCode198,@ComponentCode199,@ComponentCode200)) AND ([TbModelOtherInfo].[Type] = @Type201) 	
Parameters:
@ComponentCode191[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_092
@ComponentCode192[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_093
@ComponentCode193[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_090
@ComponentCode194[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_091
@ComponentCode195[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_096
@ComponentCode196[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_097
@ComponentCode197[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_094
@ComponentCode198[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_095
@ComponentCode199[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_084
@ComponentCode200[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS_085
@Type201[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 18:30:43
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:30:52
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId202,@MxGjId203,@MxGjId204,@MxGjId205) 	
Parameters:
@MxGjId202[String] = 4e8fee44-60f3-437e-adc1-a7a703d78210
@MxGjId203[String] = 4e8fee44-60f3-437e-adc1-a7a703d78268
@MxGjId204[String] = 4e8fee44-60f3-437e-adc1-a7a703d7827a
@MxGjId205[String] = 4e8fee44-60f3-437e-adc1-a7a703d7827f


-----------------------------------------------------------------------------
2020-08-07 18:30:52
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode206,@ComponentCode207,@ComponentCode208,@ComponentCode209)) AND ([TbModelOtherInfo].[Type] = @Type210) 	
Parameters:
@ComponentCode206[String] = L21_Z08_SBZX_OT_OT_LG_LG_008
@ComponentCode207[String] = L21_Z08_SBZX_OT_OT_LG_LG_009
@ComponentCode208[String] = L21_Z08_SBZX_OT_OT_LG_LG_010
@ComponentCode209[String] = L21_Z08_SBZX_OT_OT_LG_LG_011
@Type210[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 18:31:10
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId211,@MxGjId212,@MxGjId213,@MxGjId214) 	
Parameters:
@MxGjId211[String] = 4e8fee44-60f3-437e-adc1-a7a703d78210
@MxGjId212[String] = 4e8fee44-60f3-437e-adc1-a7a703d78268
@MxGjId213[String] = 4e8fee44-60f3-437e-adc1-a7a703d7827a
@MxGjId214[String] = 4e8fee44-60f3-437e-adc1-a7a703d7827f


-----------------------------------------------------------------------------
2020-08-07 18:31:10
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode215,@ComponentCode216,@ComponentCode217,@ComponentCode218)) AND ([TbModelOtherInfo].[Type] = @Type219) 	
Parameters:
@ComponentCode215[String] = L21_Z08_SBZX_OT_OT_LG_LG_008
@ComponentCode216[String] = L21_Z08_SBZX_OT_OT_LG_LG_009
@ComponentCode217[String] = L21_Z08_SBZX_OT_OT_LG_LG_010
@ComponentCode218[String] = L21_Z08_SBZX_OT_OT_LG_LG_011
@Type219[Int32] = 2


-----------------------------------------------------------------------------
2020-08-07 18:31:18
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-07 18:31:18
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId220) AND ([TbModelOrg].[SiteCode] IN (@SiteCode221))) 	
Parameters:
@ProjectId220[String] = 6372912251695766465
@SiteCode221[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-07 18:33:53
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-07 18:36:43
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
