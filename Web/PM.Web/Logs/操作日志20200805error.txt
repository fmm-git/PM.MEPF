2020-08-05 09:18:12
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-05 09:18:13
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 09:18:13
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 09:18:13
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-05 09:18:13
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 09:18:13
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = 
@LogDate7[DateTime] = 2020/8/5 9:18:13
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-05 09:18:15
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 09:18:15
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 09:18:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 09:18:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type10) 	
Parameters:
@Type10[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 09:18:16
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type11) 	
Parameters:
@Type11[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 09:18:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 09:18:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 09:18:16
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38)))	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 09:18:16
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode40) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode41) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 09:18:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 09:18:17
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 09:18:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 09:18:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 09:18:29
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 09:18:30
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 09:18:30
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 09:18:30
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 09:18:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 09:18:30
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId42) AND ([TbModelOrg].[SiteCode] IN (@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68))) 	
Parameters:
@ProjectId42[String] = 6372912251695766465
@SiteCode43[String] = 6373083923489249281
@SiteCode44[String] = 6373083925531366080
@SiteCode45[String] = 6373083927883400612
@SiteCode46[String] = 6373083918575368225
@SiteCode47[String] = 6373083920445075162
@SiteCode48[String] = 6373083908618598731
@SiteCode49[String] = 6373083911842783146
@SiteCode50[String] = 6373083913928202424
@SiteCode51[String] = 6373083877551621804
@SiteCode52[String] = 6373083879921857377
@SiteCode53[String] = 6373083881542550067
@SiteCode54[String] = 6373083883689772886
@SiteCode55[String] = 6373083887136270013
@SiteCode56[String] = 6373083889697116488
@SiteCode57[String] = 6373083891969846476
@SiteCode58[String] = 6373083894422586761
@SiteCode59[String] = 6373083897509963358
@SiteCode60[String] = 6373083900444931227
@SiteCode61[String] = 6373083829464571372
@SiteCode62[String] = 6373083833327492328
@SiteCode63[String] = 6373083841964286321
@SiteCode64[String] = 6373083844982558950
@SiteCode65[String] = 6373083847585007801
@SiteCode66[String] = 6373083856887939900
@SiteCode67[String] = 6373083859102666584
@SiteCode68[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 09:19:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 09:19:37
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 09:19:37
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId69) AND ([TbModelOrg].[SiteCode] IN (@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95))) 	
Parameters:
@ProjectId69[String] = 6372912251695766465
@SiteCode70[String] = 6373083923489249281
@SiteCode71[String] = 6373083925531366080
@SiteCode72[String] = 6373083927883400612
@SiteCode73[String] = 6373083918575368225
@SiteCode74[String] = 6373083920445075162
@SiteCode75[String] = 6373083908618598731
@SiteCode76[String] = 6373083911842783146
@SiteCode77[String] = 6373083913928202424
@SiteCode78[String] = 6373083877551621804
@SiteCode79[String] = 6373083879921857377
@SiteCode80[String] = 6373083881542550067
@SiteCode81[String] = 6373083883689772886
@SiteCode82[String] = 6373083887136270013
@SiteCode83[String] = 6373083889697116488
@SiteCode84[String] = 6373083891969846476
@SiteCode85[String] = 6373083894422586761
@SiteCode86[String] = 6373083897509963358
@SiteCode87[String] = 6373083900444931227
@SiteCode88[String] = 6373083829464571372
@SiteCode89[String] = 6373083833327492328
@SiteCode90[String] = 6373083841964286321
@SiteCode91[String] = 6373083844982558950
@SiteCode92[String] = 6373083847585007801
@SiteCode93[String] = 6373083856887939900
@SiteCode94[String] = 6373083859102666584
@SiteCode95[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 09:19:37
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 09:19:37
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 09:19:37
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 09:21:14
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 09:23:06
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 09:23:06
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 09:23:06
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 09:23:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type1) 	
Parameters:
@Type1[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 09:23:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type2) 	
Parameters:
@Type2[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 09:23:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 09:23:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 09:23:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 09:23:08
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29)))	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 09:23:08
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode31) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 09:23:08
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 09:23:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 09:23:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 09:23:17
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 09:23:17
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 09:23:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 09:23:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 09:23:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 09:23:17
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId33) AND ([TbModelOrg].[SiteCode] IN (@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59))) 	
Parameters:
@ProjectId33[String] = 6372912251695766465
@SiteCode34[String] = 6373083923489249281
@SiteCode35[String] = 6373083925531366080
@SiteCode36[String] = 6373083927883400612
@SiteCode37[String] = 6373083918575368225
@SiteCode38[String] = 6373083920445075162
@SiteCode39[String] = 6373083908618598731
@SiteCode40[String] = 6373083911842783146
@SiteCode41[String] = 6373083913928202424
@SiteCode42[String] = 6373083877551621804
@SiteCode43[String] = 6373083879921857377
@SiteCode44[String] = 6373083881542550067
@SiteCode45[String] = 6373083883689772886
@SiteCode46[String] = 6373083887136270013
@SiteCode47[String] = 6373083889697116488
@SiteCode48[String] = 6373083891969846476
@SiteCode49[String] = 6373083894422586761
@SiteCode50[String] = 6373083897509963358
@SiteCode51[String] = 6373083900444931227
@SiteCode52[String] = 6373083829464571372
@SiteCode53[String] = 6373083833327492328
@SiteCode54[String] = 6373083841964286321
@SiteCode55[String] = 6373083844982558950
@SiteCode56[String] = 6373083847585007801
@SiteCode57[String] = 6373083856887939900
@SiteCode58[String] = 6373083859102666584
@SiteCode59[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 09:23:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 09:23:59
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 09:23:59
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 09:23:59
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 09:23:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 09:23:59
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId60) AND ([TbModelOrg].[SiteCode] IN (@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86))) 	
Parameters:
@ProjectId60[String] = 6372912251695766465
@SiteCode61[String] = 6373083923489249281
@SiteCode62[String] = 6373083925531366080
@SiteCode63[String] = 6373083927883400612
@SiteCode64[String] = 6373083918575368225
@SiteCode65[String] = 6373083920445075162
@SiteCode66[String] = 6373083908618598731
@SiteCode67[String] = 6373083911842783146
@SiteCode68[String] = 6373083913928202424
@SiteCode69[String] = 6373083877551621804
@SiteCode70[String] = 6373083879921857377
@SiteCode71[String] = 6373083881542550067
@SiteCode72[String] = 6373083883689772886
@SiteCode73[String] = 6373083887136270013
@SiteCode74[String] = 6373083889697116488
@SiteCode75[String] = 6373083891969846476
@SiteCode76[String] = 6373083894422586761
@SiteCode77[String] = 6373083897509963358
@SiteCode78[String] = 6373083900444931227
@SiteCode79[String] = 6373083829464571372
@SiteCode80[String] = 6373083833327492328
@SiteCode81[String] = 6373083841964286321
@SiteCode82[String] = 6373083844982558950
@SiteCode83[String] = 6373083847585007801
@SiteCode84[String] = 6373083856887939900
@SiteCode85[String] = 6373083859102666584
@SiteCode86[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 09:28:12
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  	


-----------------------------------------------------------------------------
2020-08-05 09:28:12
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 09:28:12
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path87,@ProjectId88,@SiteCode89,@Type90)	
Parameters:
@Path87[String] = /tmp2459.tmp.db
@ProjectId88[String] = 
@SiteCode89[String] = 
@Type90[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 09:29:07
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 09:32:07
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:27:03
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-05 10:27:03
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 10:27:03
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 10:27:03
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-05 10:27:03
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 10:27:03
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = 
@LogDate7[DateTime] = 2020/8/5 10:27:03
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-05 10:27:05
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 10:27:05
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 10:27:05
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:27:06
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type10) 	
Parameters:
@Type10[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 10:27:06
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type11) 	
Parameters:
@Type11[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 10:27:06
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 10:27:06
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:27:06
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38)))	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 10:27:06
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode40) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode41) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 10:27:07
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 10:27:07
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:27:07
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:27:07
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:27:11
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 10:27:12
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:27:12
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:27:12
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:27:12
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:27:12
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId42) AND ([TbModelOrg].[SiteCode] IN (@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68))) 	
Parameters:
@ProjectId42[String] = 6372912251695766465
@SiteCode43[String] = 6373083923489249281
@SiteCode44[String] = 6373083925531366080
@SiteCode45[String] = 6373083927883400612
@SiteCode46[String] = 6373083918575368225
@SiteCode47[String] = 6373083920445075162
@SiteCode48[String] = 6373083908618598731
@SiteCode49[String] = 6373083911842783146
@SiteCode50[String] = 6373083913928202424
@SiteCode51[String] = 6373083877551621804
@SiteCode52[String] = 6373083879921857377
@SiteCode53[String] = 6373083881542550067
@SiteCode54[String] = 6373083883689772886
@SiteCode55[String] = 6373083887136270013
@SiteCode56[String] = 6373083889697116488
@SiteCode57[String] = 6373083891969846476
@SiteCode58[String] = 6373083894422586761
@SiteCode59[String] = 6373083897509963358
@SiteCode60[String] = 6373083900444931227
@SiteCode61[String] = 6373083829464571372
@SiteCode62[String] = 6373083833327492328
@SiteCode63[String] = 6373083841964286321
@SiteCode64[String] = 6373083844982558950
@SiteCode65[String] = 6373083847585007801
@SiteCode66[String] = 6373083856887939900
@SiteCode67[String] = 6373083859102666584
@SiteCode68[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 10:35:50
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  	


-----------------------------------------------------------------------------
2020-08-05 10:35:50
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu69,@ActionType70,@HostName71,@LogDate72,@UserCode73,@UserIP74);select scope_identity()	
Parameters:
@ActionMenu69[String] = TbModelOrg
@ActionType70[String] = 新增
@HostName71[String] = 
@LogDate72[DateTime] = 2020/8/5 10:35:50
@UserCode73[String] = 500000
@UserIP74[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-05 10:35:50
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path75,@ProjectId76,@SiteCode77,@Type78)	
Parameters:
@Path75[String] = /tmp2459.tmp.db
@ProjectId76[String] = 
@SiteCode77[String] = 
@Type78[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 10:35:50
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:35:51
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:36:04
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:37:25
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:37:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:37:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:37:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:37:25
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1) AND ([TbModelOrg].[SiteCode] IN (@SiteCode2,@SiteCode3,@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27))) 	
Parameters:
@ProjectId1[String] = 6372912251695766465
@SiteCode2[String] = 6373083923489249281
@SiteCode3[String] = 6373083925531366080
@SiteCode4[String] = 6373083927883400612
@SiteCode5[String] = 6373083918575368225
@SiteCode6[String] = 6373083920445075162
@SiteCode7[String] = 6373083908618598731
@SiteCode8[String] = 6373083911842783146
@SiteCode9[String] = 6373083913928202424
@SiteCode10[String] = 6373083877551621804
@SiteCode11[String] = 6373083879921857377
@SiteCode12[String] = 6373083881542550067
@SiteCode13[String] = 6373083883689772886
@SiteCode14[String] = 6373083887136270013
@SiteCode15[String] = 6373083889697116488
@SiteCode16[String] = 6373083891969846476
@SiteCode17[String] = 6373083894422586761
@SiteCode18[String] = 6373083897509963358
@SiteCode19[String] = 6373083900444931227
@SiteCode20[String] = 6373083829464571372
@SiteCode21[String] = 6373083833327492328
@SiteCode22[String] = 6373083841964286321
@SiteCode23[String] = 6373083844982558950
@SiteCode24[String] = 6373083847585007801
@SiteCode25[String] = 6373083856887939900
@SiteCode26[String] = 6373083859102666584
@SiteCode27[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 10:37:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 10:37:33
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:37:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:37:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:37:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:37:33
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId28) AND ([TbModelOrg].[SiteCode] IN (@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54))) 	
Parameters:
@ProjectId28[String] = 6372912251695766465
@SiteCode29[String] = 6373083923489249281
@SiteCode30[String] = 6373083925531366080
@SiteCode31[String] = 6373083927883400612
@SiteCode32[String] = 6373083918575368225
@SiteCode33[String] = 6373083920445075162
@SiteCode34[String] = 6373083908618598731
@SiteCode35[String] = 6373083911842783146
@SiteCode36[String] = 6373083913928202424
@SiteCode37[String] = 6373083877551621804
@SiteCode38[String] = 6373083879921857377
@SiteCode39[String] = 6373083881542550067
@SiteCode40[String] = 6373083883689772886
@SiteCode41[String] = 6373083887136270013
@SiteCode42[String] = 6373083889697116488
@SiteCode43[String] = 6373083891969846476
@SiteCode44[String] = 6373083894422586761
@SiteCode45[String] = 6373083897509963358
@SiteCode46[String] = 6373083900444931227
@SiteCode47[String] = 6373083829464571372
@SiteCode48[String] = 6373083833327492328
@SiteCode49[String] = 6373083841964286321
@SiteCode50[String] = 6373083844982558950
@SiteCode51[String] = 6373083847585007801
@SiteCode52[String] = 6373083856887939900
@SiteCode53[String] = 6373083859102666584
@SiteCode54[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 10:38:06
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE ([TbModelOrg].[ProjectId] = @ProjectId55) 	
Parameters:
@ProjectId55[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:38:06
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path56,@ProjectId57,@SiteCode58,@Type59)	
Parameters:
@Path56[String] = /tmp2459.tmp.db
@ProjectId57[String] = 6372912251695766465
@SiteCode58[String] = 
@Type59[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 10:38:44
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:38:44
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:38:44
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:38:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:38:44
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId60) AND ([TbModelOrg].[SiteCode] IN (@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86))) 	
Parameters:
@ProjectId60[String] = 6372912251695766465
@SiteCode61[String] = 6373083923489249281
@SiteCode62[String] = 6373083925531366080
@SiteCode63[String] = 6373083927883400612
@SiteCode64[String] = 6373083918575368225
@SiteCode65[String] = 6373083920445075162
@SiteCode66[String] = 6373083908618598731
@SiteCode67[String] = 6373083911842783146
@SiteCode68[String] = 6373083913928202424
@SiteCode69[String] = 6373083877551621804
@SiteCode70[String] = 6373083879921857377
@SiteCode71[String] = 6373083881542550067
@SiteCode72[String] = 6373083883689772886
@SiteCode73[String] = 6373083887136270013
@SiteCode74[String] = 6373083889697116488
@SiteCode75[String] = 6373083891969846476
@SiteCode76[String] = 6373083894422586761
@SiteCode77[String] = 6373083897509963358
@SiteCode78[String] = 6373083900444931227
@SiteCode79[String] = 6373083829464571372
@SiteCode80[String] = 6373083833327492328
@SiteCode81[String] = 6373083841964286321
@SiteCode82[String] = 6373083844982558950
@SiteCode83[String] = 6373083847585007801
@SiteCode84[String] = 6373083856887939900
@SiteCode85[String] = 6373083859102666584
@SiteCode86[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 10:38:47
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 10:38:47
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:38:47
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:38:47
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:38:47
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:38:47
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId87) AND ([TbModelOrg].[SiteCode] IN (@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113))) 	
Parameters:
@ProjectId87[String] = 6372912251695766465
@SiteCode88[String] = 6373083923489249281
@SiteCode89[String] = 6373083925531366080
@SiteCode90[String] = 6373083927883400612
@SiteCode91[String] = 6373083918575368225
@SiteCode92[String] = 6373083920445075162
@SiteCode93[String] = 6373083908618598731
@SiteCode94[String] = 6373083911842783146
@SiteCode95[String] = 6373083913928202424
@SiteCode96[String] = 6373083877551621804
@SiteCode97[String] = 6373083879921857377
@SiteCode98[String] = 6373083881542550067
@SiteCode99[String] = 6373083883689772886
@SiteCode100[String] = 6373083887136270013
@SiteCode101[String] = 6373083889697116488
@SiteCode102[String] = 6373083891969846476
@SiteCode103[String] = 6373083894422586761
@SiteCode104[String] = 6373083897509963358
@SiteCode105[String] = 6373083900444931227
@SiteCode106[String] = 6373083829464571372
@SiteCode107[String] = 6373083833327492328
@SiteCode108[String] = 6373083841964286321
@SiteCode109[String] = 6373083844982558950
@SiteCode110[String] = 6373083847585007801
@SiteCode111[String] = 6373083856887939900
@SiteCode112[String] = 6373083859102666584
@SiteCode113[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 10:39:07
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE ([TbModelOrg].[ProjectId] = @ProjectId114) 	
Parameters:
@ProjectId114[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:39:07
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:39:07
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path115,@ProjectId116,@SiteCode117,@Type118)	
Parameters:
@Path115[String] = /tmp2459.tmp.db
@ProjectId116[String] = 6372912251695766465
@SiteCode117[String] = 
@Type118[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 10:40:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 10:40:25
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:40:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:40:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:40:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:40:25
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId119) AND ([TbModelOrg].[SiteCode] IN (@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132,@SiteCode133,@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145))) 	
Parameters:
@ProjectId119[String] = 6372912251695766465
@SiteCode120[String] = 6373083923489249281
@SiteCode121[String] = 6373083925531366080
@SiteCode122[String] = 6373083927883400612
@SiteCode123[String] = 6373083918575368225
@SiteCode124[String] = 6373083920445075162
@SiteCode125[String] = 6373083908618598731
@SiteCode126[String] = 6373083911842783146
@SiteCode127[String] = 6373083913928202424
@SiteCode128[String] = 6373083877551621804
@SiteCode129[String] = 6373083879921857377
@SiteCode130[String] = 6373083881542550067
@SiteCode131[String] = 6373083883689772886
@SiteCode132[String] = 6373083887136270013
@SiteCode133[String] = 6373083889697116488
@SiteCode134[String] = 6373083891969846476
@SiteCode135[String] = 6373083894422586761
@SiteCode136[String] = 6373083897509963358
@SiteCode137[String] = 6373083900444931227
@SiteCode138[String] = 6373083829464571372
@SiteCode139[String] = 6373083833327492328
@SiteCode140[String] = 6373083841964286321
@SiteCode141[String] = 6373083844982558950
@SiteCode142[String] = 6373083847585007801
@SiteCode143[String] = 6373083856887939900
@SiteCode144[String] = 6373083859102666584
@SiteCode145[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 10:41:04
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 10:41:04
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:41:04
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:41:04
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:41:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:41:04
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId146) AND ([TbModelOrg].[SiteCode] IN (@SiteCode147,@SiteCode148,@SiteCode149,@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172))) 	
Parameters:
@ProjectId146[String] = 6372912251695766465
@SiteCode147[String] = 6373083923489249281
@SiteCode148[String] = 6373083925531366080
@SiteCode149[String] = 6373083927883400612
@SiteCode150[String] = 6373083918575368225
@SiteCode151[String] = 6373083920445075162
@SiteCode152[String] = 6373083908618598731
@SiteCode153[String] = 6373083911842783146
@SiteCode154[String] = 6373083913928202424
@SiteCode155[String] = 6373083877551621804
@SiteCode156[String] = 6373083879921857377
@SiteCode157[String] = 6373083881542550067
@SiteCode158[String] = 6373083883689772886
@SiteCode159[String] = 6373083887136270013
@SiteCode160[String] = 6373083889697116488
@SiteCode161[String] = 6373083891969846476
@SiteCode162[String] = 6373083894422586761
@SiteCode163[String] = 6373083897509963358
@SiteCode164[String] = 6373083900444931227
@SiteCode165[String] = 6373083829464571372
@SiteCode166[String] = 6373083833327492328
@SiteCode167[String] = 6373083841964286321
@SiteCode168[String] = 6373083844982558950
@SiteCode169[String] = 6373083847585007801
@SiteCode170[String] = 6373083856887939900
@SiteCode171[String] = 6373083859102666584
@SiteCode172[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 10:42:12
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:42:22
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:42:22
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId173) AND ([TbModelOrg].[SiteCode] IN (@SiteCode174))) 	
Parameters:
@ProjectId173[String] = 6372912251695766465
@SiteCode174[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 10:45:04
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:46:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:46:54
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1) AND ([TbModelOrg].[SiteCode] IN (@SiteCode2))) 	
Parameters:
@ProjectId1[String] = 6372912251695766465
@SiteCode2[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 10:47:30
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 10:47:30
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 10:47:30
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:47:31
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type3) 	
Parameters:
@Type3[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 10:47:31
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type4) 	
Parameters:
@Type4[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 10:47:31
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 10:47:31
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 10:47:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:47:31
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId5) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31)))	
Parameters:
@ProjectId5[String] = 6372912251695766465
@SiteCode6[String] = 6373083923489249281
@SiteCode7[String] = 6373083925531366080
@SiteCode8[String] = 6373083927883400612
@SiteCode9[String] = 6373083918575368225
@SiteCode10[String] = 6373083920445075162
@SiteCode11[String] = 6373083908618598731
@SiteCode12[String] = 6373083911842783146
@SiteCode13[String] = 6373083913928202424
@SiteCode14[String] = 6373083877551621804
@SiteCode15[String] = 6373083879921857377
@SiteCode16[String] = 6373083881542550067
@SiteCode17[String] = 6373083883689772886
@SiteCode18[String] = 6373083887136270013
@SiteCode19[String] = 6373083889697116488
@SiteCode20[String] = 6373083891969846476
@SiteCode21[String] = 6373083894422586761
@SiteCode22[String] = 6373083897509963358
@SiteCode23[String] = 6373083900444931227
@SiteCode24[String] = 6373083829464571372
@SiteCode25[String] = 6373083833327492328
@SiteCode26[String] = 6373083841964286321
@SiteCode27[String] = 6373083844982558950
@SiteCode28[String] = 6373083847585007801
@SiteCode29[String] = 6373083856887939900
@SiteCode30[String] = 6373083859102666584
@SiteCode31[String] = 6373083864919499284
@FDictionaryCode32[String] = OrderState
@FDictionaryCode33[String] = UrgentDegree
@FDictionaryCode34[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 10:47:31
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode33) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode34) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId5) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId5[String] = 6372912251695766465
@SiteCode6[String] = 6373083923489249281
@SiteCode7[String] = 6373083925531366080
@SiteCode8[String] = 6373083927883400612
@SiteCode9[String] = 6373083918575368225
@SiteCode10[String] = 6373083920445075162
@SiteCode11[String] = 6373083908618598731
@SiteCode12[String] = 6373083911842783146
@SiteCode13[String] = 6373083913928202424
@SiteCode14[String] = 6373083877551621804
@SiteCode15[String] = 6373083879921857377
@SiteCode16[String] = 6373083881542550067
@SiteCode17[String] = 6373083883689772886
@SiteCode18[String] = 6373083887136270013
@SiteCode19[String] = 6373083889697116488
@SiteCode20[String] = 6373083891969846476
@SiteCode21[String] = 6373083894422586761
@SiteCode22[String] = 6373083897509963358
@SiteCode23[String] = 6373083900444931227
@SiteCode24[String] = 6373083829464571372
@SiteCode25[String] = 6373083833327492328
@SiteCode26[String] = 6373083841964286321
@SiteCode27[String] = 6373083844982558950
@SiteCode28[String] = 6373083847585007801
@SiteCode29[String] = 6373083856887939900
@SiteCode30[String] = 6373083859102666584
@SiteCode31[String] = 6373083864919499284
@FDictionaryCode32[String] = OrderState
@FDictionaryCode33[String] = UrgentDegree
@FDictionaryCode34[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 10:47:38
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:47:38
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:47:38
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:48:39
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 10:48:39
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:48:39
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:48:39
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:48:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:48:39
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1) AND ([TbModelOrg].[SiteCode] IN (@SiteCode2,@SiteCode3,@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27))) 	
Parameters:
@ProjectId1[String] = 6372912251695766465
@SiteCode2[String] = 6373083923489249281
@SiteCode3[String] = 6373083925531366080
@SiteCode4[String] = 6373083927883400612
@SiteCode5[String] = 6373083918575368225
@SiteCode6[String] = 6373083920445075162
@SiteCode7[String] = 6373083908618598731
@SiteCode8[String] = 6373083911842783146
@SiteCode9[String] = 6373083913928202424
@SiteCode10[String] = 6373083877551621804
@SiteCode11[String] = 6373083879921857377
@SiteCode12[String] = 6373083881542550067
@SiteCode13[String] = 6373083883689772886
@SiteCode14[String] = 6373083887136270013
@SiteCode15[String] = 6373083889697116488
@SiteCode16[String] = 6373083891969846476
@SiteCode17[String] = 6373083894422586761
@SiteCode18[String] = 6373083897509963358
@SiteCode19[String] = 6373083900444931227
@SiteCode20[String] = 6373083829464571372
@SiteCode21[String] = 6373083833327492328
@SiteCode22[String] = 6373083841964286321
@SiteCode23[String] = 6373083844982558950
@SiteCode24[String] = 6373083847585007801
@SiteCode25[String] = 6373083856887939900
@SiteCode26[String] = 6373083859102666584
@SiteCode27[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 10:48:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:48:48
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId28) AND ([TbModelOrg].[SiteCode] IN (@SiteCode29))) 	
Parameters:
@ProjectId28[String] = 6372912251695766465
@SiteCode29[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 10:49:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:49:30
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId30) AND ([TbModelOrg].[SiteCode] IN (@SiteCode31))) 	
Parameters:
@ProjectId30[String] = 6372912251695766465
@SiteCode31[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 10:50:48
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:51:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 10:51:09
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 10:51:09
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 10:51:09
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 10:51:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:51:09
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1) AND ([TbModelOrg].[SiteCode] IN (@SiteCode2,@SiteCode3,@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27))) 	
Parameters:
@ProjectId1[String] = 6372912251695766465
@SiteCode2[String] = 6373083923489249281
@SiteCode3[String] = 6373083925531366080
@SiteCode4[String] = 6373083927883400612
@SiteCode5[String] = 6373083918575368225
@SiteCode6[String] = 6373083920445075162
@SiteCode7[String] = 6373083908618598731
@SiteCode8[String] = 6373083911842783146
@SiteCode9[String] = 6373083913928202424
@SiteCode10[String] = 6373083877551621804
@SiteCode11[String] = 6373083879921857377
@SiteCode12[String] = 6373083881542550067
@SiteCode13[String] = 6373083883689772886
@SiteCode14[String] = 6373083887136270013
@SiteCode15[String] = 6373083889697116488
@SiteCode16[String] = 6373083891969846476
@SiteCode17[String] = 6373083894422586761
@SiteCode18[String] = 6373083897509963358
@SiteCode19[String] = 6373083900444931227
@SiteCode20[String] = 6373083829464571372
@SiteCode21[String] = 6373083833327492328
@SiteCode22[String] = 6373083841964286321
@SiteCode23[String] = 6373083844982558950
@SiteCode24[String] = 6373083847585007801
@SiteCode25[String] = 6373083856887939900
@SiteCode26[String] = 6373083859102666584
@SiteCode27[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 10:51:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 10:51:35
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId28) AND ([TbModelOrg].[SiteCode] IN (@SiteCode29))) 	
Parameters:
@ProjectId28[String] = 6372912251695766465
@SiteCode29[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 10:52:14
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path30,@ProjectId31,@SiteCode32,@Type33)	
Parameters:
@Path30[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId31[String] = 6372912251695766465
@SiteCode32[String] = 6373083829464571372
@Type33[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 10:53:30
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:56:30
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 10:59:30
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:02:32
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:03:41
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 11:03:41
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 11:03:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:03:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type1) 	
Parameters:
@Type1[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:03:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type2) 	
Parameters:
@Type2[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:03:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 11:03:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:03:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 11:03:42
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29)))	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 11:03:42
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode31) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 11:03:42
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:03:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:03:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:03:46
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:03:46
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:03:46
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:03:46
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:03:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:03:46
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId33) AND ([TbModelOrg].[SiteCode] IN (@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59))) 	
Parameters:
@ProjectId33[String] = 6372912251695766465
@SiteCode34[String] = 6373083923489249281
@SiteCode35[String] = 6373083925531366080
@SiteCode36[String] = 6373083927883400612
@SiteCode37[String] = 6373083918575368225
@SiteCode38[String] = 6373083920445075162
@SiteCode39[String] = 6373083908618598731
@SiteCode40[String] = 6373083911842783146
@SiteCode41[String] = 6373083913928202424
@SiteCode42[String] = 6373083877551621804
@SiteCode43[String] = 6373083879921857377
@SiteCode44[String] = 6373083881542550067
@SiteCode45[String] = 6373083883689772886
@SiteCode46[String] = 6373083887136270013
@SiteCode47[String] = 6373083889697116488
@SiteCode48[String] = 6373083891969846476
@SiteCode49[String] = 6373083894422586761
@SiteCode50[String] = 6373083897509963358
@SiteCode51[String] = 6373083900444931227
@SiteCode52[String] = 6373083829464571372
@SiteCode53[String] = 6373083833327492328
@SiteCode54[String] = 6373083841964286321
@SiteCode55[String] = 6373083844982558950
@SiteCode56[String] = 6373083847585007801
@SiteCode57[String] = 6373083856887939900
@SiteCode58[String] = 6373083859102666584
@SiteCode59[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:04:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:04:19
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId60) AND ([TbModelOrg].[SiteCode] IN (@SiteCode61))) 	
Parameters:
@ProjectId60[String] = 6372912251695766465
@SiteCode61[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:04:39
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path62,@ProjectId63,@SiteCode64,@Type65);select scope_identity()	
Parameters:
@Path62[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId63[String] = 6372912251695766465
@SiteCode64[String] = 6373083829464571372
@Type65[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:04:39
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path66,@ProjectId67,@SiteCode68,@Type69);select scope_identity()	
Parameters:
@Path66[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId67[String] = 6372912251695766465
@SiteCode68[String] = 6373083829464571372
@Type69[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:04:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:04:45
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId70) AND ([TbModelOrg].[SiteCode] IN (@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96))) 	
Parameters:
@ProjectId70[String] = 6372912251695766465
@SiteCode71[String] = 6373083923489249281
@SiteCode72[String] = 6373083925531366080
@SiteCode73[String] = 6373083927883400612
@SiteCode74[String] = 6373083918575368225
@SiteCode75[String] = 6373083920445075162
@SiteCode76[String] = 6373083908618598731
@SiteCode77[String] = 6373083911842783146
@SiteCode78[String] = 6373083913928202424
@SiteCode79[String] = 6373083877551621804
@SiteCode80[String] = 6373083879921857377
@SiteCode81[String] = 6373083881542550067
@SiteCode82[String] = 6373083883689772886
@SiteCode83[String] = 6373083887136270013
@SiteCode84[String] = 6373083889697116488
@SiteCode85[String] = 6373083891969846476
@SiteCode86[String] = 6373083894422586761
@SiteCode87[String] = 6373083897509963358
@SiteCode88[String] = 6373083900444931227
@SiteCode89[String] = 6373083829464571372
@SiteCode90[String] = 6373083833327492328
@SiteCode91[String] = 6373083841964286321
@SiteCode92[String] = 6373083844982558950
@SiteCode93[String] = 6373083847585007801
@SiteCode94[String] = 6373083856887939900
@SiteCode95[String] = 6373083859102666584
@SiteCode96[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:04:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:04:50
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId97) AND ([TbModelOrg].[SiteCode] IN (@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123))) 	
Parameters:
@ProjectId97[String] = 6372912251695766465
@SiteCode98[String] = 6373083923489249281
@SiteCode99[String] = 6373083925531366080
@SiteCode100[String] = 6373083927883400612
@SiteCode101[String] = 6373083918575368225
@SiteCode102[String] = 6373083920445075162
@SiteCode103[String] = 6373083908618598731
@SiteCode104[String] = 6373083911842783146
@SiteCode105[String] = 6373083913928202424
@SiteCode106[String] = 6373083877551621804
@SiteCode107[String] = 6373083879921857377
@SiteCode108[String] = 6373083881542550067
@SiteCode109[String] = 6373083883689772886
@SiteCode110[String] = 6373083887136270013
@SiteCode111[String] = 6373083889697116488
@SiteCode112[String] = 6373083891969846476
@SiteCode113[String] = 6373083894422586761
@SiteCode114[String] = 6373083897509963358
@SiteCode115[String] = 6373083900444931227
@SiteCode116[String] = 6373083829464571372
@SiteCode117[String] = 6373083833327492328
@SiteCode118[String] = 6373083841964286321
@SiteCode119[String] = 6373083844982558950
@SiteCode120[String] = 6373083847585007801
@SiteCode121[String] = 6373083856887939900
@SiteCode122[String] = 6373083859102666584
@SiteCode123[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:04:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:04:50
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:04:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:04:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:04:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:04:50
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId124) AND ([TbModelOrg].[SiteCode] IN (@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132,@SiteCode133,@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148,@SiteCode149,@SiteCode150))) 	
Parameters:
@ProjectId124[String] = 6372912251695766465
@SiteCode125[String] = 6373083923489249281
@SiteCode126[String] = 6373083925531366080
@SiteCode127[String] = 6373083927883400612
@SiteCode128[String] = 6373083918575368225
@SiteCode129[String] = 6373083920445075162
@SiteCode130[String] = 6373083908618598731
@SiteCode131[String] = 6373083911842783146
@SiteCode132[String] = 6373083913928202424
@SiteCode133[String] = 6373083877551621804
@SiteCode134[String] = 6373083879921857377
@SiteCode135[String] = 6373083881542550067
@SiteCode136[String] = 6373083883689772886
@SiteCode137[String] = 6373083887136270013
@SiteCode138[String] = 6373083889697116488
@SiteCode139[String] = 6373083891969846476
@SiteCode140[String] = 6373083894422586761
@SiteCode141[String] = 6373083897509963358
@SiteCode142[String] = 6373083900444931227
@SiteCode143[String] = 6373083829464571372
@SiteCode144[String] = 6373083833327492328
@SiteCode145[String] = 6373083841964286321
@SiteCode146[String] = 6373083844982558950
@SiteCode147[String] = 6373083847585007801
@SiteCode148[String] = 6373083856887939900
@SiteCode149[String] = 6373083859102666584
@SiteCode150[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:05:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:05:25
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:05:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:05:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:05:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:05:25
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1) AND ([TbModelOrg].[SiteCode] IN (@SiteCode2,@SiteCode3,@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27))) 	
Parameters:
@ProjectId1[String] = 6372912251695766465
@SiteCode2[String] = 6373083923489249281
@SiteCode3[String] = 6373083925531366080
@SiteCode4[String] = 6373083927883400612
@SiteCode5[String] = 6373083918575368225
@SiteCode6[String] = 6373083920445075162
@SiteCode7[String] = 6373083908618598731
@SiteCode8[String] = 6373083911842783146
@SiteCode9[String] = 6373083913928202424
@SiteCode10[String] = 6373083877551621804
@SiteCode11[String] = 6373083879921857377
@SiteCode12[String] = 6373083881542550067
@SiteCode13[String] = 6373083883689772886
@SiteCode14[String] = 6373083887136270013
@SiteCode15[String] = 6373083889697116488
@SiteCode16[String] = 6373083891969846476
@SiteCode17[String] = 6373083894422586761
@SiteCode18[String] = 6373083897509963358
@SiteCode19[String] = 6373083900444931227
@SiteCode20[String] = 6373083829464571372
@SiteCode21[String] = 6373083833327492328
@SiteCode22[String] = 6373083841964286321
@SiteCode23[String] = 6373083844982558950
@SiteCode24[String] = 6373083847585007801
@SiteCode25[String] = 6373083856887939900
@SiteCode26[String] = 6373083859102666584
@SiteCode27[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:05:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:05:27
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId28) AND ([TbModelOrg].[SiteCode] IN (@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54))) 	
Parameters:
@ProjectId28[String] = 6372912251695766465
@SiteCode29[String] = 6373083923489249281
@SiteCode30[String] = 6373083925531366080
@SiteCode31[String] = 6373083927883400612
@SiteCode32[String] = 6373083918575368225
@SiteCode33[String] = 6373083920445075162
@SiteCode34[String] = 6373083908618598731
@SiteCode35[String] = 6373083911842783146
@SiteCode36[String] = 6373083913928202424
@SiteCode37[String] = 6373083877551621804
@SiteCode38[String] = 6373083879921857377
@SiteCode39[String] = 6373083881542550067
@SiteCode40[String] = 6373083883689772886
@SiteCode41[String] = 6373083887136270013
@SiteCode42[String] = 6373083889697116488
@SiteCode43[String] = 6373083891969846476
@SiteCode44[String] = 6373083894422586761
@SiteCode45[String] = 6373083897509963358
@SiteCode46[String] = 6373083900444931227
@SiteCode47[String] = 6373083829464571372
@SiteCode48[String] = 6373083833327492328
@SiteCode49[String] = 6373083841964286321
@SiteCode50[String] = 6373083844982558950
@SiteCode51[String] = 6373083847585007801
@SiteCode52[String] = 6373083856887939900
@SiteCode53[String] = 6373083859102666584
@SiteCode54[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:05:27
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:05:27
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:05:27
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:05:27
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:05:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:05:27
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId55) AND ([TbModelOrg].[SiteCode] IN (@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81))) 	
Parameters:
@ProjectId55[String] = 6372912251695766465
@SiteCode56[String] = 6373083923489249281
@SiteCode57[String] = 6373083925531366080
@SiteCode58[String] = 6373083927883400612
@SiteCode59[String] = 6373083918575368225
@SiteCode60[String] = 6373083920445075162
@SiteCode61[String] = 6373083908618598731
@SiteCode62[String] = 6373083911842783146
@SiteCode63[String] = 6373083913928202424
@SiteCode64[String] = 6373083877551621804
@SiteCode65[String] = 6373083879921857377
@SiteCode66[String] = 6373083881542550067
@SiteCode67[String] = 6373083883689772886
@SiteCode68[String] = 6373083887136270013
@SiteCode69[String] = 6373083889697116488
@SiteCode70[String] = 6373083891969846476
@SiteCode71[String] = 6373083894422586761
@SiteCode72[String] = 6373083897509963358
@SiteCode73[String] = 6373083900444931227
@SiteCode74[String] = 6373083829464571372
@SiteCode75[String] = 6373083833327492328
@SiteCode76[String] = 6373083841964286321
@SiteCode77[String] = 6373083844982558950
@SiteCode78[String] = 6373083847585007801
@SiteCode79[String] = 6373083856887939900
@SiteCode80[String] = 6373083859102666584
@SiteCode81[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:06:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:08:52
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:09:04
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:09:06
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:09:06
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:09:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:09:15
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId82) AND ([TbModelOrg].[SiteCode] IN (@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108))) 	
Parameters:
@ProjectId82[String] = 6372912251695766465
@SiteCode83[String] = 6373083923489249281
@SiteCode84[String] = 6373083925531366080
@SiteCode85[String] = 6373083927883400612
@SiteCode86[String] = 6373083918575368225
@SiteCode87[String] = 6373083920445075162
@SiteCode88[String] = 6373083908618598731
@SiteCode89[String] = 6373083911842783146
@SiteCode90[String] = 6373083913928202424
@SiteCode91[String] = 6373083877551621804
@SiteCode92[String] = 6373083879921857377
@SiteCode93[String] = 6373083881542550067
@SiteCode94[String] = 6373083883689772886
@SiteCode95[String] = 6373083887136270013
@SiteCode96[String] = 6373083889697116488
@SiteCode97[String] = 6373083891969846476
@SiteCode98[String] = 6373083894422586761
@SiteCode99[String] = 6373083897509963358
@SiteCode100[String] = 6373083900444931227
@SiteCode101[String] = 6373083829464571372
@SiteCode102[String] = 6373083833327492328
@SiteCode103[String] = 6373083841964286321
@SiteCode104[String] = 6373083844982558950
@SiteCode105[String] = 6373083847585007801
@SiteCode106[String] = 6373083856887939900
@SiteCode107[String] = 6373083859102666584
@SiteCode108[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:09:48
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:10:03
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:10:05
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId109) AND ([TbModelOrg].[SiteCode] IN (@SiteCode110))) 	
Parameters:
@ProjectId109[String] = 6372912251695766465
@SiteCode110[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:12:23
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:12:23
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:12:23
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:12:23
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:12:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:12:23
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1) AND ([TbModelOrg].[SiteCode] IN (@SiteCode2,@SiteCode3,@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27))) 	
Parameters:
@ProjectId1[String] = 6372912251695766465
@SiteCode2[String] = 6373083923489249281
@SiteCode3[String] = 6373083925531366080
@SiteCode4[String] = 6373083927883400612
@SiteCode5[String] = 6373083918575368225
@SiteCode6[String] = 6373083920445075162
@SiteCode7[String] = 6373083908618598731
@SiteCode8[String] = 6373083911842783146
@SiteCode9[String] = 6373083913928202424
@SiteCode10[String] = 6373083877551621804
@SiteCode11[String] = 6373083879921857377
@SiteCode12[String] = 6373083881542550067
@SiteCode13[String] = 6373083883689772886
@SiteCode14[String] = 6373083887136270013
@SiteCode15[String] = 6373083889697116488
@SiteCode16[String] = 6373083891969846476
@SiteCode17[String] = 6373083894422586761
@SiteCode18[String] = 6373083897509963358
@SiteCode19[String] = 6373083900444931227
@SiteCode20[String] = 6373083829464571372
@SiteCode21[String] = 6373083833327492328
@SiteCode22[String] = 6373083841964286321
@SiteCode23[String] = 6373083844982558950
@SiteCode24[String] = 6373083847585007801
@SiteCode25[String] = 6373083856887939900
@SiteCode26[String] = 6373083859102666584
@SiteCode27[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:12:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:12:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:12:44
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId28) AND ([TbModelOrg].[SiteCode] IN (@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36))) 	
Parameters:
@ProjectId28[String] = 6372912251695766465
@SiteCode29[String] = 6373083923489249281
@SiteCode30[String] = 6373083925531366080
@SiteCode31[String] = 6373083927883400612
@SiteCode32[String] = 6373083918575368225
@SiteCode33[String] = 6373083920445075162
@SiteCode34[String] = 6373083908618598731
@SiteCode35[String] = 6373083911842783146
@SiteCode36[String] = 6373083913928202424


-----------------------------------------------------------------------------
2020-08-05 11:12:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921396045311451
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:12:46
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId37) AND ([TbModelOrg].[SiteCode] IN (@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45))) 	
Parameters:
@ProjectId37[String] = 6372912251695766465
@SiteCode38[String] = 6373083829464571372
@SiteCode39[String] = 6373083833327492328
@SiteCode40[String] = 6373083841964286321
@SiteCode41[String] = 6373083844982558950
@SiteCode42[String] = 6373083847585007801
@SiteCode43[String] = 6373083856887939900
@SiteCode44[String] = 6373083859102666584
@SiteCode45[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:12:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:12:48
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId46) AND ([TbModelOrg].[SiteCode] IN (@SiteCode47))) 	
Parameters:
@ProjectId46[String] = 6372912251695766465
@SiteCode47[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 11:12:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:12:49
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId48) AND ([TbModelOrg].[SiteCode] IN (@SiteCode49))) 	
Parameters:
@ProjectId48[String] = 6372912251695766465
@SiteCode49[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-05 11:12:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:12:49
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId50) AND ([TbModelOrg].[SiteCode] IN (@SiteCode51))) 	
Parameters:
@ProjectId50[String] = 6372912251695766465
@SiteCode51[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:12:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921396045311451
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:12:50
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId52) AND ([TbModelOrg].[SiteCode] IN (@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60))) 	
Parameters:
@ProjectId52[String] = 6372912251695766465
@SiteCode53[String] = 6373083829464571372
@SiteCode54[String] = 6373083833327492328
@SiteCode55[String] = 6373083841964286321
@SiteCode56[String] = 6373083844982558950
@SiteCode57[String] = 6373083847585007801
@SiteCode58[String] = 6373083856887939900
@SiteCode59[String] = 6373083859102666584
@SiteCode60[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:12:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921378678418123
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:12:50
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId61) AND ([TbModelOrg].[SiteCode] IN (@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69))) 	
Parameters:
@ProjectId61[String] = 6372912251695766465
@SiteCode62[String] = 6373083829464571372
@SiteCode63[String] = 6373083833327492328
@SiteCode64[String] = 6373083841964286321
@SiteCode65[String] = 6373083844982558950
@SiteCode66[String] = 6373083847585007801
@SiteCode67[String] = 6373083856887939900
@SiteCode68[String] = 6373083859102666584
@SiteCode69[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:12:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:12:51
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId70) AND ([TbModelOrg].[SiteCode] IN (@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96))) 	
Parameters:
@ProjectId70[String] = 6372912251695766465
@SiteCode71[String] = 6373083923489249281
@SiteCode72[String] = 6373083925531366080
@SiteCode73[String] = 6373083927883400612
@SiteCode74[String] = 6373083918575368225
@SiteCode75[String] = 6373083920445075162
@SiteCode76[String] = 6373083908618598731
@SiteCode77[String] = 6373083911842783146
@SiteCode78[String] = 6373083913928202424
@SiteCode79[String] = 6373083877551621804
@SiteCode80[String] = 6373083879921857377
@SiteCode81[String] = 6373083881542550067
@SiteCode82[String] = 6373083883689772886
@SiteCode83[String] = 6373083887136270013
@SiteCode84[String] = 6373083889697116488
@SiteCode85[String] = 6373083891969846476
@SiteCode86[String] = 6373083894422586761
@SiteCode87[String] = 6373083897509963358
@SiteCode88[String] = 6373083900444931227
@SiteCode89[String] = 6373083829464571372
@SiteCode90[String] = 6373083833327492328
@SiteCode91[String] = 6373083841964286321
@SiteCode92[String] = 6373083844982558950
@SiteCode93[String] = 6373083847585007801
@SiteCode94[String] = 6373083856887939900
@SiteCode95[String] = 6373083859102666584
@SiteCode96[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:12:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921396045311451
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:12:52
Text:	 SELECT   [TbModelOrg].* FROM [TbModelOrg]  WHERE (([TbModelOrg].[ProjectId] = @ProjectId97) AND ([TbModelOrg].[SiteCode] IN (@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105))) 	
Parameters:
@ProjectId97[String] = 6372912251695766465
@SiteCode98[String] = 6373083829464571372
@SiteCode99[String] = 6373083833327492328
@SiteCode100[String] = 6373083841964286321
@SiteCode101[String] = 6373083844982558950
@SiteCode102[String] = 6373083847585007801
@SiteCode103[String] = 6373083856887939900
@SiteCode104[String] = 6373083859102666584
@SiteCode105[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:15:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:17:38
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:17:39
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:17:39
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:17:39
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:17:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:17:39
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1) AND ([TbModelOrg].[SiteCode] IN (@SiteCode2,@SiteCode3,@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27))) 	
Parameters:
@ProjectId1[String] = 6372912251695766465
@SiteCode2[String] = 6373083923489249281
@SiteCode3[String] = 6373083925531366080
@SiteCode4[String] = 6373083927883400612
@SiteCode5[String] = 6373083918575368225
@SiteCode6[String] = 6373083920445075162
@SiteCode7[String] = 6373083908618598731
@SiteCode8[String] = 6373083911842783146
@SiteCode9[String] = 6373083913928202424
@SiteCode10[String] = 6373083877551621804
@SiteCode11[String] = 6373083879921857377
@SiteCode12[String] = 6373083881542550067
@SiteCode13[String] = 6373083883689772886
@SiteCode14[String] = 6373083887136270013
@SiteCode15[String] = 6373083889697116488
@SiteCode16[String] = 6373083891969846476
@SiteCode17[String] = 6373083894422586761
@SiteCode18[String] = 6373083897509963358
@SiteCode19[String] = 6373083900444931227
@SiteCode20[String] = 6373083829464571372
@SiteCode21[String] = 6373083833327492328
@SiteCode22[String] = 6373083841964286321
@SiteCode23[String] = 6373083844982558950
@SiteCode24[String] = 6373083847585007801
@SiteCode25[String] = 6373083856887939900
@SiteCode26[String] = 6373083859102666584
@SiteCode27[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:17:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:17:54
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId28) AND ([TbModelOrg].[SiteCode] IN (@SiteCode29))) 	
Parameters:
@ProjectId28[String] = 6372912251695766465
@SiteCode29[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 11:17:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083844982558950
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:17:54
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId30) AND ([TbModelOrg].[SiteCode] IN (@SiteCode31))) 	
Parameters:
@ProjectId30[String] = 6372912251695766465
@SiteCode31[String] = 6373083844982558950


-----------------------------------------------------------------------------
2020-08-05 11:17:55
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921396045311451
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:17:55
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId32) AND ([TbModelOrg].[SiteCode] IN (@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40))) 	
Parameters:
@ProjectId32[String] = 6372912251695766465
@SiteCode33[String] = 6373083829464571372
@SiteCode34[String] = 6373083833327492328
@SiteCode35[String] = 6373083841964286321
@SiteCode36[String] = 6373083844982558950
@SiteCode37[String] = 6373083847585007801
@SiteCode38[String] = 6373083856887939900
@SiteCode39[String] = 6373083859102666584
@SiteCode40[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:17:55
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:17:55
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId41) AND ([TbModelOrg].[SiteCode] IN (@SiteCode42))) 	
Parameters:
@ProjectId41[String] = 6372912251695766465
@SiteCode42[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:17:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:17:56
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId43) AND ([TbModelOrg].[SiteCode] IN (@SiteCode44))) 	
Parameters:
@ProjectId43[String] = 6372912251695766465
@SiteCode44[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 11:17:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:17:57
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId45) AND ([TbModelOrg].[SiteCode] IN (@SiteCode46))) 	
Parameters:
@ProjectId45[String] = 6372912251695766465
@SiteCode46[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-05 11:17:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921396045311451
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:17:58
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId47) AND ([TbModelOrg].[SiteCode] IN (@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55))) 	
Parameters:
@ProjectId47[String] = 6372912251695766465
@SiteCode48[String] = 6373083829464571372
@SiteCode49[String] = 6373083833327492328
@SiteCode50[String] = 6373083841964286321
@SiteCode51[String] = 6373083844982558950
@SiteCode52[String] = 6373083847585007801
@SiteCode53[String] = 6373083856887939900
@SiteCode54[String] = 6373083859102666584
@SiteCode55[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:18:12
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:18:12
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:12
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId56) AND ([TbModelOrg].[SiteCode] IN (@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82))) 	
Parameters:
@ProjectId56[String] = 6372912251695766465
@SiteCode57[String] = 6373083923489249281
@SiteCode58[String] = 6373083925531366080
@SiteCode59[String] = 6373083927883400612
@SiteCode60[String] = 6373083918575368225
@SiteCode61[String] = 6373083920445075162
@SiteCode62[String] = 6373083908618598731
@SiteCode63[String] = 6373083911842783146
@SiteCode64[String] = 6373083913928202424
@SiteCode65[String] = 6373083877551621804
@SiteCode66[String] = 6373083879921857377
@SiteCode67[String] = 6373083881542550067
@SiteCode68[String] = 6373083883689772886
@SiteCode69[String] = 6373083887136270013
@SiteCode70[String] = 6373083889697116488
@SiteCode71[String] = 6373083891969846476
@SiteCode72[String] = 6373083894422586761
@SiteCode73[String] = 6373083897509963358
@SiteCode74[String] = 6373083900444931227
@SiteCode75[String] = 6373083829464571372
@SiteCode76[String] = 6373083833327492328
@SiteCode77[String] = 6373083841964286321
@SiteCode78[String] = 6373083844982558950
@SiteCode79[String] = 6373083847585007801
@SiteCode80[String] = 6373083856887939900
@SiteCode81[String] = 6373083859102666584
@SiteCode82[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:18:12
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:18:12
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:18:12
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:18:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:18:32
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:18:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:18:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:18:32
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId83) AND ([TbModelOrg].[SiteCode] IN (@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109))) 	
Parameters:
@ProjectId83[String] = 6372912251695766465
@SiteCode84[String] = 6373083923489249281
@SiteCode85[String] = 6373083925531366080
@SiteCode86[String] = 6373083927883400612
@SiteCode87[String] = 6373083918575368225
@SiteCode88[String] = 6373083920445075162
@SiteCode89[String] = 6373083908618598731
@SiteCode90[String] = 6373083911842783146
@SiteCode91[String] = 6373083913928202424
@SiteCode92[String] = 6373083877551621804
@SiteCode93[String] = 6373083879921857377
@SiteCode94[String] = 6373083881542550067
@SiteCode95[String] = 6373083883689772886
@SiteCode96[String] = 6373083887136270013
@SiteCode97[String] = 6373083889697116488
@SiteCode98[String] = 6373083891969846476
@SiteCode99[String] = 6373083894422586761
@SiteCode100[String] = 6373083897509963358
@SiteCode101[String] = 6373083900444931227
@SiteCode102[String] = 6373083829464571372
@SiteCode103[String] = 6373083833327492328
@SiteCode104[String] = 6373083841964286321
@SiteCode105[String] = 6373083844982558950
@SiteCode106[String] = 6373083847585007801
@SiteCode107[String] = 6373083856887939900
@SiteCode108[String] = 6373083859102666584
@SiteCode109[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:18:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:40
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId110) AND ([TbModelOrg].[SiteCode] IN (@SiteCode111))) 	
Parameters:
@ProjectId110[String] = 6372912251695766465
@SiteCode111[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:18:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:41
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId112) AND ([TbModelOrg].[SiteCode] IN (@SiteCode113))) 	
Parameters:
@ProjectId112[String] = 6372912251695766465
@SiteCode113[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 11:18:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:18:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:42
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId114) AND ([TbModelOrg].[SiteCode] IN (@SiteCode115))) 	
Parameters:
@ProjectId114[String] = 6372912251695766465
@SiteCode115[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:18:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:42
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId116) AND ([TbModelOrg].[SiteCode] IN (@SiteCode117))) 	
Parameters:
@ProjectId116[String] = 6372912251695766465
@SiteCode117[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-05 11:18:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083844982558950
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:43
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId118) AND ([TbModelOrg].[SiteCode] IN (@SiteCode119))) 	
Parameters:
@ProjectId118[String] = 6372912251695766465
@SiteCode119[String] = 6373083844982558950


-----------------------------------------------------------------------------
2020-08-05 11:18:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:44
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId120) AND ([TbModelOrg].[SiteCode] IN (@SiteCode121))) 	
Parameters:
@ProjectId120[String] = 6372912251695766465
@SiteCode121[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-05 11:18:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083844982558950
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:45
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId122) AND ([TbModelOrg].[SiteCode] IN (@SiteCode123))) 	
Parameters:
@ProjectId122[String] = 6372912251695766465
@SiteCode123[String] = 6373083844982558950


-----------------------------------------------------------------------------
2020-08-05 11:18:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:45
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId124) AND ([TbModelOrg].[SiteCode] IN (@SiteCode125))) 	
Parameters:
@ProjectId124[String] = 6372912251695766465
@SiteCode125[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 11:18:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:46
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId126) AND ([TbModelOrg].[SiteCode] IN (@SiteCode127))) 	
Parameters:
@ProjectId126[String] = 6372912251695766465
@SiteCode127[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:18:55
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:55
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId128) AND ([TbModelOrg].[SiteCode] IN (@SiteCode129))) 	
Parameters:
@ProjectId128[String] = 6372912251695766465
@SiteCode129[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 11:18:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:18:56
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId130) AND ([TbModelOrg].[SiteCode] IN (@SiteCode131))) 	
Parameters:
@ProjectId130[String] = 6372912251695766465
@SiteCode131[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:19:02
Text:	DELETE FROM [TbRawMaterialArchives] WHERE [TbRawMaterialArchives].[ID] = @ID132	
Parameters:
@ID132[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:20:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:20:25
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:20:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:20:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:20:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:20:25
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId133) AND ([TbModelOrg].[SiteCode] IN (@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148,@SiteCode149,@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159))) 	
Parameters:
@ProjectId133[String] = 6372912251695766465
@SiteCode134[String] = 6373083923489249281
@SiteCode135[String] = 6373083925531366080
@SiteCode136[String] = 6373083927883400612
@SiteCode137[String] = 6373083918575368225
@SiteCode138[String] = 6373083920445075162
@SiteCode139[String] = 6373083908618598731
@SiteCode140[String] = 6373083911842783146
@SiteCode141[String] = 6373083913928202424
@SiteCode142[String] = 6373083877551621804
@SiteCode143[String] = 6373083879921857377
@SiteCode144[String] = 6373083881542550067
@SiteCode145[String] = 6373083883689772886
@SiteCode146[String] = 6373083887136270013
@SiteCode147[String] = 6373083889697116488
@SiteCode148[String] = 6373083891969846476
@SiteCode149[String] = 6373083894422586761
@SiteCode150[String] = 6373083897509963358
@SiteCode151[String] = 6373083900444931227
@SiteCode152[String] = 6373083829464571372
@SiteCode153[String] = 6373083833327492328
@SiteCode154[String] = 6373083841964286321
@SiteCode155[String] = 6373083844982558950
@SiteCode156[String] = 6373083847585007801
@SiteCode157[String] = 6373083856887939900
@SiteCode158[String] = 6373083859102666584
@SiteCode159[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:20:29
Text:	DELETE FROM [TbRawMaterialArchives] WHERE [TbRawMaterialArchives].[ID] = @ID160	
Parameters:
@ID160[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:20:55
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:20:55
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:20:55
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:20:55
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:20:55
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId161) AND ([TbModelOrg].[SiteCode] IN (@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187))) 	
Parameters:
@ProjectId161[String] = 6372912251695766465
@SiteCode162[String] = 6373083923489249281
@SiteCode163[String] = 6373083925531366080
@SiteCode164[String] = 6373083927883400612
@SiteCode165[String] = 6373083918575368225
@SiteCode166[String] = 6373083920445075162
@SiteCode167[String] = 6373083908618598731
@SiteCode168[String] = 6373083911842783146
@SiteCode169[String] = 6373083913928202424
@SiteCode170[String] = 6373083877551621804
@SiteCode171[String] = 6373083879921857377
@SiteCode172[String] = 6373083881542550067
@SiteCode173[String] = 6373083883689772886
@SiteCode174[String] = 6373083887136270013
@SiteCode175[String] = 6373083889697116488
@SiteCode176[String] = 6373083891969846476
@SiteCode177[String] = 6373083894422586761
@SiteCode178[String] = 6373083897509963358
@SiteCode179[String] = 6373083900444931227
@SiteCode180[String] = 6373083829464571372
@SiteCode181[String] = 6373083833327492328
@SiteCode182[String] = 6373083841964286321
@SiteCode183[String] = 6373083844982558950
@SiteCode184[String] = 6373083847585007801
@SiteCode185[String] = 6373083856887939900
@SiteCode186[String] = 6373083859102666584
@SiteCode187[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:20:55
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:20:58
Text:	DELETE FROM [TbRawMaterialArchives] WHERE [TbRawMaterialArchives].[ID] = @ID188	
Parameters:
@ID188[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:21:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:22:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:22:49
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:22:49
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:22:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:22:49
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:22:49
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId189) AND ([TbModelOrg].[SiteCode] IN (@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207,@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212,@SiteCode213,@SiteCode214,@SiteCode215))) 	
Parameters:
@ProjectId189[String] = 6372912251695766465
@SiteCode190[String] = 6373083923489249281
@SiteCode191[String] = 6373083925531366080
@SiteCode192[String] = 6373083927883400612
@SiteCode193[String] = 6373083918575368225
@SiteCode194[String] = 6373083920445075162
@SiteCode195[String] = 6373083908618598731
@SiteCode196[String] = 6373083911842783146
@SiteCode197[String] = 6373083913928202424
@SiteCode198[String] = 6373083877551621804
@SiteCode199[String] = 6373083879921857377
@SiteCode200[String] = 6373083881542550067
@SiteCode201[String] = 6373083883689772886
@SiteCode202[String] = 6373083887136270013
@SiteCode203[String] = 6373083889697116488
@SiteCode204[String] = 6373083891969846476
@SiteCode205[String] = 6373083894422586761
@SiteCode206[String] = 6373083897509963358
@SiteCode207[String] = 6373083900444931227
@SiteCode208[String] = 6373083829464571372
@SiteCode209[String] = 6373083833327492328
@SiteCode210[String] = 6373083841964286321
@SiteCode211[String] = 6373083844982558950
@SiteCode212[String] = 6373083847585007801
@SiteCode213[String] = 6373083856887939900
@SiteCode214[String] = 6373083859102666584
@SiteCode215[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:22:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:22:51
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId216) AND ([TbModelOrg].[SiteCode] IN (@SiteCode217))) 	
Parameters:
@ProjectId216[String] = 6372912251695766465
@SiteCode217[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:22:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 2
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:22:58
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId218) AND ([TbModelOrg].[SiteCode] IN (@SiteCode219))) 	
Parameters:
@ProjectId218[String] = 6372912251695766465
@SiteCode219[String] = 2


-----------------------------------------------------------------------------
2020-08-05 11:23:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:23:33
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:23:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:23:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:23:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:23:33
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId220) AND ([TbModelOrg].[SiteCode] IN (@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225,@SiteCode226,@SiteCode227,@SiteCode228,@SiteCode229,@SiteCode230,@SiteCode231,@SiteCode232,@SiteCode233,@SiteCode234,@SiteCode235,@SiteCode236,@SiteCode237,@SiteCode238,@SiteCode239,@SiteCode240,@SiteCode241,@SiteCode242,@SiteCode243,@SiteCode244,@SiteCode245,@SiteCode246))) 	
Parameters:
@ProjectId220[String] = 6372912251695766465
@SiteCode221[String] = 6373083923489249281
@SiteCode222[String] = 6373083925531366080
@SiteCode223[String] = 6373083927883400612
@SiteCode224[String] = 6373083918575368225
@SiteCode225[String] = 6373083920445075162
@SiteCode226[String] = 6373083908618598731
@SiteCode227[String] = 6373083911842783146
@SiteCode228[String] = 6373083913928202424
@SiteCode229[String] = 6373083877551621804
@SiteCode230[String] = 6373083879921857377
@SiteCode231[String] = 6373083881542550067
@SiteCode232[String] = 6373083883689772886
@SiteCode233[String] = 6373083887136270013
@SiteCode234[String] = 6373083889697116488
@SiteCode235[String] = 6373083891969846476
@SiteCode236[String] = 6373083894422586761
@SiteCode237[String] = 6373083897509963358
@SiteCode238[String] = 6373083900444931227
@SiteCode239[String] = 6373083829464571372
@SiteCode240[String] = 6373083833327492328
@SiteCode241[String] = 6373083841964286321
@SiteCode242[String] = 6373083844982558950
@SiteCode243[String] = 6373083847585007801
@SiteCode244[String] = 6373083856887939900
@SiteCode245[String] = 6373083859102666584
@SiteCode246[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:23:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:23:41
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId247) AND ([TbModelOrg].[SiteCode] IN (@SiteCode248))) 	
Parameters:
@ProjectId247[String] = 6372912251695766465
@SiteCode248[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:24:01
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode249	
Parameters:
@SiteCode249[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:24:38
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:24:38
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId250) AND ([TbModelOrg].[SiteCode] IN (@SiteCode251,@SiteCode252,@SiteCode253,@SiteCode254,@SiteCode255,@SiteCode256,@SiteCode257,@SiteCode258,@SiteCode259,@SiteCode260,@SiteCode261,@SiteCode262,@SiteCode263,@SiteCode264,@SiteCode265,@SiteCode266,@SiteCode267,@SiteCode268,@SiteCode269,@SiteCode270,@SiteCode271,@SiteCode272,@SiteCode273,@SiteCode274,@SiteCode275,@SiteCode276))) 	
Parameters:
@ProjectId250[String] = 6372912251695766465
@SiteCode251[String] = 6373083923489249281
@SiteCode252[String] = 6373083925531366080
@SiteCode253[String] = 6373083927883400612
@SiteCode254[String] = 6373083918575368225
@SiteCode255[String] = 6373083920445075162
@SiteCode256[String] = 6373083908618598731
@SiteCode257[String] = 6373083911842783146
@SiteCode258[String] = 6373083913928202424
@SiteCode259[String] = 6373083877551621804
@SiteCode260[String] = 6373083879921857377
@SiteCode261[String] = 6373083881542550067
@SiteCode262[String] = 6373083883689772886
@SiteCode263[String] = 6373083887136270013
@SiteCode264[String] = 6373083889697116488
@SiteCode265[String] = 6373083891969846476
@SiteCode266[String] = 6373083894422586761
@SiteCode267[String] = 6373083897509963358
@SiteCode268[String] = 6373083900444931227
@SiteCode269[String] = 6373083829464571372
@SiteCode270[String] = 6373083833327492328
@SiteCode271[String] = 6373083841964286321
@SiteCode272[String] = 6373083844982558950
@SiteCode273[String] = 6373083847585007801
@SiteCode274[String] = 6373083856887939900
@SiteCode275[String] = 6373083859102666584
@SiteCode276[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:24:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:27:44
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:29:15
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:29:15
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:29:15
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:29:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:29:15
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1) AND ([TbModelOrg].[SiteCode] IN (@SiteCode2,@SiteCode3,@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27))) 	
Parameters:
@ProjectId1[String] = 6372912251695766465
@SiteCode2[String] = 6373083923489249281
@SiteCode3[String] = 6373083925531366080
@SiteCode4[String] = 6373083927883400612
@SiteCode5[String] = 6373083918575368225
@SiteCode6[String] = 6373083920445075162
@SiteCode7[String] = 6373083908618598731
@SiteCode8[String] = 6373083911842783146
@SiteCode9[String] = 6373083913928202424
@SiteCode10[String] = 6373083877551621804
@SiteCode11[String] = 6373083879921857377
@SiteCode12[String] = 6373083881542550067
@SiteCode13[String] = 6373083883689772886
@SiteCode14[String] = 6373083887136270013
@SiteCode15[String] = 6373083889697116488
@SiteCode16[String] = 6373083891969846476
@SiteCode17[String] = 6373083894422586761
@SiteCode18[String] = 6373083897509963358
@SiteCode19[String] = 6373083900444931227
@SiteCode20[String] = 6373083829464571372
@SiteCode21[String] = 6373083833327492328
@SiteCode22[String] = 6373083841964286321
@SiteCode23[String] = 6373083844982558950
@SiteCode24[String] = 6373083847585007801
@SiteCode25[String] = 6373083856887939900
@SiteCode26[String] = 6373083859102666584
@SiteCode27[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:29:16
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 11:29:16
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 11:29:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:29:17
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type28) 	
Parameters:
@Type28[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:29:17
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type29) 	
Parameters:
@Type29[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:29:17
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 11:29:17
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 11:29:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:29:17
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode57)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId30) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56)))	
Parameters:
@ProjectId30[String] = 6372912251695766465
@SiteCode31[String] = 6373083923489249281
@SiteCode32[String] = 6373083925531366080
@SiteCode33[String] = 6373083927883400612
@SiteCode34[String] = 6373083918575368225
@SiteCode35[String] = 6373083920445075162
@SiteCode36[String] = 6373083908618598731
@SiteCode37[String] = 6373083911842783146
@SiteCode38[String] = 6373083913928202424
@SiteCode39[String] = 6373083877551621804
@SiteCode40[String] = 6373083879921857377
@SiteCode41[String] = 6373083881542550067
@SiteCode42[String] = 6373083883689772886
@SiteCode43[String] = 6373083887136270013
@SiteCode44[String] = 6373083889697116488
@SiteCode45[String] = 6373083891969846476
@SiteCode46[String] = 6373083894422586761
@SiteCode47[String] = 6373083897509963358
@SiteCode48[String] = 6373083900444931227
@SiteCode49[String] = 6373083829464571372
@SiteCode50[String] = 6373083833327492328
@SiteCode51[String] = 6373083841964286321
@SiteCode52[String] = 6373083844982558950
@SiteCode53[String] = 6373083847585007801
@SiteCode54[String] = 6373083856887939900
@SiteCode55[String] = 6373083859102666584
@SiteCode56[String] = 6373083864919499284
@FDictionaryCode57[String] = OrderState
@FDictionaryCode58[String] = UrgentDegree
@FDictionaryCode59[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 11:29:17
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode58) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode59) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode57)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId30) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId30[String] = 6372912251695766465
@SiteCode31[String] = 6373083923489249281
@SiteCode32[String] = 6373083925531366080
@SiteCode33[String] = 6373083927883400612
@SiteCode34[String] = 6373083918575368225
@SiteCode35[String] = 6373083920445075162
@SiteCode36[String] = 6373083908618598731
@SiteCode37[String] = 6373083911842783146
@SiteCode38[String] = 6373083913928202424
@SiteCode39[String] = 6373083877551621804
@SiteCode40[String] = 6373083879921857377
@SiteCode41[String] = 6373083881542550067
@SiteCode42[String] = 6373083883689772886
@SiteCode43[String] = 6373083887136270013
@SiteCode44[String] = 6373083889697116488
@SiteCode45[String] = 6373083891969846476
@SiteCode46[String] = 6373083894422586761
@SiteCode47[String] = 6373083897509963358
@SiteCode48[String] = 6373083900444931227
@SiteCode49[String] = 6373083829464571372
@SiteCode50[String] = 6373083833327492328
@SiteCode51[String] = 6373083841964286321
@SiteCode52[String] = 6373083844982558950
@SiteCode53[String] = 6373083847585007801
@SiteCode54[String] = 6373083856887939900
@SiteCode55[String] = 6373083859102666584
@SiteCode56[String] = 6373083864919499284
@FDictionaryCode57[String] = OrderState
@FDictionaryCode58[String] = UrgentDegree
@FDictionaryCode59[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 11:29:17
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:29:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:29:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:29:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:29:25
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:29:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:29:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:29:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:29:25
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId60) AND ([TbModelOrg].[SiteCode] IN (@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86))) 	
Parameters:
@ProjectId60[String] = 6372912251695766465
@SiteCode61[String] = 6373083923489249281
@SiteCode62[String] = 6373083925531366080
@SiteCode63[String] = 6373083927883400612
@SiteCode64[String] = 6373083918575368225
@SiteCode65[String] = 6373083920445075162
@SiteCode66[String] = 6373083908618598731
@SiteCode67[String] = 6373083911842783146
@SiteCode68[String] = 6373083913928202424
@SiteCode69[String] = 6373083877551621804
@SiteCode70[String] = 6373083879921857377
@SiteCode71[String] = 6373083881542550067
@SiteCode72[String] = 6373083883689772886
@SiteCode73[String] = 6373083887136270013
@SiteCode74[String] = 6373083889697116488
@SiteCode75[String] = 6373083891969846476
@SiteCode76[String] = 6373083894422586761
@SiteCode77[String] = 6373083897509963358
@SiteCode78[String] = 6373083900444931227
@SiteCode79[String] = 6373083829464571372
@SiteCode80[String] = 6373083833327492328
@SiteCode81[String] = 6373083841964286321
@SiteCode82[String] = 6373083844982558950
@SiteCode83[String] = 6373083847585007801
@SiteCode84[String] = 6373083856887939900
@SiteCode85[String] = 6373083859102666584
@SiteCode86[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:29:26
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:29:26
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId87) AND ([TbModelOrg].[SiteCode] IN (@SiteCode88))) 	
Parameters:
@ProjectId87[String] = 6372912251695766465
@SiteCode88[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:29:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:29:34
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId89) AND ([TbModelOrg].[SiteCode] IN (@SiteCode90))) 	
Parameters:
@ProjectId89[String] = 6372912251695766465
@SiteCode90[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:29:34
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path91,@ProjectId92,@SiteCode93,@Type94);select scope_identity()	
Parameters:
@Path91[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId92[String] = 6372912251695766465
@SiteCode93[String] = 6373083829464571372
@Type94[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:29:34
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path95,@ProjectId96,@SiteCode97,@Type98);select scope_identity()	
Parameters:
@Path95[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId96[String] = 6372912251695766465
@SiteCode97[String] = 6373083829464571372
@Type98[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:29:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:29:34
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId99) AND ([TbModelOrg].[SiteCode] IN (@SiteCode100))) 	
Parameters:
@ProjectId99[String] = 6372912251695766465
@SiteCode100[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:29:47
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:29:47
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId101) AND ([TbModelOrg].[SiteCode] IN (@SiteCode102))) 	
Parameters:
@ProjectId101[String] = 6372912251695766465
@SiteCode102[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:29:47
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode103	
Parameters:
@SiteCode103[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:29:47
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:29:47
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId104) AND ([TbModelOrg].[SiteCode] IN (@SiteCode105))) 	
Parameters:
@ProjectId104[String] = 6372912251695766465
@SiteCode105[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:31:12
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:31:12
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId106) AND ([TbModelOrg].[SiteCode] IN (@SiteCode107))) 	
Parameters:
@ProjectId106[String] = 6372912251695766465
@SiteCode107[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:31:22
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:31:22
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId108) AND ([TbModelOrg].[SiteCode] IN (@SiteCode109))) 	
Parameters:
@ProjectId108[String] = 6372912251695766465
@SiteCode109[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:31:22
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path110,@ProjectId111,@SiteCode112,@Type113);select scope_identity()	
Parameters:
@Path110[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId111[String] = 6372912251695766465
@SiteCode112[String] = 6373083829464571372
@Type113[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:31:22
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path114,@ProjectId115,@SiteCode116,@Type117);select scope_identity()	
Parameters:
@Path114[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId115[String] = 6372912251695766465
@SiteCode116[String] = 6373083829464571372
@Type117[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:31:22
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:31:22
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId118) AND ([TbModelOrg].[SiteCode] IN (@SiteCode119))) 	
Parameters:
@ProjectId118[String] = 6372912251695766465
@SiteCode119[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:32:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:32:01
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId120) AND ([TbModelOrg].[SiteCode] IN (@SiteCode121))) 	
Parameters:
@ProjectId120[String] = 6372912251695766465
@SiteCode121[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:32:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:32:10
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId122) AND ([TbModelOrg].[SiteCode] IN (@SiteCode123))) 	
Parameters:
@ProjectId122[String] = 6372912251695766465
@SiteCode123[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:32:14
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode124	
Parameters:
@SiteCode124[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:32:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:32:25
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path125,@ProjectId126,@SiteCode127,@Type128);select scope_identity()	
Parameters:
@Path125[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId126[String] = 6372912251695766465
@SiteCode127[String] = 6373083829464571372
@Type128[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:32:25
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path129,@ProjectId130,@SiteCode131,@Type132);select scope_identity()	
Parameters:
@Path129[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId130[String] = 6372912251695766465
@SiteCode131[String] = 6373083829464571372
@Type132[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:32:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:32:25
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId133) AND ([TbModelOrg].[SiteCode] IN (@SiteCode134))) 	
Parameters:
@ProjectId133[String] = 6372912251695766465
@SiteCode134[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:33:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:33:58
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:33:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:33:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:33:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:33:58
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId135) AND ([TbModelOrg].[SiteCode] IN (@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148,@SiteCode149,@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161))) 	
Parameters:
@ProjectId135[String] = 6372912251695766465
@SiteCode136[String] = 6373083923489249281
@SiteCode137[String] = 6373083925531366080
@SiteCode138[String] = 6373083927883400612
@SiteCode139[String] = 6373083918575368225
@SiteCode140[String] = 6373083920445075162
@SiteCode141[String] = 6373083908618598731
@SiteCode142[String] = 6373083911842783146
@SiteCode143[String] = 6373083913928202424
@SiteCode144[String] = 6373083877551621804
@SiteCode145[String] = 6373083879921857377
@SiteCode146[String] = 6373083881542550067
@SiteCode147[String] = 6373083883689772886
@SiteCode148[String] = 6373083887136270013
@SiteCode149[String] = 6373083889697116488
@SiteCode150[String] = 6373083891969846476
@SiteCode151[String] = 6373083894422586761
@SiteCode152[String] = 6373083897509963358
@SiteCode153[String] = 6373083900444931227
@SiteCode154[String] = 6373083829464571372
@SiteCode155[String] = 6373083833327492328
@SiteCode156[String] = 6373083841964286321
@SiteCode157[String] = 6373083844982558950
@SiteCode158[String] = 6373083847585007801
@SiteCode159[String] = 6373083856887939900
@SiteCode160[String] = 6373083859102666584
@SiteCode161[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:33:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:33:59
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId162) AND ([TbModelOrg].[SiteCode] IN (@SiteCode163))) 	
Parameters:
@ProjectId162[String] = 6372912251695766465
@SiteCode163[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:34:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:34:02
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId164) AND ([TbModelOrg].[SiteCode] IN (@SiteCode165))) 	
Parameters:
@ProjectId164[String] = 6372912251695766465
@SiteCode165[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:34:02
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode166	
Parameters:
@SiteCode166[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:34:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:34:02
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId167) AND ([TbModelOrg].[SiteCode] IN (@SiteCode168))) 	
Parameters:
@ProjectId167[String] = 6372912251695766465
@SiteCode168[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:34:06
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:34:06
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId169) AND ([TbModelOrg].[SiteCode] IN (@SiteCode170))) 	
Parameters:
@ProjectId169[String] = 6372912251695766465
@SiteCode170[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:34:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:34:16
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId171) AND ([TbModelOrg].[SiteCode] IN (@SiteCode172))) 	
Parameters:
@ProjectId171[String] = 6372912251695766465
@SiteCode172[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:34:16
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path173,@ProjectId174,@SiteCode175,@Type176);select scope_identity()	
Parameters:
@Path173[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId174[String] = 6372912251695766465
@SiteCode175[String] = 6373083829464571372
@Type176[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:34:16
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path177,@ProjectId178,@SiteCode179,@Type180);select scope_identity()	
Parameters:
@Path177[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId178[String] = 6372912251695766465
@SiteCode179[String] = 6373083829464571372
@Type180[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:34:29
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:34:29
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId181) AND ([TbModelOrg].[SiteCode] IN (@SiteCode182))) 	
Parameters:
@ProjectId181[String] = 6372912251695766465
@SiteCode182[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:35:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:36:48
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:36:48
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:36:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:36:48
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:36:48
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId183) AND ([TbModelOrg].[SiteCode] IN (@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207,@SiteCode208,@SiteCode209))) 	
Parameters:
@ProjectId183[String] = 6372912251695766465
@SiteCode184[String] = 6373083923489249281
@SiteCode185[String] = 6373083925531366080
@SiteCode186[String] = 6373083927883400612
@SiteCode187[String] = 6373083918575368225
@SiteCode188[String] = 6373083920445075162
@SiteCode189[String] = 6373083908618598731
@SiteCode190[String] = 6373083911842783146
@SiteCode191[String] = 6373083913928202424
@SiteCode192[String] = 6373083877551621804
@SiteCode193[String] = 6373083879921857377
@SiteCode194[String] = 6373083881542550067
@SiteCode195[String] = 6373083883689772886
@SiteCode196[String] = 6373083887136270013
@SiteCode197[String] = 6373083889697116488
@SiteCode198[String] = 6373083891969846476
@SiteCode199[String] = 6373083894422586761
@SiteCode200[String] = 6373083897509963358
@SiteCode201[String] = 6373083900444931227
@SiteCode202[String] = 6373083829464571372
@SiteCode203[String] = 6373083833327492328
@SiteCode204[String] = 6373083841964286321
@SiteCode205[String] = 6373083844982558950
@SiteCode206[String] = 6373083847585007801
@SiteCode207[String] = 6373083856887939900
@SiteCode208[String] = 6373083859102666584
@SiteCode209[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:36:48
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:36:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:36:51
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId210) AND ([TbModelOrg].[SiteCode] IN (@SiteCode211))) 	
Parameters:
@ProjectId210[String] = 6372912251695766465
@SiteCode211[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:37:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:37:01
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId212) AND ([TbModelOrg].[SiteCode] IN (@SiteCode213))) 	
Parameters:
@ProjectId212[String] = 6372912251695766465
@SiteCode213[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:37:01
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode214	
Parameters:
@SiteCode214[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:37:01
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path215,@ProjectId216,@SiteCode217,@Type218);select scope_identity()	
Parameters:
@Path215[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId216[String] = 6372912251695766465
@SiteCode217[String] = 6373083829464571372
@Type218[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:37:01
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path219,@ProjectId220,@SiteCode221,@Type222);select scope_identity()	
Parameters:
@Path219[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId220[String] = 6372912251695766465
@SiteCode221[String] = 6373083829464571372
@Type222[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:37:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:37:01
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId223) AND ([TbModelOrg].[SiteCode] IN (@SiteCode224))) 	
Parameters:
@ProjectId223[String] = 6372912251695766465
@SiteCode224[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:37:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:37:09
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId225) AND ([TbModelOrg].[SiteCode] IN (@SiteCode226))) 	
Parameters:
@ProjectId225[String] = 6372912251695766465
@SiteCode226[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:37:09
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode227	
Parameters:
@SiteCode227[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:37:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:37:09
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId228) AND ([TbModelOrg].[SiteCode] IN (@SiteCode229))) 	
Parameters:
@ProjectId228[String] = 6372912251695766465
@SiteCode229[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:37:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:37:10
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId230) AND ([TbModelOrg].[SiteCode] IN (@SiteCode231))) 	
Parameters:
@ProjectId230[String] = 6372912251695766465
@SiteCode231[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:37:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:37:16
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId232) AND ([TbModelOrg].[SiteCode] IN (@SiteCode233))) 	
Parameters:
@ProjectId232[String] = 6372912251695766465
@SiteCode233[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:37:16
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path234,@ProjectId235,@SiteCode236,@Type237);select scope_identity()	
Parameters:
@Path234[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId235[String] = 6372912251695766465
@SiteCode236[String] = 6373083829464571372
@Type237[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:37:16
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path238,@ProjectId239,@SiteCode240,@Type241);select scope_identity()	
Parameters:
@Path238[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId239[String] = 6372912251695766465
@SiteCode240[String] = 6373083829464571372
@Type241[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:37:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:37:16
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId242) AND ([TbModelOrg].[SiteCode] IN (@SiteCode243))) 	
Parameters:
@ProjectId242[String] = 6372912251695766465
@SiteCode243[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:38:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:38:19
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:38:19
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:38:19
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:38:19
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:38:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:38:19
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId244) AND ([TbModelOrg].[SiteCode] IN (@SiteCode245,@SiteCode246,@SiteCode247,@SiteCode248,@SiteCode249,@SiteCode250,@SiteCode251,@SiteCode252,@SiteCode253,@SiteCode254,@SiteCode255,@SiteCode256,@SiteCode257,@SiteCode258,@SiteCode259,@SiteCode260,@SiteCode261,@SiteCode262,@SiteCode263,@SiteCode264,@SiteCode265,@SiteCode266,@SiteCode267,@SiteCode268,@SiteCode269,@SiteCode270))) 	
Parameters:
@ProjectId244[String] = 6372912251695766465
@SiteCode245[String] = 6373083923489249281
@SiteCode246[String] = 6373083925531366080
@SiteCode247[String] = 6373083927883400612
@SiteCode248[String] = 6373083918575368225
@SiteCode249[String] = 6373083920445075162
@SiteCode250[String] = 6373083908618598731
@SiteCode251[String] = 6373083911842783146
@SiteCode252[String] = 6373083913928202424
@SiteCode253[String] = 6373083877551621804
@SiteCode254[String] = 6373083879921857377
@SiteCode255[String] = 6373083881542550067
@SiteCode256[String] = 6373083883689772886
@SiteCode257[String] = 6373083887136270013
@SiteCode258[String] = 6373083889697116488
@SiteCode259[String] = 6373083891969846476
@SiteCode260[String] = 6373083894422586761
@SiteCode261[String] = 6373083897509963358
@SiteCode262[String] = 6373083900444931227
@SiteCode263[String] = 6373083829464571372
@SiteCode264[String] = 6373083833327492328
@SiteCode265[String] = 6373083841964286321
@SiteCode266[String] = 6373083844982558950
@SiteCode267[String] = 6373083847585007801
@SiteCode268[String] = 6373083856887939900
@SiteCode269[String] = 6373083859102666584
@SiteCode270[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:38:24
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:38:24
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId271) AND ([TbModelOrg].[SiteCode] IN (@SiteCode272))) 	
Parameters:
@ProjectId271[String] = 6372912251695766465
@SiteCode272[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:38:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:38:30
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId273) AND ([TbModelOrg].[SiteCode] IN (@SiteCode274))) 	
Parameters:
@ProjectId273[String] = 6372912251695766465
@SiteCode274[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:38:30
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode275	
Parameters:
@SiteCode275[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:38:30
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path276,@ProjectId277,@SiteCode278,@Type279);select scope_identity()	
Parameters:
@Path276[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId277[String] = 6372912251695766465
@SiteCode278[String] = 6373083829464571372
@Type279[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:38:30
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path280,@ProjectId281,@SiteCode282,@Type283);select scope_identity()	
Parameters:
@Path280[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId281[String] = 6372912251695766465
@SiteCode282[String] = 6373083829464571372
@Type283[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:38:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:38:30
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId284) AND ([TbModelOrg].[SiteCode] IN (@SiteCode285))) 	
Parameters:
@ProjectId284[String] = 6372912251695766465
@SiteCode285[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:38:55
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:38:55
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:38:55
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:38:55
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:38:55
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId286) AND ([TbModelOrg].[SiteCode] IN (@SiteCode287,@SiteCode288,@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299,@SiteCode300,@SiteCode301,@SiteCode302,@SiteCode303,@SiteCode304,@SiteCode305,@SiteCode306,@SiteCode307,@SiteCode308,@SiteCode309,@SiteCode310,@SiteCode311,@SiteCode312))) 	
Parameters:
@ProjectId286[String] = 6372912251695766465
@SiteCode287[String] = 6373083923489249281
@SiteCode288[String] = 6373083925531366080
@SiteCode289[String] = 6373083927883400612
@SiteCode290[String] = 6373083918575368225
@SiteCode291[String] = 6373083920445075162
@SiteCode292[String] = 6373083908618598731
@SiteCode293[String] = 6373083911842783146
@SiteCode294[String] = 6373083913928202424
@SiteCode295[String] = 6373083877551621804
@SiteCode296[String] = 6373083879921857377
@SiteCode297[String] = 6373083881542550067
@SiteCode298[String] = 6373083883689772886
@SiteCode299[String] = 6373083887136270013
@SiteCode300[String] = 6373083889697116488
@SiteCode301[String] = 6373083891969846476
@SiteCode302[String] = 6373083894422586761
@SiteCode303[String] = 6373083897509963358
@SiteCode304[String] = 6373083900444931227
@SiteCode305[String] = 6373083829464571372
@SiteCode306[String] = 6373083833327492328
@SiteCode307[String] = 6373083841964286321
@SiteCode308[String] = 6373083844982558950
@SiteCode309[String] = 6373083847585007801
@SiteCode310[String] = 6373083856887939900
@SiteCode311[String] = 6373083859102666584
@SiteCode312[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:38:55
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:38:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:38:58
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId313) AND ([TbModelOrg].[SiteCode] IN (@SiteCode314))) 	
Parameters:
@ProjectId313[String] = 6372912251695766465
@SiteCode314[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:39:05
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId315) AND ([TbModelOrg].[SiteCode] IN (@SiteCode316))) 	
Parameters:
@ProjectId315[String] = 6372912251695766465
@SiteCode316[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:05
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode317	
Parameters:
@SiteCode317[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:05
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path318,@ProjectId319,@SiteCode320,@Type321);select scope_identity()	
Parameters:
@Path318[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId319[String] = 6372912251695766465
@SiteCode320[String] = 6373083829464571372
@Type321[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:39:05
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path322,@ProjectId323,@SiteCode324,@Type325);select scope_identity()	
Parameters:
@Path322[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId323[String] = 6372912251695766465
@SiteCode324[String] = 6373083829464571372
@Type325[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:39:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:39:05
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId326) AND ([TbModelOrg].[SiteCode] IN (@SiteCode327))) 	
Parameters:
@ProjectId326[String] = 6372912251695766465
@SiteCode327[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:29
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 11:39:29
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 11:39:29
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 11:39:29
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 11:39:29
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:39:29
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId328) AND ([TbModelOrg].[SiteCode] IN (@SiteCode329,@SiteCode330,@SiteCode331,@SiteCode332,@SiteCode333,@SiteCode334,@SiteCode335,@SiteCode336,@SiteCode337,@SiteCode338,@SiteCode339,@SiteCode340,@SiteCode341,@SiteCode342,@SiteCode343,@SiteCode344,@SiteCode345,@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354))) 	
Parameters:
@ProjectId328[String] = 6372912251695766465
@SiteCode329[String] = 6373083923489249281
@SiteCode330[String] = 6373083925531366080
@SiteCode331[String] = 6373083927883400612
@SiteCode332[String] = 6373083918575368225
@SiteCode333[String] = 6373083920445075162
@SiteCode334[String] = 6373083908618598731
@SiteCode335[String] = 6373083911842783146
@SiteCode336[String] = 6373083913928202424
@SiteCode337[String] = 6373083877551621804
@SiteCode338[String] = 6373083879921857377
@SiteCode339[String] = 6373083881542550067
@SiteCode340[String] = 6373083883689772886
@SiteCode341[String] = 6373083887136270013
@SiteCode342[String] = 6373083889697116488
@SiteCode343[String] = 6373083891969846476
@SiteCode344[String] = 6373083894422586761
@SiteCode345[String] = 6373083897509963358
@SiteCode346[String] = 6373083900444931227
@SiteCode347[String] = 6373083829464571372
@SiteCode348[String] = 6373083833327492328
@SiteCode349[String] = 6373083841964286321
@SiteCode350[String] = 6373083844982558950
@SiteCode351[String] = 6373083847585007801
@SiteCode352[String] = 6373083856887939900
@SiteCode353[String] = 6373083859102666584
@SiteCode354[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 11:39:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:39:30
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId355) AND ([TbModelOrg].[SiteCode] IN (@SiteCode356))) 	
Parameters:
@ProjectId355[String] = 6372912251695766465
@SiteCode356[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:39:37
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId357) AND ([TbModelOrg].[SiteCode] IN (@SiteCode358))) 	
Parameters:
@ProjectId357[String] = 6372912251695766465
@SiteCode358[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:37
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode359	
Parameters:
@SiteCode359[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:37
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path360,@ProjectId361,@SiteCode362,@Type363);select scope_identity()	
Parameters:
@Path360[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId361[String] = 6372912251695766465
@SiteCode362[String] = 6373083829464571372
@Type363[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:39:37
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path364,@ProjectId365,@SiteCode366,@Type367);select scope_identity()	
Parameters:
@Path364[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId365[String] = 6372912251695766465
@SiteCode366[String] = 6373083829464571372
@Type367[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:39:37
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:39:37
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId368) AND ([TbModelOrg].[SiteCode] IN (@SiteCode369))) 	
Parameters:
@ProjectId368[String] = 6372912251695766465
@SiteCode369[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:39:42
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId370) AND ([TbModelOrg].[SiteCode] IN (@SiteCode371))) 	
Parameters:
@ProjectId370[String] = 6372912251695766465
@SiteCode371[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:42
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode372	
Parameters:
@SiteCode372[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:39:42
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId373) AND ([TbModelOrg].[SiteCode] IN (@SiteCode374))) 	
Parameters:
@ProjectId373[String] = 6372912251695766465
@SiteCode374[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:39:49
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId375) AND ([TbModelOrg].[SiteCode] IN (@SiteCode376))) 	
Parameters:
@ProjectId375[String] = 6372912251695766465
@SiteCode376[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:39:49
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path377,@ProjectId378,@SiteCode379,@Type380);select scope_identity()	
Parameters:
@Path377[String] = 6373083829464571372/tmp2459.tmp.db
@ProjectId378[String] = 6372912251695766465
@SiteCode379[String] = 6373083829464571372
@Type380[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 11:39:49
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path381,@ProjectId382,@SiteCode383,@Type384);select scope_identity()	
Parameters:
@Path381[String] = 6373083829464571372/tmp2459.tmp.json
@ProjectId382[String] = 6372912251695766465
@SiteCode383[String] = 6373083829464571372
@Type384[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 11:39:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 11:39:49
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId385) AND ([TbModelOrg].[SiteCode] IN (@SiteCode386))) 	
Parameters:
@ProjectId385[String] = 6372912251695766465
@SiteCode386[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 11:41:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:44:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:47:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:50:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:53:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:56:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 11:59:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:02:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:05:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:08:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:11:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:14:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:17:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:20:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:23:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:26:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:29:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:32:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:35:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:38:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:41:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:44:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:47:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:50:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:53:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:56:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 12:59:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:02:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:05:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:08:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:11:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:14:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:17:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:20:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:23:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:26:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:29:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:32:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:35:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:38:16
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:41:43
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:41:47
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 13:41:47
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 13:41:47
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:41:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type1) 	
Parameters:
@Type1[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 13:41:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type2) 	
Parameters:
@Type2[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 13:41:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 13:41:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 13:41:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:41:49
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29)))	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:41:49
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode31) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:41:49
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 13:41:49
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 13:41:49
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 13:41:57
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 13:41:57
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 13:41:57
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 13:41:57
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 13:41:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:41:57
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId33) AND ([TbModelOrg].[SiteCode] IN (@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59))) 	
Parameters:
@ProjectId33[String] = 6372912251695766465
@SiteCode34[String] = 6373083923489249281
@SiteCode35[String] = 6373083925531366080
@SiteCode36[String] = 6373083927883400612
@SiteCode37[String] = 6373083918575368225
@SiteCode38[String] = 6373083920445075162
@SiteCode39[String] = 6373083908618598731
@SiteCode40[String] = 6373083911842783146
@SiteCode41[String] = 6373083913928202424
@SiteCode42[String] = 6373083877551621804
@SiteCode43[String] = 6373083879921857377
@SiteCode44[String] = 6373083881542550067
@SiteCode45[String] = 6373083883689772886
@SiteCode46[String] = 6373083887136270013
@SiteCode47[String] = 6373083889697116488
@SiteCode48[String] = 6373083891969846476
@SiteCode49[String] = 6373083894422586761
@SiteCode50[String] = 6373083897509963358
@SiteCode51[String] = 6373083900444931227
@SiteCode52[String] = 6373083829464571372
@SiteCode53[String] = 6373083833327492328
@SiteCode54[String] = 6373083841964286321
@SiteCode55[String] = 6373083844982558950
@SiteCode56[String] = 6373083847585007801
@SiteCode57[String] = 6373083856887939900
@SiteCode58[String] = 6373083859102666584
@SiteCode59[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 13:41:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:41:59
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId60) AND ([TbModelOrg].[SiteCode] IN (@SiteCode61))) 	
Parameters:
@ProjectId60[String] = 6372912251695766465
@SiteCode61[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:42:00
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:42:00
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId62) AND ([TbModelOrg].[SiteCode] IN (@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88))) 	
Parameters:
@ProjectId62[String] = 6372912251695766465
@SiteCode63[String] = 6373083923489249281
@SiteCode64[String] = 6373083925531366080
@SiteCode65[String] = 6373083927883400612
@SiteCode66[String] = 6373083918575368225
@SiteCode67[String] = 6373083920445075162
@SiteCode68[String] = 6373083908618598731
@SiteCode69[String] = 6373083911842783146
@SiteCode70[String] = 6373083913928202424
@SiteCode71[String] = 6373083877551621804
@SiteCode72[String] = 6373083879921857377
@SiteCode73[String] = 6373083881542550067
@SiteCode74[String] = 6373083883689772886
@SiteCode75[String] = 6373083887136270013
@SiteCode76[String] = 6373083889697116488
@SiteCode77[String] = 6373083891969846476
@SiteCode78[String] = 6373083894422586761
@SiteCode79[String] = 6373083897509963358
@SiteCode80[String] = 6373083900444931227
@SiteCode81[String] = 6373083829464571372
@SiteCode82[String] = 6373083833327492328
@SiteCode83[String] = 6373083841964286321
@SiteCode84[String] = 6373083844982558950
@SiteCode85[String] = 6373083847585007801
@SiteCode86[String] = 6373083856887939900
@SiteCode87[String] = 6373083859102666584
@SiteCode88[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 13:47:51
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:47:53
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 13:47:53
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 13:47:53
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:47:54
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type89) 	
Parameters:
@Type89[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 13:47:54
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type90) 	
Parameters:
@Type90[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 13:47:54
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 13:47:54
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 13:47:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:47:54
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode118)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId91) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117)))	
Parameters:
@ProjectId91[String] = 6372912251695766465
@SiteCode92[String] = 6373083923489249281
@SiteCode93[String] = 6373083925531366080
@SiteCode94[String] = 6373083927883400612
@SiteCode95[String] = 6373083918575368225
@SiteCode96[String] = 6373083920445075162
@SiteCode97[String] = 6373083908618598731
@SiteCode98[String] = 6373083911842783146
@SiteCode99[String] = 6373083913928202424
@SiteCode100[String] = 6373083877551621804
@SiteCode101[String] = 6373083879921857377
@SiteCode102[String] = 6373083881542550067
@SiteCode103[String] = 6373083883689772886
@SiteCode104[String] = 6373083887136270013
@SiteCode105[String] = 6373083889697116488
@SiteCode106[String] = 6373083891969846476
@SiteCode107[String] = 6373083894422586761
@SiteCode108[String] = 6373083897509963358
@SiteCode109[String] = 6373083900444931227
@SiteCode110[String] = 6373083829464571372
@SiteCode111[String] = 6373083833327492328
@SiteCode112[String] = 6373083841964286321
@SiteCode113[String] = 6373083844982558950
@SiteCode114[String] = 6373083847585007801
@SiteCode115[String] = 6373083856887939900
@SiteCode116[String] = 6373083859102666584
@SiteCode117[String] = 6373083864919499284
@FDictionaryCode118[String] = OrderState
@FDictionaryCode119[String] = UrgentDegree
@FDictionaryCode120[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:47:54
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode119) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode120) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode118)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId91) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId91[String] = 6372912251695766465
@SiteCode92[String] = 6373083923489249281
@SiteCode93[String] = 6373083925531366080
@SiteCode94[String] = 6373083927883400612
@SiteCode95[String] = 6373083918575368225
@SiteCode96[String] = 6373083920445075162
@SiteCode97[String] = 6373083908618598731
@SiteCode98[String] = 6373083911842783146
@SiteCode99[String] = 6373083913928202424
@SiteCode100[String] = 6373083877551621804
@SiteCode101[String] = 6373083879921857377
@SiteCode102[String] = 6373083881542550067
@SiteCode103[String] = 6373083883689772886
@SiteCode104[String] = 6373083887136270013
@SiteCode105[String] = 6373083889697116488
@SiteCode106[String] = 6373083891969846476
@SiteCode107[String] = 6373083894422586761
@SiteCode108[String] = 6373083897509963358
@SiteCode109[String] = 6373083900444931227
@SiteCode110[String] = 6373083829464571372
@SiteCode111[String] = 6373083833327492328
@SiteCode112[String] = 6373083841964286321
@SiteCode113[String] = 6373083844982558950
@SiteCode114[String] = 6373083847585007801
@SiteCode115[String] = 6373083856887939900
@SiteCode116[String] = 6373083859102666584
@SiteCode117[String] = 6373083864919499284
@FDictionaryCode118[String] = OrderState
@FDictionaryCode119[String] = UrgentDegree
@FDictionaryCode120[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:47:54
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 13:47:54
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 13:47:54
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 13:48:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 13:48:08
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 13:48:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 13:48:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 13:48:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:48:08
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId121) AND ([TbModelOrg].[SiteCode] IN (@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132,@SiteCode133,@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147))) 	
Parameters:
@ProjectId121[String] = 6372912251695766465
@SiteCode122[String] = 6373083923489249281
@SiteCode123[String] = 6373083925531366080
@SiteCode124[String] = 6373083927883400612
@SiteCode125[String] = 6373083918575368225
@SiteCode126[String] = 6373083920445075162
@SiteCode127[String] = 6373083908618598731
@SiteCode128[String] = 6373083911842783146
@SiteCode129[String] = 6373083913928202424
@SiteCode130[String] = 6373083877551621804
@SiteCode131[String] = 6373083879921857377
@SiteCode132[String] = 6373083881542550067
@SiteCode133[String] = 6373083883689772886
@SiteCode134[String] = 6373083887136270013
@SiteCode135[String] = 6373083889697116488
@SiteCode136[String] = 6373083891969846476
@SiteCode137[String] = 6373083894422586761
@SiteCode138[String] = 6373083897509963358
@SiteCode139[String] = 6373083900444931227
@SiteCode140[String] = 6373083829464571372
@SiteCode141[String] = 6373083833327492328
@SiteCode142[String] = 6373083841964286321
@SiteCode143[String] = 6373083844982558950
@SiteCode144[String] = 6373083847585007801
@SiteCode145[String] = 6373083856887939900
@SiteCode146[String] = 6373083859102666584
@SiteCode147[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 13:48:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:48:10
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId148) AND ([TbModelOrg].[SiteCode] IN (@SiteCode149))) 	
Parameters:
@ProjectId148[String] = 6372912251695766465
@SiteCode149[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:48:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:48:14
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId150) AND ([TbModelOrg].[SiteCode] IN (@SiteCode151))) 	
Parameters:
@ProjectId150[String] = 6372912251695766465
@SiteCode151[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:48:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:48:33
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId152) AND ([TbModelOrg].[SiteCode] IN (@SiteCode153))) 	
Parameters:
@ProjectId152[String] = 6372912251695766465
@SiteCode153[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:48:59
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 13:48:59
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 13:48:59
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:48:59
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type154) 	
Parameters:
@Type154[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 13:48:59
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type155) 	
Parameters:
@Type155[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 13:48:59
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 13:48:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:48:59
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode183)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId156) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182)))	
Parameters:
@ProjectId156[String] = 6372912251695766465
@SiteCode157[String] = 6373083923489249281
@SiteCode158[String] = 6373083925531366080
@SiteCode159[String] = 6373083927883400612
@SiteCode160[String] = 6373083918575368225
@SiteCode161[String] = 6373083920445075162
@SiteCode162[String] = 6373083908618598731
@SiteCode163[String] = 6373083911842783146
@SiteCode164[String] = 6373083913928202424
@SiteCode165[String] = 6373083877551621804
@SiteCode166[String] = 6373083879921857377
@SiteCode167[String] = 6373083881542550067
@SiteCode168[String] = 6373083883689772886
@SiteCode169[String] = 6373083887136270013
@SiteCode170[String] = 6373083889697116488
@SiteCode171[String] = 6373083891969846476
@SiteCode172[String] = 6373083894422586761
@SiteCode173[String] = 6373083897509963358
@SiteCode174[String] = 6373083900444931227
@SiteCode175[String] = 6373083829464571372
@SiteCode176[String] = 6373083833327492328
@SiteCode177[String] = 6373083841964286321
@SiteCode178[String] = 6373083844982558950
@SiteCode179[String] = 6373083847585007801
@SiteCode180[String] = 6373083856887939900
@SiteCode181[String] = 6373083859102666584
@SiteCode182[String] = 6373083864919499284
@FDictionaryCode183[String] = OrderState
@FDictionaryCode184[String] = UrgentDegree
@FDictionaryCode185[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:48:59
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 13:48:59
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode184) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode185) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode183)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId156) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId156[String] = 6372912251695766465
@SiteCode157[String] = 6373083923489249281
@SiteCode158[String] = 6373083925531366080
@SiteCode159[String] = 6373083927883400612
@SiteCode160[String] = 6373083918575368225
@SiteCode161[String] = 6373083920445075162
@SiteCode162[String] = 6373083908618598731
@SiteCode163[String] = 6373083911842783146
@SiteCode164[String] = 6373083913928202424
@SiteCode165[String] = 6373083877551621804
@SiteCode166[String] = 6373083879921857377
@SiteCode167[String] = 6373083881542550067
@SiteCode168[String] = 6373083883689772886
@SiteCode169[String] = 6373083887136270013
@SiteCode170[String] = 6373083889697116488
@SiteCode171[String] = 6373083891969846476
@SiteCode172[String] = 6373083894422586761
@SiteCode173[String] = 6373083897509963358
@SiteCode174[String] = 6373083900444931227
@SiteCode175[String] = 6373083829464571372
@SiteCode176[String] = 6373083833327492328
@SiteCode177[String] = 6373083841964286321
@SiteCode178[String] = 6373083844982558950
@SiteCode179[String] = 6373083847585007801
@SiteCode180[String] = 6373083856887939900
@SiteCode181[String] = 6373083859102666584
@SiteCode182[String] = 6373083864919499284
@FDictionaryCode183[String] = OrderState
@FDictionaryCode184[String] = UrgentDegree
@FDictionaryCode185[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:49:00
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 13:49:00
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 13:49:00
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 13:49:04
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 13:49:04
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 13:49:04
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 13:49:04
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 13:49:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:49:04
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId186) AND ([TbModelOrg].[SiteCode] IN (@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207,@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212))) 	
Parameters:
@ProjectId186[String] = 6372912251695766465
@SiteCode187[String] = 6373083923489249281
@SiteCode188[String] = 6373083925531366080
@SiteCode189[String] = 6373083927883400612
@SiteCode190[String] = 6373083918575368225
@SiteCode191[String] = 6373083920445075162
@SiteCode192[String] = 6373083908618598731
@SiteCode193[String] = 6373083911842783146
@SiteCode194[String] = 6373083913928202424
@SiteCode195[String] = 6373083877551621804
@SiteCode196[String] = 6373083879921857377
@SiteCode197[String] = 6373083881542550067
@SiteCode198[String] = 6373083883689772886
@SiteCode199[String] = 6373083887136270013
@SiteCode200[String] = 6373083889697116488
@SiteCode201[String] = 6373083891969846476
@SiteCode202[String] = 6373083894422586761
@SiteCode203[String] = 6373083897509963358
@SiteCode204[String] = 6373083900444931227
@SiteCode205[String] = 6373083829464571372
@SiteCode206[String] = 6373083833327492328
@SiteCode207[String] = 6373083841964286321
@SiteCode208[String] = 6373083844982558950
@SiteCode209[String] = 6373083847585007801
@SiteCode210[String] = 6373083856887939900
@SiteCode211[String] = 6373083859102666584
@SiteCode212[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 13:49:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:49:11
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId213) AND ([TbModelOrg].[SiteCode] IN (@SiteCode214))) 	
Parameters:
@ProjectId213[String] = 6372912251695766465
@SiteCode214[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:50:13
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 13:50:13
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 13:50:13
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:50:14
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type215) 	
Parameters:
@Type215[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 13:50:14
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type216) 	
Parameters:
@Type216[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 13:50:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 13:50:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:50:14
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode244)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId217) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode218,@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225,@SiteCode226,@SiteCode227,@SiteCode228,@SiteCode229,@SiteCode230,@SiteCode231,@SiteCode232,@SiteCode233,@SiteCode234,@SiteCode235,@SiteCode236,@SiteCode237,@SiteCode238,@SiteCode239,@SiteCode240,@SiteCode241,@SiteCode242,@SiteCode243)))	
Parameters:
@ProjectId217[String] = 6372912251695766465
@SiteCode218[String] = 6373083923489249281
@SiteCode219[String] = 6373083925531366080
@SiteCode220[String] = 6373083927883400612
@SiteCode221[String] = 6373083918575368225
@SiteCode222[String] = 6373083920445075162
@SiteCode223[String] = 6373083908618598731
@SiteCode224[String] = 6373083911842783146
@SiteCode225[String] = 6373083913928202424
@SiteCode226[String] = 6373083877551621804
@SiteCode227[String] = 6373083879921857377
@SiteCode228[String] = 6373083881542550067
@SiteCode229[String] = 6373083883689772886
@SiteCode230[String] = 6373083887136270013
@SiteCode231[String] = 6373083889697116488
@SiteCode232[String] = 6373083891969846476
@SiteCode233[String] = 6373083894422586761
@SiteCode234[String] = 6373083897509963358
@SiteCode235[String] = 6373083900444931227
@SiteCode236[String] = 6373083829464571372
@SiteCode237[String] = 6373083833327492328
@SiteCode238[String] = 6373083841964286321
@SiteCode239[String] = 6373083844982558950
@SiteCode240[String] = 6373083847585007801
@SiteCode241[String] = 6373083856887939900
@SiteCode242[String] = 6373083859102666584
@SiteCode243[String] = 6373083864919499284
@FDictionaryCode244[String] = OrderState
@FDictionaryCode245[String] = UrgentDegree
@FDictionaryCode246[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:50:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 13:50:14
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode245) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode246) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode244)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId217) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode218,@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225,@SiteCode226,@SiteCode227,@SiteCode228,@SiteCode229,@SiteCode230,@SiteCode231,@SiteCode232,@SiteCode233,@SiteCode234,@SiteCode235,@SiteCode236,@SiteCode237,@SiteCode238,@SiteCode239,@SiteCode240,@SiteCode241,@SiteCode242,@SiteCode243))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId217[String] = 6372912251695766465
@SiteCode218[String] = 6373083923489249281
@SiteCode219[String] = 6373083925531366080
@SiteCode220[String] = 6373083927883400612
@SiteCode221[String] = 6373083918575368225
@SiteCode222[String] = 6373083920445075162
@SiteCode223[String] = 6373083908618598731
@SiteCode224[String] = 6373083911842783146
@SiteCode225[String] = 6373083913928202424
@SiteCode226[String] = 6373083877551621804
@SiteCode227[String] = 6373083879921857377
@SiteCode228[String] = 6373083881542550067
@SiteCode229[String] = 6373083883689772886
@SiteCode230[String] = 6373083887136270013
@SiteCode231[String] = 6373083889697116488
@SiteCode232[String] = 6373083891969846476
@SiteCode233[String] = 6373083894422586761
@SiteCode234[String] = 6373083897509963358
@SiteCode235[String] = 6373083900444931227
@SiteCode236[String] = 6373083829464571372
@SiteCode237[String] = 6373083833327492328
@SiteCode238[String] = 6373083841964286321
@SiteCode239[String] = 6373083844982558950
@SiteCode240[String] = 6373083847585007801
@SiteCode241[String] = 6373083856887939900
@SiteCode242[String] = 6373083859102666584
@SiteCode243[String] = 6373083864919499284
@FDictionaryCode244[String] = OrderState
@FDictionaryCode245[String] = UrgentDegree
@FDictionaryCode246[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:50:14
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 13:50:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 13:50:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 13:50:20
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:50:20
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId247) AND ([TbModelOrg].[SiteCode] IN (@SiteCode248))) 	
Parameters:
@ProjectId247[String] = 6372912251695766465
@SiteCode248[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:51:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:51:16
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId249) AND ([TbModelOrg].[SiteCode] IN (@SiteCode250))) 	
Parameters:
@ProjectId249[String] = 6372912251695766465
@SiteCode250[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:52:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:52:17
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId251) AND ([TbModelOrg].[SiteCode] IN (@SiteCode252))) 	
Parameters:
@ProjectId251[String] = 6372912251695766465
@SiteCode252[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:52:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:52:21
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId253) AND ([TbModelOrg].[SiteCode] IN (@SiteCode254))) 	
Parameters:
@ProjectId253[String] = 6372912251695766465
@SiteCode254[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:54:20
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:54:22
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 13:54:22
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 13:54:22
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:54:23
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type1) 	
Parameters:
@Type1[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 13:54:24
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type2) 	
Parameters:
@Type2[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 13:54:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 13:54:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 13:54:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:54:25
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 13:54:25
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29)))	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:54:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 13:54:25
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode31) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:54:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 13:54:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:54:40
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId33) AND ([TbModelOrg].[SiteCode] IN (@SiteCode34))) 	
Parameters:
@ProjectId33[String] = 6372912251695766465
@SiteCode34[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:55:29
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:55:29
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId35) AND ([TbModelOrg].[SiteCode] IN (@SiteCode36))) 	
Parameters:
@ProjectId35[String] = 6372912251695766465
@SiteCode36[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:55:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:55:32
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId37) AND ([TbModelOrg].[SiteCode] IN (@SiteCode38))) 	
Parameters:
@ProjectId37[String] = 6372912251695766465
@SiteCode38[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 13:57:21
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:59:18
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 13:59:18
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 13:59:18
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 13:59:27
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type39) 	
Parameters:
@Type39[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 13:59:27
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type40) 	
Parameters:
@Type40[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 13:59:27
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 13:59:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:59:27
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode68)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId41) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67)))	
Parameters:
@ProjectId41[String] = 6372912251695766465
@SiteCode42[String] = 6373083923489249281
@SiteCode43[String] = 6373083925531366080
@SiteCode44[String] = 6373083927883400612
@SiteCode45[String] = 6373083918575368225
@SiteCode46[String] = 6373083920445075162
@SiteCode47[String] = 6373083908618598731
@SiteCode48[String] = 6373083911842783146
@SiteCode49[String] = 6373083913928202424
@SiteCode50[String] = 6373083877551621804
@SiteCode51[String] = 6373083879921857377
@SiteCode52[String] = 6373083881542550067
@SiteCode53[String] = 6373083883689772886
@SiteCode54[String] = 6373083887136270013
@SiteCode55[String] = 6373083889697116488
@SiteCode56[String] = 6373083891969846476
@SiteCode57[String] = 6373083894422586761
@SiteCode58[String] = 6373083897509963358
@SiteCode59[String] = 6373083900444931227
@SiteCode60[String] = 6373083829464571372
@SiteCode61[String] = 6373083833327492328
@SiteCode62[String] = 6373083841964286321
@SiteCode63[String] = 6373083844982558950
@SiteCode64[String] = 6373083847585007801
@SiteCode65[String] = 6373083856887939900
@SiteCode66[String] = 6373083859102666584
@SiteCode67[String] = 6373083864919499284
@FDictionaryCode68[String] = OrderState
@FDictionaryCode69[String] = UrgentDegree
@FDictionaryCode70[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:59:27
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 13:59:27
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode69) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode70) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode68)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId41) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId41[String] = 6372912251695766465
@SiteCode42[String] = 6373083923489249281
@SiteCode43[String] = 6373083925531366080
@SiteCode44[String] = 6373083927883400612
@SiteCode45[String] = 6373083918575368225
@SiteCode46[String] = 6373083920445075162
@SiteCode47[String] = 6373083908618598731
@SiteCode48[String] = 6373083911842783146
@SiteCode49[String] = 6373083913928202424
@SiteCode50[String] = 6373083877551621804
@SiteCode51[String] = 6373083879921857377
@SiteCode52[String] = 6373083881542550067
@SiteCode53[String] = 6373083883689772886
@SiteCode54[String] = 6373083887136270013
@SiteCode55[String] = 6373083889697116488
@SiteCode56[String] = 6373083891969846476
@SiteCode57[String] = 6373083894422586761
@SiteCode58[String] = 6373083897509963358
@SiteCode59[String] = 6373083900444931227
@SiteCode60[String] = 6373083829464571372
@SiteCode61[String] = 6373083833327492328
@SiteCode62[String] = 6373083841964286321
@SiteCode63[String] = 6373083844982558950
@SiteCode64[String] = 6373083847585007801
@SiteCode65[String] = 6373083856887939900
@SiteCode66[String] = 6373083859102666584
@SiteCode67[String] = 6373083864919499284
@FDictionaryCode68[String] = OrderState
@FDictionaryCode69[String] = UrgentDegree
@FDictionaryCode70[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 13:59:27
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 13:59:27
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 13:59:27
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 13:59:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 13:59:32
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId71) AND ([TbModelOrg].[SiteCode] IN (@SiteCode72))) 	
Parameters:
@ProjectId71[String] = 6372912251695766465
@SiteCode72[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 14:00:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:00:39
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId73) AND ([TbModelOrg].[SiteCode] IN (@SiteCode74))) 	
Parameters:
@ProjectId73[String] = 6372912251695766465
@SiteCode74[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 14:00:41
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 14:00:41
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 14:00:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:00:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type75) 	
Parameters:
@Type75[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 14:00:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type76) 	
Parameters:
@Type76[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 14:00:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 14:00:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 14:00:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:00:42
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode104)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId77) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103)))	
Parameters:
@ProjectId77[String] = 6372912251695766465
@SiteCode78[String] = 6373083923489249281
@SiteCode79[String] = 6373083925531366080
@SiteCode80[String] = 6373083927883400612
@SiteCode81[String] = 6373083918575368225
@SiteCode82[String] = 6373083920445075162
@SiteCode83[String] = 6373083908618598731
@SiteCode84[String] = 6373083911842783146
@SiteCode85[String] = 6373083913928202424
@SiteCode86[String] = 6373083877551621804
@SiteCode87[String] = 6373083879921857377
@SiteCode88[String] = 6373083881542550067
@SiteCode89[String] = 6373083883689772886
@SiteCode90[String] = 6373083887136270013
@SiteCode91[String] = 6373083889697116488
@SiteCode92[String] = 6373083891969846476
@SiteCode93[String] = 6373083894422586761
@SiteCode94[String] = 6373083897509963358
@SiteCode95[String] = 6373083900444931227
@SiteCode96[String] = 6373083829464571372
@SiteCode97[String] = 6373083833327492328
@SiteCode98[String] = 6373083841964286321
@SiteCode99[String] = 6373083844982558950
@SiteCode100[String] = 6373083847585007801
@SiteCode101[String] = 6373083856887939900
@SiteCode102[String] = 6373083859102666584
@SiteCode103[String] = 6373083864919499284
@FDictionaryCode104[String] = OrderState
@FDictionaryCode105[String] = UrgentDegree
@FDictionaryCode106[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:00:42
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode105) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode106) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode104)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId77) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId77[String] = 6372912251695766465
@SiteCode78[String] = 6373083923489249281
@SiteCode79[String] = 6373083925531366080
@SiteCode80[String] = 6373083927883400612
@SiteCode81[String] = 6373083918575368225
@SiteCode82[String] = 6373083920445075162
@SiteCode83[String] = 6373083908618598731
@SiteCode84[String] = 6373083911842783146
@SiteCode85[String] = 6373083913928202424
@SiteCode86[String] = 6373083877551621804
@SiteCode87[String] = 6373083879921857377
@SiteCode88[String] = 6373083881542550067
@SiteCode89[String] = 6373083883689772886
@SiteCode90[String] = 6373083887136270013
@SiteCode91[String] = 6373083889697116488
@SiteCode92[String] = 6373083891969846476
@SiteCode93[String] = 6373083894422586761
@SiteCode94[String] = 6373083897509963358
@SiteCode95[String] = 6373083900444931227
@SiteCode96[String] = 6373083829464571372
@SiteCode97[String] = 6373083833327492328
@SiteCode98[String] = 6373083841964286321
@SiteCode99[String] = 6373083844982558950
@SiteCode100[String] = 6373083847585007801
@SiteCode101[String] = 6373083856887939900
@SiteCode102[String] = 6373083859102666584
@SiteCode103[String] = 6373083864919499284
@FDictionaryCode104[String] = OrderState
@FDictionaryCode105[String] = UrgentDegree
@FDictionaryCode106[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:00:42
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 14:00:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 14:00:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 14:00:47
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:00:47
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId107) AND ([TbModelOrg].[SiteCode] IN (@SiteCode108))) 	
Parameters:
@ProjectId107[String] = 6372912251695766465
@SiteCode108[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 14:03:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:04:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:04:41
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId109) AND ([TbModelOrg].[SiteCode] IN (@SiteCode110))) 	
Parameters:
@ProjectId109[String] = 6372912251695766465
@SiteCode110[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 14:04:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:04:46
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId111) AND ([TbModelOrg].[SiteCode] IN (@SiteCode112))) 	
Parameters:
@ProjectId111[String] = 6372912251695766465
@SiteCode112[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type113) 	
Parameters:
@Type113[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type114) 	
Parameters:
@Type114[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode142)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId115) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132,@SiteCode133,@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141)))	
Parameters:
@ProjectId115[String] = 6372912251695766465
@SiteCode116[String] = 6373083923489249281
@SiteCode117[String] = 6373083925531366080
@SiteCode118[String] = 6373083927883400612
@SiteCode119[String] = 6373083918575368225
@SiteCode120[String] = 6373083920445075162
@SiteCode121[String] = 6373083908618598731
@SiteCode122[String] = 6373083911842783146
@SiteCode123[String] = 6373083913928202424
@SiteCode124[String] = 6373083877551621804
@SiteCode125[String] = 6373083879921857377
@SiteCode126[String] = 6373083881542550067
@SiteCode127[String] = 6373083883689772886
@SiteCode128[String] = 6373083887136270013
@SiteCode129[String] = 6373083889697116488
@SiteCode130[String] = 6373083891969846476
@SiteCode131[String] = 6373083894422586761
@SiteCode132[String] = 6373083897509963358
@SiteCode133[String] = 6373083900444931227
@SiteCode134[String] = 6373083829464571372
@SiteCode135[String] = 6373083833327492328
@SiteCode136[String] = 6373083841964286321
@SiteCode137[String] = 6373083844982558950
@SiteCode138[String] = 6373083847585007801
@SiteCode139[String] = 6373083856887939900
@SiteCode140[String] = 6373083859102666584
@SiteCode141[String] = 6373083864919499284
@FDictionaryCode142[String] = OrderState
@FDictionaryCode143[String] = UrgentDegree
@FDictionaryCode144[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode143) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode144) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode142)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId115) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132,@SiteCode133,@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId115[String] = 6372912251695766465
@SiteCode116[String] = 6373083923489249281
@SiteCode117[String] = 6373083925531366080
@SiteCode118[String] = 6373083927883400612
@SiteCode119[String] = 6373083918575368225
@SiteCode120[String] = 6373083920445075162
@SiteCode121[String] = 6373083908618598731
@SiteCode122[String] = 6373083911842783146
@SiteCode123[String] = 6373083913928202424
@SiteCode124[String] = 6373083877551621804
@SiteCode125[String] = 6373083879921857377
@SiteCode126[String] = 6373083881542550067
@SiteCode127[String] = 6373083883689772886
@SiteCode128[String] = 6373083887136270013
@SiteCode129[String] = 6373083889697116488
@SiteCode130[String] = 6373083891969846476
@SiteCode131[String] = 6373083894422586761
@SiteCode132[String] = 6373083897509963358
@SiteCode133[String] = 6373083900444931227
@SiteCode134[String] = 6373083829464571372
@SiteCode135[String] = 6373083833327492328
@SiteCode136[String] = 6373083841964286321
@SiteCode137[String] = 6373083844982558950
@SiteCode138[String] = 6373083847585007801
@SiteCode139[String] = 6373083856887939900
@SiteCode140[String] = 6373083859102666584
@SiteCode141[String] = 6373083864919499284
@FDictionaryCode142[String] = OrderState
@FDictionaryCode143[String] = UrgentDegree
@FDictionaryCode144[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 14:04:51
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 14:04:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:04:59
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId145) AND ([TbModelOrg].[SiteCode] IN (@SiteCode146))) 	
Parameters:
@ProjectId145[String] = 6372912251695766465
@SiteCode146[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 14:06:34
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 14:06:34
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 14:06:34
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:06:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type147) 	
Parameters:
@Type147[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 14:06:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type148) 	
Parameters:
@Type148[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 14:06:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 14:06:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:06:36
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode176)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId149) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175)))	
Parameters:
@ProjectId149[String] = 6372912251695766465
@SiteCode150[String] = 6373083923489249281
@SiteCode151[String] = 6373083925531366080
@SiteCode152[String] = 6373083927883400612
@SiteCode153[String] = 6373083918575368225
@SiteCode154[String] = 6373083920445075162
@SiteCode155[String] = 6373083908618598731
@SiteCode156[String] = 6373083911842783146
@SiteCode157[String] = 6373083913928202424
@SiteCode158[String] = 6373083877551621804
@SiteCode159[String] = 6373083879921857377
@SiteCode160[String] = 6373083881542550067
@SiteCode161[String] = 6373083883689772886
@SiteCode162[String] = 6373083887136270013
@SiteCode163[String] = 6373083889697116488
@SiteCode164[String] = 6373083891969846476
@SiteCode165[String] = 6373083894422586761
@SiteCode166[String] = 6373083897509963358
@SiteCode167[String] = 6373083900444931227
@SiteCode168[String] = 6373083829464571372
@SiteCode169[String] = 6373083833327492328
@SiteCode170[String] = 6373083841964286321
@SiteCode171[String] = 6373083844982558950
@SiteCode172[String] = 6373083847585007801
@SiteCode173[String] = 6373083856887939900
@SiteCode174[String] = 6373083859102666584
@SiteCode175[String] = 6373083864919499284
@FDictionaryCode176[String] = OrderState
@FDictionaryCode177[String] = UrgentDegree
@FDictionaryCode178[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:06:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 14:06:36
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode177) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode178) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode176)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId149) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId149[String] = 6372912251695766465
@SiteCode150[String] = 6373083923489249281
@SiteCode151[String] = 6373083925531366080
@SiteCode152[String] = 6373083927883400612
@SiteCode153[String] = 6373083918575368225
@SiteCode154[String] = 6373083920445075162
@SiteCode155[String] = 6373083908618598731
@SiteCode156[String] = 6373083911842783146
@SiteCode157[String] = 6373083913928202424
@SiteCode158[String] = 6373083877551621804
@SiteCode159[String] = 6373083879921857377
@SiteCode160[String] = 6373083881542550067
@SiteCode161[String] = 6373083883689772886
@SiteCode162[String] = 6373083887136270013
@SiteCode163[String] = 6373083889697116488
@SiteCode164[String] = 6373083891969846476
@SiteCode165[String] = 6373083894422586761
@SiteCode166[String] = 6373083897509963358
@SiteCode167[String] = 6373083900444931227
@SiteCode168[String] = 6373083829464571372
@SiteCode169[String] = 6373083833327492328
@SiteCode170[String] = 6373083841964286321
@SiteCode171[String] = 6373083844982558950
@SiteCode172[String] = 6373083847585007801
@SiteCode173[String] = 6373083856887939900
@SiteCode174[String] = 6373083859102666584
@SiteCode175[String] = 6373083864919499284
@FDictionaryCode176[String] = OrderState
@FDictionaryCode177[String] = UrgentDegree
@FDictionaryCode178[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:06:36
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 14:06:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 14:06:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type179) 	
Parameters:
@Type179[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type180) 	
Parameters:
@Type180[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode208)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId181) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207)))	
Parameters:
@ProjectId181[String] = 6372912251695766465
@SiteCode182[String] = 6373083923489249281
@SiteCode183[String] = 6373083925531366080
@SiteCode184[String] = 6373083927883400612
@SiteCode185[String] = 6373083918575368225
@SiteCode186[String] = 6373083920445075162
@SiteCode187[String] = 6373083908618598731
@SiteCode188[String] = 6373083911842783146
@SiteCode189[String] = 6373083913928202424
@SiteCode190[String] = 6373083877551621804
@SiteCode191[String] = 6373083879921857377
@SiteCode192[String] = 6373083881542550067
@SiteCode193[String] = 6373083883689772886
@SiteCode194[String] = 6373083887136270013
@SiteCode195[String] = 6373083889697116488
@SiteCode196[String] = 6373083891969846476
@SiteCode197[String] = 6373083894422586761
@SiteCode198[String] = 6373083897509963358
@SiteCode199[String] = 6373083900444931227
@SiteCode200[String] = 6373083829464571372
@SiteCode201[String] = 6373083833327492328
@SiteCode202[String] = 6373083841964286321
@SiteCode203[String] = 6373083844982558950
@SiteCode204[String] = 6373083847585007801
@SiteCode205[String] = 6373083856887939900
@SiteCode206[String] = 6373083859102666584
@SiteCode207[String] = 6373083864919499284
@FDictionaryCode208[String] = OrderState
@FDictionaryCode209[String] = UrgentDegree
@FDictionaryCode210[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode209) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode210) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode208)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId181) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId181[String] = 6372912251695766465
@SiteCode182[String] = 6373083923489249281
@SiteCode183[String] = 6373083925531366080
@SiteCode184[String] = 6373083927883400612
@SiteCode185[String] = 6373083918575368225
@SiteCode186[String] = 6373083920445075162
@SiteCode187[String] = 6373083908618598731
@SiteCode188[String] = 6373083911842783146
@SiteCode189[String] = 6373083913928202424
@SiteCode190[String] = 6373083877551621804
@SiteCode191[String] = 6373083879921857377
@SiteCode192[String] = 6373083881542550067
@SiteCode193[String] = 6373083883689772886
@SiteCode194[String] = 6373083887136270013
@SiteCode195[String] = 6373083889697116488
@SiteCode196[String] = 6373083891969846476
@SiteCode197[String] = 6373083894422586761
@SiteCode198[String] = 6373083897509963358
@SiteCode199[String] = 6373083900444931227
@SiteCode200[String] = 6373083829464571372
@SiteCode201[String] = 6373083833327492328
@SiteCode202[String] = 6373083841964286321
@SiteCode203[String] = 6373083844982558950
@SiteCode204[String] = 6373083847585007801
@SiteCode205[String] = 6373083856887939900
@SiteCode206[String] = 6373083859102666584
@SiteCode207[String] = 6373083864919499284
@FDictionaryCode208[String] = OrderState
@FDictionaryCode209[String] = UrgentDegree
@FDictionaryCode210[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 14:06:40
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 14:06:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:06:45
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId211) AND ([TbModelOrg].[SiteCode] IN (@SiteCode212))) 	
Parameters:
@ProjectId211[String] = 6372912251695766465
@SiteCode212[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 14:09:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:10:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:10:11
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId213) AND ([TbModelOrg].[SiteCode] IN (@SiteCode214))) 	
Parameters:
@ProjectId213[String] = 6372912251695766465
@SiteCode214[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 14:10:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:10:53
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId215) AND ([TbModelOrg].[SiteCode] IN (@SiteCode216))) 	
Parameters:
@ProjectId215[String] = 6372912251695766465
@SiteCode216[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 14:12:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 14:12:17
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 14:12:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 14:12:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 14:12:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:12:17
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId217) AND ([TbModelOrg].[SiteCode] IN (@SiteCode218,@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225,@SiteCode226,@SiteCode227,@SiteCode228,@SiteCode229,@SiteCode230,@SiteCode231,@SiteCode232,@SiteCode233,@SiteCode234,@SiteCode235,@SiteCode236,@SiteCode237,@SiteCode238,@SiteCode239,@SiteCode240,@SiteCode241,@SiteCode242,@SiteCode243))) 	
Parameters:
@ProjectId217[String] = 6372912251695766465
@SiteCode218[String] = 6373083923489249281
@SiteCode219[String] = 6373083925531366080
@SiteCode220[String] = 6373083927883400612
@SiteCode221[String] = 6373083918575368225
@SiteCode222[String] = 6373083920445075162
@SiteCode223[String] = 6373083908618598731
@SiteCode224[String] = 6373083911842783146
@SiteCode225[String] = 6373083913928202424
@SiteCode226[String] = 6373083877551621804
@SiteCode227[String] = 6373083879921857377
@SiteCode228[String] = 6373083881542550067
@SiteCode229[String] = 6373083883689772886
@SiteCode230[String] = 6373083887136270013
@SiteCode231[String] = 6373083889697116488
@SiteCode232[String] = 6373083891969846476
@SiteCode233[String] = 6373083894422586761
@SiteCode234[String] = 6373083897509963358
@SiteCode235[String] = 6373083900444931227
@SiteCode236[String] = 6373083829464571372
@SiteCode237[String] = 6373083833327492328
@SiteCode238[String] = 6373083841964286321
@SiteCode239[String] = 6373083844982558950
@SiteCode240[String] = 6373083847585007801
@SiteCode241[String] = 6373083856887939900
@SiteCode242[String] = 6373083859102666584
@SiteCode243[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 14:12:18
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:12:18
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId244) AND ([TbModelOrg].[SiteCode] IN (@SiteCode245))) 	
Parameters:
@ProjectId244[String] = 6372912251695766465
@SiteCode245[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 14:12:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:12:32
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId246) AND ([TbModelOrg].[SiteCode] IN (@SiteCode247))) 	
Parameters:
@ProjectId246[String] = 6372912251695766465
@SiteCode247[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 14:12:32
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path248,@ProjectId249,@SiteCode250,@Type251);select scope_identity()	
Parameters:
@Path248[String] = 6373083833327492328/tmp8405.tmp.db
@ProjectId249[String] = 6372912251695766465
@SiteCode250[String] = 6373083833327492328
@Type251[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 14:12:32
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path252,@ProjectId253,@SiteCode254,@Type255);select scope_identity()	
Parameters:
@Path252[String] = 6373083833327492328/tmp8405.tmp.json
@ProjectId253[String] = 6372912251695766465
@SiteCode254[String] = 6373083833327492328
@Type255[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 14:12:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:12:33
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId256) AND ([TbModelOrg].[SiteCode] IN (@SiteCode257))) 	
Parameters:
@ProjectId256[String] = 6372912251695766465
@SiteCode257[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 14:12:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:12:36
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId258) AND ([TbModelOrg].[SiteCode] IN (@SiteCode259))) 	
Parameters:
@ProjectId258[String] = 6372912251695766465
@SiteCode259[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 14:12:37
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:12:37
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId260) AND ([TbModelOrg].[SiteCode] IN (@SiteCode261))) 	
Parameters:
@ProjectId260[String] = 6372912251695766465
@SiteCode261[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 14:12:37
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921378678418123
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:12:37
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId262) AND ([TbModelOrg].[SiteCode] IN (@SiteCode263,@SiteCode264,@SiteCode265,@SiteCode266,@SiteCode267,@SiteCode268,@SiteCode269,@SiteCode270))) 	
Parameters:
@ProjectId262[String] = 6372912251695766465
@SiteCode263[String] = 6373083829464571372
@SiteCode264[String] = 6373083833327492328
@SiteCode265[String] = 6373083841964286321
@SiteCode266[String] = 6373083844982558950
@SiteCode267[String] = 6373083847585007801
@SiteCode268[String] = 6373083856887939900
@SiteCode269[String] = 6373083859102666584
@SiteCode270[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 14:12:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:12:44
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 14:12:44
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 14:12:44
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:12:45
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type271) 	
Parameters:
@Type271[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 14:12:45
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type272) 	
Parameters:
@Type272[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 14:12:45
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 14:12:46
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 14:12:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:12:46
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode300)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId273) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode274,@SiteCode275,@SiteCode276,@SiteCode277,@SiteCode278,@SiteCode279,@SiteCode280,@SiteCode281,@SiteCode282,@SiteCode283,@SiteCode284,@SiteCode285,@SiteCode286,@SiteCode287,@SiteCode288,@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299)))	
Parameters:
@ProjectId273[String] = 6372912251695766465
@SiteCode274[String] = 6373083923489249281
@SiteCode275[String] = 6373083925531366080
@SiteCode276[String] = 6373083927883400612
@SiteCode277[String] = 6373083918575368225
@SiteCode278[String] = 6373083920445075162
@SiteCode279[String] = 6373083908618598731
@SiteCode280[String] = 6373083911842783146
@SiteCode281[String] = 6373083913928202424
@SiteCode282[String] = 6373083877551621804
@SiteCode283[String] = 6373083879921857377
@SiteCode284[String] = 6373083881542550067
@SiteCode285[String] = 6373083883689772886
@SiteCode286[String] = 6373083887136270013
@SiteCode287[String] = 6373083889697116488
@SiteCode288[String] = 6373083891969846476
@SiteCode289[String] = 6373083894422586761
@SiteCode290[String] = 6373083897509963358
@SiteCode291[String] = 6373083900444931227
@SiteCode292[String] = 6373083829464571372
@SiteCode293[String] = 6373083833327492328
@SiteCode294[String] = 6373083841964286321
@SiteCode295[String] = 6373083844982558950
@SiteCode296[String] = 6373083847585007801
@SiteCode297[String] = 6373083856887939900
@SiteCode298[String] = 6373083859102666584
@SiteCode299[String] = 6373083864919499284
@FDictionaryCode300[String] = OrderState
@FDictionaryCode301[String] = UrgentDegree
@FDictionaryCode302[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:12:46
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode301) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode302) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode300)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId273) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode274,@SiteCode275,@SiteCode276,@SiteCode277,@SiteCode278,@SiteCode279,@SiteCode280,@SiteCode281,@SiteCode282,@SiteCode283,@SiteCode284,@SiteCode285,@SiteCode286,@SiteCode287,@SiteCode288,@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId273[String] = 6372912251695766465
@SiteCode274[String] = 6373083923489249281
@SiteCode275[String] = 6373083925531366080
@SiteCode276[String] = 6373083927883400612
@SiteCode277[String] = 6373083918575368225
@SiteCode278[String] = 6373083920445075162
@SiteCode279[String] = 6373083908618598731
@SiteCode280[String] = 6373083911842783146
@SiteCode281[String] = 6373083913928202424
@SiteCode282[String] = 6373083877551621804
@SiteCode283[String] = 6373083879921857377
@SiteCode284[String] = 6373083881542550067
@SiteCode285[String] = 6373083883689772886
@SiteCode286[String] = 6373083887136270013
@SiteCode287[String] = 6373083889697116488
@SiteCode288[String] = 6373083891969846476
@SiteCode289[String] = 6373083894422586761
@SiteCode290[String] = 6373083897509963358
@SiteCode291[String] = 6373083900444931227
@SiteCode292[String] = 6373083829464571372
@SiteCode293[String] = 6373083833327492328
@SiteCode294[String] = 6373083841964286321
@SiteCode295[String] = 6373083844982558950
@SiteCode296[String] = 6373083847585007801
@SiteCode297[String] = 6373083856887939900
@SiteCode298[String] = 6373083859102666584
@SiteCode299[String] = 6373083864919499284
@FDictionaryCode300[String] = OrderState
@FDictionaryCode301[String] = UrgentDegree
@FDictionaryCode302[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:12:46
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 14:12:46
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 14:12:46
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 14:13:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:13:27
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId303) AND ([TbModelOrg].[SiteCode] IN (@SiteCode304))) 	
Parameters:
@ProjectId303[String] = 6372912251695766465
@SiteCode304[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 14:15:35
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 14:15:35
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 14:15:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:15:36
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type305) 	
Parameters:
@Type305[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 14:15:36
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type306) 	
Parameters:
@Type306[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 14:15:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 14:15:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:15:36
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode334)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId307) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode308,@SiteCode309,@SiteCode310,@SiteCode311,@SiteCode312,@SiteCode313,@SiteCode314,@SiteCode315,@SiteCode316,@SiteCode317,@SiteCode318,@SiteCode319,@SiteCode320,@SiteCode321,@SiteCode322,@SiteCode323,@SiteCode324,@SiteCode325,@SiteCode326,@SiteCode327,@SiteCode328,@SiteCode329,@SiteCode330,@SiteCode331,@SiteCode332,@SiteCode333)))	
Parameters:
@ProjectId307[String] = 6372912251695766465
@SiteCode308[String] = 6373083923489249281
@SiteCode309[String] = 6373083925531366080
@SiteCode310[String] = 6373083927883400612
@SiteCode311[String] = 6373083918575368225
@SiteCode312[String] = 6373083920445075162
@SiteCode313[String] = 6373083908618598731
@SiteCode314[String] = 6373083911842783146
@SiteCode315[String] = 6373083913928202424
@SiteCode316[String] = 6373083877551621804
@SiteCode317[String] = 6373083879921857377
@SiteCode318[String] = 6373083881542550067
@SiteCode319[String] = 6373083883689772886
@SiteCode320[String] = 6373083887136270013
@SiteCode321[String] = 6373083889697116488
@SiteCode322[String] = 6373083891969846476
@SiteCode323[String] = 6373083894422586761
@SiteCode324[String] = 6373083897509963358
@SiteCode325[String] = 6373083900444931227
@SiteCode326[String] = 6373083829464571372
@SiteCode327[String] = 6373083833327492328
@SiteCode328[String] = 6373083841964286321
@SiteCode329[String] = 6373083844982558950
@SiteCode330[String] = 6373083847585007801
@SiteCode331[String] = 6373083856887939900
@SiteCode332[String] = 6373083859102666584
@SiteCode333[String] = 6373083864919499284
@FDictionaryCode334[String] = OrderState
@FDictionaryCode335[String] = UrgentDegree
@FDictionaryCode336[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:15:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 14:15:36
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode335) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode336) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode334)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId307) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode308,@SiteCode309,@SiteCode310,@SiteCode311,@SiteCode312,@SiteCode313,@SiteCode314,@SiteCode315,@SiteCode316,@SiteCode317,@SiteCode318,@SiteCode319,@SiteCode320,@SiteCode321,@SiteCode322,@SiteCode323,@SiteCode324,@SiteCode325,@SiteCode326,@SiteCode327,@SiteCode328,@SiteCode329,@SiteCode330,@SiteCode331,@SiteCode332,@SiteCode333))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId307[String] = 6372912251695766465
@SiteCode308[String] = 6373083923489249281
@SiteCode309[String] = 6373083925531366080
@SiteCode310[String] = 6373083927883400612
@SiteCode311[String] = 6373083918575368225
@SiteCode312[String] = 6373083920445075162
@SiteCode313[String] = 6373083908618598731
@SiteCode314[String] = 6373083911842783146
@SiteCode315[String] = 6373083913928202424
@SiteCode316[String] = 6373083877551621804
@SiteCode317[String] = 6373083879921857377
@SiteCode318[String] = 6373083881542550067
@SiteCode319[String] = 6373083883689772886
@SiteCode320[String] = 6373083887136270013
@SiteCode321[String] = 6373083889697116488
@SiteCode322[String] = 6373083891969846476
@SiteCode323[String] = 6373083894422586761
@SiteCode324[String] = 6373083897509963358
@SiteCode325[String] = 6373083900444931227
@SiteCode326[String] = 6373083829464571372
@SiteCode327[String] = 6373083833327492328
@SiteCode328[String] = 6373083841964286321
@SiteCode329[String] = 6373083844982558950
@SiteCode330[String] = 6373083847585007801
@SiteCode331[String] = 6373083856887939900
@SiteCode332[String] = 6373083859102666584
@SiteCode333[String] = 6373083864919499284
@FDictionaryCode334[String] = OrderState
@FDictionaryCode335[String] = UrgentDegree
@FDictionaryCode336[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 14:15:36
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 14:15:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 14:15:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 14:15:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:15:40
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId337) AND ([TbModelOrg].[SiteCode] IN (@SiteCode338))) 	
Parameters:
@ProjectId337[String] = 6372912251695766465
@SiteCode338[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 14:17:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:17:56
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId339) AND ([TbModelOrg].[SiteCode] IN (@SiteCode340))) 	
Parameters:
@ProjectId339[String] = 6372912251695766465
@SiteCode340[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 14:18:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:21:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:24:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:27:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:30:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:33:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:34:06
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 14:34:06
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId341) AND ([TbModelOrg].[SiteCode] IN (@SiteCode342))) 	
Parameters:
@ProjectId341[String] = 6372912251695766465
@SiteCode342[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 14:36:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:39:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:42:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:45:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:48:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 14:51:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:23:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:23:27
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:23:27
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:23:27
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:23:29
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type1) 	
Parameters:
@Type1[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:23:29
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type2) 	
Parameters:
@Type2[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:23:29
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:23:29
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:23:29
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:23:29
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29)))	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:23:29
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode31) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:23:29
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:23:29
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:23:29
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:23:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:23:35
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId33) AND ([TbModelOrg].[SiteCode] IN (@SiteCode34))) 	
Parameters:
@ProjectId33[String] = 6372912251695766465
@SiteCode34[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:24:02
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:24:03
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:24:03
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:24:03
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type35) 	
Parameters:
@Type35[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:24:03
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type36) 	
Parameters:
@Type36[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:24:03
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:24:03
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:24:03
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode64)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId37) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63)))	
Parameters:
@ProjectId37[String] = 6372912251695766465
@SiteCode38[String] = 6373083923489249281
@SiteCode39[String] = 6373083925531366080
@SiteCode40[String] = 6373083927883400612
@SiteCode41[String] = 6373083918575368225
@SiteCode42[String] = 6373083920445075162
@SiteCode43[String] = 6373083908618598731
@SiteCode44[String] = 6373083911842783146
@SiteCode45[String] = 6373083913928202424
@SiteCode46[String] = 6373083877551621804
@SiteCode47[String] = 6373083879921857377
@SiteCode48[String] = 6373083881542550067
@SiteCode49[String] = 6373083883689772886
@SiteCode50[String] = 6373083887136270013
@SiteCode51[String] = 6373083889697116488
@SiteCode52[String] = 6373083891969846476
@SiteCode53[String] = 6373083894422586761
@SiteCode54[String] = 6373083897509963358
@SiteCode55[String] = 6373083900444931227
@SiteCode56[String] = 6373083829464571372
@SiteCode57[String] = 6373083833327492328
@SiteCode58[String] = 6373083841964286321
@SiteCode59[String] = 6373083844982558950
@SiteCode60[String] = 6373083847585007801
@SiteCode61[String] = 6373083856887939900
@SiteCode62[String] = 6373083859102666584
@SiteCode63[String] = 6373083864919499284
@FDictionaryCode64[String] = OrderState
@FDictionaryCode65[String] = UrgentDegree
@FDictionaryCode66[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:24:03
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:24:03
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode65) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode66) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode64)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId37) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId37[String] = 6372912251695766465
@SiteCode38[String] = 6373083923489249281
@SiteCode39[String] = 6373083925531366080
@SiteCode40[String] = 6373083927883400612
@SiteCode41[String] = 6373083918575368225
@SiteCode42[String] = 6373083920445075162
@SiteCode43[String] = 6373083908618598731
@SiteCode44[String] = 6373083911842783146
@SiteCode45[String] = 6373083913928202424
@SiteCode46[String] = 6373083877551621804
@SiteCode47[String] = 6373083879921857377
@SiteCode48[String] = 6373083881542550067
@SiteCode49[String] = 6373083883689772886
@SiteCode50[String] = 6373083887136270013
@SiteCode51[String] = 6373083889697116488
@SiteCode52[String] = 6373083891969846476
@SiteCode53[String] = 6373083894422586761
@SiteCode54[String] = 6373083897509963358
@SiteCode55[String] = 6373083900444931227
@SiteCode56[String] = 6373083829464571372
@SiteCode57[String] = 6373083833327492328
@SiteCode58[String] = 6373083841964286321
@SiteCode59[String] = 6373083844982558950
@SiteCode60[String] = 6373083847585007801
@SiteCode61[String] = 6373083856887939900
@SiteCode62[String] = 6373083859102666584
@SiteCode63[String] = 6373083864919499284
@FDictionaryCode64[String] = OrderState
@FDictionaryCode65[String] = UrgentDegree
@FDictionaryCode66[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:24:04
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:24:04
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:24:04
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:24:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:24:08
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId67) AND ([TbModelOrg].[SiteCode] IN (@SiteCode68))) 	
Parameters:
@ProjectId67[String] = 6372912251695766465
@SiteCode68[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:27:11
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:27:25
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:27:25
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:27:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:27:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type1) 	
Parameters:
@Type1[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:27:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type2) 	
Parameters:
@Type2[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:27:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:27:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:27:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:27:35
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29)))	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:27:35
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode31) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:27:36
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:27:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:27:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:28:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:28:33
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId33) AND ([TbModelOrg].[SiteCode] IN (@SiteCode34))) 	
Parameters:
@ProjectId33[String] = 6372912251695766465
@SiteCode34[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:30:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:33:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:34:40
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:34:40
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:34:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:34:41
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type35) 	
Parameters:
@Type35[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:34:41
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type36) 	
Parameters:
@Type36[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:34:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:34:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:34:41
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode64)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId37) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63)))	
Parameters:
@ProjectId37[String] = 6372912251695766465
@SiteCode38[String] = 6373083923489249281
@SiteCode39[String] = 6373083925531366080
@SiteCode40[String] = 6373083927883400612
@SiteCode41[String] = 6373083918575368225
@SiteCode42[String] = 6373083920445075162
@SiteCode43[String] = 6373083908618598731
@SiteCode44[String] = 6373083911842783146
@SiteCode45[String] = 6373083913928202424
@SiteCode46[String] = 6373083877551621804
@SiteCode47[String] = 6373083879921857377
@SiteCode48[String] = 6373083881542550067
@SiteCode49[String] = 6373083883689772886
@SiteCode50[String] = 6373083887136270013
@SiteCode51[String] = 6373083889697116488
@SiteCode52[String] = 6373083891969846476
@SiteCode53[String] = 6373083894422586761
@SiteCode54[String] = 6373083897509963358
@SiteCode55[String] = 6373083900444931227
@SiteCode56[String] = 6373083829464571372
@SiteCode57[String] = 6373083833327492328
@SiteCode58[String] = 6373083841964286321
@SiteCode59[String] = 6373083844982558950
@SiteCode60[String] = 6373083847585007801
@SiteCode61[String] = 6373083856887939900
@SiteCode62[String] = 6373083859102666584
@SiteCode63[String] = 6373083864919499284
@FDictionaryCode64[String] = OrderState
@FDictionaryCode65[String] = UrgentDegree
@FDictionaryCode66[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:34:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:34:41
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode65) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode66) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode64)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId37) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId37[String] = 6372912251695766465
@SiteCode38[String] = 6373083923489249281
@SiteCode39[String] = 6373083925531366080
@SiteCode40[String] = 6373083927883400612
@SiteCode41[String] = 6373083918575368225
@SiteCode42[String] = 6373083920445075162
@SiteCode43[String] = 6373083908618598731
@SiteCode44[String] = 6373083911842783146
@SiteCode45[String] = 6373083913928202424
@SiteCode46[String] = 6373083877551621804
@SiteCode47[String] = 6373083879921857377
@SiteCode48[String] = 6373083881542550067
@SiteCode49[String] = 6373083883689772886
@SiteCode50[String] = 6373083887136270013
@SiteCode51[String] = 6373083889697116488
@SiteCode52[String] = 6373083891969846476
@SiteCode53[String] = 6373083894422586761
@SiteCode54[String] = 6373083897509963358
@SiteCode55[String] = 6373083900444931227
@SiteCode56[String] = 6373083829464571372
@SiteCode57[String] = 6373083833327492328
@SiteCode58[String] = 6373083841964286321
@SiteCode59[String] = 6373083844982558950
@SiteCode60[String] = 6373083847585007801
@SiteCode61[String] = 6373083856887939900
@SiteCode62[String] = 6373083859102666584
@SiteCode63[String] = 6373083864919499284
@FDictionaryCode64[String] = OrderState
@FDictionaryCode65[String] = UrgentDegree
@FDictionaryCode66[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:34:41
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:34:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:34:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:34:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:34:45
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId67) AND ([TbModelOrg].[SiteCode] IN (@SiteCode68))) 	
Parameters:
@ProjectId67[String] = 6372912251695766465
@SiteCode68[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:35:04
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:35:04
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:35:04
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:35:04
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type69) 	
Parameters:
@Type69[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:35:04
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type70) 	
Parameters:
@Type70[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:35:05
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:35:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:35:05
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode98)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId71) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97)))	
Parameters:
@ProjectId71[String] = 6372912251695766465
@SiteCode72[String] = 6373083923489249281
@SiteCode73[String] = 6373083925531366080
@SiteCode74[String] = 6373083927883400612
@SiteCode75[String] = 6373083918575368225
@SiteCode76[String] = 6373083920445075162
@SiteCode77[String] = 6373083908618598731
@SiteCode78[String] = 6373083911842783146
@SiteCode79[String] = 6373083913928202424
@SiteCode80[String] = 6373083877551621804
@SiteCode81[String] = 6373083879921857377
@SiteCode82[String] = 6373083881542550067
@SiteCode83[String] = 6373083883689772886
@SiteCode84[String] = 6373083887136270013
@SiteCode85[String] = 6373083889697116488
@SiteCode86[String] = 6373083891969846476
@SiteCode87[String] = 6373083894422586761
@SiteCode88[String] = 6373083897509963358
@SiteCode89[String] = 6373083900444931227
@SiteCode90[String] = 6373083829464571372
@SiteCode91[String] = 6373083833327492328
@SiteCode92[String] = 6373083841964286321
@SiteCode93[String] = 6373083844982558950
@SiteCode94[String] = 6373083847585007801
@SiteCode95[String] = 6373083856887939900
@SiteCode96[String] = 6373083859102666584
@SiteCode97[String] = 6373083864919499284
@FDictionaryCode98[String] = OrderState
@FDictionaryCode99[String] = UrgentDegree
@FDictionaryCode100[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:35:05
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:35:05
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode99) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode100) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode98)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId71) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId71[String] = 6372912251695766465
@SiteCode72[String] = 6373083923489249281
@SiteCode73[String] = 6373083925531366080
@SiteCode74[String] = 6373083927883400612
@SiteCode75[String] = 6373083918575368225
@SiteCode76[String] = 6373083920445075162
@SiteCode77[String] = 6373083908618598731
@SiteCode78[String] = 6373083911842783146
@SiteCode79[String] = 6373083913928202424
@SiteCode80[String] = 6373083877551621804
@SiteCode81[String] = 6373083879921857377
@SiteCode82[String] = 6373083881542550067
@SiteCode83[String] = 6373083883689772886
@SiteCode84[String] = 6373083887136270013
@SiteCode85[String] = 6373083889697116488
@SiteCode86[String] = 6373083891969846476
@SiteCode87[String] = 6373083894422586761
@SiteCode88[String] = 6373083897509963358
@SiteCode89[String] = 6373083900444931227
@SiteCode90[String] = 6373083829464571372
@SiteCode91[String] = 6373083833327492328
@SiteCode92[String] = 6373083841964286321
@SiteCode93[String] = 6373083844982558950
@SiteCode94[String] = 6373083847585007801
@SiteCode95[String] = 6373083856887939900
@SiteCode96[String] = 6373083859102666584
@SiteCode97[String] = 6373083864919499284
@FDictionaryCode98[String] = OrderState
@FDictionaryCode99[String] = UrgentDegree
@FDictionaryCode100[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:35:05
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:35:05
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:35:05
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:35:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:35:09
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId101) AND ([TbModelOrg].[SiteCode] IN (@SiteCode102))) 	
Parameters:
@ProjectId101[String] = 6372912251695766465
@SiteCode102[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:35:12
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:35:12
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:35:12
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:35:12
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type103) 	
Parameters:
@Type103[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:35:12
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type104) 	
Parameters:
@Type104[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:35:12
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:35:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:35:13
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode132)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId105) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131)))	
Parameters:
@ProjectId105[String] = 6372912251695766465
@SiteCode106[String] = 6373083923489249281
@SiteCode107[String] = 6373083925531366080
@SiteCode108[String] = 6373083927883400612
@SiteCode109[String] = 6373083918575368225
@SiteCode110[String] = 6373083920445075162
@SiteCode111[String] = 6373083908618598731
@SiteCode112[String] = 6373083911842783146
@SiteCode113[String] = 6373083913928202424
@SiteCode114[String] = 6373083877551621804
@SiteCode115[String] = 6373083879921857377
@SiteCode116[String] = 6373083881542550067
@SiteCode117[String] = 6373083883689772886
@SiteCode118[String] = 6373083887136270013
@SiteCode119[String] = 6373083889697116488
@SiteCode120[String] = 6373083891969846476
@SiteCode121[String] = 6373083894422586761
@SiteCode122[String] = 6373083897509963358
@SiteCode123[String] = 6373083900444931227
@SiteCode124[String] = 6373083829464571372
@SiteCode125[String] = 6373083833327492328
@SiteCode126[String] = 6373083841964286321
@SiteCode127[String] = 6373083844982558950
@SiteCode128[String] = 6373083847585007801
@SiteCode129[String] = 6373083856887939900
@SiteCode130[String] = 6373083859102666584
@SiteCode131[String] = 6373083864919499284
@FDictionaryCode132[String] = OrderState
@FDictionaryCode133[String] = UrgentDegree
@FDictionaryCode134[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:35:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:35:13
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode133) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode134) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode132)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId105) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId105[String] = 6372912251695766465
@SiteCode106[String] = 6373083923489249281
@SiteCode107[String] = 6373083925531366080
@SiteCode108[String] = 6373083927883400612
@SiteCode109[String] = 6373083918575368225
@SiteCode110[String] = 6373083920445075162
@SiteCode111[String] = 6373083908618598731
@SiteCode112[String] = 6373083911842783146
@SiteCode113[String] = 6373083913928202424
@SiteCode114[String] = 6373083877551621804
@SiteCode115[String] = 6373083879921857377
@SiteCode116[String] = 6373083881542550067
@SiteCode117[String] = 6373083883689772886
@SiteCode118[String] = 6373083887136270013
@SiteCode119[String] = 6373083889697116488
@SiteCode120[String] = 6373083891969846476
@SiteCode121[String] = 6373083894422586761
@SiteCode122[String] = 6373083897509963358
@SiteCode123[String] = 6373083900444931227
@SiteCode124[String] = 6373083829464571372
@SiteCode125[String] = 6373083833327492328
@SiteCode126[String] = 6373083841964286321
@SiteCode127[String] = 6373083844982558950
@SiteCode128[String] = 6373083847585007801
@SiteCode129[String] = 6373083856887939900
@SiteCode130[String] = 6373083859102666584
@SiteCode131[String] = 6373083864919499284
@FDictionaryCode132[String] = OrderState
@FDictionaryCode133[String] = UrgentDegree
@FDictionaryCode134[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:35:13
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:35:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:35:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:35:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:35:15
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId135) AND ([TbModelOrg].[SiteCode] IN (@SiteCode136))) 	
Parameters:
@ProjectId135[String] = 6372912251695766465
@SiteCode136[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:38:12
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:38:37
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:38:37
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:38:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:38:37
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type137) 	
Parameters:
@Type137[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:38:38
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type138) 	
Parameters:
@Type138[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:38:38
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:38:38
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:38:38
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode166)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId139) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148,@SiteCode149,@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165)))	
Parameters:
@ProjectId139[String] = 6372912251695766465
@SiteCode140[String] = 6373083923489249281
@SiteCode141[String] = 6373083925531366080
@SiteCode142[String] = 6373083927883400612
@SiteCode143[String] = 6373083918575368225
@SiteCode144[String] = 6373083920445075162
@SiteCode145[String] = 6373083908618598731
@SiteCode146[String] = 6373083911842783146
@SiteCode147[String] = 6373083913928202424
@SiteCode148[String] = 6373083877551621804
@SiteCode149[String] = 6373083879921857377
@SiteCode150[String] = 6373083881542550067
@SiteCode151[String] = 6373083883689772886
@SiteCode152[String] = 6373083887136270013
@SiteCode153[String] = 6373083889697116488
@SiteCode154[String] = 6373083891969846476
@SiteCode155[String] = 6373083894422586761
@SiteCode156[String] = 6373083897509963358
@SiteCode157[String] = 6373083900444931227
@SiteCode158[String] = 6373083829464571372
@SiteCode159[String] = 6373083833327492328
@SiteCode160[String] = 6373083841964286321
@SiteCode161[String] = 6373083844982558950
@SiteCode162[String] = 6373083847585007801
@SiteCode163[String] = 6373083856887939900
@SiteCode164[String] = 6373083859102666584
@SiteCode165[String] = 6373083864919499284
@FDictionaryCode166[String] = OrderState
@FDictionaryCode167[String] = UrgentDegree
@FDictionaryCode168[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:38:38
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:38:38
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode167) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode168) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode166)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId139) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148,@SiteCode149,@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161,@SiteCode162,@SiteCode163,@SiteCode164,@SiteCode165))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId139[String] = 6372912251695766465
@SiteCode140[String] = 6373083923489249281
@SiteCode141[String] = 6373083925531366080
@SiteCode142[String] = 6373083927883400612
@SiteCode143[String] = 6373083918575368225
@SiteCode144[String] = 6373083920445075162
@SiteCode145[String] = 6373083908618598731
@SiteCode146[String] = 6373083911842783146
@SiteCode147[String] = 6373083913928202424
@SiteCode148[String] = 6373083877551621804
@SiteCode149[String] = 6373083879921857377
@SiteCode150[String] = 6373083881542550067
@SiteCode151[String] = 6373083883689772886
@SiteCode152[String] = 6373083887136270013
@SiteCode153[String] = 6373083889697116488
@SiteCode154[String] = 6373083891969846476
@SiteCode155[String] = 6373083894422586761
@SiteCode156[String] = 6373083897509963358
@SiteCode157[String] = 6373083900444931227
@SiteCode158[String] = 6373083829464571372
@SiteCode159[String] = 6373083833327492328
@SiteCode160[String] = 6373083841964286321
@SiteCode161[String] = 6373083844982558950
@SiteCode162[String] = 6373083847585007801
@SiteCode163[String] = 6373083856887939900
@SiteCode164[String] = 6373083859102666584
@SiteCode165[String] = 6373083864919499284
@FDictionaryCode166[String] = OrderState
@FDictionaryCode167[String] = UrgentDegree
@FDictionaryCode168[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:38:39
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:38:39
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:38:39
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:38:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:38:49
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId169) AND ([TbModelOrg].[SiteCode] IN (@SiteCode170))) 	
Parameters:
@ProjectId169[String] = 6372912251695766465
@SiteCode170[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:41:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:44:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:47:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:48:08
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:48:08
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:48:08
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:48:09
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type171) 	
Parameters:
@Type171[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:48:09
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type172) 	
Parameters:
@Type172[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:48:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:48:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:48:09
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode200)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId173) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199)))	
Parameters:
@ProjectId173[String] = 6372912251695766465
@SiteCode174[String] = 6373083923489249281
@SiteCode175[String] = 6373083925531366080
@SiteCode176[String] = 6373083927883400612
@SiteCode177[String] = 6373083918575368225
@SiteCode178[String] = 6373083920445075162
@SiteCode179[String] = 6373083908618598731
@SiteCode180[String] = 6373083911842783146
@SiteCode181[String] = 6373083913928202424
@SiteCode182[String] = 6373083877551621804
@SiteCode183[String] = 6373083879921857377
@SiteCode184[String] = 6373083881542550067
@SiteCode185[String] = 6373083883689772886
@SiteCode186[String] = 6373083887136270013
@SiteCode187[String] = 6373083889697116488
@SiteCode188[String] = 6373083891969846476
@SiteCode189[String] = 6373083894422586761
@SiteCode190[String] = 6373083897509963358
@SiteCode191[String] = 6373083900444931227
@SiteCode192[String] = 6373083829464571372
@SiteCode193[String] = 6373083833327492328
@SiteCode194[String] = 6373083841964286321
@SiteCode195[String] = 6373083844982558950
@SiteCode196[String] = 6373083847585007801
@SiteCode197[String] = 6373083856887939900
@SiteCode198[String] = 6373083859102666584
@SiteCode199[String] = 6373083864919499284
@FDictionaryCode200[String] = OrderState
@FDictionaryCode201[String] = UrgentDegree
@FDictionaryCode202[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:48:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:48:09
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode201) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode202) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode200)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId173) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId173[String] = 6372912251695766465
@SiteCode174[String] = 6373083923489249281
@SiteCode175[String] = 6373083925531366080
@SiteCode176[String] = 6373083927883400612
@SiteCode177[String] = 6373083918575368225
@SiteCode178[String] = 6373083920445075162
@SiteCode179[String] = 6373083908618598731
@SiteCode180[String] = 6373083911842783146
@SiteCode181[String] = 6373083913928202424
@SiteCode182[String] = 6373083877551621804
@SiteCode183[String] = 6373083879921857377
@SiteCode184[String] = 6373083881542550067
@SiteCode185[String] = 6373083883689772886
@SiteCode186[String] = 6373083887136270013
@SiteCode187[String] = 6373083889697116488
@SiteCode188[String] = 6373083891969846476
@SiteCode189[String] = 6373083894422586761
@SiteCode190[String] = 6373083897509963358
@SiteCode191[String] = 6373083900444931227
@SiteCode192[String] = 6373083829464571372
@SiteCode193[String] = 6373083833327492328
@SiteCode194[String] = 6373083841964286321
@SiteCode195[String] = 6373083844982558950
@SiteCode196[String] = 6373083847585007801
@SiteCode197[String] = 6373083856887939900
@SiteCode198[String] = 6373083859102666584
@SiteCode199[String] = 6373083864919499284
@FDictionaryCode200[String] = OrderState
@FDictionaryCode201[String] = UrgentDegree
@FDictionaryCode202[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:48:10
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:48:10
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:48:10
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:48:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:48:14
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId203) AND ([TbModelOrg].[SiteCode] IN (@SiteCode204))) 	
Parameters:
@ProjectId203[String] = 6372912251695766465
@SiteCode204[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:51:08
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:54:08
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:54:12
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:54:12
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:54:12
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:54:14
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type205) 	
Parameters:
@Type205[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:54:14
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type206) 	
Parameters:
@Type206[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:54:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:54:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:54:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:54:14
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode234)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId207) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212,@SiteCode213,@SiteCode214,@SiteCode215,@SiteCode216,@SiteCode217,@SiteCode218,@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225,@SiteCode226,@SiteCode227,@SiteCode228,@SiteCode229,@SiteCode230,@SiteCode231,@SiteCode232,@SiteCode233)))	
Parameters:
@ProjectId207[String] = 6372912251695766465
@SiteCode208[String] = 6373083923489249281
@SiteCode209[String] = 6373083925531366080
@SiteCode210[String] = 6373083927883400612
@SiteCode211[String] = 6373083918575368225
@SiteCode212[String] = 6373083920445075162
@SiteCode213[String] = 6373083908618598731
@SiteCode214[String] = 6373083911842783146
@SiteCode215[String] = 6373083913928202424
@SiteCode216[String] = 6373083877551621804
@SiteCode217[String] = 6373083879921857377
@SiteCode218[String] = 6373083881542550067
@SiteCode219[String] = 6373083883689772886
@SiteCode220[String] = 6373083887136270013
@SiteCode221[String] = 6373083889697116488
@SiteCode222[String] = 6373083891969846476
@SiteCode223[String] = 6373083894422586761
@SiteCode224[String] = 6373083897509963358
@SiteCode225[String] = 6373083900444931227
@SiteCode226[String] = 6373083829464571372
@SiteCode227[String] = 6373083833327492328
@SiteCode228[String] = 6373083841964286321
@SiteCode229[String] = 6373083844982558950
@SiteCode230[String] = 6373083847585007801
@SiteCode231[String] = 6373083856887939900
@SiteCode232[String] = 6373083859102666584
@SiteCode233[String] = 6373083864919499284
@FDictionaryCode234[String] = OrderState
@FDictionaryCode235[String] = UrgentDegree
@FDictionaryCode236[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:54:14
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode235) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode236) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode234)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId207) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212,@SiteCode213,@SiteCode214,@SiteCode215,@SiteCode216,@SiteCode217,@SiteCode218,@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225,@SiteCode226,@SiteCode227,@SiteCode228,@SiteCode229,@SiteCode230,@SiteCode231,@SiteCode232,@SiteCode233))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId207[String] = 6372912251695766465
@SiteCode208[String] = 6373083923489249281
@SiteCode209[String] = 6373083925531366080
@SiteCode210[String] = 6373083927883400612
@SiteCode211[String] = 6373083918575368225
@SiteCode212[String] = 6373083920445075162
@SiteCode213[String] = 6373083908618598731
@SiteCode214[String] = 6373083911842783146
@SiteCode215[String] = 6373083913928202424
@SiteCode216[String] = 6373083877551621804
@SiteCode217[String] = 6373083879921857377
@SiteCode218[String] = 6373083881542550067
@SiteCode219[String] = 6373083883689772886
@SiteCode220[String] = 6373083887136270013
@SiteCode221[String] = 6373083889697116488
@SiteCode222[String] = 6373083891969846476
@SiteCode223[String] = 6373083894422586761
@SiteCode224[String] = 6373083897509963358
@SiteCode225[String] = 6373083900444931227
@SiteCode226[String] = 6373083829464571372
@SiteCode227[String] = 6373083833327492328
@SiteCode228[String] = 6373083841964286321
@SiteCode229[String] = 6373083844982558950
@SiteCode230[String] = 6373083847585007801
@SiteCode231[String] = 6373083856887939900
@SiteCode232[String] = 6373083859102666584
@SiteCode233[String] = 6373083864919499284
@FDictionaryCode234[String] = OrderState
@FDictionaryCode235[String] = UrgentDegree
@FDictionaryCode236[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:54:15
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:54:15
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:54:15
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:54:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:54:23
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId237) AND ([TbModelOrg].[SiteCode] IN (@SiteCode238))) 	
Parameters:
@ProjectId237[String] = 6372912251695766465
@SiteCode238[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:56:13
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:56:14
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:56:14
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:56:21
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type239) 	
Parameters:
@Type239[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:56:21
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type240) 	
Parameters:
@Type240[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:56:21
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:56:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:56:21
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode268)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId241) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode242,@SiteCode243,@SiteCode244,@SiteCode245,@SiteCode246,@SiteCode247,@SiteCode248,@SiteCode249,@SiteCode250,@SiteCode251,@SiteCode252,@SiteCode253,@SiteCode254,@SiteCode255,@SiteCode256,@SiteCode257,@SiteCode258,@SiteCode259,@SiteCode260,@SiteCode261,@SiteCode262,@SiteCode263,@SiteCode264,@SiteCode265,@SiteCode266,@SiteCode267)))	
Parameters:
@ProjectId241[String] = 6372912251695766465
@SiteCode242[String] = 6373083923489249281
@SiteCode243[String] = 6373083925531366080
@SiteCode244[String] = 6373083927883400612
@SiteCode245[String] = 6373083918575368225
@SiteCode246[String] = 6373083920445075162
@SiteCode247[String] = 6373083908618598731
@SiteCode248[String] = 6373083911842783146
@SiteCode249[String] = 6373083913928202424
@SiteCode250[String] = 6373083877551621804
@SiteCode251[String] = 6373083879921857377
@SiteCode252[String] = 6373083881542550067
@SiteCode253[String] = 6373083883689772886
@SiteCode254[String] = 6373083887136270013
@SiteCode255[String] = 6373083889697116488
@SiteCode256[String] = 6373083891969846476
@SiteCode257[String] = 6373083894422586761
@SiteCode258[String] = 6373083897509963358
@SiteCode259[String] = 6373083900444931227
@SiteCode260[String] = 6373083829464571372
@SiteCode261[String] = 6373083833327492328
@SiteCode262[String] = 6373083841964286321
@SiteCode263[String] = 6373083844982558950
@SiteCode264[String] = 6373083847585007801
@SiteCode265[String] = 6373083856887939900
@SiteCode266[String] = 6373083859102666584
@SiteCode267[String] = 6373083864919499284
@FDictionaryCode268[String] = OrderState
@FDictionaryCode269[String] = UrgentDegree
@FDictionaryCode270[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:56:21
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:56:21
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode269) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode270) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode268)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId241) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode242,@SiteCode243,@SiteCode244,@SiteCode245,@SiteCode246,@SiteCode247,@SiteCode248,@SiteCode249,@SiteCode250,@SiteCode251,@SiteCode252,@SiteCode253,@SiteCode254,@SiteCode255,@SiteCode256,@SiteCode257,@SiteCode258,@SiteCode259,@SiteCode260,@SiteCode261,@SiteCode262,@SiteCode263,@SiteCode264,@SiteCode265,@SiteCode266,@SiteCode267))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId241[String] = 6372912251695766465
@SiteCode242[String] = 6373083923489249281
@SiteCode243[String] = 6373083925531366080
@SiteCode244[String] = 6373083927883400612
@SiteCode245[String] = 6373083918575368225
@SiteCode246[String] = 6373083920445075162
@SiteCode247[String] = 6373083908618598731
@SiteCode248[String] = 6373083911842783146
@SiteCode249[String] = 6373083913928202424
@SiteCode250[String] = 6373083877551621804
@SiteCode251[String] = 6373083879921857377
@SiteCode252[String] = 6373083881542550067
@SiteCode253[String] = 6373083883689772886
@SiteCode254[String] = 6373083887136270013
@SiteCode255[String] = 6373083889697116488
@SiteCode256[String] = 6373083891969846476
@SiteCode257[String] = 6373083894422586761
@SiteCode258[String] = 6373083897509963358
@SiteCode259[String] = 6373083900444931227
@SiteCode260[String] = 6373083829464571372
@SiteCode261[String] = 6373083833327492328
@SiteCode262[String] = 6373083841964286321
@SiteCode263[String] = 6373083844982558950
@SiteCode264[String] = 6373083847585007801
@SiteCode265[String] = 6373083856887939900
@SiteCode266[String] = 6373083859102666584
@SiteCode267[String] = 6373083864919499284
@FDictionaryCode268[String] = OrderState
@FDictionaryCode269[String] = UrgentDegree
@FDictionaryCode270[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:56:21
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:56:21
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:56:21
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:56:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:56:25
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId271) AND ([TbModelOrg].[SiteCode] IN (@SiteCode272))) 	
Parameters:
@ProjectId271[String] = 6372912251695766465
@SiteCode272[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:57:15
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:57:15
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:57:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:57:16
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type273) 	
Parameters:
@Type273[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:57:16
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type274) 	
Parameters:
@Type274[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:57:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:57:17
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:57:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:57:17
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode302)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId275) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode276,@SiteCode277,@SiteCode278,@SiteCode279,@SiteCode280,@SiteCode281,@SiteCode282,@SiteCode283,@SiteCode284,@SiteCode285,@SiteCode286,@SiteCode287,@SiteCode288,@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299,@SiteCode300,@SiteCode301)))	
Parameters:
@ProjectId275[String] = 6372912251695766465
@SiteCode276[String] = 6373083923489249281
@SiteCode277[String] = 6373083925531366080
@SiteCode278[String] = 6373083927883400612
@SiteCode279[String] = 6373083918575368225
@SiteCode280[String] = 6373083920445075162
@SiteCode281[String] = 6373083908618598731
@SiteCode282[String] = 6373083911842783146
@SiteCode283[String] = 6373083913928202424
@SiteCode284[String] = 6373083877551621804
@SiteCode285[String] = 6373083879921857377
@SiteCode286[String] = 6373083881542550067
@SiteCode287[String] = 6373083883689772886
@SiteCode288[String] = 6373083887136270013
@SiteCode289[String] = 6373083889697116488
@SiteCode290[String] = 6373083891969846476
@SiteCode291[String] = 6373083894422586761
@SiteCode292[String] = 6373083897509963358
@SiteCode293[String] = 6373083900444931227
@SiteCode294[String] = 6373083829464571372
@SiteCode295[String] = 6373083833327492328
@SiteCode296[String] = 6373083841964286321
@SiteCode297[String] = 6373083844982558950
@SiteCode298[String] = 6373083847585007801
@SiteCode299[String] = 6373083856887939900
@SiteCode300[String] = 6373083859102666584
@SiteCode301[String] = 6373083864919499284
@FDictionaryCode302[String] = OrderState
@FDictionaryCode303[String] = UrgentDegree
@FDictionaryCode304[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:57:17
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode303) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode304) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode302)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId275) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode276,@SiteCode277,@SiteCode278,@SiteCode279,@SiteCode280,@SiteCode281,@SiteCode282,@SiteCode283,@SiteCode284,@SiteCode285,@SiteCode286,@SiteCode287,@SiteCode288,@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299,@SiteCode300,@SiteCode301))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId275[String] = 6372912251695766465
@SiteCode276[String] = 6373083923489249281
@SiteCode277[String] = 6373083925531366080
@SiteCode278[String] = 6373083927883400612
@SiteCode279[String] = 6373083918575368225
@SiteCode280[String] = 6373083920445075162
@SiteCode281[String] = 6373083908618598731
@SiteCode282[String] = 6373083911842783146
@SiteCode283[String] = 6373083913928202424
@SiteCode284[String] = 6373083877551621804
@SiteCode285[String] = 6373083879921857377
@SiteCode286[String] = 6373083881542550067
@SiteCode287[String] = 6373083883689772886
@SiteCode288[String] = 6373083887136270013
@SiteCode289[String] = 6373083889697116488
@SiteCode290[String] = 6373083891969846476
@SiteCode291[String] = 6373083894422586761
@SiteCode292[String] = 6373083897509963358
@SiteCode293[String] = 6373083900444931227
@SiteCode294[String] = 6373083829464571372
@SiteCode295[String] = 6373083833327492328
@SiteCode296[String] = 6373083841964286321
@SiteCode297[String] = 6373083844982558950
@SiteCode298[String] = 6373083847585007801
@SiteCode299[String] = 6373083856887939900
@SiteCode300[String] = 6373083859102666584
@SiteCode301[String] = 6373083864919499284
@FDictionaryCode302[String] = OrderState
@FDictionaryCode303[String] = UrgentDegree
@FDictionaryCode304[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:57:19
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:57:19
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:57:19
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:57:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:57:30
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId305) AND ([TbModelOrg].[SiteCode] IN (@SiteCode306))) 	
Parameters:
@ProjectId305[String] = 6372912251695766465
@SiteCode306[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 15:58:33
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 15:58:33
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 15:58:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 15:58:37
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type307) 	
Parameters:
@Type307[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 15:58:37
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type308) 	
Parameters:
@Type308[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 15:58:37
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 15:58:37
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:58:37
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode336)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId309) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode310,@SiteCode311,@SiteCode312,@SiteCode313,@SiteCode314,@SiteCode315,@SiteCode316,@SiteCode317,@SiteCode318,@SiteCode319,@SiteCode320,@SiteCode321,@SiteCode322,@SiteCode323,@SiteCode324,@SiteCode325,@SiteCode326,@SiteCode327,@SiteCode328,@SiteCode329,@SiteCode330,@SiteCode331,@SiteCode332,@SiteCode333,@SiteCode334,@SiteCode335)))	
Parameters:
@ProjectId309[String] = 6372912251695766465
@SiteCode310[String] = 6373083923489249281
@SiteCode311[String] = 6373083925531366080
@SiteCode312[String] = 6373083927883400612
@SiteCode313[String] = 6373083918575368225
@SiteCode314[String] = 6373083920445075162
@SiteCode315[String] = 6373083908618598731
@SiteCode316[String] = 6373083911842783146
@SiteCode317[String] = 6373083913928202424
@SiteCode318[String] = 6373083877551621804
@SiteCode319[String] = 6373083879921857377
@SiteCode320[String] = 6373083881542550067
@SiteCode321[String] = 6373083883689772886
@SiteCode322[String] = 6373083887136270013
@SiteCode323[String] = 6373083889697116488
@SiteCode324[String] = 6373083891969846476
@SiteCode325[String] = 6373083894422586761
@SiteCode326[String] = 6373083897509963358
@SiteCode327[String] = 6373083900444931227
@SiteCode328[String] = 6373083829464571372
@SiteCode329[String] = 6373083833327492328
@SiteCode330[String] = 6373083841964286321
@SiteCode331[String] = 6373083844982558950
@SiteCode332[String] = 6373083847585007801
@SiteCode333[String] = 6373083856887939900
@SiteCode334[String] = 6373083859102666584
@SiteCode335[String] = 6373083864919499284
@FDictionaryCode336[String] = OrderState
@FDictionaryCode337[String] = UrgentDegree
@FDictionaryCode338[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:58:37
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode337) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode338) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode336)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId309) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode310,@SiteCode311,@SiteCode312,@SiteCode313,@SiteCode314,@SiteCode315,@SiteCode316,@SiteCode317,@SiteCode318,@SiteCode319,@SiteCode320,@SiteCode321,@SiteCode322,@SiteCode323,@SiteCode324,@SiteCode325,@SiteCode326,@SiteCode327,@SiteCode328,@SiteCode329,@SiteCode330,@SiteCode331,@SiteCode332,@SiteCode333,@SiteCode334,@SiteCode335))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId309[String] = 6372912251695766465
@SiteCode310[String] = 6373083923489249281
@SiteCode311[String] = 6373083925531366080
@SiteCode312[String] = 6373083927883400612
@SiteCode313[String] = 6373083918575368225
@SiteCode314[String] = 6373083920445075162
@SiteCode315[String] = 6373083908618598731
@SiteCode316[String] = 6373083911842783146
@SiteCode317[String] = 6373083913928202424
@SiteCode318[String] = 6373083877551621804
@SiteCode319[String] = 6373083879921857377
@SiteCode320[String] = 6373083881542550067
@SiteCode321[String] = 6373083883689772886
@SiteCode322[String] = 6373083887136270013
@SiteCode323[String] = 6373083889697116488
@SiteCode324[String] = 6373083891969846476
@SiteCode325[String] = 6373083894422586761
@SiteCode326[String] = 6373083897509963358
@SiteCode327[String] = 6373083900444931227
@SiteCode328[String] = 6373083829464571372
@SiteCode329[String] = 6373083833327492328
@SiteCode330[String] = 6373083841964286321
@SiteCode331[String] = 6373083844982558950
@SiteCode332[String] = 6373083847585007801
@SiteCode333[String] = 6373083856887939900
@SiteCode334[String] = 6373083859102666584
@SiteCode335[String] = 6373083864919499284
@FDictionaryCode336[String] = OrderState
@FDictionaryCode337[String] = UrgentDegree
@FDictionaryCode338[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 15:58:37
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 15:58:38
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 15:58:38
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 15:58:38
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 15:58:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 15:58:45
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId339) AND ([TbModelOrg].[SiteCode] IN (@SiteCode340))) 	
Parameters:
@ProjectId339[String] = 6372912251695766465
@SiteCode340[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:01:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:02:07
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type341) 	
Parameters:
@Type341[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type342) 	
Parameters:
@Type342[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode370)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId343) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode344,@SiteCode345,@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354,@SiteCode355,@SiteCode356,@SiteCode357,@SiteCode358,@SiteCode359,@SiteCode360,@SiteCode361,@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368,@SiteCode369)))	
Parameters:
@ProjectId343[String] = 6372912251695766465
@SiteCode344[String] = 6373083923489249281
@SiteCode345[String] = 6373083925531366080
@SiteCode346[String] = 6373083927883400612
@SiteCode347[String] = 6373083918575368225
@SiteCode348[String] = 6373083920445075162
@SiteCode349[String] = 6373083908618598731
@SiteCode350[String] = 6373083911842783146
@SiteCode351[String] = 6373083913928202424
@SiteCode352[String] = 6373083877551621804
@SiteCode353[String] = 6373083879921857377
@SiteCode354[String] = 6373083881542550067
@SiteCode355[String] = 6373083883689772886
@SiteCode356[String] = 6373083887136270013
@SiteCode357[String] = 6373083889697116488
@SiteCode358[String] = 6373083891969846476
@SiteCode359[String] = 6373083894422586761
@SiteCode360[String] = 6373083897509963358
@SiteCode361[String] = 6373083900444931227
@SiteCode362[String] = 6373083829464571372
@SiteCode363[String] = 6373083833327492328
@SiteCode364[String] = 6373083841964286321
@SiteCode365[String] = 6373083844982558950
@SiteCode366[String] = 6373083847585007801
@SiteCode367[String] = 6373083856887939900
@SiteCode368[String] = 6373083859102666584
@SiteCode369[String] = 6373083864919499284
@FDictionaryCode370[String] = OrderState
@FDictionaryCode371[String] = UrgentDegree
@FDictionaryCode372[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode371) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode372) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode370)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId343) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode344,@SiteCode345,@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354,@SiteCode355,@SiteCode356,@SiteCode357,@SiteCode358,@SiteCode359,@SiteCode360,@SiteCode361,@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368,@SiteCode369))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId343[String] = 6372912251695766465
@SiteCode344[String] = 6373083923489249281
@SiteCode345[String] = 6373083925531366080
@SiteCode346[String] = 6373083927883400612
@SiteCode347[String] = 6373083918575368225
@SiteCode348[String] = 6373083920445075162
@SiteCode349[String] = 6373083908618598731
@SiteCode350[String] = 6373083911842783146
@SiteCode351[String] = 6373083913928202424
@SiteCode352[String] = 6373083877551621804
@SiteCode353[String] = 6373083879921857377
@SiteCode354[String] = 6373083881542550067
@SiteCode355[String] = 6373083883689772886
@SiteCode356[String] = 6373083887136270013
@SiteCode357[String] = 6373083889697116488
@SiteCode358[String] = 6373083891969846476
@SiteCode359[String] = 6373083894422586761
@SiteCode360[String] = 6373083897509963358
@SiteCode361[String] = 6373083900444931227
@SiteCode362[String] = 6373083829464571372
@SiteCode363[String] = 6373083833327492328
@SiteCode364[String] = 6373083841964286321
@SiteCode365[String] = 6373083844982558950
@SiteCode366[String] = 6373083847585007801
@SiteCode367[String] = 6373083856887939900
@SiteCode368[String] = 6373083859102666584
@SiteCode369[String] = 6373083864919499284
@FDictionaryCode370[String] = OrderState
@FDictionaryCode371[String] = UrgentDegree
@FDictionaryCode372[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:02:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:02:12
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:02:12
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId373) AND ([TbModelOrg].[SiteCode] IN (@SiteCode374))) 	
Parameters:
@ProjectId373[String] = 6372912251695766465
@SiteCode374[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:03:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:03:36
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId375) AND ([TbModelOrg].[SiteCode] IN (@SiteCode376))) 	
Parameters:
@ProjectId375[String] = 6372912251695766465
@SiteCode376[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:05:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:06:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:06:19
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId377) AND ([TbModelOrg].[SiteCode] IN (@SiteCode378))) 	
Parameters:
@ProjectId377[String] = 6372912251695766465
@SiteCode378[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:07:59
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 16:07:59
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 16:07:59
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:08:00
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type379) 	
Parameters:
@Type379[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:08:00
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type380) 	
Parameters:
@Type380[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:08:00
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 16:08:00
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:08:00
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode408)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId381) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode382,@SiteCode383,@SiteCode384,@SiteCode385,@SiteCode386,@SiteCode387,@SiteCode388,@SiteCode389,@SiteCode390,@SiteCode391,@SiteCode392,@SiteCode393,@SiteCode394,@SiteCode395,@SiteCode396,@SiteCode397,@SiteCode398,@SiteCode399,@SiteCode400,@SiteCode401,@SiteCode402,@SiteCode403,@SiteCode404,@SiteCode405,@SiteCode406,@SiteCode407)))	
Parameters:
@ProjectId381[String] = 6372912251695766465
@SiteCode382[String] = 6373083923489249281
@SiteCode383[String] = 6373083925531366080
@SiteCode384[String] = 6373083927883400612
@SiteCode385[String] = 6373083918575368225
@SiteCode386[String] = 6373083920445075162
@SiteCode387[String] = 6373083908618598731
@SiteCode388[String] = 6373083911842783146
@SiteCode389[String] = 6373083913928202424
@SiteCode390[String] = 6373083877551621804
@SiteCode391[String] = 6373083879921857377
@SiteCode392[String] = 6373083881542550067
@SiteCode393[String] = 6373083883689772886
@SiteCode394[String] = 6373083887136270013
@SiteCode395[String] = 6373083889697116488
@SiteCode396[String] = 6373083891969846476
@SiteCode397[String] = 6373083894422586761
@SiteCode398[String] = 6373083897509963358
@SiteCode399[String] = 6373083900444931227
@SiteCode400[String] = 6373083829464571372
@SiteCode401[String] = 6373083833327492328
@SiteCode402[String] = 6373083841964286321
@SiteCode403[String] = 6373083844982558950
@SiteCode404[String] = 6373083847585007801
@SiteCode405[String] = 6373083856887939900
@SiteCode406[String] = 6373083859102666584
@SiteCode407[String] = 6373083864919499284
@FDictionaryCode408[String] = OrderState
@FDictionaryCode409[String] = UrgentDegree
@FDictionaryCode410[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:08:00
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 16:08:00
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode409) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode410) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode408)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId381) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode382,@SiteCode383,@SiteCode384,@SiteCode385,@SiteCode386,@SiteCode387,@SiteCode388,@SiteCode389,@SiteCode390,@SiteCode391,@SiteCode392,@SiteCode393,@SiteCode394,@SiteCode395,@SiteCode396,@SiteCode397,@SiteCode398,@SiteCode399,@SiteCode400,@SiteCode401,@SiteCode402,@SiteCode403,@SiteCode404,@SiteCode405,@SiteCode406,@SiteCode407))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId381[String] = 6372912251695766465
@SiteCode382[String] = 6373083923489249281
@SiteCode383[String] = 6373083925531366080
@SiteCode384[String] = 6373083927883400612
@SiteCode385[String] = 6373083918575368225
@SiteCode386[String] = 6373083920445075162
@SiteCode387[String] = 6373083908618598731
@SiteCode388[String] = 6373083911842783146
@SiteCode389[String] = 6373083913928202424
@SiteCode390[String] = 6373083877551621804
@SiteCode391[String] = 6373083879921857377
@SiteCode392[String] = 6373083881542550067
@SiteCode393[String] = 6373083883689772886
@SiteCode394[String] = 6373083887136270013
@SiteCode395[String] = 6373083889697116488
@SiteCode396[String] = 6373083891969846476
@SiteCode397[String] = 6373083894422586761
@SiteCode398[String] = 6373083897509963358
@SiteCode399[String] = 6373083900444931227
@SiteCode400[String] = 6373083829464571372
@SiteCode401[String] = 6373083833327492328
@SiteCode402[String] = 6373083841964286321
@SiteCode403[String] = 6373083844982558950
@SiteCode404[String] = 6373083847585007801
@SiteCode405[String] = 6373083856887939900
@SiteCode406[String] = 6373083859102666584
@SiteCode407[String] = 6373083864919499284
@FDictionaryCode408[String] = OrderState
@FDictionaryCode409[String] = UrgentDegree
@FDictionaryCode410[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:08:00
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:08:00
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:08:00
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:08:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:08:21
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId411) AND ([TbModelOrg].[SiteCode] IN (@SiteCode412))) 	
Parameters:
@ProjectId411[String] = 6372912251695766465
@SiteCode412[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:09:26
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 16:09:26
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 16:09:26
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:09:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type413) 	
Parameters:
@Type413[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:09:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type414) 	
Parameters:
@Type414[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:09:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 16:09:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:09:34
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode442)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId415) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode416,@SiteCode417,@SiteCode418,@SiteCode419,@SiteCode420,@SiteCode421,@SiteCode422,@SiteCode423,@SiteCode424,@SiteCode425,@SiteCode426,@SiteCode427,@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433,@SiteCode434,@SiteCode435,@SiteCode436,@SiteCode437,@SiteCode438,@SiteCode439,@SiteCode440,@SiteCode441)))	
Parameters:
@ProjectId415[String] = 6372912251695766465
@SiteCode416[String] = 6373083923489249281
@SiteCode417[String] = 6373083925531366080
@SiteCode418[String] = 6373083927883400612
@SiteCode419[String] = 6373083918575368225
@SiteCode420[String] = 6373083920445075162
@SiteCode421[String] = 6373083908618598731
@SiteCode422[String] = 6373083911842783146
@SiteCode423[String] = 6373083913928202424
@SiteCode424[String] = 6373083877551621804
@SiteCode425[String] = 6373083879921857377
@SiteCode426[String] = 6373083881542550067
@SiteCode427[String] = 6373083883689772886
@SiteCode428[String] = 6373083887136270013
@SiteCode429[String] = 6373083889697116488
@SiteCode430[String] = 6373083891969846476
@SiteCode431[String] = 6373083894422586761
@SiteCode432[String] = 6373083897509963358
@SiteCode433[String] = 6373083900444931227
@SiteCode434[String] = 6373083829464571372
@SiteCode435[String] = 6373083833327492328
@SiteCode436[String] = 6373083841964286321
@SiteCode437[String] = 6373083844982558950
@SiteCode438[String] = 6373083847585007801
@SiteCode439[String] = 6373083856887939900
@SiteCode440[String] = 6373083859102666584
@SiteCode441[String] = 6373083864919499284
@FDictionaryCode442[String] = OrderState
@FDictionaryCode443[String] = UrgentDegree
@FDictionaryCode444[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:09:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 16:09:34
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode443) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode444) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode442)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId415) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode416,@SiteCode417,@SiteCode418,@SiteCode419,@SiteCode420,@SiteCode421,@SiteCode422,@SiteCode423,@SiteCode424,@SiteCode425,@SiteCode426,@SiteCode427,@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433,@SiteCode434,@SiteCode435,@SiteCode436,@SiteCode437,@SiteCode438,@SiteCode439,@SiteCode440,@SiteCode441))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId415[String] = 6372912251695766465
@SiteCode416[String] = 6373083923489249281
@SiteCode417[String] = 6373083925531366080
@SiteCode418[String] = 6373083927883400612
@SiteCode419[String] = 6373083918575368225
@SiteCode420[String] = 6373083920445075162
@SiteCode421[String] = 6373083908618598731
@SiteCode422[String] = 6373083911842783146
@SiteCode423[String] = 6373083913928202424
@SiteCode424[String] = 6373083877551621804
@SiteCode425[String] = 6373083879921857377
@SiteCode426[String] = 6373083881542550067
@SiteCode427[String] = 6373083883689772886
@SiteCode428[String] = 6373083887136270013
@SiteCode429[String] = 6373083889697116488
@SiteCode430[String] = 6373083891969846476
@SiteCode431[String] = 6373083894422586761
@SiteCode432[String] = 6373083897509963358
@SiteCode433[String] = 6373083900444931227
@SiteCode434[String] = 6373083829464571372
@SiteCode435[String] = 6373083833327492328
@SiteCode436[String] = 6373083841964286321
@SiteCode437[String] = 6373083844982558950
@SiteCode438[String] = 6373083847585007801
@SiteCode439[String] = 6373083856887939900
@SiteCode440[String] = 6373083859102666584
@SiteCode441[String] = 6373083864919499284
@FDictionaryCode442[String] = OrderState
@FDictionaryCode443[String] = UrgentDegree
@FDictionaryCode444[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:09:34
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:09:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:09:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:09:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:09:42
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId445) AND ([TbModelOrg].[SiteCode] IN (@SiteCode446))) 	
Parameters:
@ProjectId445[String] = 6372912251695766465
@SiteCode446[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:11:44
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 16:11:44
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 16:11:44
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:11:53
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type447) 	
Parameters:
@Type447[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:11:54
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type448) 	
Parameters:
@Type448[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:11:54
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 16:11:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:11:54
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode476)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId449) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode450,@SiteCode451,@SiteCode452,@SiteCode453,@SiteCode454,@SiteCode455,@SiteCode456,@SiteCode457,@SiteCode458,@SiteCode459,@SiteCode460,@SiteCode461,@SiteCode462,@SiteCode463,@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470,@SiteCode471,@SiteCode472,@SiteCode473,@SiteCode474,@SiteCode475)))	
Parameters:
@ProjectId449[String] = 6372912251695766465
@SiteCode450[String] = 6373083923489249281
@SiteCode451[String] = 6373083925531366080
@SiteCode452[String] = 6373083927883400612
@SiteCode453[String] = 6373083918575368225
@SiteCode454[String] = 6373083920445075162
@SiteCode455[String] = 6373083908618598731
@SiteCode456[String] = 6373083911842783146
@SiteCode457[String] = 6373083913928202424
@SiteCode458[String] = 6373083877551621804
@SiteCode459[String] = 6373083879921857377
@SiteCode460[String] = 6373083881542550067
@SiteCode461[String] = 6373083883689772886
@SiteCode462[String] = 6373083887136270013
@SiteCode463[String] = 6373083889697116488
@SiteCode464[String] = 6373083891969846476
@SiteCode465[String] = 6373083894422586761
@SiteCode466[String] = 6373083897509963358
@SiteCode467[String] = 6373083900444931227
@SiteCode468[String] = 6373083829464571372
@SiteCode469[String] = 6373083833327492328
@SiteCode470[String] = 6373083841964286321
@SiteCode471[String] = 6373083844982558950
@SiteCode472[String] = 6373083847585007801
@SiteCode473[String] = 6373083856887939900
@SiteCode474[String] = 6373083859102666584
@SiteCode475[String] = 6373083864919499284
@FDictionaryCode476[String] = OrderState
@FDictionaryCode477[String] = UrgentDegree
@FDictionaryCode478[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:11:54
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 16:11:54
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode477) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode478) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode476)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId449) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode450,@SiteCode451,@SiteCode452,@SiteCode453,@SiteCode454,@SiteCode455,@SiteCode456,@SiteCode457,@SiteCode458,@SiteCode459,@SiteCode460,@SiteCode461,@SiteCode462,@SiteCode463,@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470,@SiteCode471,@SiteCode472,@SiteCode473,@SiteCode474,@SiteCode475))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId449[String] = 6372912251695766465
@SiteCode450[String] = 6373083923489249281
@SiteCode451[String] = 6373083925531366080
@SiteCode452[String] = 6373083927883400612
@SiteCode453[String] = 6373083918575368225
@SiteCode454[String] = 6373083920445075162
@SiteCode455[String] = 6373083908618598731
@SiteCode456[String] = 6373083911842783146
@SiteCode457[String] = 6373083913928202424
@SiteCode458[String] = 6373083877551621804
@SiteCode459[String] = 6373083879921857377
@SiteCode460[String] = 6373083881542550067
@SiteCode461[String] = 6373083883689772886
@SiteCode462[String] = 6373083887136270013
@SiteCode463[String] = 6373083889697116488
@SiteCode464[String] = 6373083891969846476
@SiteCode465[String] = 6373083894422586761
@SiteCode466[String] = 6373083897509963358
@SiteCode467[String] = 6373083900444931227
@SiteCode468[String] = 6373083829464571372
@SiteCode469[String] = 6373083833327492328
@SiteCode470[String] = 6373083841964286321
@SiteCode471[String] = 6373083844982558950
@SiteCode472[String] = 6373083847585007801
@SiteCode473[String] = 6373083856887939900
@SiteCode474[String] = 6373083859102666584
@SiteCode475[String] = 6373083864919499284
@FDictionaryCode476[String] = OrderState
@FDictionaryCode477[String] = UrgentDegree
@FDictionaryCode478[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:11:54
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:11:54
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:11:54
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:12:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:12:01
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId479) AND ([TbModelOrg].[SiteCode] IN (@SiteCode480))) 	
Parameters:
@ProjectId479[String] = 6372912251695766465
@SiteCode480[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:12:21
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm481,@MxGjBm482,@MxGjBm483,@MxGjBm484,@MxGjBm485,@MxGjBm486,@MxGjBm487,@MxGjBm488,@MxGjBm489,@MxGjBm490,@MxGjBm491,@MxGjBm492,@MxGjBm493,@MxGjBm494,@MxGjBm495,@MxGjBm496,@MxGjBm497,@MxGjBm498,@MxGjBm499,@MxGjBm500,@MxGjBm501,@MxGjBm502,@MxGjBm503,@MxGjBm504,@MxGjBm505,@MxGjBm506,@MxGjBm507,@MxGjBm508,@MxGjBm509,@MxGjBm510,@MxGjBm511,@MxGjBm512,@MxGjBm513,@MxGjBm514,@MxGjBm515,@MxGjBm516,@MxGjBm517,@MxGjBm518,@MxGjBm519,@MxGjBm520,@MxGjBm521,@MxGjBm522,@MxGjBm523,@MxGjBm524,@MxGjBm525,@MxGjBm526,@MxGjBm527,@MxGjBm528,@MxGjBm529,@MxGjBm530) 	
Parameters:
@MxGjBm481[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm482[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm483[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm484[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm485[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm486[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm487[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm488[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm489[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm490[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm491[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm492[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm493[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm494[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm495[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm496[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm497[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm498[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm499[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm500[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm501[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm502[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm503[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm504[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm505[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm506[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm507[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm508[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm509[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm510[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm511[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm512[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm513[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm514[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm515[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm516[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm517[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm518[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm519[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm520[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm521[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm522[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm523[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm524[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm525[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm526[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm527[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm528[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm529[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm530[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:12:21
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode531,@ComponentCode532,@ComponentCode533,@ComponentCode534,@ComponentCode535,@ComponentCode536,@ComponentCode537,@ComponentCode538,@ComponentCode539,@ComponentCode540,@ComponentCode541,@ComponentCode542,@ComponentCode543,@ComponentCode544,@ComponentCode545,@ComponentCode546,@ComponentCode547,@ComponentCode548,@ComponentCode549,@ComponentCode550,@ComponentCode551,@ComponentCode552,@ComponentCode553,@ComponentCode554,@ComponentCode555,@ComponentCode556,@ComponentCode557,@ComponentCode558,@ComponentCode559,@ComponentCode560,@ComponentCode561,@ComponentCode562,@ComponentCode563,@ComponentCode564,@ComponentCode565,@ComponentCode566,@ComponentCode567,@ComponentCode568,@ComponentCode569,@ComponentCode570,@ComponentCode571,@ComponentCode572,@ComponentCode573,@ComponentCode574,@ComponentCode575,@ComponentCode576,@ComponentCode577,@ComponentCode578,@ComponentCode579,@ComponentCode580) 	
Parameters:
@ComponentCode531[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@ComponentCode532[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@ComponentCode533[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@ComponentCode534[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@ComponentCode535[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@ComponentCode536[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@ComponentCode537[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@ComponentCode538[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@ComponentCode539[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@ComponentCode540[String] = L21_Z08_SBZX_OT_OT_LG_LG
@ComponentCode541[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@ComponentCode542[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@ComponentCode543[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@ComponentCode544[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@ComponentCode545[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@ComponentCode546[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@ComponentCode547[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@ComponentCode548[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@ComponentCode549[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@ComponentCode550[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@ComponentCode551[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@ComponentCode552[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@ComponentCode553[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@ComponentCode554[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@ComponentCode555[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@ComponentCode556[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@ComponentCode557[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@ComponentCode558[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@ComponentCode559[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@ComponentCode560[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode561[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode562[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode563[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@ComponentCode564[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@ComponentCode565[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@ComponentCode566[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode567[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@ComponentCode568[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode569[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@ComponentCode570[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode571[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode572[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode573[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode574[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@ComponentCode575[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@ComponentCode576[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@ComponentCode577[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode578[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode579[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode580[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:14:32
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 16:14:32
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 16:14:32
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:14:48
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type1) 	
Parameters:
@Type1[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:14:48
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type2) 	
Parameters:
@Type2[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:14:48
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 16:14:48
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 16:14:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:14:48
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29)))	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:14:48
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode31) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:14:48
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:14:48
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:14:48
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:15:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:15:27
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId33) AND ([TbModelOrg].[SiteCode] IN (@SiteCode34))) 	
Parameters:
@ProjectId33[String] = 6372912251695766465
@SiteCode34[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:15:37
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm35,@MxGjBm36,@MxGjBm37,@MxGjBm38,@MxGjBm39,@MxGjBm40,@MxGjBm41,@MxGjBm42,@MxGjBm43,@MxGjBm44,@MxGjBm45,@MxGjBm46,@MxGjBm47,@MxGjBm48,@MxGjBm49,@MxGjBm50,@MxGjBm51,@MxGjBm52,@MxGjBm53,@MxGjBm54,@MxGjBm55,@MxGjBm56,@MxGjBm57,@MxGjBm58,@MxGjBm59,@MxGjBm60,@MxGjBm61,@MxGjBm62,@MxGjBm63,@MxGjBm64,@MxGjBm65,@MxGjBm66,@MxGjBm67,@MxGjBm68,@MxGjBm69,@MxGjBm70,@MxGjBm71,@MxGjBm72,@MxGjBm73,@MxGjBm74,@MxGjBm75,@MxGjBm76,@MxGjBm77,@MxGjBm78,@MxGjBm79,@MxGjBm80,@MxGjBm81,@MxGjBm82,@MxGjBm83,@MxGjBm84) 	
Parameters:
@MxGjBm35[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm36[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm37[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm38[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm39[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm40[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm41[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm42[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm43[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm44[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm45[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm46[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm47[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm48[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm49[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm50[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm51[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm52[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm53[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm54[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm55[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm56[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm57[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm58[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm59[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm60[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm61[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm62[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm63[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm64[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm65[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm66[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm67[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm68[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm69[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm70[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm71[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm72[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm73[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm74[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm75[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm76[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm77[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm78[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm79[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm80[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm81[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm82[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm83[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm84[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:15:37
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode85,@ComponentCode86,@ComponentCode87,@ComponentCode88,@ComponentCode89,@ComponentCode90,@ComponentCode91,@ComponentCode92,@ComponentCode93,@ComponentCode94,@ComponentCode95,@ComponentCode96,@ComponentCode97,@ComponentCode98,@ComponentCode99,@ComponentCode100,@ComponentCode101,@ComponentCode102,@ComponentCode103,@ComponentCode104,@ComponentCode105,@ComponentCode106,@ComponentCode107,@ComponentCode108,@ComponentCode109,@ComponentCode110,@ComponentCode111,@ComponentCode112,@ComponentCode113,@ComponentCode114,@ComponentCode115,@ComponentCode116,@ComponentCode117,@ComponentCode118,@ComponentCode119,@ComponentCode120,@ComponentCode121,@ComponentCode122,@ComponentCode123,@ComponentCode124,@ComponentCode125,@ComponentCode126,@ComponentCode127,@ComponentCode128,@ComponentCode129,@ComponentCode130,@ComponentCode131,@ComponentCode132,@ComponentCode133,@ComponentCode134) 	
Parameters:
@ComponentCode85[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@ComponentCode86[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@ComponentCode87[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@ComponentCode88[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@ComponentCode89[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@ComponentCode90[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@ComponentCode91[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@ComponentCode92[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@ComponentCode93[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@ComponentCode94[String] = L21_Z08_SBZX_OT_OT_LG_LG
@ComponentCode95[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@ComponentCode96[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@ComponentCode97[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@ComponentCode98[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@ComponentCode99[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@ComponentCode100[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@ComponentCode101[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@ComponentCode102[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@ComponentCode103[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@ComponentCode104[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@ComponentCode105[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@ComponentCode106[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@ComponentCode107[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@ComponentCode108[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@ComponentCode109[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@ComponentCode110[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@ComponentCode111[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@ComponentCode112[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@ComponentCode113[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@ComponentCode114[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode115[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode116[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode117[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@ComponentCode118[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@ComponentCode119[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@ComponentCode120[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode121[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@ComponentCode122[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode123[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@ComponentCode124[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode125[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode126[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode127[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode128[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@ComponentCode129[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@ComponentCode130[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@ComponentCode131[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode132[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode133[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode134[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:16:12
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId135,@MxGjId136,@MxGjId137,@MxGjId138,@MxGjId139,@MxGjId140,@MxGjId141,@MxGjId142,@MxGjId143,@MxGjId144) 	
Parameters:
@MxGjId135[String] = 4e8fee44-60f3-437e-adc1-a7a703d45905
@MxGjId136[String] = 4e8fee44-60f3-437e-adc1-a7a703d45907
@MxGjId137[String] = 4e8fee44-60f3-437e-adc1-a7a703d45911
@MxGjId138[String] = 4e8fee44-60f3-437e-adc1-a7a703d45913
@MxGjId139[String] = 4e8fee44-60f3-437e-adc1-a7a703d45915
@MxGjId140[String] = 4e8fee44-60f3-437e-adc1-a7a703d45917
@MxGjId141[String] = 4e8fee44-60f3-437e-adc1-a7a703d45919
@MxGjId142[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591b
@MxGjId143[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591d
@MxGjId144[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591f


-----------------------------------------------------------------------------
2020-08-05 16:16:12
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode145,@ComponentCode146,@ComponentCode147,@ComponentCode148,@ComponentCode149,@ComponentCode150,@ComponentCode151,@ComponentCode152,@ComponentCode153,@ComponentCode154) 	
Parameters:
@ComponentCode145[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_001
@ComponentCode146[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_000
@ComponentCode147[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_007
@ComponentCode148[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_006
@ComponentCode149[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_009
@ComponentCode150[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_008
@ComponentCode151[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_003
@ComponentCode152[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_002
@ComponentCode153[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_005
@ComponentCode154[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_004


-----------------------------------------------------------------------------
2020-08-05 16:16:26
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId155,@MxGjId156,@MxGjId157,@MxGjId158,@MxGjId159,@MxGjId160,@MxGjId161,@MxGjId162,@MxGjId163,@MxGjId164) 	
Parameters:
@MxGjId155[String] = 4e8fee44-60f3-437e-adc1-a7a703d45841
@MxGjId156[String] = 4e8fee44-60f3-437e-adc1-a7a703d45843
@MxGjId157[String] = 4e8fee44-60f3-437e-adc1-a7a703d45845
@MxGjId158[String] = 4e8fee44-60f3-437e-adc1-a7a703d45847
@MxGjId159[String] = 4e8fee44-60f3-437e-adc1-a7a703d45849
@MxGjId160[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584b
@MxGjId161[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584d
@MxGjId162[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584f
@MxGjId163[String] = 4e8fee44-60f3-437e-adc1-a7a703d45859
@MxGjId164[String] = 4e8fee44-60f3-437e-adc1-a7a703d4585b


-----------------------------------------------------------------------------
2020-08-05 16:16:26
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode165,@ComponentCode166,@ComponentCode167,@ComponentCode168,@ComponentCode169,@ComponentCode170,@ComponentCode171,@ComponentCode172,@ComponentCode173,@ComponentCode174) 	
Parameters:
@ComponentCode165[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_007
@ComponentCode166[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_006
@ComponentCode167[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_009
@ComponentCode168[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_008
@ComponentCode169[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_003
@ComponentCode170[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_002
@ComponentCode171[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_005
@ComponentCode172[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_004
@ComponentCode173[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_011
@ComponentCode174[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_010


-----------------------------------------------------------------------------
2020-08-05 16:17:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:20:47
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:20:54
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId175,@MxGjId176,@MxGjId177,@MxGjId178,@MxGjId179,@MxGjId180,@MxGjId181,@MxGjId182,@MxGjId183,@MxGjId184) 	
Parameters:
@MxGjId175[String] = 4e8fee44-60f3-437e-adc1-a7a703d45841
@MxGjId176[String] = 4e8fee44-60f3-437e-adc1-a7a703d45843
@MxGjId177[String] = 4e8fee44-60f3-437e-adc1-a7a703d45845
@MxGjId178[String] = 4e8fee44-60f3-437e-adc1-a7a703d45847
@MxGjId179[String] = 4e8fee44-60f3-437e-adc1-a7a703d45849
@MxGjId180[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584b
@MxGjId181[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584d
@MxGjId182[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584f
@MxGjId183[String] = 4e8fee44-60f3-437e-adc1-a7a703d45859
@MxGjId184[String] = 4e8fee44-60f3-437e-adc1-a7a703d4585b


-----------------------------------------------------------------------------
2020-08-05 16:20:54
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode185,@ComponentCode186,@ComponentCode187,@ComponentCode188,@ComponentCode189,@ComponentCode190,@ComponentCode191,@ComponentCode192,@ComponentCode193,@ComponentCode194) 	
Parameters:
@ComponentCode185[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_007
@ComponentCode186[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_006
@ComponentCode187[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_009
@ComponentCode188[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_008
@ComponentCode189[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_003
@ComponentCode190[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_002
@ComponentCode191[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_005
@ComponentCode192[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_004
@ComponentCode193[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_011
@ComponentCode194[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_010


-----------------------------------------------------------------------------
2020-08-05 16:21:48
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 16:21:48
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:21:48
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:21:48
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:21:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:21:48
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId195) AND ([TbModelOrg].[SiteCode] IN (@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207,@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212,@SiteCode213,@SiteCode214,@SiteCode215,@SiteCode216,@SiteCode217,@SiteCode218,@SiteCode219,@SiteCode220,@SiteCode221))) 	
Parameters:
@ProjectId195[String] = 6372912251695766465
@SiteCode196[String] = 6373083923489249281
@SiteCode197[String] = 6373083925531366080
@SiteCode198[String] = 6373083927883400612
@SiteCode199[String] = 6373083918575368225
@SiteCode200[String] = 6373083920445075162
@SiteCode201[String] = 6373083908618598731
@SiteCode202[String] = 6373083911842783146
@SiteCode203[String] = 6373083913928202424
@SiteCode204[String] = 6373083877551621804
@SiteCode205[String] = 6373083879921857377
@SiteCode206[String] = 6373083881542550067
@SiteCode207[String] = 6373083883689772886
@SiteCode208[String] = 6373083887136270013
@SiteCode209[String] = 6373083889697116488
@SiteCode210[String] = 6373083891969846476
@SiteCode211[String] = 6373083894422586761
@SiteCode212[String] = 6373083897509963358
@SiteCode213[String] = 6373083900444931227
@SiteCode214[String] = 6373083829464571372
@SiteCode215[String] = 6373083833327492328
@SiteCode216[String] = 6373083841964286321
@SiteCode217[String] = 6373083844982558950
@SiteCode218[String] = 6373083847585007801
@SiteCode219[String] = 6373083856887939900
@SiteCode220[String] = 6373083859102666584
@SiteCode221[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 16:21:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:21:50
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId222) AND ([TbModelOrg].[SiteCode] IN (@SiteCode223))) 	
Parameters:
@ProjectId222[String] = 6372912251695766465
@SiteCode223[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:21:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:21:53
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId224) AND ([TbModelOrg].[SiteCode] IN (@SiteCode225))) 	
Parameters:
@ProjectId224[String] = 6372912251695766465
@SiteCode225[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 16:21:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:21:53
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId226) AND ([TbModelOrg].[SiteCode] IN (@SiteCode227))) 	
Parameters:
@ProjectId226[String] = 6372912251695766465
@SiteCode227[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:22:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:22:02
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId228) AND ([TbModelOrg].[SiteCode] IN (@SiteCode229))) 	
Parameters:
@ProjectId228[String] = 6372912251695766465
@SiteCode229[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:22:02
Text:	DELETE FROM [TbModelOrg] WHERE [TbModelOrg].[SiteCode] = @SiteCode230	
Parameters:
@SiteCode230[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:23:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:23:27
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1) AND ([TbModelOrg].[SiteCode] IN (@SiteCode2))) 	
Parameters:
@ProjectId1[String] = 6372912251695766465
@SiteCode2[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:23:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:23:51
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 16:23:52
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:23:52
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:23:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:23:52
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:23:52
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId3) AND ([TbModelOrg].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29))) 	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 16:24:00
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:24:00
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId30) AND ([TbModelOrg].[SiteCode] IN (@SiteCode31))) 	
Parameters:
@ProjectId30[String] = 6372912251695766465
@SiteCode31[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:24:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:24:02
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId32) AND ([TbModelOrg].[SiteCode] IN (@SiteCode33))) 	
Parameters:
@ProjectId32[String] = 6372912251695766465
@SiteCode33[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 16:24:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:24:03
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId34) AND ([TbModelOrg].[SiteCode] IN (@SiteCode35))) 	
Parameters:
@ProjectId34[String] = 6372912251695766465
@SiteCode35[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:25:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:25:21
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId36) AND ([TbModelOrg].[SiteCode] IN (@SiteCode37))) 	
Parameters:
@ProjectId36[String] = 6372912251695766465
@SiteCode37[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:25:33
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path38,@ProjectId39,@SiteCode40,@Type41);select scope_identity()	
Parameters:
@Path38[String] = 6373083833327492328/tmpFD2B.tmp.db
@ProjectId39[String] = 6372912251695766465
@SiteCode40[String] = 6373083833327492328
@Type41[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:25:33
Text:	INSERT INTO [TbModelOrg] ([Path],[ProjectId],[SiteCode],[Type]) VALUES (@Path42,@ProjectId43,@SiteCode44,@Type45);select scope_identity()	
Parameters:
@Path42[String] = 6373083833327492328/tmpFD2B.tmp.json
@ProjectId43[String] = 6372912251695766465
@SiteCode44[String] = 6373083833327492328
@Type45[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:25:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:25:35
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId46) AND ([TbModelOrg].[SiteCode] IN (@SiteCode47))) 	
Parameters:
@ProjectId46[String] = 6372912251695766465
@SiteCode47[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:25:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:25:39
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId48) AND ([TbModelOrg].[SiteCode] IN (@SiteCode49))) 	
Parameters:
@ProjectId48[String] = 6372912251695766465
@SiteCode49[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 16:25:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:25:40
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId50) AND ([TbModelOrg].[SiteCode] IN (@SiteCode51))) 	
Parameters:
@ProjectId50[String] = 6372912251695766465
@SiteCode51[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:25:57
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 16:25:57
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 16:25:57
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:26:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type52) 	
Parameters:
@Type52[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:26:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type53) 	
Parameters:
@Type53[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:26:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 16:26:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 16:26:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:26:08
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode81)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId54) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80)))	
Parameters:
@ProjectId54[String] = 6372912251695766465
@SiteCode55[String] = 6373083923489249281
@SiteCode56[String] = 6373083925531366080
@SiteCode57[String] = 6373083927883400612
@SiteCode58[String] = 6373083918575368225
@SiteCode59[String] = 6373083920445075162
@SiteCode60[String] = 6373083908618598731
@SiteCode61[String] = 6373083911842783146
@SiteCode62[String] = 6373083913928202424
@SiteCode63[String] = 6373083877551621804
@SiteCode64[String] = 6373083879921857377
@SiteCode65[String] = 6373083881542550067
@SiteCode66[String] = 6373083883689772886
@SiteCode67[String] = 6373083887136270013
@SiteCode68[String] = 6373083889697116488
@SiteCode69[String] = 6373083891969846476
@SiteCode70[String] = 6373083894422586761
@SiteCode71[String] = 6373083897509963358
@SiteCode72[String] = 6373083900444931227
@SiteCode73[String] = 6373083829464571372
@SiteCode74[String] = 6373083833327492328
@SiteCode75[String] = 6373083841964286321
@SiteCode76[String] = 6373083844982558950
@SiteCode77[String] = 6373083847585007801
@SiteCode78[String] = 6373083856887939900
@SiteCode79[String] = 6373083859102666584
@SiteCode80[String] = 6373083864919499284
@FDictionaryCode81[String] = OrderState
@FDictionaryCode82[String] = UrgentDegree
@FDictionaryCode83[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:26:08
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode82) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode83) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode81)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId54) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70,@SiteCode71,@SiteCode72,@SiteCode73,@SiteCode74,@SiteCode75,@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId54[String] = 6372912251695766465
@SiteCode55[String] = 6373083923489249281
@SiteCode56[String] = 6373083925531366080
@SiteCode57[String] = 6373083927883400612
@SiteCode58[String] = 6373083918575368225
@SiteCode59[String] = 6373083920445075162
@SiteCode60[String] = 6373083908618598731
@SiteCode61[String] = 6373083911842783146
@SiteCode62[String] = 6373083913928202424
@SiteCode63[String] = 6373083877551621804
@SiteCode64[String] = 6373083879921857377
@SiteCode65[String] = 6373083881542550067
@SiteCode66[String] = 6373083883689772886
@SiteCode67[String] = 6373083887136270013
@SiteCode68[String] = 6373083889697116488
@SiteCode69[String] = 6373083891969846476
@SiteCode70[String] = 6373083894422586761
@SiteCode71[String] = 6373083897509963358
@SiteCode72[String] = 6373083900444931227
@SiteCode73[String] = 6373083829464571372
@SiteCode74[String] = 6373083833327492328
@SiteCode75[String] = 6373083841964286321
@SiteCode76[String] = 6373083844982558950
@SiteCode77[String] = 6373083847585007801
@SiteCode78[String] = 6373083856887939900
@SiteCode79[String] = 6373083859102666584
@SiteCode80[String] = 6373083864919499284
@FDictionaryCode81[String] = OrderState
@FDictionaryCode82[String] = UrgentDegree
@FDictionaryCode83[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:26:08
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:26:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:26:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:26:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:26:27
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId84) AND ([TbModelOrg].[SiteCode] IN (@SiteCode85))) 	
Parameters:
@ProjectId84[String] = 6372912251695766465
@SiteCode85[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:26:40
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm86,@MxGjBm87,@MxGjBm88,@MxGjBm89,@MxGjBm90,@MxGjBm91,@MxGjBm92,@MxGjBm93,@MxGjBm94,@MxGjBm95,@MxGjBm96,@MxGjBm97,@MxGjBm98,@MxGjBm99,@MxGjBm100,@MxGjBm101,@MxGjBm102,@MxGjBm103,@MxGjBm104,@MxGjBm105,@MxGjBm106,@MxGjBm107,@MxGjBm108,@MxGjBm109,@MxGjBm110,@MxGjBm111,@MxGjBm112,@MxGjBm113,@MxGjBm114,@MxGjBm115,@MxGjBm116,@MxGjBm117,@MxGjBm118,@MxGjBm119,@MxGjBm120,@MxGjBm121,@MxGjBm122,@MxGjBm123,@MxGjBm124,@MxGjBm125,@MxGjBm126,@MxGjBm127,@MxGjBm128,@MxGjBm129,@MxGjBm130,@MxGjBm131,@MxGjBm132,@MxGjBm133,@MxGjBm134,@MxGjBm135) 	
Parameters:
@MxGjBm86[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm87[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm88[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm89[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm90[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm91[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm92[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm93[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm94[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm95[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm96[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm97[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm98[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm99[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm100[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm101[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm102[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm103[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm104[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm105[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm106[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm107[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm108[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm109[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm110[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm111[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm112[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm113[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm114[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm115[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm116[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm117[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm118[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm119[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm120[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm121[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm122[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm123[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm124[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm125[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm126[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm127[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm128[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm129[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm130[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm131[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm132[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm133[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm134[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm135[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:26:40
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode136,@ComponentCode137,@ComponentCode138,@ComponentCode139,@ComponentCode140,@ComponentCode141,@ComponentCode142,@ComponentCode143,@ComponentCode144,@ComponentCode145,@ComponentCode146,@ComponentCode147,@ComponentCode148,@ComponentCode149,@ComponentCode150,@ComponentCode151,@ComponentCode152,@ComponentCode153,@ComponentCode154,@ComponentCode155,@ComponentCode156,@ComponentCode157,@ComponentCode158,@ComponentCode159,@ComponentCode160,@ComponentCode161,@ComponentCode162,@ComponentCode163,@ComponentCode164,@ComponentCode165,@ComponentCode166,@ComponentCode167,@ComponentCode168,@ComponentCode169,@ComponentCode170,@ComponentCode171,@ComponentCode172,@ComponentCode173,@ComponentCode174,@ComponentCode175,@ComponentCode176,@ComponentCode177,@ComponentCode178,@ComponentCode179,@ComponentCode180,@ComponentCode181,@ComponentCode182,@ComponentCode183,@ComponentCode184,@ComponentCode185) 	
Parameters:
@ComponentCode136[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@ComponentCode137[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@ComponentCode138[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@ComponentCode139[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@ComponentCode140[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@ComponentCode141[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@ComponentCode142[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@ComponentCode143[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@ComponentCode144[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@ComponentCode145[String] = L21_Z08_SBZX_OT_OT_LG_LG
@ComponentCode146[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@ComponentCode147[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@ComponentCode148[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@ComponentCode149[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@ComponentCode150[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@ComponentCode151[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@ComponentCode152[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@ComponentCode153[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@ComponentCode154[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@ComponentCode155[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@ComponentCode156[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@ComponentCode157[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@ComponentCode158[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@ComponentCode159[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@ComponentCode160[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@ComponentCode161[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@ComponentCode162[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@ComponentCode163[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@ComponentCode164[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@ComponentCode165[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode166[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode167[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode168[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@ComponentCode169[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@ComponentCode170[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@ComponentCode171[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode172[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@ComponentCode173[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode174[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@ComponentCode175[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode176[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode177[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode178[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode179[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@ComponentCode180[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@ComponentCode181[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@ComponentCode182[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode183[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode184[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode185[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:51:00
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-05 16:51:00
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 16:51:00
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 16:51:00
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-05 16:51:00
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 16:51:00
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = 
@LogDate7[DateTime] = 2020/8/5 16:51:00
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-05 16:51:02
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 16:51:02
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 16:51:02
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:51:03
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type10) 	
Parameters:
@Type10[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:51:03
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type11) 	
Parameters:
@Type11[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:51:03
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 16:51:03
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:51:03
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38)))	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:51:03
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode40) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode41) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:51:03
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 16:51:03
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:51:03
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:51:03
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:52:10
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 16:52:10
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 16:52:10
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:52:10
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type42) 	
Parameters:
@Type42[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:52:10
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type43) 	
Parameters:
@Type43[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:52:10
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 16:52:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:52:10
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode71)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId44) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70)))	
Parameters:
@ProjectId44[String] = 6372912251695766465
@SiteCode45[String] = 6373083923489249281
@SiteCode46[String] = 6373083925531366080
@SiteCode47[String] = 6373083927883400612
@SiteCode48[String] = 6373083918575368225
@SiteCode49[String] = 6373083920445075162
@SiteCode50[String] = 6373083908618598731
@SiteCode51[String] = 6373083911842783146
@SiteCode52[String] = 6373083913928202424
@SiteCode53[String] = 6373083877551621804
@SiteCode54[String] = 6373083879921857377
@SiteCode55[String] = 6373083881542550067
@SiteCode56[String] = 6373083883689772886
@SiteCode57[String] = 6373083887136270013
@SiteCode58[String] = 6373083889697116488
@SiteCode59[String] = 6373083891969846476
@SiteCode60[String] = 6373083894422586761
@SiteCode61[String] = 6373083897509963358
@SiteCode62[String] = 6373083900444931227
@SiteCode63[String] = 6373083829464571372
@SiteCode64[String] = 6373083833327492328
@SiteCode65[String] = 6373083841964286321
@SiteCode66[String] = 6373083844982558950
@SiteCode67[String] = 6373083847585007801
@SiteCode68[String] = 6373083856887939900
@SiteCode69[String] = 6373083859102666584
@SiteCode70[String] = 6373083864919499284
@FDictionaryCode71[String] = OrderState
@FDictionaryCode72[String] = UrgentDegree
@FDictionaryCode73[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:52:10
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode72) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode73) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode71)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId44) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68,@SiteCode69,@SiteCode70))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId44[String] = 6372912251695766465
@SiteCode45[String] = 6373083923489249281
@SiteCode46[String] = 6373083925531366080
@SiteCode47[String] = 6373083927883400612
@SiteCode48[String] = 6373083918575368225
@SiteCode49[String] = 6373083920445075162
@SiteCode50[String] = 6373083908618598731
@SiteCode51[String] = 6373083911842783146
@SiteCode52[String] = 6373083913928202424
@SiteCode53[String] = 6373083877551621804
@SiteCode54[String] = 6373083879921857377
@SiteCode55[String] = 6373083881542550067
@SiteCode56[String] = 6373083883689772886
@SiteCode57[String] = 6373083887136270013
@SiteCode58[String] = 6373083889697116488
@SiteCode59[String] = 6373083891969846476
@SiteCode60[String] = 6373083894422586761
@SiteCode61[String] = 6373083897509963358
@SiteCode62[String] = 6373083900444931227
@SiteCode63[String] = 6373083829464571372
@SiteCode64[String] = 6373083833327492328
@SiteCode65[String] = 6373083841964286321
@SiteCode66[String] = 6373083844982558950
@SiteCode67[String] = 6373083847585007801
@SiteCode68[String] = 6373083856887939900
@SiteCode69[String] = 6373083859102666584
@SiteCode70[String] = 6373083864919499284
@FDictionaryCode71[String] = OrderState
@FDictionaryCode72[String] = UrgentDegree
@FDictionaryCode73[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:52:11
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 16:52:11
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:52:11
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:52:11
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:52:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:52:16
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId74) AND ([TbModelOrg].[SiteCode] IN (@SiteCode75))) 	
Parameters:
@ProjectId74[String] = 6372912251695766465
@SiteCode75[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:52:19
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm76,@MxGjBm77,@MxGjBm78,@MxGjBm79,@MxGjBm80,@MxGjBm81,@MxGjBm82,@MxGjBm83,@MxGjBm84,@MxGjBm85,@MxGjBm86,@MxGjBm87,@MxGjBm88,@MxGjBm89,@MxGjBm90,@MxGjBm91,@MxGjBm92,@MxGjBm93,@MxGjBm94,@MxGjBm95,@MxGjBm96,@MxGjBm97,@MxGjBm98,@MxGjBm99,@MxGjBm100,@MxGjBm101,@MxGjBm102,@MxGjBm103,@MxGjBm104,@MxGjBm105,@MxGjBm106,@MxGjBm107,@MxGjBm108,@MxGjBm109,@MxGjBm110,@MxGjBm111,@MxGjBm112,@MxGjBm113,@MxGjBm114,@MxGjBm115,@MxGjBm116,@MxGjBm117,@MxGjBm118,@MxGjBm119,@MxGjBm120,@MxGjBm121,@MxGjBm122,@MxGjBm123,@MxGjBm124,@MxGjBm125) 	
Parameters:
@MxGjBm76[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm77[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm78[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm79[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm80[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm81[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm82[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm83[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm84[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm85[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm86[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm87[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm88[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm89[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm90[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm91[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm92[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm93[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm94[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm95[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm96[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm97[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm98[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm99[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm100[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm101[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm102[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm103[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm104[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm105[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm106[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm107[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm108[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm109[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm110[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm111[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm112[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm113[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm114[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm115[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm116[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm117[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm118[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm119[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm120[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm121[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm122[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm123[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm124[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm125[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:52:19
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode126,@ComponentCode127,@ComponentCode128,@ComponentCode129,@ComponentCode130,@ComponentCode131,@ComponentCode132,@ComponentCode133,@ComponentCode134,@ComponentCode135,@ComponentCode136,@ComponentCode137,@ComponentCode138,@ComponentCode139,@ComponentCode140,@ComponentCode141,@ComponentCode142,@ComponentCode143,@ComponentCode144,@ComponentCode145,@ComponentCode146,@ComponentCode147,@ComponentCode148,@ComponentCode149,@ComponentCode150,@ComponentCode151,@ComponentCode152,@ComponentCode153,@ComponentCode154,@ComponentCode155,@ComponentCode156,@ComponentCode157,@ComponentCode158,@ComponentCode159,@ComponentCode160,@ComponentCode161,@ComponentCode162,@ComponentCode163,@ComponentCode164,@ComponentCode165,@ComponentCode166,@ComponentCode167,@ComponentCode168,@ComponentCode169,@ComponentCode170,@ComponentCode171,@ComponentCode172,@ComponentCode173,@ComponentCode174,@ComponentCode175) 	
Parameters:
@ComponentCode126[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@ComponentCode127[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@ComponentCode128[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@ComponentCode129[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@ComponentCode130[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@ComponentCode131[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@ComponentCode132[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@ComponentCode133[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@ComponentCode134[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@ComponentCode135[String] = L21_Z08_SBZX_OT_OT_LG_LG
@ComponentCode136[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@ComponentCode137[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@ComponentCode138[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@ComponentCode139[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@ComponentCode140[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@ComponentCode141[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@ComponentCode142[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@ComponentCode143[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@ComponentCode144[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@ComponentCode145[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@ComponentCode146[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@ComponentCode147[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@ComponentCode148[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@ComponentCode149[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@ComponentCode150[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@ComponentCode151[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@ComponentCode152[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@ComponentCode153[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@ComponentCode154[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@ComponentCode155[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode156[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode157[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode158[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@ComponentCode159[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@ComponentCode160[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@ComponentCode161[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode162[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@ComponentCode163[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode164[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@ComponentCode165[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode166[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode167[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode168[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode169[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@ComponentCode170[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@ComponentCode171[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@ComponentCode172[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode173[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode174[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode175[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:55:24
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode176) AND ([TbUser].[UserPwd] = @UserPwd177) 	
Parameters:
@UserCode176[String] = 500000
@UserPwd177[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-05 16:55:25
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 16:55:25
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 16:55:25
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-05 16:55:25
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode178 	
Parameters:
@UserCode178[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 16:55:25
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu179,@ActionType180,@HostName181,@LogDate182,@UserCode183,@UserIP184);select scope_identity()	
Parameters:
@ActionMenu179[String] = 0
@ActionType180[String] = 登录系统
@HostName181[String] = 
@LogDate182[DateTime] = 2020/8/5 16:55:25
@UserCode183[String] = 500000
@UserIP184[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-05 16:55:31
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 16:55:31
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 16:55:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:55:32
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type185) 	
Parameters:
@Type185[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:55:32
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type186) 	
Parameters:
@Type186[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:55:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 16:55:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:55:32
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode214)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId187) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207,@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212,@SiteCode213)))	
Parameters:
@ProjectId187[String] = 6372912251695766465
@SiteCode188[String] = 6373083923489249281
@SiteCode189[String] = 6373083925531366080
@SiteCode190[String] = 6373083927883400612
@SiteCode191[String] = 6373083918575368225
@SiteCode192[String] = 6373083920445075162
@SiteCode193[String] = 6373083908618598731
@SiteCode194[String] = 6373083911842783146
@SiteCode195[String] = 6373083913928202424
@SiteCode196[String] = 6373083877551621804
@SiteCode197[String] = 6373083879921857377
@SiteCode198[String] = 6373083881542550067
@SiteCode199[String] = 6373083883689772886
@SiteCode200[String] = 6373083887136270013
@SiteCode201[String] = 6373083889697116488
@SiteCode202[String] = 6373083891969846476
@SiteCode203[String] = 6373083894422586761
@SiteCode204[String] = 6373083897509963358
@SiteCode205[String] = 6373083900444931227
@SiteCode206[String] = 6373083829464571372
@SiteCode207[String] = 6373083833327492328
@SiteCode208[String] = 6373083841964286321
@SiteCode209[String] = 6373083844982558950
@SiteCode210[String] = 6373083847585007801
@SiteCode211[String] = 6373083856887939900
@SiteCode212[String] = 6373083859102666584
@SiteCode213[String] = 6373083864919499284
@FDictionaryCode214[String] = OrderState
@FDictionaryCode215[String] = UrgentDegree
@FDictionaryCode216[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:55:32
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode215) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode216) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode214)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId187) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207,@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212,@SiteCode213))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId187[String] = 6372912251695766465
@SiteCode188[String] = 6373083923489249281
@SiteCode189[String] = 6373083925531366080
@SiteCode190[String] = 6373083927883400612
@SiteCode191[String] = 6373083918575368225
@SiteCode192[String] = 6373083920445075162
@SiteCode193[String] = 6373083908618598731
@SiteCode194[String] = 6373083911842783146
@SiteCode195[String] = 6373083913928202424
@SiteCode196[String] = 6373083877551621804
@SiteCode197[String] = 6373083879921857377
@SiteCode198[String] = 6373083881542550067
@SiteCode199[String] = 6373083883689772886
@SiteCode200[String] = 6373083887136270013
@SiteCode201[String] = 6373083889697116488
@SiteCode202[String] = 6373083891969846476
@SiteCode203[String] = 6373083894422586761
@SiteCode204[String] = 6373083897509963358
@SiteCode205[String] = 6373083900444931227
@SiteCode206[String] = 6373083829464571372
@SiteCode207[String] = 6373083833327492328
@SiteCode208[String] = 6373083841964286321
@SiteCode209[String] = 6373083844982558950
@SiteCode210[String] = 6373083847585007801
@SiteCode211[String] = 6373083856887939900
@SiteCode212[String] = 6373083859102666584
@SiteCode213[String] = 6373083864919499284
@FDictionaryCode214[String] = OrderState
@FDictionaryCode215[String] = UrgentDegree
@FDictionaryCode216[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:55:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 16:55:33
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:55:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:55:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:55:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:55:39
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId217) AND ([TbModelOrg].[SiteCode] IN (@SiteCode218))) 	
Parameters:
@ProjectId217[String] = 6372912251695766465
@SiteCode218[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:55:42
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm219,@MxGjBm220,@MxGjBm221,@MxGjBm222,@MxGjBm223,@MxGjBm224,@MxGjBm225,@MxGjBm226,@MxGjBm227,@MxGjBm228,@MxGjBm229,@MxGjBm230,@MxGjBm231,@MxGjBm232,@MxGjBm233,@MxGjBm234,@MxGjBm235,@MxGjBm236,@MxGjBm237,@MxGjBm238,@MxGjBm239,@MxGjBm240,@MxGjBm241,@MxGjBm242,@MxGjBm243,@MxGjBm244,@MxGjBm245,@MxGjBm246,@MxGjBm247,@MxGjBm248,@MxGjBm249,@MxGjBm250,@MxGjBm251,@MxGjBm252,@MxGjBm253,@MxGjBm254,@MxGjBm255,@MxGjBm256,@MxGjBm257,@MxGjBm258,@MxGjBm259,@MxGjBm260,@MxGjBm261,@MxGjBm262,@MxGjBm263,@MxGjBm264,@MxGjBm265,@MxGjBm266,@MxGjBm267,@MxGjBm268) 	
Parameters:
@MxGjBm219[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm220[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm221[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm222[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm223[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm224[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm225[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm226[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm227[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm228[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm229[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm230[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm231[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm232[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm233[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm234[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm235[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm236[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm237[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm238[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm239[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm240[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm241[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm242[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm243[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm244[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm245[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm246[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm247[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm248[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm249[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm250[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm251[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm252[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm253[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm254[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm255[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm256[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm257[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm258[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm259[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm260[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm261[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm262[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm263[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm264[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm265[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm266[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm267[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm268[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:55:42
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode269,@ComponentCode270,@ComponentCode271,@ComponentCode272,@ComponentCode273,@ComponentCode274,@ComponentCode275,@ComponentCode276,@ComponentCode277,@ComponentCode278,@ComponentCode279,@ComponentCode280,@ComponentCode281,@ComponentCode282,@ComponentCode283,@ComponentCode284,@ComponentCode285,@ComponentCode286,@ComponentCode287,@ComponentCode288,@ComponentCode289,@ComponentCode290,@ComponentCode291,@ComponentCode292,@ComponentCode293,@ComponentCode294,@ComponentCode295,@ComponentCode296,@ComponentCode297,@ComponentCode298,@ComponentCode299,@ComponentCode300,@ComponentCode301,@ComponentCode302,@ComponentCode303,@ComponentCode304,@ComponentCode305,@ComponentCode306,@ComponentCode307,@ComponentCode308,@ComponentCode309,@ComponentCode310,@ComponentCode311,@ComponentCode312,@ComponentCode313,@ComponentCode314,@ComponentCode315,@ComponentCode316,@ComponentCode317,@ComponentCode318) 	
Parameters:
@ComponentCode269[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@ComponentCode270[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@ComponentCode271[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@ComponentCode272[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@ComponentCode273[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@ComponentCode274[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@ComponentCode275[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@ComponentCode276[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@ComponentCode277[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@ComponentCode278[String] = L21_Z08_SBZX_OT_OT_LG_LG
@ComponentCode279[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@ComponentCode280[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@ComponentCode281[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@ComponentCode282[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@ComponentCode283[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@ComponentCode284[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@ComponentCode285[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@ComponentCode286[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@ComponentCode287[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@ComponentCode288[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@ComponentCode289[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@ComponentCode290[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@ComponentCode291[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@ComponentCode292[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@ComponentCode293[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@ComponentCode294[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@ComponentCode295[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@ComponentCode296[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@ComponentCode297[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@ComponentCode298[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode299[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode300[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode301[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@ComponentCode302[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@ComponentCode303[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@ComponentCode304[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode305[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@ComponentCode306[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode307[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@ComponentCode308[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode309[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode310[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode311[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode312[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@ComponentCode313[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@ComponentCode314[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@ComponentCode315[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode316[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode317[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode318[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:56:06
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId319,@MxGjId320,@MxGjId321,@MxGjId322,@MxGjId323,@MxGjId324,@MxGjId325,@MxGjId326,@MxGjId327,@MxGjId328) 	
Parameters:
@MxGjId319[String] = 4e8fee44-60f3-437e-adc1-a7a703d45905
@MxGjId320[String] = 4e8fee44-60f3-437e-adc1-a7a703d45907
@MxGjId321[String] = 4e8fee44-60f3-437e-adc1-a7a703d45911
@MxGjId322[String] = 4e8fee44-60f3-437e-adc1-a7a703d45913
@MxGjId323[String] = 4e8fee44-60f3-437e-adc1-a7a703d45915
@MxGjId324[String] = 4e8fee44-60f3-437e-adc1-a7a703d45917
@MxGjId325[String] = 4e8fee44-60f3-437e-adc1-a7a703d45919
@MxGjId326[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591b
@MxGjId327[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591d
@MxGjId328[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591f


-----------------------------------------------------------------------------
2020-08-05 16:56:06
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode329,@ComponentCode330,@ComponentCode331,@ComponentCode332,@ComponentCode333,@ComponentCode334,@ComponentCode335,@ComponentCode336,@ComponentCode337,@ComponentCode338) 	
Parameters:
@ComponentCode329[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_001
@ComponentCode330[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_000
@ComponentCode331[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_007
@ComponentCode332[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_006
@ComponentCode333[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_009
@ComponentCode334[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_008
@ComponentCode335[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_003
@ComponentCode336[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_002
@ComponentCode337[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_005
@ComponentCode338[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_004


-----------------------------------------------------------------------------
2020-08-05 16:58:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 16:58:52
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId339,@MxGjId340,@MxGjId341,@MxGjId342,@MxGjId343,@MxGjId344,@MxGjId345,@MxGjId346,@MxGjId347) 	
Parameters:
@MxGjId339[String] = 4e8fee44-60f3-437e-adc1-a7a703d4588d
@MxGjId340[String] = 4e8fee44-60f3-437e-adc1-a7a703d4589e
@MxGjId341[String] = 4e8fee44-60f3-437e-adc1-a7a703d458c2
@MxGjId342[String] = 4e8fee44-60f3-437e-adc1-a7a703d458e3
@MxGjId343[String] = 4e8fee44-60f3-437e-adc1-a7a703d458fc
@MxGjId344[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ac8d
@MxGjId345[String] = 4e8fee44-60f3-437e-adc1-a7a703d4acd6
@MxGjId346[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ad7b
@MxGjId347[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ad8c


-----------------------------------------------------------------------------
2020-08-05 16:58:52
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode348,@ComponentCode349,@ComponentCode350,@ComponentCode351,@ComponentCode352,@ComponentCode353,@ComponentCode354,@ComponentCode355,@ComponentCode356) 	
Parameters:
@ComponentCode348[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_000
@ComponentCode349[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_001
@ComponentCode350[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_004
@ComponentCode351[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_002
@ComponentCode352[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_003
@ComponentCode353[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_005
@ComponentCode354[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_006
@ComponentCode355[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_007
@ComponentCode356[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008


-----------------------------------------------------------------------------
2020-08-05 16:59:05
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId357) 	
Parameters:
@MxGjId357[String] = 4e8fee44-60f3-437e-adc1-a7a703d4593d


-----------------------------------------------------------------------------
2020-08-05 16:59:05
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode358) 	
Parameters:
@ComponentCode358[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB_000


-----------------------------------------------------------------------------
2020-08-05 16:59:32
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type359) 	
Parameters:
@Type359[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 16:59:32
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type360) 	
Parameters:
@Type360[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode388)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId361) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368,@SiteCode369,@SiteCode370,@SiteCode371,@SiteCode372,@SiteCode373,@SiteCode374,@SiteCode375,@SiteCode376,@SiteCode377,@SiteCode378,@SiteCode379,@SiteCode380,@SiteCode381,@SiteCode382,@SiteCode383,@SiteCode384,@SiteCode385,@SiteCode386,@SiteCode387)))	
Parameters:
@ProjectId361[String] = 6372912251695766465
@SiteCode362[String] = 6373083923489249281
@SiteCode363[String] = 6373083925531366080
@SiteCode364[String] = 6373083927883400612
@SiteCode365[String] = 6373083918575368225
@SiteCode366[String] = 6373083920445075162
@SiteCode367[String] = 6373083908618598731
@SiteCode368[String] = 6373083911842783146
@SiteCode369[String] = 6373083913928202424
@SiteCode370[String] = 6373083877551621804
@SiteCode371[String] = 6373083879921857377
@SiteCode372[String] = 6373083881542550067
@SiteCode373[String] = 6373083883689772886
@SiteCode374[String] = 6373083887136270013
@SiteCode375[String] = 6373083889697116488
@SiteCode376[String] = 6373083891969846476
@SiteCode377[String] = 6373083894422586761
@SiteCode378[String] = 6373083897509963358
@SiteCode379[String] = 6373083900444931227
@SiteCode380[String] = 6373083829464571372
@SiteCode381[String] = 6373083833327492328
@SiteCode382[String] = 6373083841964286321
@SiteCode383[String] = 6373083844982558950
@SiteCode384[String] = 6373083847585007801
@SiteCode385[String] = 6373083856887939900
@SiteCode386[String] = 6373083859102666584
@SiteCode387[String] = 6373083864919499284
@FDictionaryCode388[String] = OrderState
@FDictionaryCode389[String] = UrgentDegree
@FDictionaryCode390[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode389) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode390) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode388)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId361) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368,@SiteCode369,@SiteCode370,@SiteCode371,@SiteCode372,@SiteCode373,@SiteCode374,@SiteCode375,@SiteCode376,@SiteCode377,@SiteCode378,@SiteCode379,@SiteCode380,@SiteCode381,@SiteCode382,@SiteCode383,@SiteCode384,@SiteCode385,@SiteCode386,@SiteCode387))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId361[String] = 6372912251695766465
@SiteCode362[String] = 6373083923489249281
@SiteCode363[String] = 6373083925531366080
@SiteCode364[String] = 6373083927883400612
@SiteCode365[String] = 6373083918575368225
@SiteCode366[String] = 6373083920445075162
@SiteCode367[String] = 6373083908618598731
@SiteCode368[String] = 6373083911842783146
@SiteCode369[String] = 6373083913928202424
@SiteCode370[String] = 6373083877551621804
@SiteCode371[String] = 6373083879921857377
@SiteCode372[String] = 6373083881542550067
@SiteCode373[String] = 6373083883689772886
@SiteCode374[String] = 6373083887136270013
@SiteCode375[String] = 6373083889697116488
@SiteCode376[String] = 6373083891969846476
@SiteCode377[String] = 6373083894422586761
@SiteCode378[String] = 6373083897509963358
@SiteCode379[String] = 6373083900444931227
@SiteCode380[String] = 6373083829464571372
@SiteCode381[String] = 6373083833327492328
@SiteCode382[String] = 6373083841964286321
@SiteCode383[String] = 6373083844982558950
@SiteCode384[String] = 6373083847585007801
@SiteCode385[String] = 6373083856887939900
@SiteCode386[String] = 6373083859102666584
@SiteCode387[String] = 6373083864919499284
@FDictionaryCode388[String] = OrderState
@FDictionaryCode389[String] = UrgentDegree
@FDictionaryCode390[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 16:59:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 16:59:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:59:52
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode393)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId391) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode392)))	
Parameters:
@ProjectId391[String] = 6372912251695766465
@SiteCode392[String] = 6373083833327492328
@FDictionaryCode393[String] = OrderState
@FDictionaryCode394[String] = UrgentDegree
@FDictionaryCode395[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:59:52
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode394) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode395) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode393)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId391) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode392))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId391[String] = 6372912251695766465
@SiteCode392[String] = 6373083833327492328
@FDictionaryCode393[String] = OrderState
@FDictionaryCode394[String] = UrgentDegree
@FDictionaryCode395[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 16:59:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 16:59:54
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId396) AND ([TbModelOrg].[SiteCode] IN (@SiteCode397))) 	
Parameters:
@ProjectId396[String] = 6372912251695766465
@SiteCode397[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 16:59:59
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm398,@MxGjBm399,@MxGjBm400,@MxGjBm401,@MxGjBm402,@MxGjBm403,@MxGjBm404,@MxGjBm405,@MxGjBm406,@MxGjBm407,@MxGjBm408,@MxGjBm409,@MxGjBm410,@MxGjBm411,@MxGjBm412,@MxGjBm413,@MxGjBm414,@MxGjBm415,@MxGjBm416,@MxGjBm417,@MxGjBm418,@MxGjBm419,@MxGjBm420,@MxGjBm421,@MxGjBm422,@MxGjBm423,@MxGjBm424,@MxGjBm425,@MxGjBm426,@MxGjBm427,@MxGjBm428,@MxGjBm429,@MxGjBm430,@MxGjBm431,@MxGjBm432,@MxGjBm433,@MxGjBm434,@MxGjBm435,@MxGjBm436,@MxGjBm437,@MxGjBm438,@MxGjBm439,@MxGjBm440,@MxGjBm441,@MxGjBm442,@MxGjBm443,@MxGjBm444,@MxGjBm445,@MxGjBm446,@MxGjBm447) 	
Parameters:
@MxGjBm398[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm399[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm400[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm401[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm402[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm403[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm404[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm405[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm406[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm407[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm408[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm409[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm410[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm411[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm412[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm413[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm414[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm415[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm416[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm417[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm418[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm419[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm420[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm421[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm422[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm423[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm424[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm425[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm426[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm427[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm428[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm429[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm430[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm431[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm432[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm433[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm434[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm435[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm436[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm437[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm438[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm439[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm440[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm441[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm442[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm443[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm444[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm445[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm446[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm447[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 16:59:59
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode448,@ComponentCode449,@ComponentCode450,@ComponentCode451,@ComponentCode452,@ComponentCode453,@ComponentCode454,@ComponentCode455,@ComponentCode456,@ComponentCode457,@ComponentCode458,@ComponentCode459,@ComponentCode460,@ComponentCode461,@ComponentCode462,@ComponentCode463,@ComponentCode464,@ComponentCode465,@ComponentCode466,@ComponentCode467,@ComponentCode468,@ComponentCode469,@ComponentCode470,@ComponentCode471,@ComponentCode472,@ComponentCode473,@ComponentCode474,@ComponentCode475,@ComponentCode476,@ComponentCode477,@ComponentCode478,@ComponentCode479,@ComponentCode480,@ComponentCode481,@ComponentCode482,@ComponentCode483,@ComponentCode484,@ComponentCode485,@ComponentCode486,@ComponentCode487,@ComponentCode488,@ComponentCode489,@ComponentCode490,@ComponentCode491,@ComponentCode492,@ComponentCode493,@ComponentCode494,@ComponentCode495,@ComponentCode496,@ComponentCode497) 	
Parameters:
@ComponentCode448[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@ComponentCode449[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@ComponentCode450[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@ComponentCode451[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@ComponentCode452[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@ComponentCode453[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@ComponentCode454[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@ComponentCode455[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@ComponentCode456[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@ComponentCode457[String] = L21_Z08_SBZX_OT_OT_LG_LG
@ComponentCode458[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@ComponentCode459[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@ComponentCode460[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@ComponentCode461[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@ComponentCode462[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@ComponentCode463[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@ComponentCode464[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@ComponentCode465[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@ComponentCode466[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@ComponentCode467[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@ComponentCode468[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@ComponentCode469[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@ComponentCode470[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@ComponentCode471[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@ComponentCode472[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@ComponentCode473[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@ComponentCode474[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@ComponentCode475[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@ComponentCode476[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@ComponentCode477[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode478[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode479[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode480[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@ComponentCode481[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@ComponentCode482[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@ComponentCode483[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode484[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@ComponentCode485[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode486[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@ComponentCode487[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode488[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode489[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode490[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode491[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@ComponentCode492[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@ComponentCode493[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@ComponentCode494[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode495[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode496[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode497[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 17:00:18
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId498,@MxGjId499,@MxGjId500,@MxGjId501,@MxGjId502,@MxGjId503,@MxGjId504,@MxGjId505,@MxGjId506,@MxGjId507) 	
Parameters:
@MxGjId498[String] = 4e8fee44-60f3-437e-adc1-a7a703d45905
@MxGjId499[String] = 4e8fee44-60f3-437e-adc1-a7a703d45907
@MxGjId500[String] = 4e8fee44-60f3-437e-adc1-a7a703d45911
@MxGjId501[String] = 4e8fee44-60f3-437e-adc1-a7a703d45913
@MxGjId502[String] = 4e8fee44-60f3-437e-adc1-a7a703d45915
@MxGjId503[String] = 4e8fee44-60f3-437e-adc1-a7a703d45917
@MxGjId504[String] = 4e8fee44-60f3-437e-adc1-a7a703d45919
@MxGjId505[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591b
@MxGjId506[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591d
@MxGjId507[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591f


-----------------------------------------------------------------------------
2020-08-05 17:00:18
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode508,@ComponentCode509,@ComponentCode510,@ComponentCode511,@ComponentCode512,@ComponentCode513,@ComponentCode514,@ComponentCode515,@ComponentCode516,@ComponentCode517) 	
Parameters:
@ComponentCode508[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_001
@ComponentCode509[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_000
@ComponentCode510[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_007
@ComponentCode511[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_006
@ComponentCode512[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_009
@ComponentCode513[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_008
@ComponentCode514[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_003
@ComponentCode515[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_002
@ComponentCode516[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_005
@ComponentCode517[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_004


-----------------------------------------------------------------------------
2020-08-05 17:00:22
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId518,@MxGjId519,@MxGjId520,@MxGjId521,@MxGjId522,@MxGjId523,@MxGjId524,@MxGjId525,@MxGjId526,@MxGjId527) 	
Parameters:
@MxGjId518[String] = 4e8fee44-60f3-437e-adc1-a7a703d45841
@MxGjId519[String] = 4e8fee44-60f3-437e-adc1-a7a703d45843
@MxGjId520[String] = 4e8fee44-60f3-437e-adc1-a7a703d45845
@MxGjId521[String] = 4e8fee44-60f3-437e-adc1-a7a703d45847
@MxGjId522[String] = 4e8fee44-60f3-437e-adc1-a7a703d45849
@MxGjId523[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584b
@MxGjId524[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584d
@MxGjId525[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584f
@MxGjId526[String] = 4e8fee44-60f3-437e-adc1-a7a703d45859
@MxGjId527[String] = 4e8fee44-60f3-437e-adc1-a7a703d4585b


-----------------------------------------------------------------------------
2020-08-05 17:00:22
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode528,@ComponentCode529,@ComponentCode530,@ComponentCode531,@ComponentCode532,@ComponentCode533,@ComponentCode534,@ComponentCode535,@ComponentCode536,@ComponentCode537) 	
Parameters:
@ComponentCode528[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_007
@ComponentCode529[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_006
@ComponentCode530[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_009
@ComponentCode531[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_008
@ComponentCode532[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_003
@ComponentCode533[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_002
@ComponentCode534[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_005
@ComponentCode535[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_004
@ComponentCode536[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_011
@ComponentCode537[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_010


-----------------------------------------------------------------------------
2020-08-05 17:00:48
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId538,@MxGjId539,@MxGjId540,@MxGjId541,@MxGjId542,@MxGjId543,@MxGjId544,@MxGjId545,@MxGjId546,@MxGjId547) 	
Parameters:
@MxGjId538[String] = 4e8fee44-60f3-437e-adc1-a7a703d45841
@MxGjId539[String] = 4e8fee44-60f3-437e-adc1-a7a703d45843
@MxGjId540[String] = 4e8fee44-60f3-437e-adc1-a7a703d45845
@MxGjId541[String] = 4e8fee44-60f3-437e-adc1-a7a703d45847
@MxGjId542[String] = 4e8fee44-60f3-437e-adc1-a7a703d45849
@MxGjId543[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584b
@MxGjId544[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584d
@MxGjId545[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584f
@MxGjId546[String] = 4e8fee44-60f3-437e-adc1-a7a703d45859
@MxGjId547[String] = 4e8fee44-60f3-437e-adc1-a7a703d4585b


-----------------------------------------------------------------------------
2020-08-05 17:00:48
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode548,@ComponentCode549,@ComponentCode550,@ComponentCode551,@ComponentCode552,@ComponentCode553,@ComponentCode554,@ComponentCode555,@ComponentCode556,@ComponentCode557) 	
Parameters:
@ComponentCode548[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_007
@ComponentCode549[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_006
@ComponentCode550[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_009
@ComponentCode551[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_008
@ComponentCode552[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_003
@ComponentCode553[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_002
@ComponentCode554[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_005
@ComponentCode555[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_004
@ComponentCode556[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_011
@ComponentCode557[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_010


-----------------------------------------------------------------------------
2020-08-05 17:01:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:04:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:04:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 17:04:32
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 17:04:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 17:04:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 17:04:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:33
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId558) AND ([TbModelOrg].[SiteCode] IN (@SiteCode559,@SiteCode560,@SiteCode561,@SiteCode562,@SiteCode563,@SiteCode564,@SiteCode565,@SiteCode566,@SiteCode567,@SiteCode568,@SiteCode569,@SiteCode570,@SiteCode571,@SiteCode572,@SiteCode573,@SiteCode574,@SiteCode575,@SiteCode576,@SiteCode577,@SiteCode578,@SiteCode579,@SiteCode580,@SiteCode581,@SiteCode582,@SiteCode583,@SiteCode584))) 	
Parameters:
@ProjectId558[String] = 6372912251695766465
@SiteCode559[String] = 6373083923489249281
@SiteCode560[String] = 6373083925531366080
@SiteCode561[String] = 6373083927883400612
@SiteCode562[String] = 6373083918575368225
@SiteCode563[String] = 6373083920445075162
@SiteCode564[String] = 6373083908618598731
@SiteCode565[String] = 6373083911842783146
@SiteCode566[String] = 6373083913928202424
@SiteCode567[String] = 6373083877551621804
@SiteCode568[String] = 6373083879921857377
@SiteCode569[String] = 6373083881542550067
@SiteCode570[String] = 6373083883689772886
@SiteCode571[String] = 6373083887136270013
@SiteCode572[String] = 6373083889697116488
@SiteCode573[String] = 6373083891969846476
@SiteCode574[String] = 6373083894422586761
@SiteCode575[String] = 6373083897509963358
@SiteCode576[String] = 6373083900444931227
@SiteCode577[String] = 6373083829464571372
@SiteCode578[String] = 6373083833327492328
@SiteCode579[String] = 6373083841964286321
@SiteCode580[String] = 6373083844982558950
@SiteCode581[String] = 6373083847585007801
@SiteCode582[String] = 6373083856887939900
@SiteCode583[String] = 6373083859102666584
@SiteCode584[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 17:04:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:41
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId585) AND ([TbModelOrg].[SiteCode] IN (@SiteCode586,@SiteCode587,@SiteCode588,@SiteCode589,@SiteCode590,@SiteCode591,@SiteCode592,@SiteCode593,@SiteCode594,@SiteCode595,@SiteCode596,@SiteCode597,@SiteCode598,@SiteCode599,@SiteCode600,@SiteCode601,@SiteCode602,@SiteCode603,@SiteCode604,@SiteCode605,@SiteCode606,@SiteCode607,@SiteCode608,@SiteCode609,@SiteCode610,@SiteCode611))) 	
Parameters:
@ProjectId585[String] = 6372912251695766465
@SiteCode586[String] = 6373083923489249281
@SiteCode587[String] = 6373083925531366080
@SiteCode588[String] = 6373083927883400612
@SiteCode589[String] = 6373083918575368225
@SiteCode590[String] = 6373083920445075162
@SiteCode591[String] = 6373083908618598731
@SiteCode592[String] = 6373083911842783146
@SiteCode593[String] = 6373083913928202424
@SiteCode594[String] = 6373083877551621804
@SiteCode595[String] = 6373083879921857377
@SiteCode596[String] = 6373083881542550067
@SiteCode597[String] = 6373083883689772886
@SiteCode598[String] = 6373083887136270013
@SiteCode599[String] = 6373083889697116488
@SiteCode600[String] = 6373083891969846476
@SiteCode601[String] = 6373083894422586761
@SiteCode602[String] = 6373083897509963358
@SiteCode603[String] = 6373083900444931227
@SiteCode604[String] = 6373083829464571372
@SiteCode605[String] = 6373083833327492328
@SiteCode606[String] = 6373083841964286321
@SiteCode607[String] = 6373083844982558950
@SiteCode608[String] = 6373083847585007801
@SiteCode609[String] = 6373083856887939900
@SiteCode610[String] = 6373083859102666584
@SiteCode611[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 17:04:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 17:04:41
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 17:04:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 17:04:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 17:04:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:41
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId612) AND ([TbModelOrg].[SiteCode] IN (@SiteCode613,@SiteCode614,@SiteCode615,@SiteCode616,@SiteCode617,@SiteCode618,@SiteCode619,@SiteCode620,@SiteCode621,@SiteCode622,@SiteCode623,@SiteCode624,@SiteCode625,@SiteCode626,@SiteCode627,@SiteCode628,@SiteCode629,@SiteCode630,@SiteCode631,@SiteCode632,@SiteCode633,@SiteCode634,@SiteCode635,@SiteCode636,@SiteCode637,@SiteCode638))) 	
Parameters:
@ProjectId612[String] = 6372912251695766465
@SiteCode613[String] = 6373083923489249281
@SiteCode614[String] = 6373083925531366080
@SiteCode615[String] = 6373083927883400612
@SiteCode616[String] = 6373083918575368225
@SiteCode617[String] = 6373083920445075162
@SiteCode618[String] = 6373083908618598731
@SiteCode619[String] = 6373083911842783146
@SiteCode620[String] = 6373083913928202424
@SiteCode621[String] = 6373083877551621804
@SiteCode622[String] = 6373083879921857377
@SiteCode623[String] = 6373083881542550067
@SiteCode624[String] = 6373083883689772886
@SiteCode625[String] = 6373083887136270013
@SiteCode626[String] = 6373083889697116488
@SiteCode627[String] = 6373083891969846476
@SiteCode628[String] = 6373083894422586761
@SiteCode629[String] = 6373083897509963358
@SiteCode630[String] = 6373083900444931227
@SiteCode631[String] = 6373083829464571372
@SiteCode632[String] = 6373083833327492328
@SiteCode633[String] = 6373083841964286321
@SiteCode634[String] = 6373083844982558950
@SiteCode635[String] = 6373083847585007801
@SiteCode636[String] = 6373083856887939900
@SiteCode637[String] = 6373083859102666584
@SiteCode638[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 17:04:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:48
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId639) AND ([TbModelOrg].[SiteCode] IN (@SiteCode640))) 	
Parameters:
@ProjectId639[String] = 6372912251695766465
@SiteCode640[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 17:04:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:49
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId641) AND ([TbModelOrg].[SiteCode] IN (@SiteCode642))) 	
Parameters:
@ProjectId641[String] = 6372912251695766465
@SiteCode642[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:04:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:49
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId643) AND ([TbModelOrg].[SiteCode] IN (@SiteCode644))) 	
Parameters:
@ProjectId643[String] = 6372912251695766465
@SiteCode644[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-05 17:04:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921396045311451
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:50
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId645) AND ([TbModelOrg].[SiteCode] IN (@SiteCode646,@SiteCode647,@SiteCode648,@SiteCode649,@SiteCode650,@SiteCode651,@SiteCode652,@SiteCode653))) 	
Parameters:
@ProjectId645[String] = 6372912251695766465
@SiteCode646[String] = 6373083829464571372
@SiteCode647[String] = 6373083833327492328
@SiteCode648[String] = 6373083841964286321
@SiteCode649[String] = 6373083844982558950
@SiteCode650[String] = 6373083847585007801
@SiteCode651[String] = 6373083856887939900
@SiteCode652[String] = 6373083859102666584
@SiteCode653[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 17:04:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921378678418123
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:50
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId654) AND ([TbModelOrg].[SiteCode] IN (@SiteCode655,@SiteCode656,@SiteCode657,@SiteCode658,@SiteCode659,@SiteCode660,@SiteCode661,@SiteCode662))) 	
Parameters:
@ProjectId654[String] = 6372912251695766465
@SiteCode655[String] = 6373083829464571372
@SiteCode656[String] = 6373083833327492328
@SiteCode657[String] = 6373083841964286321
@SiteCode658[String] = 6373083844982558950
@SiteCode659[String] = 6373083847585007801
@SiteCode660[String] = 6373083856887939900
@SiteCode661[String] = 6373083859102666584
@SiteCode662[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 17:04:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:51
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId663) AND ([TbModelOrg].[SiteCode] IN (@SiteCode664))) 	
Parameters:
@ProjectId663[String] = 6372912251695766465
@SiteCode664[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-05 17:04:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:52
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId665) AND ([TbModelOrg].[SiteCode] IN (@SiteCode666))) 	
Parameters:
@ProjectId665[String] = 6372912251695766465
@SiteCode666[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:04:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:52
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId667) AND ([TbModelOrg].[SiteCode] IN (@SiteCode668))) 	
Parameters:
@ProjectId667[String] = 6372912251695766465
@SiteCode668[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 17:04:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:59
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId669) AND ([TbModelOrg].[SiteCode] IN (@SiteCode670))) 	
Parameters:
@ProjectId669[String] = 6372912251695766465
@SiteCode670[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:04:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:04:59
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId671) AND ([TbModelOrg].[SiteCode] IN (@SiteCode672))) 	
Parameters:
@ProjectId671[String] = 6372912251695766465
@SiteCode672[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 17:05:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:05:08
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId673) AND ([TbModelOrg].[SiteCode] IN (@SiteCode674))) 	
Parameters:
@ProjectId673[String] = 6372912251695766465
@SiteCode674[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 17:05:08
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 17:05:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 17:05:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 17:07:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:07:34
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId675,@MxGjId676,@MxGjId677,@MxGjId678,@MxGjId679,@MxGjId680,@MxGjId681,@MxGjId682,@MxGjId683,@MxGjId684) 	
Parameters:
@MxGjId675[String] = 4e8fee44-60f3-437e-adc1-a7a703d45841
@MxGjId676[String] = 4e8fee44-60f3-437e-adc1-a7a703d45843
@MxGjId677[String] = 4e8fee44-60f3-437e-adc1-a7a703d45845
@MxGjId678[String] = 4e8fee44-60f3-437e-adc1-a7a703d45847
@MxGjId679[String] = 4e8fee44-60f3-437e-adc1-a7a703d45849
@MxGjId680[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584b
@MxGjId681[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584d
@MxGjId682[String] = 4e8fee44-60f3-437e-adc1-a7a703d4584f
@MxGjId683[String] = 4e8fee44-60f3-437e-adc1-a7a703d45859
@MxGjId684[String] = 4e8fee44-60f3-437e-adc1-a7a703d4585b


-----------------------------------------------------------------------------
2020-08-05 17:07:34
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode685,@ComponentCode686,@ComponentCode687,@ComponentCode688,@ComponentCode689,@ComponentCode690,@ComponentCode691,@ComponentCode692,@ComponentCode693,@ComponentCode694) 	
Parameters:
@ComponentCode685[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_007
@ComponentCode686[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_006
@ComponentCode687[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_009
@ComponentCode688[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_008
@ComponentCode689[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_003
@ComponentCode690[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_002
@ComponentCode691[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_005
@ComponentCode692[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_004
@ComponentCode693[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_011
@ComponentCode694[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ_010


-----------------------------------------------------------------------------
2020-08-05 17:07:39
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId695,@MxGjId696,@MxGjId697,@MxGjId698,@MxGjId699,@MxGjId700,@MxGjId701,@MxGjId702,@MxGjId703,@MxGjId704) 	
Parameters:
@MxGjId695[String] = 4e8fee44-60f3-437e-adc1-a7a703d45905
@MxGjId696[String] = 4e8fee44-60f3-437e-adc1-a7a703d45907
@MxGjId697[String] = 4e8fee44-60f3-437e-adc1-a7a703d45911
@MxGjId698[String] = 4e8fee44-60f3-437e-adc1-a7a703d45913
@MxGjId699[String] = 4e8fee44-60f3-437e-adc1-a7a703d45915
@MxGjId700[String] = 4e8fee44-60f3-437e-adc1-a7a703d45917
@MxGjId701[String] = 4e8fee44-60f3-437e-adc1-a7a703d45919
@MxGjId702[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591b
@MxGjId703[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591d
@MxGjId704[String] = 4e8fee44-60f3-437e-adc1-a7a703d4591f


-----------------------------------------------------------------------------
2020-08-05 17:07:39
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode705,@ComponentCode706,@ComponentCode707,@ComponentCode708,@ComponentCode709,@ComponentCode710,@ComponentCode711,@ComponentCode712,@ComponentCode713,@ComponentCode714) 	
Parameters:
@ComponentCode705[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_001
@ComponentCode706[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_000
@ComponentCode707[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_007
@ComponentCode708[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_006
@ComponentCode709[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_009
@ComponentCode710[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_008
@ComponentCode711[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_003
@ComponentCode712[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_002
@ComponentCode713[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_005
@ComponentCode714[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ_004


-----------------------------------------------------------------------------
2020-08-05 17:07:58
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId715,@MxGjId716,@MxGjId717,@MxGjId718,@MxGjId719,@MxGjId720,@MxGjId721,@MxGjId722,@MxGjId723,@MxGjId724) 	
Parameters:
@MxGjId715[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a03
@MxGjId716[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a07
@MxGjId717[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a12
@MxGjId718[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a18
@MxGjId719[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a40
@MxGjId720[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a60
@MxGjId721[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a62
@MxGjId722[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a6c
@MxGjId723[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a80
@MxGjId724[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a84


-----------------------------------------------------------------------------
2020-08-05 17:07:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode725,@ComponentCode726,@ComponentCode727,@ComponentCode728,@ComponentCode729,@ComponentCode730,@ComponentCode731,@ComponentCode732,@ComponentCode733,@ComponentCode734) 	
Parameters:
@ComponentCode725[String] = L21_Z08_00GS_XF_XF_SG_SG--3_028
@ComponentCode726[String] = L21_Z08_00GS_XF_XF_SG_SG--3_030
@ComponentCode727[String] = L21_Z08_00GS_XF_XF_SG_SG--3_035
@ComponentCode728[String] = L21_Z08_00GS_XF_XF_SG_SG--3_032
@ComponentCode729[String] = L21_Z08_00GS_XF_XF_SG_SG--3_059
@ComponentCode730[String] = L21_Z08_00GS_XF_XF_SG_SG--3_044
@ComponentCode731[String] = L21_Z08_00GS_XF_XF_SG_SG--3_043
@ComponentCode732[String] = L21_Z08_00GS_XF_XF_SG_SG--3_042
@ComponentCode733[String] = L21_Z08_00GS_XF_XF_SG_SG--3_088
@ComponentCode734[String] = L21_Z08_00GS_XF_XF_SG_SG--3_090


-----------------------------------------------------------------------------
2020-08-05 17:08:37
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId735,@MxGjId736,@MxGjId737,@MxGjId738,@MxGjId739,@MxGjId740,@MxGjId741,@MxGjId742,@MxGjId743,@MxGjId744) 	
Parameters:
@MxGjId735[String] = 4e8fee44-60f3-437e-adc1-a7a703d79300
@MxGjId736[String] = 4e8fee44-60f3-437e-adc1-a7a703d79301
@MxGjId737[String] = 4e8fee44-60f3-437e-adc1-a7a703d79302
@MxGjId738[String] = 4e8fee44-60f3-437e-adc1-a7a703d79303
@MxGjId739[String] = 4e8fee44-60f3-437e-adc1-a7a703d79304
@MxGjId740[String] = 4e8fee44-60f3-437e-adc1-a7a703d79305
@MxGjId741[String] = 4e8fee44-60f3-437e-adc1-a7a703d79306
@MxGjId742[String] = 4e8fee44-60f3-437e-adc1-a7a703d79307
@MxGjId743[String] = 4e8fee44-60f3-437e-adc1-a7a703d79308
@MxGjId744[String] = 4e8fee44-60f3-437e-adc1-a7a703d79309


-----------------------------------------------------------------------------
2020-08-05 17:08:37
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode745,@ComponentCode746,@ComponentCode747,@ComponentCode748,@ComponentCode749,@ComponentCode750,@ComponentCode751,@ComponentCode752,@ComponentCode753,@ComponentCode754) 	
Parameters:
@ComponentCode745[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_014
@ComponentCode746[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_015
@ComponentCode747[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_012
@ComponentCode748[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_013
@ComponentCode749[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_018
@ComponentCode750[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_019
@ComponentCode751[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_016
@ComponentCode752[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_017
@ComponentCode753[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_006
@ComponentCode754[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS_007


-----------------------------------------------------------------------------
2020-08-05 17:09:00
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId755,@MxGjId756,@MxGjId757,@MxGjId758,@MxGjId759) 	
Parameters:
@MxGjId755[String] = 4e8fee44-60f3-437e-adc1-a7a703d78090
@MxGjId756[String] = 4e8fee44-60f3-437e-adc1-a7a703d78092
@MxGjId757[String] = 4e8fee44-60f3-437e-adc1-a7a703d78093
@MxGjId758[String] = 4e8fee44-60f3-437e-adc1-a7a703d797a9
@MxGjId759[String] = 4e8fee44-60f3-437e-adc1-a7a703d797ae


-----------------------------------------------------------------------------
2020-08-05 17:09:00
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode760,@ComponentCode761,@ComponentCode762,@ComponentCode763,@ComponentCode764) 	
Parameters:
@ComponentCode760[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ_002
@ComponentCode761[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ_000
@ComponentCode762[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ_001
@ComponentCode763[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ_003
@ComponentCode764[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ_004


-----------------------------------------------------------------------------
2020-08-05 17:09:13
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId765,@MxGjId766,@MxGjId767,@MxGjId768,@MxGjId769,@MxGjId770,@MxGjId771,@MxGjId772,@MxGjId773,@MxGjId774) 	
Parameters:
@MxGjId765[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a03
@MxGjId766[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a07
@MxGjId767[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a12
@MxGjId768[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a18
@MxGjId769[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a40
@MxGjId770[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a60
@MxGjId771[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a62
@MxGjId772[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a6c
@MxGjId773[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a80
@MxGjId774[String] = 4e8fee44-60f3-437e-adc1-a7a703d25a84


-----------------------------------------------------------------------------
2020-08-05 17:09:13
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode775,@ComponentCode776,@ComponentCode777,@ComponentCode778,@ComponentCode779,@ComponentCode780,@ComponentCode781,@ComponentCode782,@ComponentCode783,@ComponentCode784) 	
Parameters:
@ComponentCode775[String] = L21_Z08_00GS_XF_XF_SG_SG--3_028
@ComponentCode776[String] = L21_Z08_00GS_XF_XF_SG_SG--3_030
@ComponentCode777[String] = L21_Z08_00GS_XF_XF_SG_SG--3_035
@ComponentCode778[String] = L21_Z08_00GS_XF_XF_SG_SG--3_032
@ComponentCode779[String] = L21_Z08_00GS_XF_XF_SG_SG--3_059
@ComponentCode780[String] = L21_Z08_00GS_XF_XF_SG_SG--3_044
@ComponentCode781[String] = L21_Z08_00GS_XF_XF_SG_SG--3_043
@ComponentCode782[String] = L21_Z08_00GS_XF_XF_SG_SG--3_042
@ComponentCode783[String] = L21_Z08_00GS_XF_XF_SG_SG--3_088
@ComponentCode784[String] = L21_Z08_00GS_XF_XF_SG_SG--3_090


-----------------------------------------------------------------------------
2020-08-05 17:09:44
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId785,@MxGjId786,@MxGjId787,@MxGjId788,@MxGjId789,@MxGjId790,@MxGjId791,@MxGjId792,@MxGjId793,@MxGjId794) 	
Parameters:
@MxGjId785[String] = 4e8fee44-60f3-437e-adc1-a7a703d2a4a1
@MxGjId786[String] = 4e8fee44-60f3-437e-adc1-a7a703d2a4bb
@MxGjId787[String] = 4e8fee44-60f3-437e-adc1-a7a703d2a4bf
@MxGjId788[String] = 4e8fee44-60f3-437e-adc1-a7a703d2a4c5
@MxGjId789[String] = 4e8fee44-60f3-437e-adc1-a7a703d2a4d3
@MxGjId790[String] = 4e8fee44-60f3-437e-adc1-a7a703d2a4d7
@MxGjId791[String] = 4e8fee44-60f3-437e-adc1-a7a703d2a4df
@MxGjId792[String] = 4e8fee44-60f3-437e-adc1-a7a703d2a4e3
@MxGjId793[String] = 4e8fee44-60f3-437e-adc1-a7a703d2a4e9
@MxGjId794[String] = 4e8fee44-60f3-437e-adc1-a7a703d2a4ec


-----------------------------------------------------------------------------
2020-08-05 17:09:44
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode795,@ComponentCode796,@ComponentCode797,@ComponentCode798,@ComponentCode799,@ComponentCode800,@ComponentCode801,@ComponentCode802,@ComponentCode803,@ComponentCode804) 	
Parameters:
@ComponentCode795[String] = L21_Z08_00GS_GS_GS_SG_SG--3_079
@ComponentCode796[String] = L21_Z08_00GS_GS_GS_SG_SG--3_082
@ComponentCode797[String] = L21_Z08_00GS_GS_GS_SG_SG--3_084
@ComponentCode798[String] = L21_Z08_00GS_GS_GS_SG_SG--3_129
@ComponentCode799[String] = L21_Z08_00GS_GS_GS_SG_SG--3_134
@ComponentCode800[String] = L21_Z08_00GS_GS_GS_SG_SG--3_136
@ComponentCode801[String] = L21_Z08_00GS_GS_GS_SG_SG--3_132
@ComponentCode802[String] = L21_Z08_00GS_GS_GS_SG_SG--3_110
@ComponentCode803[String] = L21_Z08_00GS_GS_GS_SG_SG--3_107
@ComponentCode804[String] = L21_Z08_00GS_GS_GS_SG_SG--3_109


-----------------------------------------------------------------------------
2020-08-05 17:10:12
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:10:12
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId805) AND ([TbModelOrg].[SiteCode] IN (@SiteCode806))) 	
Parameters:
@ProjectId805[String] = 6372912251695766465
@SiteCode806[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 17:10:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:10:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:10:34
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId807) AND ([TbModelOrg].[SiteCode] IN (@SiteCode808))) 	
Parameters:
@ProjectId807[String] = 6372912251695766465
@SiteCode808[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 17:10:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:10:46
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId809) AND ([TbModelOrg].[SiteCode] IN (@SiteCode810))) 	
Parameters:
@ProjectId809[String] = 6372912251695766465
@SiteCode810[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:10:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:10:56
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId811) AND ([TbModelOrg].[SiteCode] IN (@SiteCode812))) 	
Parameters:
@ProjectId811[String] = 6372912251695766465
@SiteCode812[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:10:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:10:58
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId813) AND ([TbModelOrg].[SiteCode] IN (@SiteCode814))) 	
Parameters:
@ProjectId813[String] = 6372912251695766465
@SiteCode814[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:11:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:11:34
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId815) AND ([TbModelOrg].[SiteCode] IN (@SiteCode816))) 	
Parameters:
@ProjectId815[String] = 6372912251695766465
@SiteCode816[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-05 17:13:28
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 17:13:28
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 17:13:28
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:13:29
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type817) 	
Parameters:
@Type817[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 17:13:29
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type818) 	
Parameters:
@Type818[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 17:13:29
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 17:13:29
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:13:29
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode846)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId819) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode820,@SiteCode821,@SiteCode822,@SiteCode823,@SiteCode824,@SiteCode825,@SiteCode826,@SiteCode827,@SiteCode828,@SiteCode829,@SiteCode830,@SiteCode831,@SiteCode832,@SiteCode833,@SiteCode834,@SiteCode835,@SiteCode836,@SiteCode837,@SiteCode838,@SiteCode839,@SiteCode840,@SiteCode841,@SiteCode842,@SiteCode843,@SiteCode844,@SiteCode845)))	
Parameters:
@ProjectId819[String] = 6372912251695766465
@SiteCode820[String] = 6373083923489249281
@SiteCode821[String] = 6373083925531366080
@SiteCode822[String] = 6373083927883400612
@SiteCode823[String] = 6373083918575368225
@SiteCode824[String] = 6373083920445075162
@SiteCode825[String] = 6373083908618598731
@SiteCode826[String] = 6373083911842783146
@SiteCode827[String] = 6373083913928202424
@SiteCode828[String] = 6373083877551621804
@SiteCode829[String] = 6373083879921857377
@SiteCode830[String] = 6373083881542550067
@SiteCode831[String] = 6373083883689772886
@SiteCode832[String] = 6373083887136270013
@SiteCode833[String] = 6373083889697116488
@SiteCode834[String] = 6373083891969846476
@SiteCode835[String] = 6373083894422586761
@SiteCode836[String] = 6373083897509963358
@SiteCode837[String] = 6373083900444931227
@SiteCode838[String] = 6373083829464571372
@SiteCode839[String] = 6373083833327492328
@SiteCode840[String] = 6373083841964286321
@SiteCode841[String] = 6373083844982558950
@SiteCode842[String] = 6373083847585007801
@SiteCode843[String] = 6373083856887939900
@SiteCode844[String] = 6373083859102666584
@SiteCode845[String] = 6373083864919499284
@FDictionaryCode846[String] = OrderState
@FDictionaryCode847[String] = UrgentDegree
@FDictionaryCode848[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:13:29
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode847) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode848) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode846)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId819) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode820,@SiteCode821,@SiteCode822,@SiteCode823,@SiteCode824,@SiteCode825,@SiteCode826,@SiteCode827,@SiteCode828,@SiteCode829,@SiteCode830,@SiteCode831,@SiteCode832,@SiteCode833,@SiteCode834,@SiteCode835,@SiteCode836,@SiteCode837,@SiteCode838,@SiteCode839,@SiteCode840,@SiteCode841,@SiteCode842,@SiteCode843,@SiteCode844,@SiteCode845))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId819[String] = 6372912251695766465
@SiteCode820[String] = 6373083923489249281
@SiteCode821[String] = 6373083925531366080
@SiteCode822[String] = 6373083927883400612
@SiteCode823[String] = 6373083918575368225
@SiteCode824[String] = 6373083920445075162
@SiteCode825[String] = 6373083908618598731
@SiteCode826[String] = 6373083911842783146
@SiteCode827[String] = 6373083913928202424
@SiteCode828[String] = 6373083877551621804
@SiteCode829[String] = 6373083879921857377
@SiteCode830[String] = 6373083881542550067
@SiteCode831[String] = 6373083883689772886
@SiteCode832[String] = 6373083887136270013
@SiteCode833[String] = 6373083889697116488
@SiteCode834[String] = 6373083891969846476
@SiteCode835[String] = 6373083894422586761
@SiteCode836[String] = 6373083897509963358
@SiteCode837[String] = 6373083900444931227
@SiteCode838[String] = 6373083829464571372
@SiteCode839[String] = 6373083833327492328
@SiteCode840[String] = 6373083841964286321
@SiteCode841[String] = 6373083844982558950
@SiteCode842[String] = 6373083847585007801
@SiteCode843[String] = 6373083856887939900
@SiteCode844[String] = 6373083859102666584
@SiteCode845[String] = 6373083864919499284
@FDictionaryCode846[String] = OrderState
@FDictionaryCode847[String] = UrgentDegree
@FDictionaryCode848[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:13:29
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 17:13:30
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 17:13:30
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 17:13:30
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 17:13:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:13:34
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId849) AND ([TbModelOrg].[SiteCode] IN (@SiteCode850))) 	
Parameters:
@ProjectId849[String] = 6372912251695766465
@SiteCode850[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:13:37
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm851,@MxGjBm852,@MxGjBm853,@MxGjBm854,@MxGjBm855,@MxGjBm856,@MxGjBm857,@MxGjBm858,@MxGjBm859,@MxGjBm860,@MxGjBm861,@MxGjBm862,@MxGjBm863,@MxGjBm864,@MxGjBm865,@MxGjBm866,@MxGjBm867,@MxGjBm868,@MxGjBm869,@MxGjBm870,@MxGjBm871,@MxGjBm872,@MxGjBm873,@MxGjBm874,@MxGjBm875,@MxGjBm876,@MxGjBm877,@MxGjBm878,@MxGjBm879,@MxGjBm880,@MxGjBm881,@MxGjBm882,@MxGjBm883,@MxGjBm884,@MxGjBm885,@MxGjBm886,@MxGjBm887,@MxGjBm888,@MxGjBm889,@MxGjBm890,@MxGjBm891,@MxGjBm892,@MxGjBm893,@MxGjBm894,@MxGjBm895,@MxGjBm896,@MxGjBm897,@MxGjBm898,@MxGjBm899,@MxGjBm900) 	
Parameters:
@MxGjBm851[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm852[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm853[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm854[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm855[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm856[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm857[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm858[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm859[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm860[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm861[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm862[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm863[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm864[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm865[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm866[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm867[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm868[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm869[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm870[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm871[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm872[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm873[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm874[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm875[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm876[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm877[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm878[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm879[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm880[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm881[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm882[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm883[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm884[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm885[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm886[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm887[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm888[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm889[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm890[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm891[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm892[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm893[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm894[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm895[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm896[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm897[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm898[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm899[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm900[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 17:13:37
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode901,@ComponentCode902,@ComponentCode903,@ComponentCode904,@ComponentCode905,@ComponentCode906,@ComponentCode907,@ComponentCode908,@ComponentCode909,@ComponentCode910,@ComponentCode911,@ComponentCode912,@ComponentCode913,@ComponentCode914,@ComponentCode915,@ComponentCode916,@ComponentCode917,@ComponentCode918,@ComponentCode919,@ComponentCode920,@ComponentCode921,@ComponentCode922,@ComponentCode923,@ComponentCode924,@ComponentCode925,@ComponentCode926,@ComponentCode927,@ComponentCode928,@ComponentCode929,@ComponentCode930,@ComponentCode931,@ComponentCode932,@ComponentCode933,@ComponentCode934,@ComponentCode935,@ComponentCode936,@ComponentCode937,@ComponentCode938,@ComponentCode939,@ComponentCode940,@ComponentCode941,@ComponentCode942,@ComponentCode943,@ComponentCode944,@ComponentCode945,@ComponentCode946,@ComponentCode947,@ComponentCode948,@ComponentCode949,@ComponentCode950) 	
Parameters:
@ComponentCode901[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@ComponentCode902[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@ComponentCode903[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@ComponentCode904[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@ComponentCode905[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@ComponentCode906[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@ComponentCode907[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@ComponentCode908[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@ComponentCode909[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@ComponentCode910[String] = L21_Z08_SBZX_OT_OT_LG_LG
@ComponentCode911[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@ComponentCode912[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@ComponentCode913[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@ComponentCode914[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@ComponentCode915[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@ComponentCode916[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@ComponentCode917[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@ComponentCode918[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@ComponentCode919[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@ComponentCode920[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@ComponentCode921[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@ComponentCode922[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@ComponentCode923[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@ComponentCode924[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@ComponentCode925[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@ComponentCode926[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@ComponentCode927[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@ComponentCode928[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@ComponentCode929[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@ComponentCode930[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode931[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode932[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode933[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@ComponentCode934[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@ComponentCode935[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@ComponentCode936[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode937[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@ComponentCode938[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode939[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@ComponentCode940[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode941[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode942[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode943[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode944[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@ComponentCode945[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@ComponentCode946[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@ComponentCode947[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode948[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode949[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode950[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 17:16:22
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:19:22
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:22:22
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:25:23
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:26:51
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 17:26:51
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 17:26:51
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:26:52
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type1) 	
Parameters:
@Type1[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 17:26:52
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type2) 	
Parameters:
@Type2[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 17:26:52
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 17:26:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:26:52
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 17:26:52
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29)))	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:26:52
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode31) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32) ) AS [OrderTypeNew] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:26:52
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 17:26:52
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 17:26:52
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 17:30:04
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:30:08
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-05 17:30:09
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 17:30:09
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 17:30:09
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-05 17:30:09
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 17:30:09
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = FMM-PC
@LogDate7[DateTime] = 2020-08-05 17:30:09
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-05 17:30:34
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 17:30:34
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 17:30:34
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:30:38
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type10) 	
Parameters:
@Type10[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 17:30:38
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type11) 	
Parameters:
@Type11[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 17:30:38
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 17:30:38
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:30:38
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38)))	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:30:38
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode40) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode41) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:30:39
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 17:30:39
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 17:30:39
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 17:30:39
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 17:30:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:30:49
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId42) AND ([TbModelOrg].[SiteCode] IN (@SiteCode43))) 	
Parameters:
@ProjectId42[String] = 6372912251695766465
@SiteCode43[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:32:00
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-05 17:32:00
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 17:32:00
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 17:32:00
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-05 17:32:00
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 17:32:00
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = FMM-PC
@LogDate7[DateTime] = 2020-08-05 17:32:00
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-05 17:32:27
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 17:32:27
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 17:32:27
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:32:28
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type10) 	
Parameters:
@Type10[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 17:32:28
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type11) 	
Parameters:
@Type11[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 17:32:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 17:32:28
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:32:28
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38)))	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:32:28
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode40) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode41) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:32:29
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 17:32:29
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 17:32:29
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 17:32:29
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 17:36:33
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-05 17:36:33
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 17:36:33
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 17:36:33
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-05 17:36:33
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-05 17:36:33
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = 
@LogDate7[DateTime] = 2020/8/5 17:36:33
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-05 17:36:35
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 17:36:35
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 17:36:36
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:36:36
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type10) 	
Parameters:
@Type10[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 17:36:36
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type11) 	
Parameters:
@Type11[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 17:36:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 17:36:37
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 17:36:37
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 17:36:37
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 17:36:37
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 17:36:37
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:36:37
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38)))	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:36:37
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode40) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode41) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode39)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId12) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId12[String] = 6372912251695766465
@SiteCode13[String] = 6373083923489249281
@SiteCode14[String] = 6373083925531366080
@SiteCode15[String] = 6373083927883400612
@SiteCode16[String] = 6373083918575368225
@SiteCode17[String] = 6373083920445075162
@SiteCode18[String] = 6373083908618598731
@SiteCode19[String] = 6373083911842783146
@SiteCode20[String] = 6373083913928202424
@SiteCode21[String] = 6373083877551621804
@SiteCode22[String] = 6373083879921857377
@SiteCode23[String] = 6373083881542550067
@SiteCode24[String] = 6373083883689772886
@SiteCode25[String] = 6373083887136270013
@SiteCode26[String] = 6373083889697116488
@SiteCode27[String] = 6373083891969846476
@SiteCode28[String] = 6373083894422586761
@SiteCode29[String] = 6373083897509963358
@SiteCode30[String] = 6373083900444931227
@SiteCode31[String] = 6373083829464571372
@SiteCode32[String] = 6373083833327492328
@SiteCode33[String] = 6373083841964286321
@SiteCode34[String] = 6373083844982558950
@SiteCode35[String] = 6373083847585007801
@SiteCode36[String] = 6373083856887939900
@SiteCode37[String] = 6373083859102666584
@SiteCode38[String] = 6373083864919499284
@FDictionaryCode39[String] = OrderState
@FDictionaryCode40[String] = UrgentDegree
@FDictionaryCode41[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:39:21
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /SystemManage/OrganizationMap/Index


-----------------------------------------------------------------------------
2020-08-05 17:39:21
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 17:39:21
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 17:39:21
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 17:39:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:39:21
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId42) AND ([TbModelOrg].[SiteCode] IN (@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58,@SiteCode59,@SiteCode60,@SiteCode61,@SiteCode62,@SiteCode63,@SiteCode64,@SiteCode65,@SiteCode66,@SiteCode67,@SiteCode68))) 	
Parameters:
@ProjectId42[String] = 6372912251695766465
@SiteCode43[String] = 6373083923489249281
@SiteCode44[String] = 6373083925531366080
@SiteCode45[String] = 6373083927883400612
@SiteCode46[String] = 6373083918575368225
@SiteCode47[String] = 6373083920445075162
@SiteCode48[String] = 6373083908618598731
@SiteCode49[String] = 6373083911842783146
@SiteCode50[String] = 6373083913928202424
@SiteCode51[String] = 6373083877551621804
@SiteCode52[String] = 6373083879921857377
@SiteCode53[String] = 6373083881542550067
@SiteCode54[String] = 6373083883689772886
@SiteCode55[String] = 6373083887136270013
@SiteCode56[String] = 6373083889697116488
@SiteCode57[String] = 6373083891969846476
@SiteCode58[String] = 6373083894422586761
@SiteCode59[String] = 6373083897509963358
@SiteCode60[String] = 6373083900444931227
@SiteCode61[String] = 6373083829464571372
@SiteCode62[String] = 6373083833327492328
@SiteCode63[String] = 6373083841964286321
@SiteCode64[String] = 6373083844982558950
@SiteCode65[String] = 6373083847585007801
@SiteCode66[String] = 6373083856887939900
@SiteCode67[String] = 6373083859102666584
@SiteCode68[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 17:39:24
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:39:24
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId69) AND ([TbModelOrg].[SiteCode] IN (@SiteCode70))) 	
Parameters:
@ProjectId69[String] = 6372912251695766465
@SiteCode70[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:39:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083829464571372
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:39:25
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId71) AND ([TbModelOrg].[SiteCode] IN (@SiteCode72))) 	
Parameters:
@ProjectId71[String] = 6372912251695766465
@SiteCode72[String] = 6373083829464571372


-----------------------------------------------------------------------------
2020-08-05 17:39:26
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083841964286321
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:39:26
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId73) AND ([TbModelOrg].[SiteCode] IN (@SiteCode74))) 	
Parameters:
@ProjectId73[String] = 6372912251695766465
@SiteCode74[String] = 6373083841964286321


-----------------------------------------------------------------------------
2020-08-05 17:39:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083844982558950
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:39:27
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId75) AND ([TbModelOrg].[SiteCode] IN (@SiteCode76))) 	
Parameters:
@ProjectId75[String] = 6372912251695766465
@SiteCode76[String] = 6373083844982558950


-----------------------------------------------------------------------------
2020-08-05 17:39:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:39:27
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId77) AND ([TbModelOrg].[SiteCode] IN (@SiteCode78))) 	
Parameters:
@ProjectId77[String] = 6372912251695766465
@SiteCode78[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-05 17:39:29
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083856887939900
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:39:29
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId79) AND ([TbModelOrg].[SiteCode] IN (@SiteCode80))) 	
Parameters:
@ProjectId79[String] = 6372912251695766465
@SiteCode80[String] = 6373083856887939900


-----------------------------------------------------------------------------
2020-08-05 17:39:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:39:30
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId81) AND ([TbModelOrg].[SiteCode] IN (@SiteCode82))) 	
Parameters:
@ProjectId81[String] = 6372912251695766465
@SiteCode82[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-05 17:39:34
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:39:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921380259608561
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:39:59
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId83) AND ([TbModelOrg].[SiteCode] IN (@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93))) 	
Parameters:
@ProjectId83[String] = 6372912251695766465
@SiteCode84[String] = 6373083877551621804
@SiteCode85[String] = 6373083879921857377
@SiteCode86[String] = 6373083881542550067
@SiteCode87[String] = 6373083883689772886
@SiteCode88[String] = 6373083887136270013
@SiteCode89[String] = 6373083889697116488
@SiteCode90[String] = 6373083891969846476
@SiteCode91[String] = 6373083894422586761
@SiteCode92[String] = 6373083897509963358
@SiteCode93[String] = 6373083900444931227


-----------------------------------------------------------------------------
2020-08-05 17:40:00
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921380259608561
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:40:00
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId94) AND ([TbModelOrg].[SiteCode] IN (@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104))) 	
Parameters:
@ProjectId94[String] = 6372912251695766465
@SiteCode95[String] = 6373083877551621804
@SiteCode96[String] = 6373083879921857377
@SiteCode97[String] = 6373083881542550067
@SiteCode98[String] = 6373083883689772886
@SiteCode99[String] = 6373083887136270013
@SiteCode100[String] = 6373083889697116488
@SiteCode101[String] = 6373083891969846476
@SiteCode102[String] = 6373083894422586761
@SiteCode103[String] = 6373083897509963358
@SiteCode104[String] = 6373083900444931227


-----------------------------------------------------------------------------
2020-08-05 17:40:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083877551621804
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:40:02
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId105) AND ([TbModelOrg].[SiteCode] IN (@SiteCode106))) 	
Parameters:
@ProjectId105[String] = 6372912251695766465
@SiteCode106[String] = 6373083877551621804


-----------------------------------------------------------------------------
2020-08-05 17:40:03
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083881542550067
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:40:03
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId107) AND ([TbModelOrg].[SiteCode] IN (@SiteCode108))) 	
Parameters:
@ProjectId107[String] = 6372912251695766465
@SiteCode108[String] = 6373083881542550067


-----------------------------------------------------------------------------
2020-08-05 17:40:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083881542550067
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:40:04
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId109) AND ([TbModelOrg].[SiteCode] IN (@SiteCode110))) 	
Parameters:
@ProjectId109[String] = 6372912251695766465
@SiteCode110[String] = 6373083881542550067


-----------------------------------------------------------------------------
2020-08-05 17:40:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083879921857377
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:40:04
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId111) AND ([TbModelOrg].[SiteCode] IN (@SiteCode112))) 	
Parameters:
@ProjectId111[String] = 6372912251695766465
@SiteCode112[String] = 6373083879921857377


-----------------------------------------------------------------------------
2020-08-05 17:40:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083883689772886
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:40:05
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId113) AND ([TbModelOrg].[SiteCode] IN (@SiteCode114))) 	
Parameters:
@ProjectId113[String] = 6372912251695766465
@SiteCode114[String] = 6373083883689772886


-----------------------------------------------------------------------------
2020-08-05 17:40:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083877551621804
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:40:05
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId115) AND ([TbModelOrg].[SiteCode] IN (@SiteCode116))) 	
Parameters:
@ProjectId115[String] = 6372912251695766465
@SiteCode116[String] = 6373083877551621804


-----------------------------------------------------------------------------
2020-08-05 17:40:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921396045311451
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:40:08
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId117) AND ([TbModelOrg].[SiteCode] IN (@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125))) 	
Parameters:
@ProjectId117[String] = 6372912251695766465
@SiteCode118[String] = 6373083829464571372
@SiteCode119[String] = 6373083833327492328
@SiteCode120[String] = 6373083841964286321
@SiteCode121[String] = 6373083844982558950
@SiteCode122[String] = 6373083847585007801
@SiteCode123[String] = 6373083856887939900
@SiteCode124[String] = 6373083859102666584
@SiteCode125[String] = 6373083864919499284


-----------------------------------------------------------------------------
2020-08-05 17:42:34
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:44:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:44:52
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId126) AND ([TbModelOrg].[SiteCode] IN (@SiteCode127))) 	
Parameters:
@ProjectId126[String] = 6372912251695766465
@SiteCode127[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:44:56
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm128,@MxGjBm129,@MxGjBm130,@MxGjBm131,@MxGjBm132,@MxGjBm133,@MxGjBm134,@MxGjBm135,@MxGjBm136,@MxGjBm137,@MxGjBm138,@MxGjBm139,@MxGjBm140,@MxGjBm141,@MxGjBm142,@MxGjBm143,@MxGjBm144,@MxGjBm145,@MxGjBm146,@MxGjBm147,@MxGjBm148,@MxGjBm149,@MxGjBm150,@MxGjBm151,@MxGjBm152,@MxGjBm153,@MxGjBm154,@MxGjBm155,@MxGjBm156,@MxGjBm157,@MxGjBm158,@MxGjBm159,@MxGjBm160,@MxGjBm161,@MxGjBm162,@MxGjBm163,@MxGjBm164,@MxGjBm165,@MxGjBm166,@MxGjBm167,@MxGjBm168,@MxGjBm169,@MxGjBm170,@MxGjBm171,@MxGjBm172,@MxGjBm173,@MxGjBm174,@MxGjBm175,@MxGjBm176,@MxGjBm177) 	
Parameters:
@MxGjBm128[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm129[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm130[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm131[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm132[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm133[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm134[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm135[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm136[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm137[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm138[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm139[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm140[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm141[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm142[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm143[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm144[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm145[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm146[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm147[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm148[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm149[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm150[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm151[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm152[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm153[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm154[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm155[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm156[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm157[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm158[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm159[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm160[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm161[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm162[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm163[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm164[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm165[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm166[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm167[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm168[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm169[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm170[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm171[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm172[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm173[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm174[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm175[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm176[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm177[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 17:44:56
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode178,@ComponentCode179,@ComponentCode180,@ComponentCode181,@ComponentCode182,@ComponentCode183,@ComponentCode184,@ComponentCode185,@ComponentCode186,@ComponentCode187,@ComponentCode188,@ComponentCode189,@ComponentCode190,@ComponentCode191,@ComponentCode192,@ComponentCode193,@ComponentCode194,@ComponentCode195,@ComponentCode196,@ComponentCode197,@ComponentCode198,@ComponentCode199,@ComponentCode200,@ComponentCode201,@ComponentCode202,@ComponentCode203,@ComponentCode204,@ComponentCode205,@ComponentCode206,@ComponentCode207,@ComponentCode208,@ComponentCode209,@ComponentCode210,@ComponentCode211,@ComponentCode212,@ComponentCode213,@ComponentCode214,@ComponentCode215,@ComponentCode216,@ComponentCode217,@ComponentCode218,@ComponentCode219,@ComponentCode220,@ComponentCode221,@ComponentCode222,@ComponentCode223,@ComponentCode224,@ComponentCode225,@ComponentCode226,@ComponentCode227) 	
Parameters:
@ComponentCode178[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@ComponentCode179[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@ComponentCode180[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@ComponentCode181[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@ComponentCode182[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@ComponentCode183[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@ComponentCode184[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@ComponentCode185[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@ComponentCode186[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@ComponentCode187[String] = L21_Z08_SBZX_OT_OT_LG_LG
@ComponentCode188[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@ComponentCode189[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@ComponentCode190[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@ComponentCode191[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@ComponentCode192[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@ComponentCode193[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@ComponentCode194[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@ComponentCode195[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@ComponentCode196[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@ComponentCode197[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@ComponentCode198[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@ComponentCode199[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@ComponentCode200[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@ComponentCode201[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@ComponentCode202[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@ComponentCode203[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@ComponentCode204[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@ComponentCode205[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@ComponentCode206[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@ComponentCode207[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode208[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode209[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode210[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@ComponentCode211[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@ComponentCode212[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@ComponentCode213[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode214[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@ComponentCode215[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode216[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@ComponentCode217[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode218[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode219[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode220[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode221[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@ComponentCode222[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@ComponentCode223[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@ComponentCode224[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode225[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode226[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode227[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 17:45:34
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:45:50
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-05 17:45:50
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-05 17:45:50
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:45:51
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type1) 	
Parameters:
@Type1[Int32] = 1


-----------------------------------------------------------------------------
2020-08-05 17:45:51
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ([TbOrganizationMap].[Type] = @Type2) 	
Parameters:
@Type2[Int32] = 2


-----------------------------------------------------------------------------
2020-08-05 17:45:51
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-05 17:45:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:45:51
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-05 17:45:51
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29)))	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:45:51
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode31) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode32) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode30)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode4,@SiteCode5,@SiteCode6,@SiteCode7,@SiteCode8,@SiteCode9,@SiteCode10,@SiteCode11,@SiteCode12,@SiteCode13,@SiteCode14,@SiteCode15,@SiteCode16,@SiteCode17,@SiteCode18,@SiteCode19,@SiteCode20,@SiteCode21,@SiteCode22,@SiteCode23,@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3[String] = 6372912251695766465
@SiteCode4[String] = 6373083923489249281
@SiteCode5[String] = 6373083925531366080
@SiteCode6[String] = 6373083927883400612
@SiteCode7[String] = 6373083918575368225
@SiteCode8[String] = 6373083920445075162
@SiteCode9[String] = 6373083908618598731
@SiteCode10[String] = 6373083911842783146
@SiteCode11[String] = 6373083913928202424
@SiteCode12[String] = 6373083877551621804
@SiteCode13[String] = 6373083879921857377
@SiteCode14[String] = 6373083881542550067
@SiteCode15[String] = 6373083883689772886
@SiteCode16[String] = 6373083887136270013
@SiteCode17[String] = 6373083889697116488
@SiteCode18[String] = 6373083891969846476
@SiteCode19[String] = 6373083894422586761
@SiteCode20[String] = 6373083897509963358
@SiteCode21[String] = 6373083900444931227
@SiteCode22[String] = 6373083829464571372
@SiteCode23[String] = 6373083833327492328
@SiteCode24[String] = 6373083841964286321
@SiteCode25[String] = 6373083844982558950
@SiteCode26[String] = 6373083847585007801
@SiteCode27[String] = 6373083856887939900
@SiteCode28[String] = 6373083859102666584
@SiteCode29[String] = 6373083864919499284
@FDictionaryCode30[String] = OrderState
@FDictionaryCode31[String] = UrgentDegree
@FDictionaryCode32[String] = OrderType


-----------------------------------------------------------------------------
2020-08-05 17:45:51
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-05 17:45:51
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-05 17:45:51
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-05 17:45:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083833327492328
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-05 17:45:58
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId33) AND ([TbModelOrg].[SiteCode] IN (@SiteCode34))) 	
Parameters:
@ProjectId33[String] = 6372912251695766465
@SiteCode34[String] = 6373083833327492328


-----------------------------------------------------------------------------
2020-08-05 17:45:59
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm35,@MxGjBm36,@MxGjBm37,@MxGjBm38,@MxGjBm39,@MxGjBm40,@MxGjBm41,@MxGjBm42,@MxGjBm43,@MxGjBm44,@MxGjBm45,@MxGjBm46,@MxGjBm47,@MxGjBm48,@MxGjBm49,@MxGjBm50,@MxGjBm51,@MxGjBm52,@MxGjBm53,@MxGjBm54,@MxGjBm55,@MxGjBm56,@MxGjBm57,@MxGjBm58,@MxGjBm59,@MxGjBm60,@MxGjBm61,@MxGjBm62,@MxGjBm63,@MxGjBm64,@MxGjBm65,@MxGjBm66,@MxGjBm67,@MxGjBm68,@MxGjBm69,@MxGjBm70,@MxGjBm71,@MxGjBm72,@MxGjBm73,@MxGjBm74,@MxGjBm75,@MxGjBm76,@MxGjBm77,@MxGjBm78,@MxGjBm79,@MxGjBm80,@MxGjBm81,@MxGjBm82,@MxGjBm83,@MxGjBm84) 	
Parameters:
@MxGjBm35[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@MxGjBm36[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@MxGjBm37[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@MxGjBm38[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@MxGjBm39[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@MxGjBm40[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@MxGjBm41[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@MxGjBm42[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@MxGjBm43[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@MxGjBm44[String] = L21_Z08_SBZX_OT_OT_LG_LG
@MxGjBm45[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@MxGjBm46[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@MxGjBm47[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@MxGjBm48[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@MxGjBm49[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@MxGjBm50[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@MxGjBm51[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@MxGjBm52[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@MxGjBm53[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@MxGjBm54[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@MxGjBm55[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@MxGjBm56[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@MxGjBm57[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@MxGjBm58[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@MxGjBm59[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@MxGjBm60[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@MxGjBm61[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@MxGjBm62[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@MxGjBm63[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@MxGjBm64[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm65[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm66[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@MxGjBm67[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@MxGjBm68[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@MxGjBm69[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@MxGjBm70[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@MxGjBm71[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@MxGjBm72[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm73[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@MxGjBm74[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm75[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm76[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm77[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@MxGjBm78[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@MxGjBm79[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@MxGjBm80[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@MxGjBm81[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm82[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm83[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@MxGjBm84[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 17:45:59
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode85,@ComponentCode86,@ComponentCode87,@ComponentCode88,@ComponentCode89,@ComponentCode90,@ComponentCode91,@ComponentCode92,@ComponentCode93,@ComponentCode94,@ComponentCode95,@ComponentCode96,@ComponentCode97,@ComponentCode98,@ComponentCode99,@ComponentCode100,@ComponentCode101,@ComponentCode102,@ComponentCode103,@ComponentCode104,@ComponentCode105,@ComponentCode106,@ComponentCode107,@ComponentCode108,@ComponentCode109,@ComponentCode110,@ComponentCode111,@ComponentCode112,@ComponentCode113,@ComponentCode114,@ComponentCode115,@ComponentCode116,@ComponentCode117,@ComponentCode118,@ComponentCode119,@ComponentCode120,@ComponentCode121,@ComponentCode122,@ComponentCode123,@ComponentCode124,@ComponentCode125,@ComponentCode126,@ComponentCode127,@ComponentCode128,@ComponentCode129,@ComponentCode130,@ComponentCode131,@ComponentCode132,@ComponentCode133,@ComponentCode134) 	
Parameters:
@ComponentCode85[String] = L21_Z08_TJJG_CZJG_JGQ_DLQ_DLQ
@ComponentCode86[String] = L21_Z08_TJJG_CZJG_JGQ_JGCQ_JGCQ
@ComponentCode87[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB
@ComponentCode88[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB
@ComponentCode89[String] = L21_Z08_TJJG_CZJG_JGB_ZTB_ZTB
@ComponentCode90[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB
@ComponentCode91[String] = L21_Z08_TJJG_CZJG_JGZ_JGZ_JGZ
@ComponentCode92[String] = L21_Z08_TJJG_CZJG_JGL_JGL_JGL
@ComponentCode93[String] = L21_Z08_TJJG_CZJG_JGL_YL_YL
@ComponentCode94[String] = L21_Z08_SBZX_OT_OT_LG_LG
@ComponentCode95[String] = L21_Z08_SBZX_OT_OT_FHJL_FHJL
@ComponentCode96[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA
@ComponentCode97[String] = L21_Z08_SBZX_WSJ_WSJ_DBQ_DBQ
@ComponentCode98[String] = L21_Z08_SBZX_WSJ_WSJ_XST_XST
@ComponentCode99[String] = L21_Z08_SBZX_WSJ_WSJ_XBQ_XBQ
@ComponentCode100[String] = L21_Z08_SBZX_WSJ_WSJ_QJC_QJC
@ComponentCode101[String] = L21_Z08_SBZX_WSJ_WSJ_GDB_GDB
@ComponentCode102[String] = L21_Z08_SBZX_QT_QT_GZZ_GZZX
@ComponentCode103[String] = L21_Z08_SBZX_QT_QT_ZQ_ZQS
@ComponentCode104[String] = L21_Z08_SBZX_QT_QT_LBQ_LBQ-ZZS
@ComponentCode105[String] = L21_Z08_SBZX_QT_QT_JGQ_JGQ
@ComponentCode106[String] = L21_Z08_SBZX_QT_QT_TJX_TJX-ZWXX
@ComponentCode107[String] = L21_Z08_SBZX_SDM_SDM_MZ_MZ-ZWXX
@ComponentCode108[String] = L21_Z08_SBZX_SDM_SDM_JKDB_KMB-ZZS
@ComponentCode109[String] = L21_Z08_SBZX_SDM_SDM_JKDB_MB-ZZS
@ComponentCode110[String] = L21_Z08_SBZX_STH_STH_THD_THD-ZZS
@ComponentCode111[String] = L21_Z08_SBZX_M_M_FHM_FHM-ZZS
@ComponentCode112[String] = L21_Z08_SBZX_FHC_FHC_FHC_FHC
@ComponentCode113[String] = L21_Z08_00MJ_ZJ_ZJ_XG_XG
@ComponentCode114[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode115[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode116[String] = L21_Z08_00QT_QT_QT_GL_SG--2
@ComponentCode117[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-3
@ComponentCode118[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL2-2
@ComponentCode119[String] = L21_Z08_00QT_QT_QT_GL_SG-QTL1-1
@ComponentCode120[String] = L21_Z08_00QT_QT_QT_GL_SG--1
@ComponentCode121[String] = L21_Z08_00GS_PS_PS_SG_SG-YWL-2
@ComponentCode122[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode123[String] = L21_Z08_00GS_PS_PS_SG_SG-YFL-A
@ComponentCode124[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode125[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode126[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode127[String] = L21_Z08_00GS_PS_PS_SG_SG--3
@ComponentCode128[String] = L21_Z08_00GS_XF_XF_SG_SG-XH-1
@ComponentCode129[String] = L21_Z08_00GS_XF_XF_SG_SG-XHL-8
@ComponentCode130[String] = L21_Z08_00GS_XF_XF_SG_SG--3
@ComponentCode131[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode132[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode133[String] = L21_Z08_00GS_GS_GS_SG_SG--3
@ComponentCode134[String] = L21_Z08_00GS_GS_GS_SG_SG-JL-3


-----------------------------------------------------------------------------
2020-08-05 17:46:15
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId135,@MxGjId136,@MxGjId137,@MxGjId138,@MxGjId139,@MxGjId140,@MxGjId141,@MxGjId142,@MxGjId143) 	
Parameters:
@MxGjId135[String] = 4e8fee44-60f3-437e-adc1-a7a703d4588d
@MxGjId136[String] = 4e8fee44-60f3-437e-adc1-a7a703d4589e
@MxGjId137[String] = 4e8fee44-60f3-437e-adc1-a7a703d458c2
@MxGjId138[String] = 4e8fee44-60f3-437e-adc1-a7a703d458e3
@MxGjId139[String] = 4e8fee44-60f3-437e-adc1-a7a703d458fc
@MxGjId140[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ac8d
@MxGjId141[String] = 4e8fee44-60f3-437e-adc1-a7a703d4acd6
@MxGjId142[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ad7b
@MxGjId143[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ad8c


-----------------------------------------------------------------------------
2020-08-05 17:46:15
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode144,@ComponentCode145,@ComponentCode146,@ComponentCode147,@ComponentCode148,@ComponentCode149,@ComponentCode150,@ComponentCode151,@ComponentCode152) 	
Parameters:
@ComponentCode144[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_000
@ComponentCode145[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_001
@ComponentCode146[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_004
@ComponentCode147[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_002
@ComponentCode148[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_003
@ComponentCode149[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_005
@ComponentCode150[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_006
@ComponentCode151[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_007
@ComponentCode152[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008


-----------------------------------------------------------------------------
2020-08-05 17:47:00
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId153,@MxGjId154,@MxGjId155,@MxGjId156,@MxGjId157,@MxGjId158,@MxGjId159) 	
Parameters:
@MxGjId153[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a0ee
@MxGjId154[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a4a4
@MxGjId155[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a4b1
@MxGjId156[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a4c3
@MxGjId157[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a4ca
@MxGjId158[String] = 4e8fee44-60f3-437e-adc1-a7a703d4b49d
@MxGjId159[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ba15


-----------------------------------------------------------------------------
2020-08-05 17:47:00
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode160,@ComponentCode161,@ComponentCode162,@ComponentCode163,@ComponentCode164,@ComponentCode165,@ComponentCode166) 	
Parameters:
@ComponentCode160[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_004
@ComponentCode161[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_000
@ComponentCode162[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_001
@ComponentCode163[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_003
@ComponentCode164[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_002
@ComponentCode165[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_005
@ComponentCode166[String] = L21_Z08_TJJG_CZJG_JGB_UB_UB_006


-----------------------------------------------------------------------------
2020-08-05 17:48:10
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId167,@MxGjId168,@MxGjId169,@MxGjId170,@MxGjId171,@MxGjId172,@MxGjId173,@MxGjId174,@MxGjId175,@MxGjId176) 	
Parameters:
@MxGjId167[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a05b
@MxGjId168[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a080
@MxGjId169[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a09f
@MxGjId170[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a0a8
@MxGjId171[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a0ac
@MxGjId172[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a382
@MxGjId173[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a473
@MxGjId174[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a542
@MxGjId175[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a550
@MxGjId176[String] = 4e8fee44-60f3-437e-adc1-a7a703d4a55b


-----------------------------------------------------------------------------
2020-08-05 17:48:10
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode177,@ComponentCode178,@ComponentCode179,@ComponentCode180,@ComponentCode181,@ComponentCode182,@ComponentCode183,@ComponentCode184,@ComponentCode185,@ComponentCode186) 	
Parameters:
@ComponentCode177[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_018
@ComponentCode178[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_021
@ComponentCode179[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_022
@ComponentCode180[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_019
@ComponentCode181[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_020
@ComponentCode182[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_017
@ComponentCode183[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_004
@ComponentCode184[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_008
@ComponentCode185[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_010
@ComponentCode186[String] = L21_Z08_TJJG_CZJG_JGB_ZB_ZB_009


-----------------------------------------------------------------------------
2020-08-05 17:48:14
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId187,@MxGjId188,@MxGjId189,@MxGjId190,@MxGjId191,@MxGjId192,@MxGjId193,@MxGjId194,@MxGjId195) 	
Parameters:
@MxGjId187[String] = 4e8fee44-60f3-437e-adc1-a7a703d4588d
@MxGjId188[String] = 4e8fee44-60f3-437e-adc1-a7a703d4589e
@MxGjId189[String] = 4e8fee44-60f3-437e-adc1-a7a703d458c2
@MxGjId190[String] = 4e8fee44-60f3-437e-adc1-a7a703d458e3
@MxGjId191[String] = 4e8fee44-60f3-437e-adc1-a7a703d458fc
@MxGjId192[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ac8d
@MxGjId193[String] = 4e8fee44-60f3-437e-adc1-a7a703d4acd6
@MxGjId194[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ad7b
@MxGjId195[String] = 4e8fee44-60f3-437e-adc1-a7a703d4ad8c


-----------------------------------------------------------------------------
2020-08-05 17:48:14
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode196,@ComponentCode197,@ComponentCode198,@ComponentCode199,@ComponentCode200,@ComponentCode201,@ComponentCode202,@ComponentCode203,@ComponentCode204) 	
Parameters:
@ComponentCode196[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_000
@ComponentCode197[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_001
@ComponentCode198[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_004
@ComponentCode199[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_002
@ComponentCode200[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_003
@ComponentCode201[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_005
@ComponentCode202[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_006
@ComponentCode203[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_007
@ComponentCode204[String] = L21_Z08_TJJG_CZJG_JGB_DB_DB_008


-----------------------------------------------------------------------------
2020-08-05 17:48:50
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:49:05
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId205,@MxGjId206,@MxGjId207,@MxGjId208,@MxGjId209,@MxGjId210,@MxGjId211,@MxGjId212,@MxGjId213,@MxGjId214) 	
Parameters:
@MxGjId205[String] = 4e8fee44-60f3-437e-adc1-a7a703d781c0
@MxGjId206[String] = 4e8fee44-60f3-437e-adc1-a7a703d781c1
@MxGjId207[String] = 4e8fee44-60f3-437e-adc1-a7a703d781c2
@MxGjId208[String] = 4e8fee44-60f3-437e-adc1-a7a703d781c3
@MxGjId209[String] = 4e8fee44-60f3-437e-adc1-a7a703d781c4
@MxGjId210[String] = 4e8fee44-60f3-437e-adc1-a7a703d781c5
@MxGjId211[String] = 4e8fee44-60f3-437e-adc1-a7a703d781c6
@MxGjId212[String] = 4e8fee44-60f3-437e-adc1-a7a703d781c7
@MxGjId213[String] = 4e8fee44-60f3-437e-adc1-a7a703d781cd
@MxGjId214[String] = 4e8fee44-60f3-437e-adc1-a7a703d781d0


-----------------------------------------------------------------------------
2020-08-05 17:49:05
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE [TbModelOtherInfo].[ComponentCode] IN (@ComponentCode215,@ComponentCode216,@ComponentCode217,@ComponentCode218,@ComponentCode219,@ComponentCode220,@ComponentCode221,@ComponentCode222,@ComponentCode223,@ComponentCode224) 	
Parameters:
@ComponentCode215[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_003
@ComponentCode216[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_004
@ComponentCode217[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_001
@ComponentCode218[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_002
@ComponentCode219[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_007
@ComponentCode220[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_008
@ComponentCode221[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_005
@ComponentCode222[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_006
@ComponentCode223[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_000
@ComponentCode224[String] = L21_Z08_SBZX_WSJ_WSJ_MZ_MZ-WZA_019


-----------------------------------------------------------------------------
2020-08-05 17:51:50
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-05 17:54:50
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
