2020-08-12 09:57:12
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode1) AND ([TbUser].[UserPwd] = @UserPwd2) 	
Parameters:
@UserCode1[String] = 500000
@UserPwd2[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-12 09:57:12
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-12 09:57:12
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-12 09:57:12
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-12 09:57:12
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode3 	
Parameters:
@UserCode3[String] = 500000


-----------------------------------------------------------------------------
2020-08-12 09:57:12
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu4,@ActionType5,@HostName6,@LogDate7,@UserCode8,@UserIP9);select scope_identity()	
Parameters:
@ActionMenu4[String] = 0
@ActionType5[String] = 登录系统
@HostName6[String] = 
@LogDate7[DateTime] = 2020/8/12 9:57:12
@UserCode8[String] = 500000
@UserIP9[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-12 09:57:17
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 09:57:17
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 09:57:17
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type10) AND ([TbOrganizationMap].[ProjectId] = @ProjectId11)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode12,@CompanyCode13,@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode20))) 	
Parameters:
@Type10[Int32] = 1
@ProjectId11[String] = 6372912251695766465
@CompanyCode12[String] = 6373083923489249281
@CompanyCode13[String] = 6373083925531366080
@CompanyCode14[String] = 6373083927883400612
@CompanyCode15[String] = 6373083918575368225
@CompanyCode16[String] = 6373083920445075162
@CompanyCode17[String] = 6373083908618598731
@CompanyCode18[String] = 6373083911842783146
@CompanyCode19[String] = 6373083913928202424
@ParentCompanyCode20[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type21) AND ([TbOrganizationMap].[ProjectId] = @ProjectId22)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode23,@CompanyCode24,@CompanyCode25,@CompanyCode26,@CompanyCode27,@CompanyCode28,@CompanyCode29,@CompanyCode30)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode31))) 	
Parameters:
@Type21[Int32] = 2
@ProjectId22[String] = 6372912251695766465
@CompanyCode23[String] = 6373083923489249281
@CompanyCode24[String] = 6373083925531366080
@CompanyCode25[String] = 6373083927883400612
@CompanyCode26[String] = 6373083918575368225
@CompanyCode27[String] = 6373083920445075162
@CompanyCode28[String] = 6373083908618598731
@CompanyCode29[String] = 6373083911842783146
@CompanyCode30[String] = 6373083913928202424
@ParentCompanyCode31[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode59)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId32) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58)))	
Parameters:
@ProjectId32[String] = 6372912251695766465
@SiteCode33[String] = 6373083923489249281
@SiteCode34[String] = 6373083925531366080
@SiteCode35[String] = 6373083927883400612
@SiteCode36[String] = 6373083918575368225
@SiteCode37[String] = 6373083920445075162
@SiteCode38[String] = 6373083908618598731
@SiteCode39[String] = 6373083911842783146
@SiteCode40[String] = 6373083913928202424
@SiteCode41[String] = 6373083877551621804
@SiteCode42[String] = 6373083879921857377
@SiteCode43[String] = 6373083881542550067
@SiteCode44[String] = 6373083883689772886
@SiteCode45[String] = 6373083887136270013
@SiteCode46[String] = 6373083889697116488
@SiteCode47[String] = 6373083891969846476
@SiteCode48[String] = 6373083894422586761
@SiteCode49[String] = 6373083897509963358
@SiteCode50[String] = 6373083900444931227
@SiteCode51[String] = 6373083829464571372
@SiteCode52[String] = 6373083833327492328
@SiteCode53[String] = 6373083841964286321
@SiteCode54[String] = 6373083844982558950
@SiteCode55[String] = 6373083847585007801
@SiteCode56[String] = 6373083856887939900
@SiteCode57[String] = 6373083859102666584
@SiteCode58[String] = 6373083864919499284
@FDictionaryCode59[String] = OrderState
@FDictionaryCode60[String] = UrgentDegree
@FDictionaryCode61[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode60) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode61) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode59)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId32) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49,@SiteCode50,@SiteCode51,@SiteCode52,@SiteCode53,@SiteCode54,@SiteCode55,@SiteCode56,@SiteCode57,@SiteCode58))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId32[String] = 6372912251695766465
@SiteCode33[String] = 6373083923489249281
@SiteCode34[String] = 6373083925531366080
@SiteCode35[String] = 6373083927883400612
@SiteCode36[String] = 6373083918575368225
@SiteCode37[String] = 6373083920445075162
@SiteCode38[String] = 6373083908618598731
@SiteCode39[String] = 6373083911842783146
@SiteCode40[String] = 6373083913928202424
@SiteCode41[String] = 6373083877551621804
@SiteCode42[String] = 6373083879921857377
@SiteCode43[String] = 6373083881542550067
@SiteCode44[String] = 6373083883689772886
@SiteCode45[String] = 6373083887136270013
@SiteCode46[String] = 6373083889697116488
@SiteCode47[String] = 6373083891969846476
@SiteCode48[String] = 6373083894422586761
@SiteCode49[String] = 6373083897509963358
@SiteCode50[String] = 6373083900444931227
@SiteCode51[String] = 6373083829464571372
@SiteCode52[String] = 6373083833327492328
@SiteCode53[String] = 6373083841964286321
@SiteCode54[String] = 6373083844982558950
@SiteCode55[String] = 6373083847585007801
@SiteCode56[String] = 6373083856887939900
@SiteCode57[String] = 6373083859102666584
@SiteCode58[String] = 6373083864919499284
@FDictionaryCode59[String] = OrderState
@FDictionaryCode60[String] = UrgentDegree
@FDictionaryCode61[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 09:57:18
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 09:59:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 09:59:57
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId62) AND ([TbModelOrg].[SiteCode] IN (@SiteCode63))) 	
Parameters:
@ProjectId62[String] = 6372912251695766465
@SiteCode63[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:00:05
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm64,@MxGjBm65,@MxGjBm66,@MxGjBm67,@MxGjBm68) 	
Parameters:
@MxGjBm64[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm65[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm66[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm67[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm68[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:00:05
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode69,@ComponentCode70,@ComponentCode71,@ComponentCode72,@ComponentCode73)) AND ([TbModelOtherInfo].[Type] = @Type74) 	
Parameters:
@ComponentCode69[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode70[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode71[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode72[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode73[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type74[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:00:13
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:00:13
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId75,@MxGjId76,@MxGjId77,@MxGjId78) 	
Parameters:
@MxGjId75[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId76[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId77[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId78[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:00:13
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode79,@ComponentCode80,@ComponentCode81,@ComponentCode82)) AND ([TbModelOtherInfo].[Type] = @Type83) 	
Parameters:
@ComponentCode79[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode80[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode81[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode82[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type83[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:02:22
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:02:22
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:02:22
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type84) AND ([TbOrganizationMap].[ProjectId] = @ProjectId85)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode86,@CompanyCode87,@CompanyCode88,@CompanyCode89,@CompanyCode90,@CompanyCode91,@CompanyCode92,@CompanyCode93)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode94))) 	
Parameters:
@Type84[Int32] = 1
@ProjectId85[String] = 6372912251695766465
@CompanyCode86[String] = 6373083923489249281
@CompanyCode87[String] = 6373083925531366080
@CompanyCode88[String] = 6373083927883400612
@CompanyCode89[String] = 6373083918575368225
@CompanyCode90[String] = 6373083920445075162
@CompanyCode91[String] = 6373083908618598731
@CompanyCode92[String] = 6373083911842783146
@CompanyCode93[String] = 6373083913928202424
@ParentCompanyCode94[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type95) AND ([TbOrganizationMap].[ProjectId] = @ProjectId96)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode97,@CompanyCode98,@CompanyCode99,@CompanyCode100,@CompanyCode101,@CompanyCode102,@CompanyCode103,@CompanyCode104)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode105))) 	
Parameters:
@Type95[Int32] = 2
@ProjectId96[String] = 6372912251695766465
@CompanyCode97[String] = 6373083923489249281
@CompanyCode98[String] = 6373083925531366080
@CompanyCode99[String] = 6373083927883400612
@CompanyCode100[String] = 6373083918575368225
@CompanyCode101[String] = 6373083920445075162
@CompanyCode102[String] = 6373083908618598731
@CompanyCode103[String] = 6373083911842783146
@CompanyCode104[String] = 6373083913928202424
@ParentCompanyCode105[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode133)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId106) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132)))	
Parameters:
@ProjectId106[String] = 6372912251695766465
@SiteCode107[String] = 6373083923489249281
@SiteCode108[String] = 6373083925531366080
@SiteCode109[String] = 6373083927883400612
@SiteCode110[String] = 6373083918575368225
@SiteCode111[String] = 6373083920445075162
@SiteCode112[String] = 6373083908618598731
@SiteCode113[String] = 6373083911842783146
@SiteCode114[String] = 6373083913928202424
@SiteCode115[String] = 6373083877551621804
@SiteCode116[String] = 6373083879921857377
@SiteCode117[String] = 6373083881542550067
@SiteCode118[String] = 6373083883689772886
@SiteCode119[String] = 6373083887136270013
@SiteCode120[String] = 6373083889697116488
@SiteCode121[String] = 6373083891969846476
@SiteCode122[String] = 6373083894422586761
@SiteCode123[String] = 6373083897509963358
@SiteCode124[String] = 6373083900444931227
@SiteCode125[String] = 6373083829464571372
@SiteCode126[String] = 6373083833327492328
@SiteCode127[String] = 6373083841964286321
@SiteCode128[String] = 6373083844982558950
@SiteCode129[String] = 6373083847585007801
@SiteCode130[String] = 6373083856887939900
@SiteCode131[String] = 6373083859102666584
@SiteCode132[String] = 6373083864919499284
@FDictionaryCode133[String] = OrderState
@FDictionaryCode134[String] = UrgentDegree
@FDictionaryCode135[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode134) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode135) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode133)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId106) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId106[String] = 6372912251695766465
@SiteCode107[String] = 6373083923489249281
@SiteCode108[String] = 6373083925531366080
@SiteCode109[String] = 6373083927883400612
@SiteCode110[String] = 6373083918575368225
@SiteCode111[String] = 6373083920445075162
@SiteCode112[String] = 6373083908618598731
@SiteCode113[String] = 6373083911842783146
@SiteCode114[String] = 6373083913928202424
@SiteCode115[String] = 6373083877551621804
@SiteCode116[String] = 6373083879921857377
@SiteCode117[String] = 6373083881542550067
@SiteCode118[String] = 6373083883689772886
@SiteCode119[String] = 6373083887136270013
@SiteCode120[String] = 6373083889697116488
@SiteCode121[String] = 6373083891969846476
@SiteCode122[String] = 6373083894422586761
@SiteCode123[String] = 6373083897509963358
@SiteCode124[String] = 6373083900444931227
@SiteCode125[String] = 6373083829464571372
@SiteCode126[String] = 6373083833327492328
@SiteCode127[String] = 6373083841964286321
@SiteCode128[String] = 6373083844982558950
@SiteCode129[String] = 6373083847585007801
@SiteCode130[String] = 6373083856887939900
@SiteCode131[String] = 6373083859102666584
@SiteCode132[String] = 6373083864919499284
@FDictionaryCode133[String] = OrderState
@FDictionaryCode134[String] = UrgentDegree
@FDictionaryCode135[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:02:23
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:02:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:02:27
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId136) AND ([TbModelOrg].[SiteCode] IN (@SiteCode137))) 	
Parameters:
@ProjectId136[String] = 6372912251695766465
@SiteCode137[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:02:34
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm138,@MxGjBm139,@MxGjBm140,@MxGjBm141,@MxGjBm142) 	
Parameters:
@MxGjBm138[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm139[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm140[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm141[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm142[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:02:34
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode143,@ComponentCode144,@ComponentCode145,@ComponentCode146,@ComponentCode147)) AND ([TbModelOtherInfo].[Type] = @Type148) 	
Parameters:
@ComponentCode143[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode144[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode145[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode146[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode147[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type148[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:02:37
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId149,@MxGjId150,@MxGjId151,@MxGjId152) 	
Parameters:
@MxGjId149[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId150[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId151[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId152[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:02:37
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode153,@ComponentCode154,@ComponentCode155,@ComponentCode156)) AND ([TbModelOtherInfo].[Type] = @Type157) 	
Parameters:
@ComponentCode153[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode154[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode155[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode156[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type157[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:04:41
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:04:41
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:04:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:04:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:04:41
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type158) AND ([TbOrganizationMap].[ProjectId] = @ProjectId159)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode160,@CompanyCode161,@CompanyCode162,@CompanyCode163,@CompanyCode164,@CompanyCode165,@CompanyCode166,@CompanyCode167)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode168))) 	
Parameters:
@Type158[Int32] = 1
@ProjectId159[String] = 6372912251695766465
@CompanyCode160[String] = 6373083923489249281
@CompanyCode161[String] = 6373083925531366080
@CompanyCode162[String] = 6373083927883400612
@CompanyCode163[String] = 6373083918575368225
@CompanyCode164[String] = 6373083920445075162
@CompanyCode165[String] = 6373083908618598731
@CompanyCode166[String] = 6373083911842783146
@CompanyCode167[String] = 6373083913928202424
@ParentCompanyCode168[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:04:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:04:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type169) AND ([TbOrganizationMap].[ProjectId] = @ProjectId170)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode171,@CompanyCode172,@CompanyCode173,@CompanyCode174,@CompanyCode175,@CompanyCode176,@CompanyCode177,@CompanyCode178)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode179))) 	
Parameters:
@Type169[Int32] = 2
@ProjectId170[String] = 6372912251695766465
@CompanyCode171[String] = 6373083923489249281
@CompanyCode172[String] = 6373083925531366080
@CompanyCode173[String] = 6373083927883400612
@CompanyCode174[String] = 6373083918575368225
@CompanyCode175[String] = 6373083920445075162
@CompanyCode176[String] = 6373083908618598731
@CompanyCode177[String] = 6373083911842783146
@CompanyCode178[String] = 6373083913928202424
@ParentCompanyCode179[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:04:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:04:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:04:42
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode207)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId180) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206)))	
Parameters:
@ProjectId180[String] = 6372912251695766465
@SiteCode181[String] = 6373083923489249281
@SiteCode182[String] = 6373083925531366080
@SiteCode183[String] = 6373083927883400612
@SiteCode184[String] = 6373083918575368225
@SiteCode185[String] = 6373083920445075162
@SiteCode186[String] = 6373083908618598731
@SiteCode187[String] = 6373083911842783146
@SiteCode188[String] = 6373083913928202424
@SiteCode189[String] = 6373083877551621804
@SiteCode190[String] = 6373083879921857377
@SiteCode191[String] = 6373083881542550067
@SiteCode192[String] = 6373083883689772886
@SiteCode193[String] = 6373083887136270013
@SiteCode194[String] = 6373083889697116488
@SiteCode195[String] = 6373083891969846476
@SiteCode196[String] = 6373083894422586761
@SiteCode197[String] = 6373083897509963358
@SiteCode198[String] = 6373083900444931227
@SiteCode199[String] = 6373083829464571372
@SiteCode200[String] = 6373083833327492328
@SiteCode201[String] = 6373083841964286321
@SiteCode202[String] = 6373083844982558950
@SiteCode203[String] = 6373083847585007801
@SiteCode204[String] = 6373083856887939900
@SiteCode205[String] = 6373083859102666584
@SiteCode206[String] = 6373083864919499284
@FDictionaryCode207[String] = OrderState
@FDictionaryCode208[String] = UrgentDegree
@FDictionaryCode209[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:04:42
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode208) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode209) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode207)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId180) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId180[String] = 6372912251695766465
@SiteCode181[String] = 6373083923489249281
@SiteCode182[String] = 6373083925531366080
@SiteCode183[String] = 6373083927883400612
@SiteCode184[String] = 6373083918575368225
@SiteCode185[String] = 6373083920445075162
@SiteCode186[String] = 6373083908618598731
@SiteCode187[String] = 6373083911842783146
@SiteCode188[String] = 6373083913928202424
@SiteCode189[String] = 6373083877551621804
@SiteCode190[String] = 6373083879921857377
@SiteCode191[String] = 6373083881542550067
@SiteCode192[String] = 6373083883689772886
@SiteCode193[String] = 6373083887136270013
@SiteCode194[String] = 6373083889697116488
@SiteCode195[String] = 6373083891969846476
@SiteCode196[String] = 6373083894422586761
@SiteCode197[String] = 6373083897509963358
@SiteCode198[String] = 6373083900444931227
@SiteCode199[String] = 6373083829464571372
@SiteCode200[String] = 6373083833327492328
@SiteCode201[String] = 6373083841964286321
@SiteCode202[String] = 6373083844982558950
@SiteCode203[String] = 6373083847585007801
@SiteCode204[String] = 6373083856887939900
@SiteCode205[String] = 6373083859102666584
@SiteCode206[String] = 6373083864919499284
@FDictionaryCode207[String] = OrderState
@FDictionaryCode208[String] = UrgentDegree
@FDictionaryCode209[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:04:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:04:42
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:04:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:04:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:04:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:04:49
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId210) AND ([TbModelOrg].[SiteCode] IN (@SiteCode211))) 	
Parameters:
@ProjectId210[String] = 6372912251695766465
@SiteCode211[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:07:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:07:41
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm212,@MxGjBm213,@MxGjBm214,@MxGjBm215,@MxGjBm216) 	
Parameters:
@MxGjBm212[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm213[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm214[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm215[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm216[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:07:41
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode217,@ComponentCode218,@ComponentCode219,@ComponentCode220,@ComponentCode221)) AND ([TbModelOtherInfo].[Type] = @Type222) 	
Parameters:
@ComponentCode217[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode218[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode219[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode220[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode221[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type222[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:07:44
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId223,@MxGjId224,@MxGjId225,@MxGjId226) 	
Parameters:
@MxGjId223[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId224[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId225[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId226[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:07:44
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode227,@ComponentCode228,@ComponentCode229,@ComponentCode230)) AND ([TbModelOtherInfo].[Type] = @Type231) 	
Parameters:
@ComponentCode227[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode228[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode229[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode230[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type231[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:08:22
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId232,@MxGjId233,@MxGjId234,@MxGjId235) 	
Parameters:
@MxGjId232[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId233[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId234[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId235[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:08:22
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode236,@ComponentCode237,@ComponentCode238,@ComponentCode239)) AND ([TbModelOtherInfo].[Type] = @Type240) 	
Parameters:
@ComponentCode236[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode237[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode238[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode239[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type240[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:08:34
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId241,@MxGjId242,@MxGjId243,@MxGjId244) 	
Parameters:
@MxGjId241[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId242[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId243[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId244[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:08:34
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode245,@ComponentCode246,@ComponentCode247,@ComponentCode248)) AND ([TbModelOtherInfo].[Type] = @Type249) 	
Parameters:
@ComponentCode245[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode246[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode247[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode248[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type249[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:08:36
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId250) 	
Parameters:
@MxGjId250[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 10:08:36
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode251)) AND ([TbModelOtherInfo].[Type] = @Type252) 	
Parameters:
@ComponentCode251[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type252[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type253) AND ([TbOrganizationMap].[ProjectId] = @ProjectId254)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode255,@CompanyCode256,@CompanyCode257,@CompanyCode258,@CompanyCode259,@CompanyCode260,@CompanyCode261,@CompanyCode262)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode263))) 	
Parameters:
@Type253[Int32] = 1
@ProjectId254[String] = 6372912251695766465
@CompanyCode255[String] = 6373083923489249281
@CompanyCode256[String] = 6373083925531366080
@CompanyCode257[String] = 6373083927883400612
@CompanyCode258[String] = 6373083918575368225
@CompanyCode259[String] = 6373083920445075162
@CompanyCode260[String] = 6373083908618598731
@CompanyCode261[String] = 6373083911842783146
@CompanyCode262[String] = 6373083913928202424
@ParentCompanyCode263[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type264) AND ([TbOrganizationMap].[ProjectId] = @ProjectId265)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode266,@CompanyCode267,@CompanyCode268,@CompanyCode269,@CompanyCode270,@CompanyCode271,@CompanyCode272,@CompanyCode273)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode274))) 	
Parameters:
@Type264[Int32] = 2
@ProjectId265[String] = 6372912251695766465
@CompanyCode266[String] = 6373083923489249281
@CompanyCode267[String] = 6373083925531366080
@CompanyCode268[String] = 6373083927883400612
@CompanyCode269[String] = 6373083918575368225
@CompanyCode270[String] = 6373083920445075162
@CompanyCode271[String] = 6373083908618598731
@CompanyCode272[String] = 6373083911842783146
@CompanyCode273[String] = 6373083913928202424
@ParentCompanyCode274[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode302)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId275) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode276,@SiteCode277,@SiteCode278,@SiteCode279,@SiteCode280,@SiteCode281,@SiteCode282,@SiteCode283,@SiteCode284,@SiteCode285,@SiteCode286,@SiteCode287,@SiteCode288,@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299,@SiteCode300,@SiteCode301)))	
Parameters:
@ProjectId275[String] = 6372912251695766465
@SiteCode276[String] = 6373083923489249281
@SiteCode277[String] = 6373083925531366080
@SiteCode278[String] = 6373083927883400612
@SiteCode279[String] = 6373083918575368225
@SiteCode280[String] = 6373083920445075162
@SiteCode281[String] = 6373083908618598731
@SiteCode282[String] = 6373083911842783146
@SiteCode283[String] = 6373083913928202424
@SiteCode284[String] = 6373083877551621804
@SiteCode285[String] = 6373083879921857377
@SiteCode286[String] = 6373083881542550067
@SiteCode287[String] = 6373083883689772886
@SiteCode288[String] = 6373083887136270013
@SiteCode289[String] = 6373083889697116488
@SiteCode290[String] = 6373083891969846476
@SiteCode291[String] = 6373083894422586761
@SiteCode292[String] = 6373083897509963358
@SiteCode293[String] = 6373083900444931227
@SiteCode294[String] = 6373083829464571372
@SiteCode295[String] = 6373083833327492328
@SiteCode296[String] = 6373083841964286321
@SiteCode297[String] = 6373083844982558950
@SiteCode298[String] = 6373083847585007801
@SiteCode299[String] = 6373083856887939900
@SiteCode300[String] = 6373083859102666584
@SiteCode301[String] = 6373083864919499284
@FDictionaryCode302[String] = OrderState
@FDictionaryCode303[String] = UrgentDegree
@FDictionaryCode304[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:09:52
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode303) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode304) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode302)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId275) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode276,@SiteCode277,@SiteCode278,@SiteCode279,@SiteCode280,@SiteCode281,@SiteCode282,@SiteCode283,@SiteCode284,@SiteCode285,@SiteCode286,@SiteCode287,@SiteCode288,@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299,@SiteCode300,@SiteCode301))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId275[String] = 6372912251695766465
@SiteCode276[String] = 6373083923489249281
@SiteCode277[String] = 6373083925531366080
@SiteCode278[String] = 6373083927883400612
@SiteCode279[String] = 6373083918575368225
@SiteCode280[String] = 6373083920445075162
@SiteCode281[String] = 6373083908618598731
@SiteCode282[String] = 6373083911842783146
@SiteCode283[String] = 6373083913928202424
@SiteCode284[String] = 6373083877551621804
@SiteCode285[String] = 6373083879921857377
@SiteCode286[String] = 6373083881542550067
@SiteCode287[String] = 6373083883689772886
@SiteCode288[String] = 6373083887136270013
@SiteCode289[String] = 6373083889697116488
@SiteCode290[String] = 6373083891969846476
@SiteCode291[String] = 6373083894422586761
@SiteCode292[String] = 6373083897509963358
@SiteCode293[String] = 6373083900444931227
@SiteCode294[String] = 6373083829464571372
@SiteCode295[String] = 6373083833327492328
@SiteCode296[String] = 6373083841964286321
@SiteCode297[String] = 6373083844982558950
@SiteCode298[String] = 6373083847585007801
@SiteCode299[String] = 6373083856887939900
@SiteCode300[String] = 6373083859102666584
@SiteCode301[String] = 6373083864919499284
@FDictionaryCode302[String] = OrderState
@FDictionaryCode303[String] = UrgentDegree
@FDictionaryCode304[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:09:53
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:09:53
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:09:53
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:09:53
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:10:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:10:27
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId305) AND ([TbModelOrg].[SiteCode] IN (@SiteCode306))) 	
Parameters:
@ProjectId305[String] = 6372912251695766465
@SiteCode306[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:10:36
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm307,@MxGjBm308,@MxGjBm309,@MxGjBm310,@MxGjBm311) 	
Parameters:
@MxGjBm307[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm308[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm309[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm310[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm311[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:10:36
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode312,@ComponentCode313,@ComponentCode314,@ComponentCode315,@ComponentCode316)) AND ([TbModelOtherInfo].[Type] = @Type317) 	
Parameters:
@ComponentCode312[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode313[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode314[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode315[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode316[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type317[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:10:39
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId318,@MxGjId319,@MxGjId320,@MxGjId321) 	
Parameters:
@MxGjId318[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId319[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId320[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId321[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:10:39
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode322,@ComponentCode323,@ComponentCode324,@ComponentCode325)) AND ([TbModelOtherInfo].[Type] = @Type326) 	
Parameters:
@ComponentCode322[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode323[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode324[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode325[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type326[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:11:11
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:11:11
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:11:11
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:11:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:11:11
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type327) AND ([TbOrganizationMap].[ProjectId] = @ProjectId328)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode329,@CompanyCode330,@CompanyCode331,@CompanyCode332,@CompanyCode333,@CompanyCode334,@CompanyCode335,@CompanyCode336)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode337))) 	
Parameters:
@Type327[Int32] = 1
@ProjectId328[String] = 6372912251695766465
@CompanyCode329[String] = 6373083923489249281
@CompanyCode330[String] = 6373083925531366080
@CompanyCode331[String] = 6373083927883400612
@CompanyCode332[String] = 6373083918575368225
@CompanyCode333[String] = 6373083920445075162
@CompanyCode334[String] = 6373083908618598731
@CompanyCode335[String] = 6373083911842783146
@CompanyCode336[String] = 6373083913928202424
@ParentCompanyCode337[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:11:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:11:11
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type338) AND ([TbOrganizationMap].[ProjectId] = @ProjectId339)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode340,@CompanyCode341,@CompanyCode342,@CompanyCode343,@CompanyCode344,@CompanyCode345,@CompanyCode346,@CompanyCode347)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode348))) 	
Parameters:
@Type338[Int32] = 2
@ProjectId339[String] = 6372912251695766465
@CompanyCode340[String] = 6373083923489249281
@CompanyCode341[String] = 6373083925531366080
@CompanyCode342[String] = 6373083927883400612
@CompanyCode343[String] = 6373083918575368225
@CompanyCode344[String] = 6373083920445075162
@CompanyCode345[String] = 6373083908618598731
@CompanyCode346[String] = 6373083911842783146
@CompanyCode347[String] = 6373083913928202424
@ParentCompanyCode348[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:11:11
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:11:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:11:11
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode376)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId349) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354,@SiteCode355,@SiteCode356,@SiteCode357,@SiteCode358,@SiteCode359,@SiteCode360,@SiteCode361,@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368,@SiteCode369,@SiteCode370,@SiteCode371,@SiteCode372,@SiteCode373,@SiteCode374,@SiteCode375)))	
Parameters:
@ProjectId349[String] = 6372912251695766465
@SiteCode350[String] = 6373083923489249281
@SiteCode351[String] = 6373083925531366080
@SiteCode352[String] = 6373083927883400612
@SiteCode353[String] = 6373083918575368225
@SiteCode354[String] = 6373083920445075162
@SiteCode355[String] = 6373083908618598731
@SiteCode356[String] = 6373083911842783146
@SiteCode357[String] = 6373083913928202424
@SiteCode358[String] = 6373083877551621804
@SiteCode359[String] = 6373083879921857377
@SiteCode360[String] = 6373083881542550067
@SiteCode361[String] = 6373083883689772886
@SiteCode362[String] = 6373083887136270013
@SiteCode363[String] = 6373083889697116488
@SiteCode364[String] = 6373083891969846476
@SiteCode365[String] = 6373083894422586761
@SiteCode366[String] = 6373083897509963358
@SiteCode367[String] = 6373083900444931227
@SiteCode368[String] = 6373083829464571372
@SiteCode369[String] = 6373083833327492328
@SiteCode370[String] = 6373083841964286321
@SiteCode371[String] = 6373083844982558950
@SiteCode372[String] = 6373083847585007801
@SiteCode373[String] = 6373083856887939900
@SiteCode374[String] = 6373083859102666584
@SiteCode375[String] = 6373083864919499284
@FDictionaryCode376[String] = OrderState
@FDictionaryCode377[String] = UrgentDegree
@FDictionaryCode378[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:11:12
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode377) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode378) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode376)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId349) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354,@SiteCode355,@SiteCode356,@SiteCode357,@SiteCode358,@SiteCode359,@SiteCode360,@SiteCode361,@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368,@SiteCode369,@SiteCode370,@SiteCode371,@SiteCode372,@SiteCode373,@SiteCode374,@SiteCode375))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId349[String] = 6372912251695766465
@SiteCode350[String] = 6373083923489249281
@SiteCode351[String] = 6373083925531366080
@SiteCode352[String] = 6373083927883400612
@SiteCode353[String] = 6373083918575368225
@SiteCode354[String] = 6373083920445075162
@SiteCode355[String] = 6373083908618598731
@SiteCode356[String] = 6373083911842783146
@SiteCode357[String] = 6373083913928202424
@SiteCode358[String] = 6373083877551621804
@SiteCode359[String] = 6373083879921857377
@SiteCode360[String] = 6373083881542550067
@SiteCode361[String] = 6373083883689772886
@SiteCode362[String] = 6373083887136270013
@SiteCode363[String] = 6373083889697116488
@SiteCode364[String] = 6373083891969846476
@SiteCode365[String] = 6373083894422586761
@SiteCode366[String] = 6373083897509963358
@SiteCode367[String] = 6373083900444931227
@SiteCode368[String] = 6373083829464571372
@SiteCode369[String] = 6373083833327492328
@SiteCode370[String] = 6373083841964286321
@SiteCode371[String] = 6373083844982558950
@SiteCode372[String] = 6373083847585007801
@SiteCode373[String] = 6373083856887939900
@SiteCode374[String] = 6373083859102666584
@SiteCode375[String] = 6373083864919499284
@FDictionaryCode376[String] = OrderState
@FDictionaryCode377[String] = UrgentDegree
@FDictionaryCode378[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:11:12
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:11:12
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:11:12
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:11:12
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:11:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:11:17
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId379) AND ([TbModelOrg].[SiteCode] IN (@SiteCode380))) 	
Parameters:
@ProjectId379[String] = 6372912251695766465
@SiteCode380[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:11:23
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm381,@MxGjBm382,@MxGjBm383,@MxGjBm384,@MxGjBm385) 	
Parameters:
@MxGjBm381[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm382[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm383[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm384[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm385[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:11:23
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode386,@ComponentCode387,@ComponentCode388,@ComponentCode389,@ComponentCode390)) AND ([TbModelOtherInfo].[Type] = @Type391) 	
Parameters:
@ComponentCode386[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode387[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode388[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode389[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode390[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type391[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:11:26
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId392,@MxGjId393,@MxGjId394,@MxGjId395) 	
Parameters:
@MxGjId392[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId393[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId394[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId395[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:11:26
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode396,@ComponentCode397,@ComponentCode398,@ComponentCode399)) AND ([TbModelOtherInfo].[Type] = @Type400) 	
Parameters:
@ComponentCode396[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode397[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode398[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode399[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type400[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:12:19
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:12:19
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:12:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type401) AND ([TbOrganizationMap].[ProjectId] = @ProjectId402)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode403,@CompanyCode404,@CompanyCode405,@CompanyCode406,@CompanyCode407,@CompanyCode408,@CompanyCode409,@CompanyCode410)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode411))) 	
Parameters:
@Type401[Int32] = 1
@ProjectId402[String] = 6372912251695766465
@CompanyCode403[String] = 6373083923489249281
@CompanyCode404[String] = 6373083925531366080
@CompanyCode405[String] = 6373083927883400612
@CompanyCode406[String] = 6373083918575368225
@CompanyCode407[String] = 6373083920445075162
@CompanyCode408[String] = 6373083908618598731
@CompanyCode409[String] = 6373083911842783146
@CompanyCode410[String] = 6373083913928202424
@ParentCompanyCode411[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type412) AND ([TbOrganizationMap].[ProjectId] = @ProjectId413)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode414,@CompanyCode415,@CompanyCode416,@CompanyCode417,@CompanyCode418,@CompanyCode419,@CompanyCode420,@CompanyCode421)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode422))) 	
Parameters:
@Type412[Int32] = 2
@ProjectId413[String] = 6372912251695766465
@CompanyCode414[String] = 6373083923489249281
@CompanyCode415[String] = 6373083925531366080
@CompanyCode416[String] = 6373083927883400612
@CompanyCode417[String] = 6373083918575368225
@CompanyCode418[String] = 6373083920445075162
@CompanyCode419[String] = 6373083908618598731
@CompanyCode420[String] = 6373083911842783146
@CompanyCode421[String] = 6373083913928202424
@ParentCompanyCode422[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode450)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId423) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode424,@SiteCode425,@SiteCode426,@SiteCode427,@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433,@SiteCode434,@SiteCode435,@SiteCode436,@SiteCode437,@SiteCode438,@SiteCode439,@SiteCode440,@SiteCode441,@SiteCode442,@SiteCode443,@SiteCode444,@SiteCode445,@SiteCode446,@SiteCode447,@SiteCode448,@SiteCode449)))	
Parameters:
@ProjectId423[String] = 6372912251695766465
@SiteCode424[String] = 6373083923489249281
@SiteCode425[String] = 6373083925531366080
@SiteCode426[String] = 6373083927883400612
@SiteCode427[String] = 6373083918575368225
@SiteCode428[String] = 6373083920445075162
@SiteCode429[String] = 6373083908618598731
@SiteCode430[String] = 6373083911842783146
@SiteCode431[String] = 6373083913928202424
@SiteCode432[String] = 6373083877551621804
@SiteCode433[String] = 6373083879921857377
@SiteCode434[String] = 6373083881542550067
@SiteCode435[String] = 6373083883689772886
@SiteCode436[String] = 6373083887136270013
@SiteCode437[String] = 6373083889697116488
@SiteCode438[String] = 6373083891969846476
@SiteCode439[String] = 6373083894422586761
@SiteCode440[String] = 6373083897509963358
@SiteCode441[String] = 6373083900444931227
@SiteCode442[String] = 6373083829464571372
@SiteCode443[String] = 6373083833327492328
@SiteCode444[String] = 6373083841964286321
@SiteCode445[String] = 6373083844982558950
@SiteCode446[String] = 6373083847585007801
@SiteCode447[String] = 6373083856887939900
@SiteCode448[String] = 6373083859102666584
@SiteCode449[String] = 6373083864919499284
@FDictionaryCode450[String] = OrderState
@FDictionaryCode451[String] = UrgentDegree
@FDictionaryCode452[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode451) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode452) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode450)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId423) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode424,@SiteCode425,@SiteCode426,@SiteCode427,@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433,@SiteCode434,@SiteCode435,@SiteCode436,@SiteCode437,@SiteCode438,@SiteCode439,@SiteCode440,@SiteCode441,@SiteCode442,@SiteCode443,@SiteCode444,@SiteCode445,@SiteCode446,@SiteCode447,@SiteCode448,@SiteCode449))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId423[String] = 6372912251695766465
@SiteCode424[String] = 6373083923489249281
@SiteCode425[String] = 6373083925531366080
@SiteCode426[String] = 6373083927883400612
@SiteCode427[String] = 6373083918575368225
@SiteCode428[String] = 6373083920445075162
@SiteCode429[String] = 6373083908618598731
@SiteCode430[String] = 6373083911842783146
@SiteCode431[String] = 6373083913928202424
@SiteCode432[String] = 6373083877551621804
@SiteCode433[String] = 6373083879921857377
@SiteCode434[String] = 6373083881542550067
@SiteCode435[String] = 6373083883689772886
@SiteCode436[String] = 6373083887136270013
@SiteCode437[String] = 6373083889697116488
@SiteCode438[String] = 6373083891969846476
@SiteCode439[String] = 6373083894422586761
@SiteCode440[String] = 6373083897509963358
@SiteCode441[String] = 6373083900444931227
@SiteCode442[String] = 6373083829464571372
@SiteCode443[String] = 6373083833327492328
@SiteCode444[String] = 6373083841964286321
@SiteCode445[String] = 6373083844982558950
@SiteCode446[String] = 6373083847585007801
@SiteCode447[String] = 6373083856887939900
@SiteCode448[String] = 6373083859102666584
@SiteCode449[String] = 6373083864919499284
@FDictionaryCode450[String] = OrderState
@FDictionaryCode451[String] = UrgentDegree
@FDictionaryCode452[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:12:20
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:12:24
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:12:24
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId453) AND ([TbModelOrg].[SiteCode] IN (@SiteCode454))) 	
Parameters:
@ProjectId453[String] = 6372912251695766465
@SiteCode454[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:12:35
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm455,@MxGjBm456,@MxGjBm457,@MxGjBm458,@MxGjBm459) 	
Parameters:
@MxGjBm455[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm456[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm457[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm458[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm459[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:12:35
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode460,@ComponentCode461,@ComponentCode462,@ComponentCode463,@ComponentCode464)) AND ([TbModelOtherInfo].[Type] = @Type465) 	
Parameters:
@ComponentCode460[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode461[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode462[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode463[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode464[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type465[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:12:38
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId466,@MxGjId467,@MxGjId468,@MxGjId469) 	
Parameters:
@MxGjId466[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId467[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId468[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId469[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:12:38
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode470,@ComponentCode471,@ComponentCode472,@ComponentCode473)) AND ([TbModelOtherInfo].[Type] = @Type474) 	
Parameters:
@ComponentCode470[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode471[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode472[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode473[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type474[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:13:31
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:13:31
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:13:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:13:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:13:31
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type475) AND ([TbOrganizationMap].[ProjectId] = @ProjectId476)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode477,@CompanyCode478,@CompanyCode479,@CompanyCode480,@CompanyCode481,@CompanyCode482,@CompanyCode483,@CompanyCode484)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode485))) 	
Parameters:
@Type475[Int32] = 1
@ProjectId476[String] = 6372912251695766465
@CompanyCode477[String] = 6373083923489249281
@CompanyCode478[String] = 6373083925531366080
@CompanyCode479[String] = 6373083927883400612
@CompanyCode480[String] = 6373083918575368225
@CompanyCode481[String] = 6373083920445075162
@CompanyCode482[String] = 6373083908618598731
@CompanyCode483[String] = 6373083911842783146
@CompanyCode484[String] = 6373083913928202424
@ParentCompanyCode485[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:13:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:13:31
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type486) AND ([TbOrganizationMap].[ProjectId] = @ProjectId487)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode488,@CompanyCode489,@CompanyCode490,@CompanyCode491,@CompanyCode492,@CompanyCode493,@CompanyCode494,@CompanyCode495)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode496))) 	
Parameters:
@Type486[Int32] = 2
@ProjectId487[String] = 6372912251695766465
@CompanyCode488[String] = 6373083923489249281
@CompanyCode489[String] = 6373083925531366080
@CompanyCode490[String] = 6373083927883400612
@CompanyCode491[String] = 6373083918575368225
@CompanyCode492[String] = 6373083920445075162
@CompanyCode493[String] = 6373083908618598731
@CompanyCode494[String] = 6373083911842783146
@CompanyCode495[String] = 6373083913928202424
@ParentCompanyCode496[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:13:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:13:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:13:32
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode524)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId497) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode498,@SiteCode499,@SiteCode500,@SiteCode501,@SiteCode502,@SiteCode503,@SiteCode504,@SiteCode505,@SiteCode506,@SiteCode507,@SiteCode508,@SiteCode509,@SiteCode510,@SiteCode511,@SiteCode512,@SiteCode513,@SiteCode514,@SiteCode515,@SiteCode516,@SiteCode517,@SiteCode518,@SiteCode519,@SiteCode520,@SiteCode521,@SiteCode522,@SiteCode523)))	
Parameters:
@ProjectId497[String] = 6372912251695766465
@SiteCode498[String] = 6373083923489249281
@SiteCode499[String] = 6373083925531366080
@SiteCode500[String] = 6373083927883400612
@SiteCode501[String] = 6373083918575368225
@SiteCode502[String] = 6373083920445075162
@SiteCode503[String] = 6373083908618598731
@SiteCode504[String] = 6373083911842783146
@SiteCode505[String] = 6373083913928202424
@SiteCode506[String] = 6373083877551621804
@SiteCode507[String] = 6373083879921857377
@SiteCode508[String] = 6373083881542550067
@SiteCode509[String] = 6373083883689772886
@SiteCode510[String] = 6373083887136270013
@SiteCode511[String] = 6373083889697116488
@SiteCode512[String] = 6373083891969846476
@SiteCode513[String] = 6373083894422586761
@SiteCode514[String] = 6373083897509963358
@SiteCode515[String] = 6373083900444931227
@SiteCode516[String] = 6373083829464571372
@SiteCode517[String] = 6373083833327492328
@SiteCode518[String] = 6373083841964286321
@SiteCode519[String] = 6373083844982558950
@SiteCode520[String] = 6373083847585007801
@SiteCode521[String] = 6373083856887939900
@SiteCode522[String] = 6373083859102666584
@SiteCode523[String] = 6373083864919499284
@FDictionaryCode524[String] = OrderState
@FDictionaryCode525[String] = UrgentDegree
@FDictionaryCode526[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:13:32
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode525) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode526) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode524)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId497) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode498,@SiteCode499,@SiteCode500,@SiteCode501,@SiteCode502,@SiteCode503,@SiteCode504,@SiteCode505,@SiteCode506,@SiteCode507,@SiteCode508,@SiteCode509,@SiteCode510,@SiteCode511,@SiteCode512,@SiteCode513,@SiteCode514,@SiteCode515,@SiteCode516,@SiteCode517,@SiteCode518,@SiteCode519,@SiteCode520,@SiteCode521,@SiteCode522,@SiteCode523))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId497[String] = 6372912251695766465
@SiteCode498[String] = 6373083923489249281
@SiteCode499[String] = 6373083925531366080
@SiteCode500[String] = 6373083927883400612
@SiteCode501[String] = 6373083918575368225
@SiteCode502[String] = 6373083920445075162
@SiteCode503[String] = 6373083908618598731
@SiteCode504[String] = 6373083911842783146
@SiteCode505[String] = 6373083913928202424
@SiteCode506[String] = 6373083877551621804
@SiteCode507[String] = 6373083879921857377
@SiteCode508[String] = 6373083881542550067
@SiteCode509[String] = 6373083883689772886
@SiteCode510[String] = 6373083887136270013
@SiteCode511[String] = 6373083889697116488
@SiteCode512[String] = 6373083891969846476
@SiteCode513[String] = 6373083894422586761
@SiteCode514[String] = 6373083897509963358
@SiteCode515[String] = 6373083900444931227
@SiteCode516[String] = 6373083829464571372
@SiteCode517[String] = 6373083833327492328
@SiteCode518[String] = 6373083841964286321
@SiteCode519[String] = 6373083844982558950
@SiteCode520[String] = 6373083847585007801
@SiteCode521[String] = 6373083856887939900
@SiteCode522[String] = 6373083859102666584
@SiteCode523[String] = 6373083864919499284
@FDictionaryCode524[String] = OrderState
@FDictionaryCode525[String] = UrgentDegree
@FDictionaryCode526[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:13:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:13:32
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:13:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:13:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:13:38
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:13:38
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId527) AND ([TbModelOrg].[SiteCode] IN (@SiteCode528))) 	
Parameters:
@ProjectId527[String] = 6372912251695766465
@SiteCode528[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:13:43
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm529,@MxGjBm530,@MxGjBm531,@MxGjBm532,@MxGjBm533) 	
Parameters:
@MxGjBm529[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm530[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm531[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm532[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm533[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:13:43
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode534,@ComponentCode535,@ComponentCode536,@ComponentCode537,@ComponentCode538)) AND ([TbModelOtherInfo].[Type] = @Type539) 	
Parameters:
@ComponentCode534[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode535[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode536[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode537[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode538[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type539[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:13:46
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId540,@MxGjId541,@MxGjId542,@MxGjId543) 	
Parameters:
@MxGjId540[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId541[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId542[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId543[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:13:46
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode544,@ComponentCode545,@ComponentCode546,@ComponentCode547)) AND ([TbModelOtherInfo].[Type] = @Type548) 	
Parameters:
@ComponentCode544[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode545[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode546[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode547[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type548[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type549) AND ([TbOrganizationMap].[ProjectId] = @ProjectId550)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode551,@CompanyCode552,@CompanyCode553,@CompanyCode554,@CompanyCode555,@CompanyCode556,@CompanyCode557,@CompanyCode558)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode559))) 	
Parameters:
@Type549[Int32] = 1
@ProjectId550[String] = 6372912251695766465
@CompanyCode551[String] = 6373083923489249281
@CompanyCode552[String] = 6373083925531366080
@CompanyCode553[String] = 6373083927883400612
@CompanyCode554[String] = 6373083918575368225
@CompanyCode555[String] = 6373083920445075162
@CompanyCode556[String] = 6373083908618598731
@CompanyCode557[String] = 6373083911842783146
@CompanyCode558[String] = 6373083913928202424
@ParentCompanyCode559[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type560) AND ([TbOrganizationMap].[ProjectId] = @ProjectId561)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode562,@CompanyCode563,@CompanyCode564,@CompanyCode565,@CompanyCode566,@CompanyCode567,@CompanyCode568,@CompanyCode569)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode570))) 	
Parameters:
@Type560[Int32] = 2
@ProjectId561[String] = 6372912251695766465
@CompanyCode562[String] = 6373083923489249281
@CompanyCode563[String] = 6373083925531366080
@CompanyCode564[String] = 6373083927883400612
@CompanyCode565[String] = 6373083918575368225
@CompanyCode566[String] = 6373083920445075162
@CompanyCode567[String] = 6373083908618598731
@CompanyCode568[String] = 6373083911842783146
@CompanyCode569[String] = 6373083913928202424
@ParentCompanyCode570[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode598)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId571) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode572,@SiteCode573,@SiteCode574,@SiteCode575,@SiteCode576,@SiteCode577,@SiteCode578,@SiteCode579,@SiteCode580,@SiteCode581,@SiteCode582,@SiteCode583,@SiteCode584,@SiteCode585,@SiteCode586,@SiteCode587,@SiteCode588,@SiteCode589,@SiteCode590,@SiteCode591,@SiteCode592,@SiteCode593,@SiteCode594,@SiteCode595,@SiteCode596,@SiteCode597)))	
Parameters:
@ProjectId571[String] = 6372912251695766465
@SiteCode572[String] = 6373083923489249281
@SiteCode573[String] = 6373083925531366080
@SiteCode574[String] = 6373083927883400612
@SiteCode575[String] = 6373083918575368225
@SiteCode576[String] = 6373083920445075162
@SiteCode577[String] = 6373083908618598731
@SiteCode578[String] = 6373083911842783146
@SiteCode579[String] = 6373083913928202424
@SiteCode580[String] = 6373083877551621804
@SiteCode581[String] = 6373083879921857377
@SiteCode582[String] = 6373083881542550067
@SiteCode583[String] = 6373083883689772886
@SiteCode584[String] = 6373083887136270013
@SiteCode585[String] = 6373083889697116488
@SiteCode586[String] = 6373083891969846476
@SiteCode587[String] = 6373083894422586761
@SiteCode588[String] = 6373083897509963358
@SiteCode589[String] = 6373083900444931227
@SiteCode590[String] = 6373083829464571372
@SiteCode591[String] = 6373083833327492328
@SiteCode592[String] = 6373083841964286321
@SiteCode593[String] = 6373083844982558950
@SiteCode594[String] = 6373083847585007801
@SiteCode595[String] = 6373083856887939900
@SiteCode596[String] = 6373083859102666584
@SiteCode597[String] = 6373083864919499284
@FDictionaryCode598[String] = OrderState
@FDictionaryCode599[String] = UrgentDegree
@FDictionaryCode600[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:14:42
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode599) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode600) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode598)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId571) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode572,@SiteCode573,@SiteCode574,@SiteCode575,@SiteCode576,@SiteCode577,@SiteCode578,@SiteCode579,@SiteCode580,@SiteCode581,@SiteCode582,@SiteCode583,@SiteCode584,@SiteCode585,@SiteCode586,@SiteCode587,@SiteCode588,@SiteCode589,@SiteCode590,@SiteCode591,@SiteCode592,@SiteCode593,@SiteCode594,@SiteCode595,@SiteCode596,@SiteCode597))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId571[String] = 6372912251695766465
@SiteCode572[String] = 6373083923489249281
@SiteCode573[String] = 6373083925531366080
@SiteCode574[String] = 6373083927883400612
@SiteCode575[String] = 6373083918575368225
@SiteCode576[String] = 6373083920445075162
@SiteCode577[String] = 6373083908618598731
@SiteCode578[String] = 6373083911842783146
@SiteCode579[String] = 6373083913928202424
@SiteCode580[String] = 6373083877551621804
@SiteCode581[String] = 6373083879921857377
@SiteCode582[String] = 6373083881542550067
@SiteCode583[String] = 6373083883689772886
@SiteCode584[String] = 6373083887136270013
@SiteCode585[String] = 6373083889697116488
@SiteCode586[String] = 6373083891969846476
@SiteCode587[String] = 6373083894422586761
@SiteCode588[String] = 6373083897509963358
@SiteCode589[String] = 6373083900444931227
@SiteCode590[String] = 6373083829464571372
@SiteCode591[String] = 6373083833327492328
@SiteCode592[String] = 6373083841964286321
@SiteCode593[String] = 6373083844982558950
@SiteCode594[String] = 6373083847585007801
@SiteCode595[String] = 6373083856887939900
@SiteCode596[String] = 6373083859102666584
@SiteCode597[String] = 6373083864919499284
@FDictionaryCode598[String] = OrderState
@FDictionaryCode599[String] = UrgentDegree
@FDictionaryCode600[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:14:43
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:14:43
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:14:43
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:14:43
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:14:47
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:14:47
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId601) AND ([TbModelOrg].[SiteCode] IN (@SiteCode602))) 	
Parameters:
@ProjectId601[String] = 6372912251695766465
@SiteCode602[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:14:54
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm603,@MxGjBm604,@MxGjBm605,@MxGjBm606,@MxGjBm607) 	
Parameters:
@MxGjBm603[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm604[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm605[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm606[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm607[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:14:54
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode608,@ComponentCode609,@ComponentCode610,@ComponentCode611,@ComponentCode612)) AND ([TbModelOtherInfo].[Type] = @Type613) 	
Parameters:
@ComponentCode608[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode609[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode610[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode611[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode612[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type613[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:14:58
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId614,@MxGjId615,@MxGjId616,@MxGjId617) 	
Parameters:
@MxGjId614[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId615[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId616[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId617[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:14:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode618,@ComponentCode619,@ComponentCode620,@ComponentCode621)) AND ([TbModelOtherInfo].[Type] = @Type622) 	
Parameters:
@ComponentCode618[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode619[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode620[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode621[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type622[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type623) AND ([TbOrganizationMap].[ProjectId] = @ProjectId624)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode625,@CompanyCode626,@CompanyCode627,@CompanyCode628,@CompanyCode629,@CompanyCode630,@CompanyCode631,@CompanyCode632)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode633))) 	
Parameters:
@Type623[Int32] = 1
@ProjectId624[String] = 6372912251695766465
@CompanyCode625[String] = 6373083923489249281
@CompanyCode626[String] = 6373083925531366080
@CompanyCode627[String] = 6373083927883400612
@CompanyCode628[String] = 6373083918575368225
@CompanyCode629[String] = 6373083920445075162
@CompanyCode630[String] = 6373083908618598731
@CompanyCode631[String] = 6373083911842783146
@CompanyCode632[String] = 6373083913928202424
@ParentCompanyCode633[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type634) AND ([TbOrganizationMap].[ProjectId] = @ProjectId635)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode636,@CompanyCode637,@CompanyCode638,@CompanyCode639,@CompanyCode640,@CompanyCode641,@CompanyCode642,@CompanyCode643)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode644))) 	
Parameters:
@Type634[Int32] = 2
@ProjectId635[String] = 6372912251695766465
@CompanyCode636[String] = 6373083923489249281
@CompanyCode637[String] = 6373083925531366080
@CompanyCode638[String] = 6373083927883400612
@CompanyCode639[String] = 6373083918575368225
@CompanyCode640[String] = 6373083920445075162
@CompanyCode641[String] = 6373083908618598731
@CompanyCode642[String] = 6373083911842783146
@CompanyCode643[String] = 6373083913928202424
@ParentCompanyCode644[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode672)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId645) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode646,@SiteCode647,@SiteCode648,@SiteCode649,@SiteCode650,@SiteCode651,@SiteCode652,@SiteCode653,@SiteCode654,@SiteCode655,@SiteCode656,@SiteCode657,@SiteCode658,@SiteCode659,@SiteCode660,@SiteCode661,@SiteCode662,@SiteCode663,@SiteCode664,@SiteCode665,@SiteCode666,@SiteCode667,@SiteCode668,@SiteCode669,@SiteCode670,@SiteCode671)))	
Parameters:
@ProjectId645[String] = 6372912251695766465
@SiteCode646[String] = 6373083923489249281
@SiteCode647[String] = 6373083925531366080
@SiteCode648[String] = 6373083927883400612
@SiteCode649[String] = 6373083918575368225
@SiteCode650[String] = 6373083920445075162
@SiteCode651[String] = 6373083908618598731
@SiteCode652[String] = 6373083911842783146
@SiteCode653[String] = 6373083913928202424
@SiteCode654[String] = 6373083877551621804
@SiteCode655[String] = 6373083879921857377
@SiteCode656[String] = 6373083881542550067
@SiteCode657[String] = 6373083883689772886
@SiteCode658[String] = 6373083887136270013
@SiteCode659[String] = 6373083889697116488
@SiteCode660[String] = 6373083891969846476
@SiteCode661[String] = 6373083894422586761
@SiteCode662[String] = 6373083897509963358
@SiteCode663[String] = 6373083900444931227
@SiteCode664[String] = 6373083829464571372
@SiteCode665[String] = 6373083833327492328
@SiteCode666[String] = 6373083841964286321
@SiteCode667[String] = 6373083844982558950
@SiteCode668[String] = 6373083847585007801
@SiteCode669[String] = 6373083856887939900
@SiteCode670[String] = 6373083859102666584
@SiteCode671[String] = 6373083864919499284
@FDictionaryCode672[String] = OrderState
@FDictionaryCode673[String] = UrgentDegree
@FDictionaryCode674[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:16:11
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode673) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode674) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode672)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId645) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode646,@SiteCode647,@SiteCode648,@SiteCode649,@SiteCode650,@SiteCode651,@SiteCode652,@SiteCode653,@SiteCode654,@SiteCode655,@SiteCode656,@SiteCode657,@SiteCode658,@SiteCode659,@SiteCode660,@SiteCode661,@SiteCode662,@SiteCode663,@SiteCode664,@SiteCode665,@SiteCode666,@SiteCode667,@SiteCode668,@SiteCode669,@SiteCode670,@SiteCode671))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId645[String] = 6372912251695766465
@SiteCode646[String] = 6373083923489249281
@SiteCode647[String] = 6373083925531366080
@SiteCode648[String] = 6373083927883400612
@SiteCode649[String] = 6373083918575368225
@SiteCode650[String] = 6373083920445075162
@SiteCode651[String] = 6373083908618598731
@SiteCode652[String] = 6373083911842783146
@SiteCode653[String] = 6373083913928202424
@SiteCode654[String] = 6373083877551621804
@SiteCode655[String] = 6373083879921857377
@SiteCode656[String] = 6373083881542550067
@SiteCode657[String] = 6373083883689772886
@SiteCode658[String] = 6373083887136270013
@SiteCode659[String] = 6373083889697116488
@SiteCode660[String] = 6373083891969846476
@SiteCode661[String] = 6373083894422586761
@SiteCode662[String] = 6373083897509963358
@SiteCode663[String] = 6373083900444931227
@SiteCode664[String] = 6373083829464571372
@SiteCode665[String] = 6373083833327492328
@SiteCode666[String] = 6373083841964286321
@SiteCode667[String] = 6373083844982558950
@SiteCode668[String] = 6373083847585007801
@SiteCode669[String] = 6373083856887939900
@SiteCode670[String] = 6373083859102666584
@SiteCode671[String] = 6373083864919499284
@FDictionaryCode672[String] = OrderState
@FDictionaryCode673[String] = UrgentDegree
@FDictionaryCode674[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:16:12
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:16:12
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:16:12
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:16:12
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:16:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:16:15
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId675) AND ([TbModelOrg].[SiteCode] IN (@SiteCode676))) 	
Parameters:
@ProjectId675[String] = 6372912251695766465
@SiteCode676[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:16:23
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm677,@MxGjBm678,@MxGjBm679,@MxGjBm680,@MxGjBm681) 	
Parameters:
@MxGjBm677[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm678[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm679[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm680[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm681[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:16:23
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode682,@ComponentCode683,@ComponentCode684,@ComponentCode685,@ComponentCode686)) AND ([TbModelOtherInfo].[Type] = @Type687) 	
Parameters:
@ComponentCode682[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode683[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode684[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode685[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode686[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type687[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:16:25
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId688,@MxGjId689,@MxGjId690,@MxGjId691) 	
Parameters:
@MxGjId688[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId689[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId690[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId691[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:16:25
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode692,@ComponentCode693,@ComponentCode694,@ComponentCode695)) AND ([TbModelOtherInfo].[Type] = @Type696) 	
Parameters:
@ComponentCode692[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode693[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode694[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode695[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type696[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type697) AND ([TbOrganizationMap].[ProjectId] = @ProjectId698)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode699,@CompanyCode700,@CompanyCode701,@CompanyCode702,@CompanyCode703,@CompanyCode704,@CompanyCode705,@CompanyCode706)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode707))) 	
Parameters:
@Type697[Int32] = 1
@ProjectId698[String] = 6372912251695766465
@CompanyCode699[String] = 6373083923489249281
@CompanyCode700[String] = 6373083925531366080
@CompanyCode701[String] = 6373083927883400612
@CompanyCode702[String] = 6373083918575368225
@CompanyCode703[String] = 6373083920445075162
@CompanyCode704[String] = 6373083908618598731
@CompanyCode705[String] = 6373083911842783146
@CompanyCode706[String] = 6373083913928202424
@ParentCompanyCode707[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type708) AND ([TbOrganizationMap].[ProjectId] = @ProjectId709)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode710,@CompanyCode711,@CompanyCode712,@CompanyCode713,@CompanyCode714,@CompanyCode715,@CompanyCode716,@CompanyCode717)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode718))) 	
Parameters:
@Type708[Int32] = 2
@ProjectId709[String] = 6372912251695766465
@CompanyCode710[String] = 6373083923489249281
@CompanyCode711[String] = 6373083925531366080
@CompanyCode712[String] = 6373083927883400612
@CompanyCode713[String] = 6373083918575368225
@CompanyCode714[String] = 6373083920445075162
@CompanyCode715[String] = 6373083908618598731
@CompanyCode716[String] = 6373083911842783146
@CompanyCode717[String] = 6373083913928202424
@ParentCompanyCode718[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode746)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId719) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode720,@SiteCode721,@SiteCode722,@SiteCode723,@SiteCode724,@SiteCode725,@SiteCode726,@SiteCode727,@SiteCode728,@SiteCode729,@SiteCode730,@SiteCode731,@SiteCode732,@SiteCode733,@SiteCode734,@SiteCode735,@SiteCode736,@SiteCode737,@SiteCode738,@SiteCode739,@SiteCode740,@SiteCode741,@SiteCode742,@SiteCode743,@SiteCode744,@SiteCode745)))	
Parameters:
@ProjectId719[String] = 6372912251695766465
@SiteCode720[String] = 6373083923489249281
@SiteCode721[String] = 6373083925531366080
@SiteCode722[String] = 6373083927883400612
@SiteCode723[String] = 6373083918575368225
@SiteCode724[String] = 6373083920445075162
@SiteCode725[String] = 6373083908618598731
@SiteCode726[String] = 6373083911842783146
@SiteCode727[String] = 6373083913928202424
@SiteCode728[String] = 6373083877551621804
@SiteCode729[String] = 6373083879921857377
@SiteCode730[String] = 6373083881542550067
@SiteCode731[String] = 6373083883689772886
@SiteCode732[String] = 6373083887136270013
@SiteCode733[String] = 6373083889697116488
@SiteCode734[String] = 6373083891969846476
@SiteCode735[String] = 6373083894422586761
@SiteCode736[String] = 6373083897509963358
@SiteCode737[String] = 6373083900444931227
@SiteCode738[String] = 6373083829464571372
@SiteCode739[String] = 6373083833327492328
@SiteCode740[String] = 6373083841964286321
@SiteCode741[String] = 6373083844982558950
@SiteCode742[String] = 6373083847585007801
@SiteCode743[String] = 6373083856887939900
@SiteCode744[String] = 6373083859102666584
@SiteCode745[String] = 6373083864919499284
@FDictionaryCode746[String] = OrderState
@FDictionaryCode747[String] = UrgentDegree
@FDictionaryCode748[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:17:17
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode747) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode748) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode746)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId719) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode720,@SiteCode721,@SiteCode722,@SiteCode723,@SiteCode724,@SiteCode725,@SiteCode726,@SiteCode727,@SiteCode728,@SiteCode729,@SiteCode730,@SiteCode731,@SiteCode732,@SiteCode733,@SiteCode734,@SiteCode735,@SiteCode736,@SiteCode737,@SiteCode738,@SiteCode739,@SiteCode740,@SiteCode741,@SiteCode742,@SiteCode743,@SiteCode744,@SiteCode745))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId719[String] = 6372912251695766465
@SiteCode720[String] = 6373083923489249281
@SiteCode721[String] = 6373083925531366080
@SiteCode722[String] = 6373083927883400612
@SiteCode723[String] = 6373083918575368225
@SiteCode724[String] = 6373083920445075162
@SiteCode725[String] = 6373083908618598731
@SiteCode726[String] = 6373083911842783146
@SiteCode727[String] = 6373083913928202424
@SiteCode728[String] = 6373083877551621804
@SiteCode729[String] = 6373083879921857377
@SiteCode730[String] = 6373083881542550067
@SiteCode731[String] = 6373083883689772886
@SiteCode732[String] = 6373083887136270013
@SiteCode733[String] = 6373083889697116488
@SiteCode734[String] = 6373083891969846476
@SiteCode735[String] = 6373083894422586761
@SiteCode736[String] = 6373083897509963358
@SiteCode737[String] = 6373083900444931227
@SiteCode738[String] = 6373083829464571372
@SiteCode739[String] = 6373083833327492328
@SiteCode740[String] = 6373083841964286321
@SiteCode741[String] = 6373083844982558950
@SiteCode742[String] = 6373083847585007801
@SiteCode743[String] = 6373083856887939900
@SiteCode744[String] = 6373083859102666584
@SiteCode745[String] = 6373083864919499284
@FDictionaryCode746[String] = OrderState
@FDictionaryCode747[String] = UrgentDegree
@FDictionaryCode748[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:17:18
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:17:18
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:17:18
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:17:18
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:17:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:17:23
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId749) AND ([TbModelOrg].[SiteCode] IN (@SiteCode750))) 	
Parameters:
@ProjectId749[String] = 6372912251695766465
@SiteCode750[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:17:30
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm751,@MxGjBm752,@MxGjBm753,@MxGjBm754,@MxGjBm755) 	
Parameters:
@MxGjBm751[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm752[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm753[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm754[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm755[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:17:30
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode756,@ComponentCode757,@ComponentCode758,@ComponentCode759,@ComponentCode760)) AND ([TbModelOtherInfo].[Type] = @Type761) 	
Parameters:
@ComponentCode756[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode757[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode758[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode759[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode760[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type761[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:17:32
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId762,@MxGjId763,@MxGjId764,@MxGjId765) 	
Parameters:
@MxGjId762[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId763[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId764[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId765[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:17:32
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode766,@ComponentCode767,@ComponentCode768,@ComponentCode769)) AND ([TbModelOtherInfo].[Type] = @Type770) 	
Parameters:
@ComponentCode766[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode767[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode768[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode769[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type770[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:18:04
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:18:04
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:18:04
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type771) AND ([TbOrganizationMap].[ProjectId] = @ProjectId772)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode773,@CompanyCode774,@CompanyCode775,@CompanyCode776,@CompanyCode777,@CompanyCode778,@CompanyCode779,@CompanyCode780)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode781))) 	
Parameters:
@Type771[Int32] = 1
@ProjectId772[String] = 6372912251695766465
@CompanyCode773[String] = 6373083923489249281
@CompanyCode774[String] = 6373083925531366080
@CompanyCode775[String] = 6373083927883400612
@CompanyCode776[String] = 6373083918575368225
@CompanyCode777[String] = 6373083920445075162
@CompanyCode778[String] = 6373083908618598731
@CompanyCode779[String] = 6373083911842783146
@CompanyCode780[String] = 6373083913928202424
@ParentCompanyCode781[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type782) AND ([TbOrganizationMap].[ProjectId] = @ProjectId783)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode784,@CompanyCode785,@CompanyCode786,@CompanyCode787,@CompanyCode788,@CompanyCode789,@CompanyCode790,@CompanyCode791)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode792))) 	
Parameters:
@Type782[Int32] = 2
@ProjectId783[String] = 6372912251695766465
@CompanyCode784[String] = 6373083923489249281
@CompanyCode785[String] = 6373083925531366080
@CompanyCode786[String] = 6373083927883400612
@CompanyCode787[String] = 6373083918575368225
@CompanyCode788[String] = 6373083920445075162
@CompanyCode789[String] = 6373083908618598731
@CompanyCode790[String] = 6373083911842783146
@CompanyCode791[String] = 6373083913928202424
@ParentCompanyCode792[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode820)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId793) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode794,@SiteCode795,@SiteCode796,@SiteCode797,@SiteCode798,@SiteCode799,@SiteCode800,@SiteCode801,@SiteCode802,@SiteCode803,@SiteCode804,@SiteCode805,@SiteCode806,@SiteCode807,@SiteCode808,@SiteCode809,@SiteCode810,@SiteCode811,@SiteCode812,@SiteCode813,@SiteCode814,@SiteCode815,@SiteCode816,@SiteCode817,@SiteCode818,@SiteCode819)))	
Parameters:
@ProjectId793[String] = 6372912251695766465
@SiteCode794[String] = 6373083923489249281
@SiteCode795[String] = 6373083925531366080
@SiteCode796[String] = 6373083927883400612
@SiteCode797[String] = 6373083918575368225
@SiteCode798[String] = 6373083920445075162
@SiteCode799[String] = 6373083908618598731
@SiteCode800[String] = 6373083911842783146
@SiteCode801[String] = 6373083913928202424
@SiteCode802[String] = 6373083877551621804
@SiteCode803[String] = 6373083879921857377
@SiteCode804[String] = 6373083881542550067
@SiteCode805[String] = 6373083883689772886
@SiteCode806[String] = 6373083887136270013
@SiteCode807[String] = 6373083889697116488
@SiteCode808[String] = 6373083891969846476
@SiteCode809[String] = 6373083894422586761
@SiteCode810[String] = 6373083897509963358
@SiteCode811[String] = 6373083900444931227
@SiteCode812[String] = 6373083829464571372
@SiteCode813[String] = 6373083833327492328
@SiteCode814[String] = 6373083841964286321
@SiteCode815[String] = 6373083844982558950
@SiteCode816[String] = 6373083847585007801
@SiteCode817[String] = 6373083856887939900
@SiteCode818[String] = 6373083859102666584
@SiteCode819[String] = 6373083864919499284
@FDictionaryCode820[String] = OrderState
@FDictionaryCode821[String] = UrgentDegree
@FDictionaryCode822[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode821) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode822) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode820)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId793) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode794,@SiteCode795,@SiteCode796,@SiteCode797,@SiteCode798,@SiteCode799,@SiteCode800,@SiteCode801,@SiteCode802,@SiteCode803,@SiteCode804,@SiteCode805,@SiteCode806,@SiteCode807,@SiteCode808,@SiteCode809,@SiteCode810,@SiteCode811,@SiteCode812,@SiteCode813,@SiteCode814,@SiteCode815,@SiteCode816,@SiteCode817,@SiteCode818,@SiteCode819))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId793[String] = 6372912251695766465
@SiteCode794[String] = 6373083923489249281
@SiteCode795[String] = 6373083925531366080
@SiteCode796[String] = 6373083927883400612
@SiteCode797[String] = 6373083918575368225
@SiteCode798[String] = 6373083920445075162
@SiteCode799[String] = 6373083908618598731
@SiteCode800[String] = 6373083911842783146
@SiteCode801[String] = 6373083913928202424
@SiteCode802[String] = 6373083877551621804
@SiteCode803[String] = 6373083879921857377
@SiteCode804[String] = 6373083881542550067
@SiteCode805[String] = 6373083883689772886
@SiteCode806[String] = 6373083887136270013
@SiteCode807[String] = 6373083889697116488
@SiteCode808[String] = 6373083891969846476
@SiteCode809[String] = 6373083894422586761
@SiteCode810[String] = 6373083897509963358
@SiteCode811[String] = 6373083900444931227
@SiteCode812[String] = 6373083829464571372
@SiteCode813[String] = 6373083833327492328
@SiteCode814[String] = 6373083841964286321
@SiteCode815[String] = 6373083844982558950
@SiteCode816[String] = 6373083847585007801
@SiteCode817[String] = 6373083856887939900
@SiteCode818[String] = 6373083859102666584
@SiteCode819[String] = 6373083864919499284
@FDictionaryCode820[String] = OrderState
@FDictionaryCode821[String] = UrgentDegree
@FDictionaryCode822[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:18:05
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:18:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:18:09
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId823) AND ([TbModelOrg].[SiteCode] IN (@SiteCode824))) 	
Parameters:
@ProjectId823[String] = 6372912251695766465
@SiteCode824[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:18:16
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm825,@MxGjBm826,@MxGjBm827,@MxGjBm828,@MxGjBm829) 	
Parameters:
@MxGjBm825[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm826[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm827[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm828[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm829[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:18:16
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode830,@ComponentCode831,@ComponentCode832,@ComponentCode833,@ComponentCode834)) AND ([TbModelOtherInfo].[Type] = @Type835) 	
Parameters:
@ComponentCode830[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode831[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode832[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode833[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode834[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type835[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:18:18
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId836,@MxGjId837,@MxGjId838,@MxGjId839) 	
Parameters:
@MxGjId836[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId837[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId838[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId839[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:18:18
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode840,@ComponentCode841,@ComponentCode842,@ComponentCode843)) AND ([TbModelOtherInfo].[Type] = @Type844) 	
Parameters:
@ComponentCode840[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode841[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode842[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode843[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type844[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type845) AND ([TbOrganizationMap].[ProjectId] = @ProjectId846)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode847,@CompanyCode848,@CompanyCode849,@CompanyCode850,@CompanyCode851,@CompanyCode852,@CompanyCode853,@CompanyCode854)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode855))) 	
Parameters:
@Type845[Int32] = 1
@ProjectId846[String] = 6372912251695766465
@CompanyCode847[String] = 6373083923489249281
@CompanyCode848[String] = 6373083925531366080
@CompanyCode849[String] = 6373083927883400612
@CompanyCode850[String] = 6373083918575368225
@CompanyCode851[String] = 6373083920445075162
@CompanyCode852[String] = 6373083908618598731
@CompanyCode853[String] = 6373083911842783146
@CompanyCode854[String] = 6373083913928202424
@ParentCompanyCode855[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type856) AND ([TbOrganizationMap].[ProjectId] = @ProjectId857)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode858,@CompanyCode859,@CompanyCode860,@CompanyCode861,@CompanyCode862,@CompanyCode863,@CompanyCode864,@CompanyCode865)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode866))) 	
Parameters:
@Type856[Int32] = 2
@ProjectId857[String] = 6372912251695766465
@CompanyCode858[String] = 6373083923489249281
@CompanyCode859[String] = 6373083925531366080
@CompanyCode860[String] = 6373083927883400612
@CompanyCode861[String] = 6373083918575368225
@CompanyCode862[String] = 6373083920445075162
@CompanyCode863[String] = 6373083908618598731
@CompanyCode864[String] = 6373083911842783146
@CompanyCode865[String] = 6373083913928202424
@ParentCompanyCode866[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode894)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId867) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode868,@SiteCode869,@SiteCode870,@SiteCode871,@SiteCode872,@SiteCode873,@SiteCode874,@SiteCode875,@SiteCode876,@SiteCode877,@SiteCode878,@SiteCode879,@SiteCode880,@SiteCode881,@SiteCode882,@SiteCode883,@SiteCode884,@SiteCode885,@SiteCode886,@SiteCode887,@SiteCode888,@SiteCode889,@SiteCode890,@SiteCode891,@SiteCode892,@SiteCode893)))	
Parameters:
@ProjectId867[String] = 6372912251695766465
@SiteCode868[String] = 6373083923489249281
@SiteCode869[String] = 6373083925531366080
@SiteCode870[String] = 6373083927883400612
@SiteCode871[String] = 6373083918575368225
@SiteCode872[String] = 6373083920445075162
@SiteCode873[String] = 6373083908618598731
@SiteCode874[String] = 6373083911842783146
@SiteCode875[String] = 6373083913928202424
@SiteCode876[String] = 6373083877551621804
@SiteCode877[String] = 6373083879921857377
@SiteCode878[String] = 6373083881542550067
@SiteCode879[String] = 6373083883689772886
@SiteCode880[String] = 6373083887136270013
@SiteCode881[String] = 6373083889697116488
@SiteCode882[String] = 6373083891969846476
@SiteCode883[String] = 6373083894422586761
@SiteCode884[String] = 6373083897509963358
@SiteCode885[String] = 6373083900444931227
@SiteCode886[String] = 6373083829464571372
@SiteCode887[String] = 6373083833327492328
@SiteCode888[String] = 6373083841964286321
@SiteCode889[String] = 6373083844982558950
@SiteCode890[String] = 6373083847585007801
@SiteCode891[String] = 6373083856887939900
@SiteCode892[String] = 6373083859102666584
@SiteCode893[String] = 6373083864919499284
@FDictionaryCode894[String] = OrderState
@FDictionaryCode895[String] = UrgentDegree
@FDictionaryCode896[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:20:13
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode895) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode896) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode894)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId867) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode868,@SiteCode869,@SiteCode870,@SiteCode871,@SiteCode872,@SiteCode873,@SiteCode874,@SiteCode875,@SiteCode876,@SiteCode877,@SiteCode878,@SiteCode879,@SiteCode880,@SiteCode881,@SiteCode882,@SiteCode883,@SiteCode884,@SiteCode885,@SiteCode886,@SiteCode887,@SiteCode888,@SiteCode889,@SiteCode890,@SiteCode891,@SiteCode892,@SiteCode893))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId867[String] = 6372912251695766465
@SiteCode868[String] = 6373083923489249281
@SiteCode869[String] = 6373083925531366080
@SiteCode870[String] = 6373083927883400612
@SiteCode871[String] = 6373083918575368225
@SiteCode872[String] = 6373083920445075162
@SiteCode873[String] = 6373083908618598731
@SiteCode874[String] = 6373083911842783146
@SiteCode875[String] = 6373083913928202424
@SiteCode876[String] = 6373083877551621804
@SiteCode877[String] = 6373083879921857377
@SiteCode878[String] = 6373083881542550067
@SiteCode879[String] = 6373083883689772886
@SiteCode880[String] = 6373083887136270013
@SiteCode881[String] = 6373083889697116488
@SiteCode882[String] = 6373083891969846476
@SiteCode883[String] = 6373083894422586761
@SiteCode884[String] = 6373083897509963358
@SiteCode885[String] = 6373083900444931227
@SiteCode886[String] = 6373083829464571372
@SiteCode887[String] = 6373083833327492328
@SiteCode888[String] = 6373083841964286321
@SiteCode889[String] = 6373083844982558950
@SiteCode890[String] = 6373083847585007801
@SiteCode891[String] = 6373083856887939900
@SiteCode892[String] = 6373083859102666584
@SiteCode893[String] = 6373083864919499284
@FDictionaryCode894[String] = OrderState
@FDictionaryCode895[String] = UrgentDegree
@FDictionaryCode896[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:20:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:20:14
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:20:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:20:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:20:18
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:20:18
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId897) AND ([TbModelOrg].[SiteCode] IN (@SiteCode898))) 	
Parameters:
@ProjectId897[String] = 6372912251695766465
@SiteCode898[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:20:24
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm899,@MxGjBm900,@MxGjBm901,@MxGjBm902,@MxGjBm903) 	
Parameters:
@MxGjBm899[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm900[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm901[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm902[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm903[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:20:24
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode904,@ComponentCode905,@ComponentCode906,@ComponentCode907,@ComponentCode908)) AND ([TbModelOtherInfo].[Type] = @Type909) 	
Parameters:
@ComponentCode904[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode905[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode906[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode907[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode908[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type909[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:20:26
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId910,@MxGjId911,@MxGjId912,@MxGjId913) 	
Parameters:
@MxGjId910[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId911[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId912[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId913[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:20:26
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode914,@ComponentCode915,@ComponentCode916,@ComponentCode917)) AND ([TbModelOtherInfo].[Type] = @Type918) 	
Parameters:
@ComponentCode914[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode915[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode916[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode917[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type918[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:23:12
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type919) AND ([TbOrganizationMap].[ProjectId] = @ProjectId920)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode921,@CompanyCode922,@CompanyCode923,@CompanyCode924,@CompanyCode925,@CompanyCode926,@CompanyCode927,@CompanyCode928)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode929))) 	
Parameters:
@Type919[Int32] = 1
@ProjectId920[String] = 6372912251695766465
@CompanyCode921[String] = 6373083923489249281
@CompanyCode922[String] = 6373083925531366080
@CompanyCode923[String] = 6373083927883400612
@CompanyCode924[String] = 6373083918575368225
@CompanyCode925[String] = 6373083920445075162
@CompanyCode926[String] = 6373083908618598731
@CompanyCode927[String] = 6373083911842783146
@CompanyCode928[String] = 6373083913928202424
@ParentCompanyCode929[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type930) AND ([TbOrganizationMap].[ProjectId] = @ProjectId931)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode932,@CompanyCode933,@CompanyCode934,@CompanyCode935,@CompanyCode936,@CompanyCode937,@CompanyCode938,@CompanyCode939)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode940))) 	
Parameters:
@Type930[Int32] = 2
@ProjectId931[String] = 6372912251695766465
@CompanyCode932[String] = 6373083923489249281
@CompanyCode933[String] = 6373083925531366080
@CompanyCode934[String] = 6373083927883400612
@CompanyCode935[String] = 6373083918575368225
@CompanyCode936[String] = 6373083920445075162
@CompanyCode937[String] = 6373083908618598731
@CompanyCode938[String] = 6373083911842783146
@CompanyCode939[String] = 6373083913928202424
@ParentCompanyCode940[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode968)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId941) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode942,@SiteCode943,@SiteCode944,@SiteCode945,@SiteCode946,@SiteCode947,@SiteCode948,@SiteCode949,@SiteCode950,@SiteCode951,@SiteCode952,@SiteCode953,@SiteCode954,@SiteCode955,@SiteCode956,@SiteCode957,@SiteCode958,@SiteCode959,@SiteCode960,@SiteCode961,@SiteCode962,@SiteCode963,@SiteCode964,@SiteCode965,@SiteCode966,@SiteCode967)))	
Parameters:
@ProjectId941[String] = 6372912251695766465
@SiteCode942[String] = 6373083923489249281
@SiteCode943[String] = 6373083925531366080
@SiteCode944[String] = 6373083927883400612
@SiteCode945[String] = 6373083918575368225
@SiteCode946[String] = 6373083920445075162
@SiteCode947[String] = 6373083908618598731
@SiteCode948[String] = 6373083911842783146
@SiteCode949[String] = 6373083913928202424
@SiteCode950[String] = 6373083877551621804
@SiteCode951[String] = 6373083879921857377
@SiteCode952[String] = 6373083881542550067
@SiteCode953[String] = 6373083883689772886
@SiteCode954[String] = 6373083887136270013
@SiteCode955[String] = 6373083889697116488
@SiteCode956[String] = 6373083891969846476
@SiteCode957[String] = 6373083894422586761
@SiteCode958[String] = 6373083897509963358
@SiteCode959[String] = 6373083900444931227
@SiteCode960[String] = 6373083829464571372
@SiteCode961[String] = 6373083833327492328
@SiteCode962[String] = 6373083841964286321
@SiteCode963[String] = 6373083844982558950
@SiteCode964[String] = 6373083847585007801
@SiteCode965[String] = 6373083856887939900
@SiteCode966[String] = 6373083859102666584
@SiteCode967[String] = 6373083864919499284
@FDictionaryCode968[String] = OrderState
@FDictionaryCode969[String] = UrgentDegree
@FDictionaryCode970[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:25:04
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode969) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode970) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode968)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId941) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode942,@SiteCode943,@SiteCode944,@SiteCode945,@SiteCode946,@SiteCode947,@SiteCode948,@SiteCode949,@SiteCode950,@SiteCode951,@SiteCode952,@SiteCode953,@SiteCode954,@SiteCode955,@SiteCode956,@SiteCode957,@SiteCode958,@SiteCode959,@SiteCode960,@SiteCode961,@SiteCode962,@SiteCode963,@SiteCode964,@SiteCode965,@SiteCode966,@SiteCode967))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId941[String] = 6372912251695766465
@SiteCode942[String] = 6373083923489249281
@SiteCode943[String] = 6373083925531366080
@SiteCode944[String] = 6373083927883400612
@SiteCode945[String] = 6373083918575368225
@SiteCode946[String] = 6373083920445075162
@SiteCode947[String] = 6373083908618598731
@SiteCode948[String] = 6373083911842783146
@SiteCode949[String] = 6373083913928202424
@SiteCode950[String] = 6373083877551621804
@SiteCode951[String] = 6373083879921857377
@SiteCode952[String] = 6373083881542550067
@SiteCode953[String] = 6373083883689772886
@SiteCode954[String] = 6373083887136270013
@SiteCode955[String] = 6373083889697116488
@SiteCode956[String] = 6373083891969846476
@SiteCode957[String] = 6373083894422586761
@SiteCode958[String] = 6373083897509963358
@SiteCode959[String] = 6373083900444931227
@SiteCode960[String] = 6373083829464571372
@SiteCode961[String] = 6373083833327492328
@SiteCode962[String] = 6373083841964286321
@SiteCode963[String] = 6373083844982558950
@SiteCode964[String] = 6373083847585007801
@SiteCode965[String] = 6373083856887939900
@SiteCode966[String] = 6373083859102666584
@SiteCode967[String] = 6373083864919499284
@FDictionaryCode968[String] = OrderState
@FDictionaryCode969[String] = UrgentDegree
@FDictionaryCode970[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:25:05
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:25:05
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:25:05
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:25:05
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:25:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:25:08
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId971) AND ([TbModelOrg].[SiteCode] IN (@SiteCode972))) 	
Parameters:
@ProjectId971[String] = 6372912251695766465
@SiteCode972[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:25:15
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm973,@MxGjBm974,@MxGjBm975,@MxGjBm976,@MxGjBm977) 	
Parameters:
@MxGjBm973[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm974[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm975[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm976[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm977[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:25:15
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode978,@ComponentCode979,@ComponentCode980,@ComponentCode981,@ComponentCode982)) AND ([TbModelOtherInfo].[Type] = @Type983) 	
Parameters:
@ComponentCode978[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode979[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode980[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode981[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode982[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type983[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:25:18
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId984,@MxGjId985,@MxGjId986,@MxGjId987) 	
Parameters:
@MxGjId984[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId985[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId986[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId987[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:25:18
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode988,@ComponentCode989,@ComponentCode990,@ComponentCode991)) AND ([TbModelOtherInfo].[Type] = @Type992) 	
Parameters:
@ComponentCode988[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode989[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode990[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode991[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type992[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:26:59
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:26:59
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:26:59
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type993) AND ([TbOrganizationMap].[ProjectId] = @ProjectId994)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode995,@CompanyCode996,@CompanyCode997,@CompanyCode998,@CompanyCode999,@CompanyCode1000,@CompanyCode1001,@CompanyCode1002)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1003))) 	
Parameters:
@Type993[Int32] = 1
@ProjectId994[String] = 6372912251695766465
@CompanyCode995[String] = 6373083923489249281
@CompanyCode996[String] = 6373083925531366080
@CompanyCode997[String] = 6373083927883400612
@CompanyCode998[String] = 6373083918575368225
@CompanyCode999[String] = 6373083920445075162
@CompanyCode1000[String] = 6373083908618598731
@CompanyCode1001[String] = 6373083911842783146
@CompanyCode1002[String] = 6373083913928202424
@ParentCompanyCode1003[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1004) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1005)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1006,@CompanyCode1007,@CompanyCode1008,@CompanyCode1009,@CompanyCode1010,@CompanyCode1011,@CompanyCode1012,@CompanyCode1013)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1014))) 	
Parameters:
@Type1004[Int32] = 2
@ProjectId1005[String] = 6372912251695766465
@CompanyCode1006[String] = 6373083923489249281
@CompanyCode1007[String] = 6373083925531366080
@CompanyCode1008[String] = 6373083927883400612
@CompanyCode1009[String] = 6373083918575368225
@CompanyCode1010[String] = 6373083920445075162
@CompanyCode1011[String] = 6373083908618598731
@CompanyCode1012[String] = 6373083911842783146
@CompanyCode1013[String] = 6373083913928202424
@ParentCompanyCode1014[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1042)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1015) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1016,@SiteCode1017,@SiteCode1018,@SiteCode1019,@SiteCode1020,@SiteCode1021,@SiteCode1022,@SiteCode1023,@SiteCode1024,@SiteCode1025,@SiteCode1026,@SiteCode1027,@SiteCode1028,@SiteCode1029,@SiteCode1030,@SiteCode1031,@SiteCode1032,@SiteCode1033,@SiteCode1034,@SiteCode1035,@SiteCode1036,@SiteCode1037,@SiteCode1038,@SiteCode1039,@SiteCode1040,@SiteCode1041)))	
Parameters:
@ProjectId1015[String] = 6372912251695766465
@SiteCode1016[String] = 6373083923489249281
@SiteCode1017[String] = 6373083925531366080
@SiteCode1018[String] = 6373083927883400612
@SiteCode1019[String] = 6373083918575368225
@SiteCode1020[String] = 6373083920445075162
@SiteCode1021[String] = 6373083908618598731
@SiteCode1022[String] = 6373083911842783146
@SiteCode1023[String] = 6373083913928202424
@SiteCode1024[String] = 6373083877551621804
@SiteCode1025[String] = 6373083879921857377
@SiteCode1026[String] = 6373083881542550067
@SiteCode1027[String] = 6373083883689772886
@SiteCode1028[String] = 6373083887136270013
@SiteCode1029[String] = 6373083889697116488
@SiteCode1030[String] = 6373083891969846476
@SiteCode1031[String] = 6373083894422586761
@SiteCode1032[String] = 6373083897509963358
@SiteCode1033[String] = 6373083900444931227
@SiteCode1034[String] = 6373083829464571372
@SiteCode1035[String] = 6373083833327492328
@SiteCode1036[String] = 6373083841964286321
@SiteCode1037[String] = 6373083844982558950
@SiteCode1038[String] = 6373083847585007801
@SiteCode1039[String] = 6373083856887939900
@SiteCode1040[String] = 6373083859102666584
@SiteCode1041[String] = 6373083864919499284
@FDictionaryCode1042[String] = OrderState
@FDictionaryCode1043[String] = UrgentDegree
@FDictionaryCode1044[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1043) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1044) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1042)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1015) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1016,@SiteCode1017,@SiteCode1018,@SiteCode1019,@SiteCode1020,@SiteCode1021,@SiteCode1022,@SiteCode1023,@SiteCode1024,@SiteCode1025,@SiteCode1026,@SiteCode1027,@SiteCode1028,@SiteCode1029,@SiteCode1030,@SiteCode1031,@SiteCode1032,@SiteCode1033,@SiteCode1034,@SiteCode1035,@SiteCode1036,@SiteCode1037,@SiteCode1038,@SiteCode1039,@SiteCode1040,@SiteCode1041))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1015[String] = 6372912251695766465
@SiteCode1016[String] = 6373083923489249281
@SiteCode1017[String] = 6373083925531366080
@SiteCode1018[String] = 6373083927883400612
@SiteCode1019[String] = 6373083918575368225
@SiteCode1020[String] = 6373083920445075162
@SiteCode1021[String] = 6373083908618598731
@SiteCode1022[String] = 6373083911842783146
@SiteCode1023[String] = 6373083913928202424
@SiteCode1024[String] = 6373083877551621804
@SiteCode1025[String] = 6373083879921857377
@SiteCode1026[String] = 6373083881542550067
@SiteCode1027[String] = 6373083883689772886
@SiteCode1028[String] = 6373083887136270013
@SiteCode1029[String] = 6373083889697116488
@SiteCode1030[String] = 6373083891969846476
@SiteCode1031[String] = 6373083894422586761
@SiteCode1032[String] = 6373083897509963358
@SiteCode1033[String] = 6373083900444931227
@SiteCode1034[String] = 6373083829464571372
@SiteCode1035[String] = 6373083833327492328
@SiteCode1036[String] = 6373083841964286321
@SiteCode1037[String] = 6373083844982558950
@SiteCode1038[String] = 6373083847585007801
@SiteCode1039[String] = 6373083856887939900
@SiteCode1040[String] = 6373083859102666584
@SiteCode1041[String] = 6373083864919499284
@FDictionaryCode1042[String] = OrderState
@FDictionaryCode1043[String] = UrgentDegree
@FDictionaryCode1044[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:27:00
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:27:06
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:27:06
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1045) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1046))) 	
Parameters:
@ProjectId1045[String] = 6372912251695766465
@SiteCode1046[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:29:58
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:30:10
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1047,@MxGjBm1048,@MxGjBm1049,@MxGjBm1050,@MxGjBm1051) 	
Parameters:
@MxGjBm1047[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1048[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1049[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1050[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1051[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:30:10
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1052,@ComponentCode1053,@ComponentCode1054,@ComponentCode1055,@ComponentCode1056)) AND ([TbModelOtherInfo].[Type] = @Type1057) 	
Parameters:
@ComponentCode1052[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1053[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1054[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1055[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1056[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1057[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:30:23
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1058,@MxGjId1059,@MxGjId1060,@MxGjId1061) 	
Parameters:
@MxGjId1058[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1059[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1060[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1061[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:30:23
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1062,@ComponentCode1063,@ComponentCode1064,@ComponentCode1065)) AND ([TbModelOtherInfo].[Type] = @Type1066) 	
Parameters:
@ComponentCode1062[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1063[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1064[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1065[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1066[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:31:43
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:31:43
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:31:43
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1067) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1068)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1069,@CompanyCode1070,@CompanyCode1071,@CompanyCode1072,@CompanyCode1073,@CompanyCode1074,@CompanyCode1075,@CompanyCode1076)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1077))) 	
Parameters:
@Type1067[Int32] = 1
@ProjectId1068[String] = 6372912251695766465
@CompanyCode1069[String] = 6373083923489249281
@CompanyCode1070[String] = 6373083925531366080
@CompanyCode1071[String] = 6373083927883400612
@CompanyCode1072[String] = 6373083918575368225
@CompanyCode1073[String] = 6373083920445075162
@CompanyCode1074[String] = 6373083908618598731
@CompanyCode1075[String] = 6373083911842783146
@CompanyCode1076[String] = 6373083913928202424
@ParentCompanyCode1077[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1078) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1079)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1080,@CompanyCode1081,@CompanyCode1082,@CompanyCode1083,@CompanyCode1084,@CompanyCode1085,@CompanyCode1086,@CompanyCode1087)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1088))) 	
Parameters:
@Type1078[Int32] = 2
@ProjectId1079[String] = 6372912251695766465
@CompanyCode1080[String] = 6373083923489249281
@CompanyCode1081[String] = 6373083925531366080
@CompanyCode1082[String] = 6373083927883400612
@CompanyCode1083[String] = 6373083918575368225
@CompanyCode1084[String] = 6373083920445075162
@CompanyCode1085[String] = 6373083908618598731
@CompanyCode1086[String] = 6373083911842783146
@CompanyCode1087[String] = 6373083913928202424
@ParentCompanyCode1088[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1116)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1089) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1090,@SiteCode1091,@SiteCode1092,@SiteCode1093,@SiteCode1094,@SiteCode1095,@SiteCode1096,@SiteCode1097,@SiteCode1098,@SiteCode1099,@SiteCode1100,@SiteCode1101,@SiteCode1102,@SiteCode1103,@SiteCode1104,@SiteCode1105,@SiteCode1106,@SiteCode1107,@SiteCode1108,@SiteCode1109,@SiteCode1110,@SiteCode1111,@SiteCode1112,@SiteCode1113,@SiteCode1114,@SiteCode1115)))	
Parameters:
@ProjectId1089[String] = 6372912251695766465
@SiteCode1090[String] = 6373083923489249281
@SiteCode1091[String] = 6373083925531366080
@SiteCode1092[String] = 6373083927883400612
@SiteCode1093[String] = 6373083918575368225
@SiteCode1094[String] = 6373083920445075162
@SiteCode1095[String] = 6373083908618598731
@SiteCode1096[String] = 6373083911842783146
@SiteCode1097[String] = 6373083913928202424
@SiteCode1098[String] = 6373083877551621804
@SiteCode1099[String] = 6373083879921857377
@SiteCode1100[String] = 6373083881542550067
@SiteCode1101[String] = 6373083883689772886
@SiteCode1102[String] = 6373083887136270013
@SiteCode1103[String] = 6373083889697116488
@SiteCode1104[String] = 6373083891969846476
@SiteCode1105[String] = 6373083894422586761
@SiteCode1106[String] = 6373083897509963358
@SiteCode1107[String] = 6373083900444931227
@SiteCode1108[String] = 6373083829464571372
@SiteCode1109[String] = 6373083833327492328
@SiteCode1110[String] = 6373083841964286321
@SiteCode1111[String] = 6373083844982558950
@SiteCode1112[String] = 6373083847585007801
@SiteCode1113[String] = 6373083856887939900
@SiteCode1114[String] = 6373083859102666584
@SiteCode1115[String] = 6373083864919499284
@FDictionaryCode1116[String] = OrderState
@FDictionaryCode1117[String] = UrgentDegree
@FDictionaryCode1118[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1117) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1118) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1116)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1089) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1090,@SiteCode1091,@SiteCode1092,@SiteCode1093,@SiteCode1094,@SiteCode1095,@SiteCode1096,@SiteCode1097,@SiteCode1098,@SiteCode1099,@SiteCode1100,@SiteCode1101,@SiteCode1102,@SiteCode1103,@SiteCode1104,@SiteCode1105,@SiteCode1106,@SiteCode1107,@SiteCode1108,@SiteCode1109,@SiteCode1110,@SiteCode1111,@SiteCode1112,@SiteCode1113,@SiteCode1114,@SiteCode1115))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1089[String] = 6372912251695766465
@SiteCode1090[String] = 6373083923489249281
@SiteCode1091[String] = 6373083925531366080
@SiteCode1092[String] = 6373083927883400612
@SiteCode1093[String] = 6373083918575368225
@SiteCode1094[String] = 6373083920445075162
@SiteCode1095[String] = 6373083908618598731
@SiteCode1096[String] = 6373083911842783146
@SiteCode1097[String] = 6373083913928202424
@SiteCode1098[String] = 6373083877551621804
@SiteCode1099[String] = 6373083879921857377
@SiteCode1100[String] = 6373083881542550067
@SiteCode1101[String] = 6373083883689772886
@SiteCode1102[String] = 6373083887136270013
@SiteCode1103[String] = 6373083889697116488
@SiteCode1104[String] = 6373083891969846476
@SiteCode1105[String] = 6373083894422586761
@SiteCode1106[String] = 6373083897509963358
@SiteCode1107[String] = 6373083900444931227
@SiteCode1108[String] = 6373083829464571372
@SiteCode1109[String] = 6373083833327492328
@SiteCode1110[String] = 6373083841964286321
@SiteCode1111[String] = 6373083844982558950
@SiteCode1112[String] = 6373083847585007801
@SiteCode1113[String] = 6373083856887939900
@SiteCode1114[String] = 6373083859102666584
@SiteCode1115[String] = 6373083864919499284
@FDictionaryCode1116[String] = OrderState
@FDictionaryCode1117[String] = UrgentDegree
@FDictionaryCode1118[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:31:44
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:31:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:31:48
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1119) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1120))) 	
Parameters:
@ProjectId1119[String] = 6372912251695766465
@SiteCode1120[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:31:57
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1121,@MxGjBm1122,@MxGjBm1123,@MxGjBm1124,@MxGjBm1125) 	
Parameters:
@MxGjBm1121[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1122[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1123[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1124[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1125[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:31:57
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1126,@ComponentCode1127,@ComponentCode1128,@ComponentCode1129,@ComponentCode1130)) AND ([TbModelOtherInfo].[Type] = @Type1131) 	
Parameters:
@ComponentCode1126[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1127[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1128[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1129[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1130[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1131[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:32:00
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1132,@MxGjId1133,@MxGjId1134,@MxGjId1135) 	
Parameters:
@MxGjId1132[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1133[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1134[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1135[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:32:00
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1136,@ComponentCode1137,@ComponentCode1138,@ComponentCode1139)) AND ([TbModelOtherInfo].[Type] = @Type1140) 	
Parameters:
@ComponentCode1136[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1137[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1138[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1139[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1140[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:34:05
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:34:05
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:34:05
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:34:06
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:34:06
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3,@CompanyCode4,@CompanyCode5,@CompanyCode6,@CompanyCode7,@CompanyCode8,@CompanyCode9,@CompanyCode10)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode11))) 	
Parameters:
@Type1[Int32] = 1
@ProjectId2[String] = 6372912251695766465
@CompanyCode3[String] = 6373083923489249281
@CompanyCode4[String] = 6373083925531366080
@CompanyCode5[String] = 6373083927883400612
@CompanyCode6[String] = 6373083918575368225
@CompanyCode7[String] = 6373083920445075162
@CompanyCode8[String] = 6373083908618598731
@CompanyCode9[String] = 6373083911842783146
@CompanyCode10[String] = 6373083913928202424
@ParentCompanyCode11[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:34:06
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:34:06
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type12) AND ([TbOrganizationMap].[ProjectId] = @ProjectId13)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode22))) 	
Parameters:
@Type12[Int32] = 2
@ProjectId13[String] = 6372912251695766465
@CompanyCode14[String] = 6373083923489249281
@CompanyCode15[String] = 6373083925531366080
@CompanyCode16[String] = 6373083927883400612
@CompanyCode17[String] = 6373083918575368225
@CompanyCode18[String] = 6373083920445075162
@CompanyCode19[String] = 6373083908618598731
@CompanyCode20[String] = 6373083911842783146
@CompanyCode21[String] = 6373083913928202424
@ParentCompanyCode22[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:34:06
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:34:06
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:34:06
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:34:06
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49)))	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:34:06
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode51) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode52) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:34:07
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:34:07
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:34:07
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:34:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:34:11
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId53) AND ([TbModelOrg].[SiteCode] IN (@SiteCode54))) 	
Parameters:
@ProjectId53[String] = 6372912251695766465
@SiteCode54[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:34:18
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm55,@MxGjBm56,@MxGjBm57,@MxGjBm58,@MxGjBm59) 	
Parameters:
@MxGjBm55[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm56[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm57[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm58[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm59[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:34:18
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode60,@ComponentCode61,@ComponentCode62,@ComponentCode63,@ComponentCode64)) AND ([TbModelOtherInfo].[Type] = @Type65) 	
Parameters:
@ComponentCode60[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode61[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode62[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode63[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode64[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type65[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:34:21
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId66,@MxGjId67,@MxGjId68,@MxGjId69) 	
Parameters:
@MxGjId66[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId67[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId68[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId69[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:34:21
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode70,@ComponentCode71,@ComponentCode72,@ComponentCode73)) AND ([TbModelOtherInfo].[Type] = @Type74) 	
Parameters:
@ComponentCode70[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode71[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode72[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode73[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type74[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:37:47
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:40:04
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:40:39
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:40:39
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:40:39
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type75) AND ([TbOrganizationMap].[ProjectId] = @ProjectId76)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode77,@CompanyCode78,@CompanyCode79,@CompanyCode80,@CompanyCode81,@CompanyCode82,@CompanyCode83,@CompanyCode84)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode85))) 	
Parameters:
@Type75[Int32] = 1
@ProjectId76[String] = 6372912251695766465
@CompanyCode77[String] = 6373083923489249281
@CompanyCode78[String] = 6373083925531366080
@CompanyCode79[String] = 6373083927883400612
@CompanyCode80[String] = 6373083918575368225
@CompanyCode81[String] = 6373083920445075162
@CompanyCode82[String] = 6373083908618598731
@CompanyCode83[String] = 6373083911842783146
@CompanyCode84[String] = 6373083913928202424
@ParentCompanyCode85[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type86) AND ([TbOrganizationMap].[ProjectId] = @ProjectId87)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode88,@CompanyCode89,@CompanyCode90,@CompanyCode91,@CompanyCode92,@CompanyCode93,@CompanyCode94,@CompanyCode95)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode96))) 	
Parameters:
@Type86[Int32] = 2
@ProjectId87[String] = 6372912251695766465
@CompanyCode88[String] = 6373083923489249281
@CompanyCode89[String] = 6373083925531366080
@CompanyCode90[String] = 6373083927883400612
@CompanyCode91[String] = 6373083918575368225
@CompanyCode92[String] = 6373083920445075162
@CompanyCode93[String] = 6373083908618598731
@CompanyCode94[String] = 6373083911842783146
@CompanyCode95[String] = 6373083913928202424
@ParentCompanyCode96[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode124)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId97) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123)))	
Parameters:
@ProjectId97[String] = 6372912251695766465
@SiteCode98[String] = 6373083923489249281
@SiteCode99[String] = 6373083925531366080
@SiteCode100[String] = 6373083927883400612
@SiteCode101[String] = 6373083918575368225
@SiteCode102[String] = 6373083920445075162
@SiteCode103[String] = 6373083908618598731
@SiteCode104[String] = 6373083911842783146
@SiteCode105[String] = 6373083913928202424
@SiteCode106[String] = 6373083877551621804
@SiteCode107[String] = 6373083879921857377
@SiteCode108[String] = 6373083881542550067
@SiteCode109[String] = 6373083883689772886
@SiteCode110[String] = 6373083887136270013
@SiteCode111[String] = 6373083889697116488
@SiteCode112[String] = 6373083891969846476
@SiteCode113[String] = 6373083894422586761
@SiteCode114[String] = 6373083897509963358
@SiteCode115[String] = 6373083900444931227
@SiteCode116[String] = 6373083829464571372
@SiteCode117[String] = 6373083833327492328
@SiteCode118[String] = 6373083841964286321
@SiteCode119[String] = 6373083844982558950
@SiteCode120[String] = 6373083847585007801
@SiteCode121[String] = 6373083856887939900
@SiteCode122[String] = 6373083859102666584
@SiteCode123[String] = 6373083864919499284
@FDictionaryCode124[String] = OrderState
@FDictionaryCode125[String] = UrgentDegree
@FDictionaryCode126[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode125) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode126) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode124)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId97) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId97[String] = 6372912251695766465
@SiteCode98[String] = 6373083923489249281
@SiteCode99[String] = 6373083925531366080
@SiteCode100[String] = 6373083927883400612
@SiteCode101[String] = 6373083918575368225
@SiteCode102[String] = 6373083920445075162
@SiteCode103[String] = 6373083908618598731
@SiteCode104[String] = 6373083911842783146
@SiteCode105[String] = 6373083913928202424
@SiteCode106[String] = 6373083877551621804
@SiteCode107[String] = 6373083879921857377
@SiteCode108[String] = 6373083881542550067
@SiteCode109[String] = 6373083883689772886
@SiteCode110[String] = 6373083887136270013
@SiteCode111[String] = 6373083889697116488
@SiteCode112[String] = 6373083891969846476
@SiteCode113[String] = 6373083894422586761
@SiteCode114[String] = 6373083897509963358
@SiteCode115[String] = 6373083900444931227
@SiteCode116[String] = 6373083829464571372
@SiteCode117[String] = 6373083833327492328
@SiteCode118[String] = 6373083841964286321
@SiteCode119[String] = 6373083844982558950
@SiteCode120[String] = 6373083847585007801
@SiteCode121[String] = 6373083856887939900
@SiteCode122[String] = 6373083859102666584
@SiteCode123[String] = 6373083864919499284
@FDictionaryCode124[String] = OrderState
@FDictionaryCode125[String] = UrgentDegree
@FDictionaryCode126[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:40:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:40:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:40:51
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId127) AND ([TbModelOrg].[SiteCode] IN (@SiteCode128))) 	
Parameters:
@ProjectId127[String] = 6372912251695766465
@SiteCode128[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:41:50
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm129,@MxGjBm130,@MxGjBm131,@MxGjBm132,@MxGjBm133) 	
Parameters:
@MxGjBm129[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm130[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm131[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm132[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm133[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:41:50
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode134,@ComponentCode135,@ComponentCode136,@ComponentCode137,@ComponentCode138)) AND ([TbModelOtherInfo].[Type] = @Type139) 	
Parameters:
@ComponentCode134[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode135[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode136[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode137[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode138[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type139[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:41:53
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId140,@MxGjId141,@MxGjId142,@MxGjId143) 	
Parameters:
@MxGjId140[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId141[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId142[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId143[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:41:53
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode144,@ComponentCode145,@ComponentCode146,@ComponentCode147)) AND ([TbModelOtherInfo].[Type] = @Type148) 	
Parameters:
@ComponentCode144[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode145[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode146[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode147[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type148[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:47:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:47:40
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 10:47:40
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 10:47:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:47:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:47:41
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type149) AND ([TbOrganizationMap].[ProjectId] = @ProjectId150)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode151,@CompanyCode152,@CompanyCode153,@CompanyCode154,@CompanyCode155,@CompanyCode156,@CompanyCode157,@CompanyCode158)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode159))) 	
Parameters:
@Type149[Int32] = 1
@ProjectId150[String] = 6372912251695766465
@CompanyCode151[String] = 6373083923489249281
@CompanyCode152[String] = 6373083925531366080
@CompanyCode153[String] = 6373083927883400612
@CompanyCode154[String] = 6373083918575368225
@CompanyCode155[String] = 6373083920445075162
@CompanyCode156[String] = 6373083908618598731
@CompanyCode157[String] = 6373083911842783146
@CompanyCode158[String] = 6373083913928202424
@ParentCompanyCode159[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:47:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:47:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type160) AND ([TbOrganizationMap].[ProjectId] = @ProjectId161)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode162,@CompanyCode163,@CompanyCode164,@CompanyCode165,@CompanyCode166,@CompanyCode167,@CompanyCode168,@CompanyCode169)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode170))) 	
Parameters:
@Type160[Int32] = 2
@ProjectId161[String] = 6372912251695766465
@CompanyCode162[String] = 6373083923489249281
@CompanyCode163[String] = 6373083925531366080
@CompanyCode164[String] = 6373083927883400612
@CompanyCode165[String] = 6373083918575368225
@CompanyCode166[String] = 6373083920445075162
@CompanyCode167[String] = 6373083908618598731
@CompanyCode168[String] = 6373083911842783146
@CompanyCode169[String] = 6373083913928202424
@ParentCompanyCode170[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 10:47:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 10:47:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:47:42
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode198)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId171) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197)))	
Parameters:
@ProjectId171[String] = 6372912251695766465
@SiteCode172[String] = 6373083923489249281
@SiteCode173[String] = 6373083925531366080
@SiteCode174[String] = 6373083927883400612
@SiteCode175[String] = 6373083918575368225
@SiteCode176[String] = 6373083920445075162
@SiteCode177[String] = 6373083908618598731
@SiteCode178[String] = 6373083911842783146
@SiteCode179[String] = 6373083913928202424
@SiteCode180[String] = 6373083877551621804
@SiteCode181[String] = 6373083879921857377
@SiteCode182[String] = 6373083881542550067
@SiteCode183[String] = 6373083883689772886
@SiteCode184[String] = 6373083887136270013
@SiteCode185[String] = 6373083889697116488
@SiteCode186[String] = 6373083891969846476
@SiteCode187[String] = 6373083894422586761
@SiteCode188[String] = 6373083897509963358
@SiteCode189[String] = 6373083900444931227
@SiteCode190[String] = 6373083829464571372
@SiteCode191[String] = 6373083833327492328
@SiteCode192[String] = 6373083841964286321
@SiteCode193[String] = 6373083844982558950
@SiteCode194[String] = 6373083847585007801
@SiteCode195[String] = 6373083856887939900
@SiteCode196[String] = 6373083859102666584
@SiteCode197[String] = 6373083864919499284
@FDictionaryCode198[String] = OrderState
@FDictionaryCode199[String] = UrgentDegree
@FDictionaryCode200[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:47:42
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode199) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode200) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode198)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId171) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId171[String] = 6372912251695766465
@SiteCode172[String] = 6373083923489249281
@SiteCode173[String] = 6373083925531366080
@SiteCode174[String] = 6373083927883400612
@SiteCode175[String] = 6373083918575368225
@SiteCode176[String] = 6373083920445075162
@SiteCode177[String] = 6373083908618598731
@SiteCode178[String] = 6373083911842783146
@SiteCode179[String] = 6373083913928202424
@SiteCode180[String] = 6373083877551621804
@SiteCode181[String] = 6373083879921857377
@SiteCode182[String] = 6373083881542550067
@SiteCode183[String] = 6373083883689772886
@SiteCode184[String] = 6373083887136270013
@SiteCode185[String] = 6373083889697116488
@SiteCode186[String] = 6373083891969846476
@SiteCode187[String] = 6373083894422586761
@SiteCode188[String] = 6373083897509963358
@SiteCode189[String] = 6373083900444931227
@SiteCode190[String] = 6373083829464571372
@SiteCode191[String] = 6373083833327492328
@SiteCode192[String] = 6373083841964286321
@SiteCode193[String] = 6373083844982558950
@SiteCode194[String] = 6373083847585007801
@SiteCode195[String] = 6373083856887939900
@SiteCode196[String] = 6373083859102666584
@SiteCode197[String] = 6373083864919499284
@FDictionaryCode198[String] = OrderState
@FDictionaryCode199[String] = UrgentDegree
@FDictionaryCode200[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 10:47:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 10:47:42
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 10:47:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 10:47:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 10:47:47
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 10:47:47
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId201) AND ([TbModelOrg].[SiteCode] IN (@SiteCode202))) 	
Parameters:
@ProjectId201[String] = 6372912251695766465
@SiteCode202[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 10:48:02
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm203,@MxGjBm204,@MxGjBm205,@MxGjBm206,@MxGjBm207) 	
Parameters:
@MxGjBm203[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm204[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm205[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm206[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm207[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 10:48:02
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode208,@ComponentCode209,@ComponentCode210,@ComponentCode211,@ComponentCode212)) AND ([TbModelOtherInfo].[Type] = @Type213) 	
Parameters:
@ComponentCode208[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode209[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode210[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode211[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode212[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type213[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 10:48:05
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId214,@MxGjId215,@MxGjId216,@MxGjId217) 	
Parameters:
@MxGjId214[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId215[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId216[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId217[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:48:05
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode218,@ComponentCode219,@ComponentCode220,@ComponentCode221)) AND ([TbModelOtherInfo].[Type] = @Type222) 	
Parameters:
@ComponentCode218[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode219[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode220[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode221[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type222[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:49:19
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId223) 	
Parameters:
@MxGjId223[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 10:49:19
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode224)) AND ([TbModelOtherInfo].[Type] = @Type225) 	
Parameters:
@ComponentCode224[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type225[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:49:21
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId226,@MxGjId227,@MxGjId228,@MxGjId229) 	
Parameters:
@MxGjId226[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId227[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId228[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId229[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:49:21
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode230,@ComponentCode231,@ComponentCode232,@ComponentCode233)) AND ([TbModelOtherInfo].[Type] = @Type234) 	
Parameters:
@ComponentCode230[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode231[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode232[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode233[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type234[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:49:28
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId235,@MxGjId236,@MxGjId237,@MxGjId238) 	
Parameters:
@MxGjId235[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId236[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId237[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId238[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:49:28
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode239,@ComponentCode240,@ComponentCode241,@ComponentCode242)) AND ([TbModelOtherInfo].[Type] = @Type243) 	
Parameters:
@ComponentCode239[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode240[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode241[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode242[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type243[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:49:35
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId244,@MxGjId245,@MxGjId246,@MxGjId247) 	
Parameters:
@MxGjId244[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId245[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId246[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId247[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:49:35
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode248,@ComponentCode249,@ComponentCode250,@ComponentCode251)) AND ([TbModelOtherInfo].[Type] = @Type252) 	
Parameters:
@ComponentCode248[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode249[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode250[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode251[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type252[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:50:02
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId253,@MxGjId254,@MxGjId255,@MxGjId256) 	
Parameters:
@MxGjId253[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId254[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId255[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId256[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:50:02
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode257,@ComponentCode258,@ComponentCode259,@ComponentCode260)) AND ([TbModelOtherInfo].[Type] = @Type261) 	
Parameters:
@ComponentCode257[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode258[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode259[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode260[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type261[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:50:07
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId262,@MxGjId263,@MxGjId264,@MxGjId265) 	
Parameters:
@MxGjId262[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId263[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId264[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId265[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:50:07
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode266,@ComponentCode267,@ComponentCode268,@ComponentCode269)) AND ([TbModelOtherInfo].[Type] = @Type270) 	
Parameters:
@ComponentCode266[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode267[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode268[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode269[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type270[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:50:20
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId271,@MxGjId272,@MxGjId273,@MxGjId274) 	
Parameters:
@MxGjId271[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId272[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId273[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId274[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:50:20
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode275,@ComponentCode276,@ComponentCode277,@ComponentCode278)) AND ([TbModelOtherInfo].[Type] = @Type279) 	
Parameters:
@ComponentCode275[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode276[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode277[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode278[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type279[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:50:27
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId280,@MxGjId281,@MxGjId282,@MxGjId283) 	
Parameters:
@MxGjId280[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId281[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId282[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId283[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:50:27
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode284,@ComponentCode285,@ComponentCode286,@ComponentCode287)) AND ([TbModelOtherInfo].[Type] = @Type288) 	
Parameters:
@ComponentCode284[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode285[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode286[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode287[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type288[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:50:29
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId289,@MxGjId290,@MxGjId291,@MxGjId292) 	
Parameters:
@MxGjId289[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId290[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId291[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId292[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 10:50:29
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode293,@ComponentCode294,@ComponentCode295,@ComponentCode296)) AND ([TbModelOtherInfo].[Type] = @Type297) 	
Parameters:
@ComponentCode293[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode294[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode295[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode296[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type297[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 10:50:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:53:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:56:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 10:59:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:02:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:05:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:08:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:11:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:14:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:17:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:20:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6487716734823440384
@ProjectId[String] = 6245721945602523136


-----------------------------------------------------------------------------
2020-08-12 11:23:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6487716734823440384
@ProjectId[String] = 6245721945602523136


-----------------------------------------------------------------------------
2020-08-12 11:26:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6487716734823440384
@ProjectId[String] = 6245721945602523136


-----------------------------------------------------------------------------
2020-08-12 11:29:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6487716734823440384
@ProjectId[String] = 6245721945602523136


-----------------------------------------------------------------------------
2020-08-12 11:32:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6487716734823440384
@ProjectId[String] = 6245721945602523136


-----------------------------------------------------------------------------
2020-08-12 11:35:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6487716734823440384
@ProjectId[String] = 6245721945602523136


-----------------------------------------------------------------------------
2020-08-12 11:38:13
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6337324142387400704') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 11:38:13
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6487716734823440384


-----------------------------------------------------------------------------
2020-08-12 11:38:13
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6487716734823440384
@ProjectId[String] = 6245721945602523136


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type298) AND ([TbOrganizationMap].[ProjectId] = @ProjectId299)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode300,@CompanyCode301,@CompanyCode302,@CompanyCode303,@CompanyCode304,@CompanyCode305,@CompanyCode306,@CompanyCode307)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode308))) 	
Parameters:
@Type298[Int32] = 1
@ProjectId299[String] = 6245721945602523136
@CompanyCode300[String] = 6373083923489249281
@CompanyCode301[String] = 6373083925531366080
@CompanyCode302[String] = 6373083927883400612
@CompanyCode303[String] = 6373083918575368225
@CompanyCode304[String] = 6373083920445075162
@CompanyCode305[String] = 6373083908618598731
@CompanyCode306[String] = 6373083911842783146
@CompanyCode307[String] = 6373083913928202424
@ParentCompanyCode308[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type309) AND ([TbOrganizationMap].[ProjectId] = @ProjectId310)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode311,@CompanyCode312,@CompanyCode313,@CompanyCode314,@CompanyCode315,@CompanyCode316,@CompanyCode317,@CompanyCode318)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode319))) 	
Parameters:
@Type309[Int32] = 2
@ProjectId310[String] = 6245721945602523136
@CompanyCode311[String] = 6373083923489249281
@CompanyCode312[String] = 6373083925531366080
@CompanyCode313[String] = 6373083927883400612
@CompanyCode314[String] = 6373083918575368225
@CompanyCode315[String] = 6373083920445075162
@CompanyCode316[String] = 6373083908618598731
@CompanyCode317[String] = 6373083911842783146
@CompanyCode318[String] = 6373083913928202424
@ParentCompanyCode319[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6337324142387400704')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 102787
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6247574415609954304
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode322)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId320) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode321)))	
Parameters:
@ProjectId320[String] = 6245721945602523136
@SiteCode321[String] = 6247574415609954304
@FDictionaryCode322[String] = OrderState
@FDictionaryCode323[String] = UrgentDegree
@FDictionaryCode324[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode323) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode324) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode322)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId320) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode321))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId320[String] = 6245721945602523136
@SiteCode321[String] = 6247574415609954304
@FDictionaryCode322[String] = OrderState
@FDictionaryCode323[String] = UrgentDegree
@FDictionaryCode324[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6337324142387400704')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 102787
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  and a.FullCode='6245721945602523136' order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 11:38:20
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 11:41:13
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6487716734823440384
@ProjectId[String] = 6245721945602523136


-----------------------------------------------------------------------------
2020-08-12 11:41:44
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6337324142387400704') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 11:41:44
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6487716734823440384


-----------------------------------------------------------------------------
2020-08-12 11:41:44
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6487716734823440384
@ProjectId[String] = 6245721945602523136


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type325) AND ([TbOrganizationMap].[ProjectId] = @ProjectId326)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode327,@CompanyCode328,@CompanyCode329,@CompanyCode330,@CompanyCode331,@CompanyCode332,@CompanyCode333,@CompanyCode334)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode335))) 	
Parameters:
@Type325[Int32] = 1
@ProjectId326[String] = 6245721945602523136
@CompanyCode327[String] = 6373083923489249281
@CompanyCode328[String] = 6373083925531366080
@CompanyCode329[String] = 6373083927883400612
@CompanyCode330[String] = 6373083918575368225
@CompanyCode331[String] = 6373083920445075162
@CompanyCode332[String] = 6373083908618598731
@CompanyCode333[String] = 6373083911842783146
@CompanyCode334[String] = 6373083913928202424
@ParentCompanyCode335[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type336) AND ([TbOrganizationMap].[ProjectId] = @ProjectId337)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode338,@CompanyCode339,@CompanyCode340,@CompanyCode341,@CompanyCode342,@CompanyCode343,@CompanyCode344,@CompanyCode345)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode346))) 	
Parameters:
@Type336[Int32] = 2
@ProjectId337[String] = 6245721945602523136
@CompanyCode338[String] = 6373083923489249281
@CompanyCode339[String] = 6373083925531366080
@CompanyCode340[String] = 6373083927883400612
@CompanyCode341[String] = 6373083918575368225
@CompanyCode342[String] = 6373083920445075162
@CompanyCode343[String] = 6373083908618598731
@CompanyCode344[String] = 6373083911842783146
@CompanyCode345[String] = 6373083913928202424
@ParentCompanyCode346[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6337324142387400704')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 102787
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6247574415609954304
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode349)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId347) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode348)))	
Parameters:
@ProjectId347[String] = 6245721945602523136
@SiteCode348[String] = 6247574415609954304
@FDictionaryCode349[String] = OrderState
@FDictionaryCode350[String] = UrgentDegree
@FDictionaryCode351[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6337324142387400704')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 102787
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode350) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode351) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode349)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId347) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode348))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId347[String] = 6245721945602523136
@SiteCode348[String] = 6247574415609954304
@FDictionaryCode349[String] = OrderState
@FDictionaryCode350[String] = UrgentDegree
@FDictionaryCode351[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  and a.FullCode='6245721945602523136' order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 11:41:45
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 11:41:56
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode352) AND ([TbUser].[UserPwd] = @UserPwd353) 	
Parameters:
@UserCode352[String] = 500000
@UserPwd353[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-12 11:41:56
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-12 11:41:56
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-12 11:41:56
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-12 11:41:56
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode354 	
Parameters:
@UserCode354[String] = 500000


-----------------------------------------------------------------------------
2020-08-12 11:41:56
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu355,@ActionType356,@HostName357,@LogDate358,@UserCode359,@UserIP360);select scope_identity()	
Parameters:
@ActionMenu355[String] = 0
@ActionType356[String] = 登录系统
@HostName357[String] = 
@LogDate358[DateTime] = 2020/8/12 11:41:56
@UserCode359[String] = 500000
@UserIP360[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-12 11:41:56
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 11:41:56
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 11:41:56
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:41:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:41:57
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type361) AND ([TbOrganizationMap].[ProjectId] = @ProjectId362)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode363,@CompanyCode364,@CompanyCode365,@CompanyCode366,@CompanyCode367,@CompanyCode368,@CompanyCode369,@CompanyCode370)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode371))) 	
Parameters:
@Type361[Int32] = 1
@ProjectId362[String] = 6372912251695766465
@CompanyCode363[String] = 6373083923489249281
@CompanyCode364[String] = 6373083925531366080
@CompanyCode365[String] = 6373083927883400612
@CompanyCode366[String] = 6373083918575368225
@CompanyCode367[String] = 6373083920445075162
@CompanyCode368[String] = 6373083908618598731
@CompanyCode369[String] = 6373083911842783146
@CompanyCode370[String] = 6373083913928202424
@ParentCompanyCode371[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 11:41:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:41:57
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type372) AND ([TbOrganizationMap].[ProjectId] = @ProjectId373)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode374,@CompanyCode375,@CompanyCode376,@CompanyCode377,@CompanyCode378,@CompanyCode379,@CompanyCode380,@CompanyCode381)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode382))) 	
Parameters:
@Type372[Int32] = 2
@ProjectId373[String] = 6372912251695766465
@CompanyCode374[String] = 6373083923489249281
@CompanyCode375[String] = 6373083925531366080
@CompanyCode376[String] = 6373083927883400612
@CompanyCode377[String] = 6373083918575368225
@CompanyCode378[String] = 6373083920445075162
@CompanyCode379[String] = 6373083908618598731
@CompanyCode380[String] = 6373083911842783146
@CompanyCode381[String] = 6373083913928202424
@ParentCompanyCode382[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 11:41:57
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 11:41:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:41:57
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode410)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId383) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode384,@SiteCode385,@SiteCode386,@SiteCode387,@SiteCode388,@SiteCode389,@SiteCode390,@SiteCode391,@SiteCode392,@SiteCode393,@SiteCode394,@SiteCode395,@SiteCode396,@SiteCode397,@SiteCode398,@SiteCode399,@SiteCode400,@SiteCode401,@SiteCode402,@SiteCode403,@SiteCode404,@SiteCode405,@SiteCode406,@SiteCode407,@SiteCode408,@SiteCode409)))	
Parameters:
@ProjectId383[String] = 6372912251695766465
@SiteCode384[String] = 6373083923489249281
@SiteCode385[String] = 6373083925531366080
@SiteCode386[String] = 6373083927883400612
@SiteCode387[String] = 6373083918575368225
@SiteCode388[String] = 6373083920445075162
@SiteCode389[String] = 6373083908618598731
@SiteCode390[String] = 6373083911842783146
@SiteCode391[String] = 6373083913928202424
@SiteCode392[String] = 6373083877551621804
@SiteCode393[String] = 6373083879921857377
@SiteCode394[String] = 6373083881542550067
@SiteCode395[String] = 6373083883689772886
@SiteCode396[String] = 6373083887136270013
@SiteCode397[String] = 6373083889697116488
@SiteCode398[String] = 6373083891969846476
@SiteCode399[String] = 6373083894422586761
@SiteCode400[String] = 6373083897509963358
@SiteCode401[String] = 6373083900444931227
@SiteCode402[String] = 6373083829464571372
@SiteCode403[String] = 6373083833327492328
@SiteCode404[String] = 6373083841964286321
@SiteCode405[String] = 6373083844982558950
@SiteCode406[String] = 6373083847585007801
@SiteCode407[String] = 6373083856887939900
@SiteCode408[String] = 6373083859102666584
@SiteCode409[String] = 6373083864919499284
@FDictionaryCode410[String] = OrderState
@FDictionaryCode411[String] = UrgentDegree
@FDictionaryCode412[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 11:41:57
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode411) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode412) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode410)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId383) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode384,@SiteCode385,@SiteCode386,@SiteCode387,@SiteCode388,@SiteCode389,@SiteCode390,@SiteCode391,@SiteCode392,@SiteCode393,@SiteCode394,@SiteCode395,@SiteCode396,@SiteCode397,@SiteCode398,@SiteCode399,@SiteCode400,@SiteCode401,@SiteCode402,@SiteCode403,@SiteCode404,@SiteCode405,@SiteCode406,@SiteCode407,@SiteCode408,@SiteCode409))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId383[String] = 6372912251695766465
@SiteCode384[String] = 6373083923489249281
@SiteCode385[String] = 6373083925531366080
@SiteCode386[String] = 6373083927883400612
@SiteCode387[String] = 6373083918575368225
@SiteCode388[String] = 6373083920445075162
@SiteCode389[String] = 6373083908618598731
@SiteCode390[String] = 6373083911842783146
@SiteCode391[String] = 6373083913928202424
@SiteCode392[String] = 6373083877551621804
@SiteCode393[String] = 6373083879921857377
@SiteCode394[String] = 6373083881542550067
@SiteCode395[String] = 6373083883689772886
@SiteCode396[String] = 6373083887136270013
@SiteCode397[String] = 6373083889697116488
@SiteCode398[String] = 6373083891969846476
@SiteCode399[String] = 6373083894422586761
@SiteCode400[String] = 6373083897509963358
@SiteCode401[String] = 6373083900444931227
@SiteCode402[String] = 6373083829464571372
@SiteCode403[String] = 6373083833327492328
@SiteCode404[String] = 6373083841964286321
@SiteCode405[String] = 6373083844982558950
@SiteCode406[String] = 6373083847585007801
@SiteCode407[String] = 6373083856887939900
@SiteCode408[String] = 6373083859102666584
@SiteCode409[String] = 6373083864919499284
@FDictionaryCode410[String] = OrderState
@FDictionaryCode411[String] = UrgentDegree
@FDictionaryCode412[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 11:41:57
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 11:41:58
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 11:41:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 11:41:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 11:42:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:42:01
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId413) AND ([TbModelOrg].[SiteCode] IN (@SiteCode414))) 	
Parameters:
@ProjectId413[String] = 6372912251695766465
@SiteCode414[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 11:42:08
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm415,@MxGjBm416,@MxGjBm417,@MxGjBm418,@MxGjBm419) 	
Parameters:
@MxGjBm415[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm416[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm417[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm418[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm419[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 11:42:08
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode420,@ComponentCode421,@ComponentCode422,@ComponentCode423,@ComponentCode424)) AND ([TbModelOtherInfo].[Type] = @Type425) 	
Parameters:
@ComponentCode420[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode421[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode422[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode423[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode424[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type425[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 11:42:12
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId426,@MxGjId427,@MxGjId428,@MxGjId429) 	
Parameters:
@MxGjId426[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId427[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId428[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId429[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 11:42:12
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode430,@ComponentCode431,@ComponentCode432,@ComponentCode433)) AND ([TbModelOtherInfo].[Type] = @Type434) 	
Parameters:
@ComponentCode430[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode431[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode432[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode433[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type434[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:42:35
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 11:42:35
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 11:42:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:42:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:42:36
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type435) AND ([TbOrganizationMap].[ProjectId] = @ProjectId436)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode437,@CompanyCode438,@CompanyCode439,@CompanyCode440,@CompanyCode441,@CompanyCode442,@CompanyCode443,@CompanyCode444)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode445))) 	
Parameters:
@Type435[Int32] = 1
@ProjectId436[String] = 6372912251695766465
@CompanyCode437[String] = 6373083923489249281
@CompanyCode438[String] = 6373083925531366080
@CompanyCode439[String] = 6373083927883400612
@CompanyCode440[String] = 6373083918575368225
@CompanyCode441[String] = 6373083920445075162
@CompanyCode442[String] = 6373083908618598731
@CompanyCode443[String] = 6373083911842783146
@CompanyCode444[String] = 6373083913928202424
@ParentCompanyCode445[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 11:42:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:42:36
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type446) AND ([TbOrganizationMap].[ProjectId] = @ProjectId447)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode448,@CompanyCode449,@CompanyCode450,@CompanyCode451,@CompanyCode452,@CompanyCode453,@CompanyCode454,@CompanyCode455)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode456))) 	
Parameters:
@Type446[Int32] = 2
@ProjectId447[String] = 6372912251695766465
@CompanyCode448[String] = 6373083923489249281
@CompanyCode449[String] = 6373083925531366080
@CompanyCode450[String] = 6373083927883400612
@CompanyCode451[String] = 6373083918575368225
@CompanyCode452[String] = 6373083920445075162
@CompanyCode453[String] = 6373083908618598731
@CompanyCode454[String] = 6373083911842783146
@CompanyCode455[String] = 6373083913928202424
@ParentCompanyCode456[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 11:42:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 11:42:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:42:36
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode484)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId457) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode458,@SiteCode459,@SiteCode460,@SiteCode461,@SiteCode462,@SiteCode463,@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470,@SiteCode471,@SiteCode472,@SiteCode473,@SiteCode474,@SiteCode475,@SiteCode476,@SiteCode477,@SiteCode478,@SiteCode479,@SiteCode480,@SiteCode481,@SiteCode482,@SiteCode483)))	
Parameters:
@ProjectId457[String] = 6372912251695766465
@SiteCode458[String] = 6373083923489249281
@SiteCode459[String] = 6373083925531366080
@SiteCode460[String] = 6373083927883400612
@SiteCode461[String] = 6373083918575368225
@SiteCode462[String] = 6373083920445075162
@SiteCode463[String] = 6373083908618598731
@SiteCode464[String] = 6373083911842783146
@SiteCode465[String] = 6373083913928202424
@SiteCode466[String] = 6373083877551621804
@SiteCode467[String] = 6373083879921857377
@SiteCode468[String] = 6373083881542550067
@SiteCode469[String] = 6373083883689772886
@SiteCode470[String] = 6373083887136270013
@SiteCode471[String] = 6373083889697116488
@SiteCode472[String] = 6373083891969846476
@SiteCode473[String] = 6373083894422586761
@SiteCode474[String] = 6373083897509963358
@SiteCode475[String] = 6373083900444931227
@SiteCode476[String] = 6373083829464571372
@SiteCode477[String] = 6373083833327492328
@SiteCode478[String] = 6373083841964286321
@SiteCode479[String] = 6373083844982558950
@SiteCode480[String] = 6373083847585007801
@SiteCode481[String] = 6373083856887939900
@SiteCode482[String] = 6373083859102666584
@SiteCode483[String] = 6373083864919499284
@FDictionaryCode484[String] = OrderState
@FDictionaryCode485[String] = UrgentDegree
@FDictionaryCode486[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 11:42:36
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode485) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode486) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode484)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId457) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode458,@SiteCode459,@SiteCode460,@SiteCode461,@SiteCode462,@SiteCode463,@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470,@SiteCode471,@SiteCode472,@SiteCode473,@SiteCode474,@SiteCode475,@SiteCode476,@SiteCode477,@SiteCode478,@SiteCode479,@SiteCode480,@SiteCode481,@SiteCode482,@SiteCode483))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId457[String] = 6372912251695766465
@SiteCode458[String] = 6373083923489249281
@SiteCode459[String] = 6373083925531366080
@SiteCode460[String] = 6373083927883400612
@SiteCode461[String] = 6373083918575368225
@SiteCode462[String] = 6373083920445075162
@SiteCode463[String] = 6373083908618598731
@SiteCode464[String] = 6373083911842783146
@SiteCode465[String] = 6373083913928202424
@SiteCode466[String] = 6373083877551621804
@SiteCode467[String] = 6373083879921857377
@SiteCode468[String] = 6373083881542550067
@SiteCode469[String] = 6373083883689772886
@SiteCode470[String] = 6373083887136270013
@SiteCode471[String] = 6373083889697116488
@SiteCode472[String] = 6373083891969846476
@SiteCode473[String] = 6373083894422586761
@SiteCode474[String] = 6373083897509963358
@SiteCode475[String] = 6373083900444931227
@SiteCode476[String] = 6373083829464571372
@SiteCode477[String] = 6373083833327492328
@SiteCode478[String] = 6373083841964286321
@SiteCode479[String] = 6373083844982558950
@SiteCode480[String] = 6373083847585007801
@SiteCode481[String] = 6373083856887939900
@SiteCode482[String] = 6373083859102666584
@SiteCode483[String] = 6373083864919499284
@FDictionaryCode484[String] = OrderState
@FDictionaryCode485[String] = UrgentDegree
@FDictionaryCode486[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 11:42:37
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 11:42:37
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 11:42:37
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 11:42:37
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 11:42:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:42:41
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId487) AND ([TbModelOrg].[SiteCode] IN (@SiteCode488))) 	
Parameters:
@ProjectId487[String] = 6372912251695766465
@SiteCode488[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 11:42:50
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm489,@MxGjBm490,@MxGjBm491,@MxGjBm492,@MxGjBm493) 	
Parameters:
@MxGjBm489[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm490[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm491[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm492[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm493[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 11:42:50
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode494,@ComponentCode495,@ComponentCode496,@ComponentCode497,@ComponentCode498)) AND ([TbModelOtherInfo].[Type] = @Type499) 	
Parameters:
@ComponentCode494[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode495[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode496[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode497[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode498[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type499[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 11:42:59
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId500,@MxGjId501,@MxGjId502,@MxGjId503) 	
Parameters:
@MxGjId500[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId501[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId502[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId503[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 11:42:59
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode504,@ComponentCode505,@ComponentCode506,@ComponentCode507)) AND ([TbModelOtherInfo].[Type] = @Type508) 	
Parameters:
@ComponentCode504[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode505[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode506[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode507[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type508[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:43:44
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 11:43:44
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 11:43:44
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:43:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:43:45
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type509) AND ([TbOrganizationMap].[ProjectId] = @ProjectId510)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode511,@CompanyCode512,@CompanyCode513,@CompanyCode514,@CompanyCode515,@CompanyCode516,@CompanyCode517,@CompanyCode518)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode519))) 	
Parameters:
@Type509[Int32] = 1
@ProjectId510[String] = 6372912251695766465
@CompanyCode511[String] = 6373083923489249281
@CompanyCode512[String] = 6373083925531366080
@CompanyCode513[String] = 6373083927883400612
@CompanyCode514[String] = 6373083918575368225
@CompanyCode515[String] = 6373083920445075162
@CompanyCode516[String] = 6373083908618598731
@CompanyCode517[String] = 6373083911842783146
@CompanyCode518[String] = 6373083913928202424
@ParentCompanyCode519[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 11:43:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:43:45
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type520) AND ([TbOrganizationMap].[ProjectId] = @ProjectId521)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode522,@CompanyCode523,@CompanyCode524,@CompanyCode525,@CompanyCode526,@CompanyCode527,@CompanyCode528,@CompanyCode529)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode530))) 	
Parameters:
@Type520[Int32] = 2
@ProjectId521[String] = 6372912251695766465
@CompanyCode522[String] = 6373083923489249281
@CompanyCode523[String] = 6373083925531366080
@CompanyCode524[String] = 6373083927883400612
@CompanyCode525[String] = 6373083918575368225
@CompanyCode526[String] = 6373083920445075162
@CompanyCode527[String] = 6373083908618598731
@CompanyCode528[String] = 6373083911842783146
@CompanyCode529[String] = 6373083913928202424
@ParentCompanyCode530[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 11:43:45
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 11:43:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:43:45
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode558)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId531) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode532,@SiteCode533,@SiteCode534,@SiteCode535,@SiteCode536,@SiteCode537,@SiteCode538,@SiteCode539,@SiteCode540,@SiteCode541,@SiteCode542,@SiteCode543,@SiteCode544,@SiteCode545,@SiteCode546,@SiteCode547,@SiteCode548,@SiteCode549,@SiteCode550,@SiteCode551,@SiteCode552,@SiteCode553,@SiteCode554,@SiteCode555,@SiteCode556,@SiteCode557)))	
Parameters:
@ProjectId531[String] = 6372912251695766465
@SiteCode532[String] = 6373083923489249281
@SiteCode533[String] = 6373083925531366080
@SiteCode534[String] = 6373083927883400612
@SiteCode535[String] = 6373083918575368225
@SiteCode536[String] = 6373083920445075162
@SiteCode537[String] = 6373083908618598731
@SiteCode538[String] = 6373083911842783146
@SiteCode539[String] = 6373083913928202424
@SiteCode540[String] = 6373083877551621804
@SiteCode541[String] = 6373083879921857377
@SiteCode542[String] = 6373083881542550067
@SiteCode543[String] = 6373083883689772886
@SiteCode544[String] = 6373083887136270013
@SiteCode545[String] = 6373083889697116488
@SiteCode546[String] = 6373083891969846476
@SiteCode547[String] = 6373083894422586761
@SiteCode548[String] = 6373083897509963358
@SiteCode549[String] = 6373083900444931227
@SiteCode550[String] = 6373083829464571372
@SiteCode551[String] = 6373083833327492328
@SiteCode552[String] = 6373083841964286321
@SiteCode553[String] = 6373083844982558950
@SiteCode554[String] = 6373083847585007801
@SiteCode555[String] = 6373083856887939900
@SiteCode556[String] = 6373083859102666584
@SiteCode557[String] = 6373083864919499284
@FDictionaryCode558[String] = OrderState
@FDictionaryCode559[String] = UrgentDegree
@FDictionaryCode560[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 11:43:45
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode559) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode560) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode558)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId531) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode532,@SiteCode533,@SiteCode534,@SiteCode535,@SiteCode536,@SiteCode537,@SiteCode538,@SiteCode539,@SiteCode540,@SiteCode541,@SiteCode542,@SiteCode543,@SiteCode544,@SiteCode545,@SiteCode546,@SiteCode547,@SiteCode548,@SiteCode549,@SiteCode550,@SiteCode551,@SiteCode552,@SiteCode553,@SiteCode554,@SiteCode555,@SiteCode556,@SiteCode557))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId531[String] = 6372912251695766465
@SiteCode532[String] = 6373083923489249281
@SiteCode533[String] = 6373083925531366080
@SiteCode534[String] = 6373083927883400612
@SiteCode535[String] = 6373083918575368225
@SiteCode536[String] = 6373083920445075162
@SiteCode537[String] = 6373083908618598731
@SiteCode538[String] = 6373083911842783146
@SiteCode539[String] = 6373083913928202424
@SiteCode540[String] = 6373083877551621804
@SiteCode541[String] = 6373083879921857377
@SiteCode542[String] = 6373083881542550067
@SiteCode543[String] = 6373083883689772886
@SiteCode544[String] = 6373083887136270013
@SiteCode545[String] = 6373083889697116488
@SiteCode546[String] = 6373083891969846476
@SiteCode547[String] = 6373083894422586761
@SiteCode548[String] = 6373083897509963358
@SiteCode549[String] = 6373083900444931227
@SiteCode550[String] = 6373083829464571372
@SiteCode551[String] = 6373083833327492328
@SiteCode552[String] = 6373083841964286321
@SiteCode553[String] = 6373083844982558950
@SiteCode554[String] = 6373083847585007801
@SiteCode555[String] = 6373083856887939900
@SiteCode556[String] = 6373083859102666584
@SiteCode557[String] = 6373083864919499284
@FDictionaryCode558[String] = OrderState
@FDictionaryCode559[String] = UrgentDegree
@FDictionaryCode560[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 11:43:46
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 11:43:46
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 11:43:46
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 11:43:46
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 11:44:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 11:44:08
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId561) AND ([TbModelOrg].[SiteCode] IN (@SiteCode562))) 	
Parameters:
@ProjectId561[String] = 6372912251695766465
@SiteCode562[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 11:44:52
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm563,@MxGjBm564,@MxGjBm565,@MxGjBm566,@MxGjBm567) 	
Parameters:
@MxGjBm563[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm564[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm565[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm566[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm567[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 11:44:52
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode568,@ComponentCode569,@ComponentCode570,@ComponentCode571,@ComponentCode572)) AND ([TbModelOtherInfo].[Type] = @Type573) 	
Parameters:
@ComponentCode568[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode569[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode570[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode571[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode572[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type573[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 11:44:55
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId574,@MxGjId575,@MxGjId576,@MxGjId577) 	
Parameters:
@MxGjId574[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId575[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId576[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId577[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 11:44:55
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode578,@ComponentCode579,@ComponentCode580,@ComponentCode581)) AND ([TbModelOtherInfo].[Type] = @Type582) 	
Parameters:
@ComponentCode578[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode579[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode580[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode581[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type582[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:45:10
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId583,@MxGjId584,@MxGjId585,@MxGjId586) 	
Parameters:
@MxGjId583[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId584[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId585[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId586[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 11:45:10
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode587,@ComponentCode588,@ComponentCode589,@ComponentCode590)) AND ([TbModelOtherInfo].[Type] = @Type591) 	
Parameters:
@ComponentCode587[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode588[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode589[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode590[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type591[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:45:14
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId592) 	
Parameters:
@MxGjId592[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:45:14
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode593)) AND ([TbModelOtherInfo].[Type] = @Type594) 	
Parameters:
@ComponentCode593[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type594[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:45:52
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId595) 	
Parameters:
@MxGjId595[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 11:45:52
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode596)) AND ([TbModelOtherInfo].[Type] = @Type597) 	
Parameters:
@ComponentCode596[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type597[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:45:54
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId598) 	
Parameters:
@MxGjId598[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 11:45:54
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode599)) AND ([TbModelOtherInfo].[Type] = @Type600) 	
Parameters:
@ComponentCode599[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type600[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:45:58
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId601,@MxGjId602) 	
Parameters:
@MxGjId601[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId602[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 11:45:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode603,@ComponentCode604)) AND ([TbModelOtherInfo].[Type] = @Type605) 	
Parameters:
@ComponentCode603[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode604[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type605[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:46:00
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId606) 	
Parameters:
@MxGjId606[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:46:00
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode607)) AND ([TbModelOtherInfo].[Type] = @Type608) 	
Parameters:
@ComponentCode607[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type608[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:46:02
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId609) 	
Parameters:
@MxGjId609[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:46:02
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode610)) AND ([TbModelOtherInfo].[Type] = @Type611) 	
Parameters:
@ComponentCode610[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type611[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:46:06
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId612,@MxGjId613,@MxGjId614,@MxGjId615) 	
Parameters:
@MxGjId612[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId613[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId614[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId615[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 11:46:06
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode616,@ComponentCode617,@ComponentCode618,@ComponentCode619)) AND ([TbModelOtherInfo].[Type] = @Type620) 	
Parameters:
@ComponentCode616[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode617[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode618[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode619[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type620[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:46:11
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId621,@MxGjId622,@MxGjId623,@MxGjId624) 	
Parameters:
@MxGjId621[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId622[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId623[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId624[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 11:46:11
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode625,@ComponentCode626,@ComponentCode627,@ComponentCode628)) AND ([TbModelOtherInfo].[Type] = @Type629) 	
Parameters:
@ComponentCode625[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode626[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode627[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode628[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type629[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:46:12
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId630) 	
Parameters:
@MxGjId630[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:46:12
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode631)) AND ([TbModelOtherInfo].[Type] = @Type632) 	
Parameters:
@ComponentCode631[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type632[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:46:14
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId633) 	
Parameters:
@MxGjId633[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 11:46:14
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode634)) AND ([TbModelOtherInfo].[Type] = @Type635) 	
Parameters:
@ComponentCode634[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type635[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:46:17
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId636,@MxGjId637,@MxGjId638,@MxGjId639) 	
Parameters:
@MxGjId636[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId637[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId638[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId639[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 11:46:17
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode640,@ComponentCode641,@ComponentCode642,@ComponentCode643)) AND ([TbModelOtherInfo].[Type] = @Type644) 	
Parameters:
@ComponentCode640[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode641[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode642[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode643[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type644[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:46:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:48:43
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId645,@MxGjId646,@MxGjId647,@MxGjId648) 	
Parameters:
@MxGjId645[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId646[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId647[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId648[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 11:48:43
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode649,@ComponentCode650,@ComponentCode651,@ComponentCode652)) AND ([TbModelOtherInfo].[Type] = @Type653) 	
Parameters:
@ComponentCode649[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode650[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode651[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode652[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type653[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:48:47
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId654) 	
Parameters:
@MxGjId654[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:48:47
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode655)) AND ([TbModelOtherInfo].[Type] = @Type656) 	
Parameters:
@ComponentCode655[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type656[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:48:55
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId657) 	
Parameters:
@MxGjId657[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:48:55
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode658)) AND ([TbModelOtherInfo].[Type] = @Type659) 	
Parameters:
@ComponentCode658[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type659[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:49:01
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId660) 	
Parameters:
@MxGjId660[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:49:01
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode661)) AND ([TbModelOtherInfo].[Type] = @Type662) 	
Parameters:
@ComponentCode661[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type662[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:49:07
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId663) 	
Parameters:
@MxGjId663[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:49:07
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode664)) AND ([TbModelOtherInfo].[Type] = @Type665) 	
Parameters:
@ComponentCode664[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type665[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:49:15
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId666) 	
Parameters:
@MxGjId666[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:49:15
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode667)) AND ([TbModelOtherInfo].[Type] = @Type668) 	
Parameters:
@ComponentCode667[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type668[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:49:17
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId669) 	
Parameters:
@MxGjId669[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:49:17
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode670)) AND ([TbModelOtherInfo].[Type] = @Type671) 	
Parameters:
@ComponentCode670[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type671[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:49:18
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId672) 	
Parameters:
@MxGjId672[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:49:18
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode673)) AND ([TbModelOtherInfo].[Type] = @Type674) 	
Parameters:
@ComponentCode673[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type674[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:49:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:49:43
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId675) 	
Parameters:
@MxGjId675[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:49:43
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode676)) AND ([TbModelOtherInfo].[Type] = @Type677) 	
Parameters:
@ComponentCode676[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type677[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:51:07
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId678) 	
Parameters:
@MxGjId678[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 11:51:07
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode679)) AND ([TbModelOtherInfo].[Type] = @Type680) 	
Parameters:
@ComponentCode679[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type680[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 11:52:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:55:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 11:58:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:01:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:04:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:07:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:10:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:13:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:16:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:19:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:22:18
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 12:22:18
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 12:22:18
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:22:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:22:19
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type681) AND ([TbOrganizationMap].[ProjectId] = @ProjectId682)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode683,@CompanyCode684,@CompanyCode685,@CompanyCode686,@CompanyCode687,@CompanyCode688,@CompanyCode689,@CompanyCode690)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode691))) 	
Parameters:
@Type681[Int32] = 1
@ProjectId682[String] = 6372912251695766465
@CompanyCode683[String] = 6373083923489249281
@CompanyCode684[String] = 6373083925531366080
@CompanyCode685[String] = 6373083927883400612
@CompanyCode686[String] = 6373083918575368225
@CompanyCode687[String] = 6373083920445075162
@CompanyCode688[String] = 6373083908618598731
@CompanyCode689[String] = 6373083911842783146
@CompanyCode690[String] = 6373083913928202424
@ParentCompanyCode691[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 12:22:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:22:19
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type692) AND ([TbOrganizationMap].[ProjectId] = @ProjectId693)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode694,@CompanyCode695,@CompanyCode696,@CompanyCode697,@CompanyCode698,@CompanyCode699,@CompanyCode700,@CompanyCode701)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode702))) 	
Parameters:
@Type692[Int32] = 2
@ProjectId693[String] = 6372912251695766465
@CompanyCode694[String] = 6373083923489249281
@CompanyCode695[String] = 6373083925531366080
@CompanyCode696[String] = 6373083927883400612
@CompanyCode697[String] = 6373083918575368225
@CompanyCode698[String] = 6373083920445075162
@CompanyCode699[String] = 6373083908618598731
@CompanyCode700[String] = 6373083911842783146
@CompanyCode701[String] = 6373083913928202424
@ParentCompanyCode702[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 12:22:19
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 12:22:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:22:19
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode730)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId703) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode704,@SiteCode705,@SiteCode706,@SiteCode707,@SiteCode708,@SiteCode709,@SiteCode710,@SiteCode711,@SiteCode712,@SiteCode713,@SiteCode714,@SiteCode715,@SiteCode716,@SiteCode717,@SiteCode718,@SiteCode719,@SiteCode720,@SiteCode721,@SiteCode722,@SiteCode723,@SiteCode724,@SiteCode725,@SiteCode726,@SiteCode727,@SiteCode728,@SiteCode729)))	
Parameters:
@ProjectId703[String] = 6372912251695766465
@SiteCode704[String] = 6373083923489249281
@SiteCode705[String] = 6373083925531366080
@SiteCode706[String] = 6373083927883400612
@SiteCode707[String] = 6373083918575368225
@SiteCode708[String] = 6373083920445075162
@SiteCode709[String] = 6373083908618598731
@SiteCode710[String] = 6373083911842783146
@SiteCode711[String] = 6373083913928202424
@SiteCode712[String] = 6373083877551621804
@SiteCode713[String] = 6373083879921857377
@SiteCode714[String] = 6373083881542550067
@SiteCode715[String] = 6373083883689772886
@SiteCode716[String] = 6373083887136270013
@SiteCode717[String] = 6373083889697116488
@SiteCode718[String] = 6373083891969846476
@SiteCode719[String] = 6373083894422586761
@SiteCode720[String] = 6373083897509963358
@SiteCode721[String] = 6373083900444931227
@SiteCode722[String] = 6373083829464571372
@SiteCode723[String] = 6373083833327492328
@SiteCode724[String] = 6373083841964286321
@SiteCode725[String] = 6373083844982558950
@SiteCode726[String] = 6373083847585007801
@SiteCode727[String] = 6373083856887939900
@SiteCode728[String] = 6373083859102666584
@SiteCode729[String] = 6373083864919499284
@FDictionaryCode730[String] = OrderState
@FDictionaryCode731[String] = UrgentDegree
@FDictionaryCode732[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 12:22:19
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode731) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode732) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode730)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId703) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode704,@SiteCode705,@SiteCode706,@SiteCode707,@SiteCode708,@SiteCode709,@SiteCode710,@SiteCode711,@SiteCode712,@SiteCode713,@SiteCode714,@SiteCode715,@SiteCode716,@SiteCode717,@SiteCode718,@SiteCode719,@SiteCode720,@SiteCode721,@SiteCode722,@SiteCode723,@SiteCode724,@SiteCode725,@SiteCode726,@SiteCode727,@SiteCode728,@SiteCode729))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId703[String] = 6372912251695766465
@SiteCode704[String] = 6373083923489249281
@SiteCode705[String] = 6373083925531366080
@SiteCode706[String] = 6373083927883400612
@SiteCode707[String] = 6373083918575368225
@SiteCode708[String] = 6373083920445075162
@SiteCode709[String] = 6373083908618598731
@SiteCode710[String] = 6373083911842783146
@SiteCode711[String] = 6373083913928202424
@SiteCode712[String] = 6373083877551621804
@SiteCode713[String] = 6373083879921857377
@SiteCode714[String] = 6373083881542550067
@SiteCode715[String] = 6373083883689772886
@SiteCode716[String] = 6373083887136270013
@SiteCode717[String] = 6373083889697116488
@SiteCode718[String] = 6373083891969846476
@SiteCode719[String] = 6373083894422586761
@SiteCode720[String] = 6373083897509963358
@SiteCode721[String] = 6373083900444931227
@SiteCode722[String] = 6373083829464571372
@SiteCode723[String] = 6373083833327492328
@SiteCode724[String] = 6373083841964286321
@SiteCode725[String] = 6373083844982558950
@SiteCode726[String] = 6373083847585007801
@SiteCode727[String] = 6373083856887939900
@SiteCode728[String] = 6373083859102666584
@SiteCode729[String] = 6373083864919499284
@FDictionaryCode730[String] = OrderState
@FDictionaryCode731[String] = UrgentDegree
@FDictionaryCode732[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 12:22:20
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 12:22:21
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 12:22:21
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 12:22:21
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 12:22:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:22:39
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId733) AND ([TbModelOrg].[SiteCode] IN (@SiteCode734))) 	
Parameters:
@ProjectId733[String] = 6372912251695766465
@SiteCode734[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 12:22:46
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm735,@MxGjBm736,@MxGjBm737,@MxGjBm738,@MxGjBm739) 	
Parameters:
@MxGjBm735[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm736[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm737[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm738[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm739[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 12:22:46
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode740,@ComponentCode741,@ComponentCode742,@ComponentCode743,@ComponentCode744)) AND ([TbModelOtherInfo].[Type] = @Type745) 	
Parameters:
@ComponentCode740[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode741[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode742[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode743[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode744[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type745[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 12:22:49
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId746,@MxGjId747,@MxGjId748,@MxGjId749) 	
Parameters:
@MxGjId746[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId747[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId748[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId749[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 12:22:49
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode750,@ComponentCode751,@ComponentCode752,@ComponentCode753)) AND ([TbModelOtherInfo].[Type] = @Type754) 	
Parameters:
@ComponentCode750[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode751[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode752[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode753[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type754[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:23:15
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 12:23:15
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 12:23:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:23:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:23:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type755) AND ([TbOrganizationMap].[ProjectId] = @ProjectId756)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode757,@CompanyCode758,@CompanyCode759,@CompanyCode760,@CompanyCode761,@CompanyCode762,@CompanyCode763,@CompanyCode764)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode765))) 	
Parameters:
@Type755[Int32] = 1
@ProjectId756[String] = 6372912251695766465
@CompanyCode757[String] = 6373083923489249281
@CompanyCode758[String] = 6373083925531366080
@CompanyCode759[String] = 6373083927883400612
@CompanyCode760[String] = 6373083918575368225
@CompanyCode761[String] = 6373083920445075162
@CompanyCode762[String] = 6373083908618598731
@CompanyCode763[String] = 6373083911842783146
@CompanyCode764[String] = 6373083913928202424
@ParentCompanyCode765[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 12:23:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:23:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type766) AND ([TbOrganizationMap].[ProjectId] = @ProjectId767)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode768,@CompanyCode769,@CompanyCode770,@CompanyCode771,@CompanyCode772,@CompanyCode773,@CompanyCode774,@CompanyCode775)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode776))) 	
Parameters:
@Type766[Int32] = 2
@ProjectId767[String] = 6372912251695766465
@CompanyCode768[String] = 6373083923489249281
@CompanyCode769[String] = 6373083925531366080
@CompanyCode770[String] = 6373083927883400612
@CompanyCode771[String] = 6373083918575368225
@CompanyCode772[String] = 6373083920445075162
@CompanyCode773[String] = 6373083908618598731
@CompanyCode774[String] = 6373083911842783146
@CompanyCode775[String] = 6373083913928202424
@ParentCompanyCode776[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 12:23:15
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 12:23:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:23:16
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode804)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId777) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode778,@SiteCode779,@SiteCode780,@SiteCode781,@SiteCode782,@SiteCode783,@SiteCode784,@SiteCode785,@SiteCode786,@SiteCode787,@SiteCode788,@SiteCode789,@SiteCode790,@SiteCode791,@SiteCode792,@SiteCode793,@SiteCode794,@SiteCode795,@SiteCode796,@SiteCode797,@SiteCode798,@SiteCode799,@SiteCode800,@SiteCode801,@SiteCode802,@SiteCode803)))	
Parameters:
@ProjectId777[String] = 6372912251695766465
@SiteCode778[String] = 6373083923489249281
@SiteCode779[String] = 6373083925531366080
@SiteCode780[String] = 6373083927883400612
@SiteCode781[String] = 6373083918575368225
@SiteCode782[String] = 6373083920445075162
@SiteCode783[String] = 6373083908618598731
@SiteCode784[String] = 6373083911842783146
@SiteCode785[String] = 6373083913928202424
@SiteCode786[String] = 6373083877551621804
@SiteCode787[String] = 6373083879921857377
@SiteCode788[String] = 6373083881542550067
@SiteCode789[String] = 6373083883689772886
@SiteCode790[String] = 6373083887136270013
@SiteCode791[String] = 6373083889697116488
@SiteCode792[String] = 6373083891969846476
@SiteCode793[String] = 6373083894422586761
@SiteCode794[String] = 6373083897509963358
@SiteCode795[String] = 6373083900444931227
@SiteCode796[String] = 6373083829464571372
@SiteCode797[String] = 6373083833327492328
@SiteCode798[String] = 6373083841964286321
@SiteCode799[String] = 6373083844982558950
@SiteCode800[String] = 6373083847585007801
@SiteCode801[String] = 6373083856887939900
@SiteCode802[String] = 6373083859102666584
@SiteCode803[String] = 6373083864919499284
@FDictionaryCode804[String] = OrderState
@FDictionaryCode805[String] = UrgentDegree
@FDictionaryCode806[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 12:23:16
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode805) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode806) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode804)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId777) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode778,@SiteCode779,@SiteCode780,@SiteCode781,@SiteCode782,@SiteCode783,@SiteCode784,@SiteCode785,@SiteCode786,@SiteCode787,@SiteCode788,@SiteCode789,@SiteCode790,@SiteCode791,@SiteCode792,@SiteCode793,@SiteCode794,@SiteCode795,@SiteCode796,@SiteCode797,@SiteCode798,@SiteCode799,@SiteCode800,@SiteCode801,@SiteCode802,@SiteCode803))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId777[String] = 6372912251695766465
@SiteCode778[String] = 6373083923489249281
@SiteCode779[String] = 6373083925531366080
@SiteCode780[String] = 6373083927883400612
@SiteCode781[String] = 6373083918575368225
@SiteCode782[String] = 6373083920445075162
@SiteCode783[String] = 6373083908618598731
@SiteCode784[String] = 6373083911842783146
@SiteCode785[String] = 6373083913928202424
@SiteCode786[String] = 6373083877551621804
@SiteCode787[String] = 6373083879921857377
@SiteCode788[String] = 6373083881542550067
@SiteCode789[String] = 6373083883689772886
@SiteCode790[String] = 6373083887136270013
@SiteCode791[String] = 6373083889697116488
@SiteCode792[String] = 6373083891969846476
@SiteCode793[String] = 6373083894422586761
@SiteCode794[String] = 6373083897509963358
@SiteCode795[String] = 6373083900444931227
@SiteCode796[String] = 6373083829464571372
@SiteCode797[String] = 6373083833327492328
@SiteCode798[String] = 6373083841964286321
@SiteCode799[String] = 6373083844982558950
@SiteCode800[String] = 6373083847585007801
@SiteCode801[String] = 6373083856887939900
@SiteCode802[String] = 6373083859102666584
@SiteCode803[String] = 6373083864919499284
@FDictionaryCode804[String] = OrderState
@FDictionaryCode805[String] = UrgentDegree
@FDictionaryCode806[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 12:23:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 12:23:16
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 12:23:16
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 12:23:16
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 12:23:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:23:19
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId807) AND ([TbModelOrg].[SiteCode] IN (@SiteCode808))) 	
Parameters:
@ProjectId807[String] = 6372912251695766465
@SiteCode808[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 12:23:26
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm809,@MxGjBm810,@MxGjBm811,@MxGjBm812,@MxGjBm813) 	
Parameters:
@MxGjBm809[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm810[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm811[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm812[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm813[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 12:23:26
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode814,@ComponentCode815,@ComponentCode816,@ComponentCode817,@ComponentCode818)) AND ([TbModelOtherInfo].[Type] = @Type819) 	
Parameters:
@ComponentCode814[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode815[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode816[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode817[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode818[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type819[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 12:23:29
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId820,@MxGjId821,@MxGjId822,@MxGjId823) 	
Parameters:
@MxGjId820[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId821[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId822[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId823[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 12:23:29
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode824,@ComponentCode825,@ComponentCode826,@ComponentCode827)) AND ([TbModelOtherInfo].[Type] = @Type828) 	
Parameters:
@ComponentCode824[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode825[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode826[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode827[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type828[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:24:13
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 12:24:13
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 12:24:13
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type829) AND ([TbOrganizationMap].[ProjectId] = @ProjectId830)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode831,@CompanyCode832,@CompanyCode833,@CompanyCode834,@CompanyCode835,@CompanyCode836,@CompanyCode837,@CompanyCode838)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode839))) 	
Parameters:
@Type829[Int32] = 1
@ProjectId830[String] = 6372912251695766465
@CompanyCode831[String] = 6373083923489249281
@CompanyCode832[String] = 6373083925531366080
@CompanyCode833[String] = 6373083927883400612
@CompanyCode834[String] = 6373083918575368225
@CompanyCode835[String] = 6373083920445075162
@CompanyCode836[String] = 6373083908618598731
@CompanyCode837[String] = 6373083911842783146
@CompanyCode838[String] = 6373083913928202424
@ParentCompanyCode839[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type840) AND ([TbOrganizationMap].[ProjectId] = @ProjectId841)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode842,@CompanyCode843,@CompanyCode844,@CompanyCode845,@CompanyCode846,@CompanyCode847,@CompanyCode848,@CompanyCode849)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode850))) 	
Parameters:
@Type840[Int32] = 2
@ProjectId841[String] = 6372912251695766465
@CompanyCode842[String] = 6373083923489249281
@CompanyCode843[String] = 6373083925531366080
@CompanyCode844[String] = 6373083927883400612
@CompanyCode845[String] = 6373083918575368225
@CompanyCode846[String] = 6373083920445075162
@CompanyCode847[String] = 6373083908618598731
@CompanyCode848[String] = 6373083911842783146
@CompanyCode849[String] = 6373083913928202424
@ParentCompanyCode850[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode878)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId851) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode852,@SiteCode853,@SiteCode854,@SiteCode855,@SiteCode856,@SiteCode857,@SiteCode858,@SiteCode859,@SiteCode860,@SiteCode861,@SiteCode862,@SiteCode863,@SiteCode864,@SiteCode865,@SiteCode866,@SiteCode867,@SiteCode868,@SiteCode869,@SiteCode870,@SiteCode871,@SiteCode872,@SiteCode873,@SiteCode874,@SiteCode875,@SiteCode876,@SiteCode877)))	
Parameters:
@ProjectId851[String] = 6372912251695766465
@SiteCode852[String] = 6373083923489249281
@SiteCode853[String] = 6373083925531366080
@SiteCode854[String] = 6373083927883400612
@SiteCode855[String] = 6373083918575368225
@SiteCode856[String] = 6373083920445075162
@SiteCode857[String] = 6373083908618598731
@SiteCode858[String] = 6373083911842783146
@SiteCode859[String] = 6373083913928202424
@SiteCode860[String] = 6373083877551621804
@SiteCode861[String] = 6373083879921857377
@SiteCode862[String] = 6373083881542550067
@SiteCode863[String] = 6373083883689772886
@SiteCode864[String] = 6373083887136270013
@SiteCode865[String] = 6373083889697116488
@SiteCode866[String] = 6373083891969846476
@SiteCode867[String] = 6373083894422586761
@SiteCode868[String] = 6373083897509963358
@SiteCode869[String] = 6373083900444931227
@SiteCode870[String] = 6373083829464571372
@SiteCode871[String] = 6373083833327492328
@SiteCode872[String] = 6373083841964286321
@SiteCode873[String] = 6373083844982558950
@SiteCode874[String] = 6373083847585007801
@SiteCode875[String] = 6373083856887939900
@SiteCode876[String] = 6373083859102666584
@SiteCode877[String] = 6373083864919499284
@FDictionaryCode878[String] = OrderState
@FDictionaryCode879[String] = UrgentDegree
@FDictionaryCode880[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode879) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode880) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode878)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId851) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode852,@SiteCode853,@SiteCode854,@SiteCode855,@SiteCode856,@SiteCode857,@SiteCode858,@SiteCode859,@SiteCode860,@SiteCode861,@SiteCode862,@SiteCode863,@SiteCode864,@SiteCode865,@SiteCode866,@SiteCode867,@SiteCode868,@SiteCode869,@SiteCode870,@SiteCode871,@SiteCode872,@SiteCode873,@SiteCode874,@SiteCode875,@SiteCode876,@SiteCode877))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId851[String] = 6372912251695766465
@SiteCode852[String] = 6373083923489249281
@SiteCode853[String] = 6373083925531366080
@SiteCode854[String] = 6373083927883400612
@SiteCode855[String] = 6373083918575368225
@SiteCode856[String] = 6373083920445075162
@SiteCode857[String] = 6373083908618598731
@SiteCode858[String] = 6373083911842783146
@SiteCode859[String] = 6373083913928202424
@SiteCode860[String] = 6373083877551621804
@SiteCode861[String] = 6373083879921857377
@SiteCode862[String] = 6373083881542550067
@SiteCode863[String] = 6373083883689772886
@SiteCode864[String] = 6373083887136270013
@SiteCode865[String] = 6373083889697116488
@SiteCode866[String] = 6373083891969846476
@SiteCode867[String] = 6373083894422586761
@SiteCode868[String] = 6373083897509963358
@SiteCode869[String] = 6373083900444931227
@SiteCode870[String] = 6373083829464571372
@SiteCode871[String] = 6373083833327492328
@SiteCode872[String] = 6373083841964286321
@SiteCode873[String] = 6373083844982558950
@SiteCode874[String] = 6373083847585007801
@SiteCode875[String] = 6373083856887939900
@SiteCode876[String] = 6373083859102666584
@SiteCode877[String] = 6373083864919499284
@FDictionaryCode878[String] = OrderState
@FDictionaryCode879[String] = UrgentDegree
@FDictionaryCode880[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 12:24:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 12:24:18
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:24:18
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId881) AND ([TbModelOrg].[SiteCode] IN (@SiteCode882))) 	
Parameters:
@ProjectId881[String] = 6372912251695766465
@SiteCode882[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 12:24:25
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm883,@MxGjBm884,@MxGjBm885,@MxGjBm886,@MxGjBm887) 	
Parameters:
@MxGjBm883[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm884[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm885[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm886[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm887[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 12:24:25
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode888,@ComponentCode889,@ComponentCode890,@ComponentCode891,@ComponentCode892)) AND ([TbModelOtherInfo].[Type] = @Type893) 	
Parameters:
@ComponentCode888[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode889[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode890[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode891[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode892[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type893[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 12:24:29
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId894,@MxGjId895,@MxGjId896,@MxGjId897) 	
Parameters:
@MxGjId894[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId895[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId896[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId897[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 12:24:29
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode898,@ComponentCode899,@ComponentCode900,@ComponentCode901)) AND ([TbModelOtherInfo].[Type] = @Type902) 	
Parameters:
@ComponentCode898[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode899[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode900[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode901[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type902[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:24:51
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId903) 	
Parameters:
@MxGjId903[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 12:24:51
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode904)) AND ([TbModelOtherInfo].[Type] = @Type905) 	
Parameters:
@ComponentCode904[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type905[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:24:52
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId906) 	
Parameters:
@MxGjId906[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 12:24:52
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode907)) AND ([TbModelOtherInfo].[Type] = @Type908) 	
Parameters:
@ComponentCode907[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type908[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:24:54
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId909,@MxGjId910) 	
Parameters:
@MxGjId909[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId910[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 12:24:54
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode911,@ComponentCode912)) AND ([TbModelOtherInfo].[Type] = @Type913) 	
Parameters:
@ComponentCode911[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode912[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type913[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:24:58
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId914,@MxGjId915,@MxGjId916,@MxGjId917) 	
Parameters:
@MxGjId914[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId915[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId916[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId917[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 12:24:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode918,@ComponentCode919,@ComponentCode920,@ComponentCode921)) AND ([TbModelOtherInfo].[Type] = @Type922) 	
Parameters:
@ComponentCode918[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode919[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode920[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode921[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type922[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:25:23
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId923,@MxGjId924,@MxGjId925,@MxGjId926) 	
Parameters:
@MxGjId923[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId924[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId925[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId926[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 12:25:23
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode927,@ComponentCode928,@ComponentCode929,@ComponentCode930)) AND ([TbModelOtherInfo].[Type] = @Type931) 	
Parameters:
@ComponentCode927[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode928[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode929[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode930[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type931[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:25:27
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId932,@MxGjId933,@MxGjId934,@MxGjId935) 	
Parameters:
@MxGjId932[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId933[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId934[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId935[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 12:25:27
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode936,@ComponentCode937,@ComponentCode938,@ComponentCode939)) AND ([TbModelOtherInfo].[Type] = @Type940) 	
Parameters:
@ComponentCode936[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode937[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode938[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode939[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type940[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:25:34
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId941,@MxGjId942,@MxGjId943,@MxGjId944) 	
Parameters:
@MxGjId941[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId942[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId943[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId944[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 12:25:34
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode945,@ComponentCode946,@ComponentCode947,@ComponentCode948)) AND ([TbModelOtherInfo].[Type] = @Type949) 	
Parameters:
@ComponentCode945[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode946[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode947[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode948[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type949[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:27:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:30:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:33:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:36:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:39:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:42:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:45:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:48:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:51:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:53:37
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 12:53:37
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 12:53:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type950) AND ([TbOrganizationMap].[ProjectId] = @ProjectId951)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode952,@CompanyCode953,@CompanyCode954,@CompanyCode955,@CompanyCode956,@CompanyCode957,@CompanyCode958,@CompanyCode959)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode960))) 	
Parameters:
@Type950[Int32] = 1
@ProjectId951[String] = 6372912251695766465
@CompanyCode952[String] = 6373083923489249281
@CompanyCode953[String] = 6373083925531366080
@CompanyCode954[String] = 6373083927883400612
@CompanyCode955[String] = 6373083918575368225
@CompanyCode956[String] = 6373083920445075162
@CompanyCode957[String] = 6373083908618598731
@CompanyCode958[String] = 6373083911842783146
@CompanyCode959[String] = 6373083913928202424
@ParentCompanyCode960[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type961) AND ([TbOrganizationMap].[ProjectId] = @ProjectId962)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode963,@CompanyCode964,@CompanyCode965,@CompanyCode966,@CompanyCode967,@CompanyCode968,@CompanyCode969,@CompanyCode970)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode971))) 	
Parameters:
@Type961[Int32] = 2
@ProjectId962[String] = 6372912251695766465
@CompanyCode963[String] = 6373083923489249281
@CompanyCode964[String] = 6373083925531366080
@CompanyCode965[String] = 6373083927883400612
@CompanyCode966[String] = 6373083918575368225
@CompanyCode967[String] = 6373083920445075162
@CompanyCode968[String] = 6373083908618598731
@CompanyCode969[String] = 6373083911842783146
@CompanyCode970[String] = 6373083913928202424
@ParentCompanyCode971[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode999)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId972) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode973,@SiteCode974,@SiteCode975,@SiteCode976,@SiteCode977,@SiteCode978,@SiteCode979,@SiteCode980,@SiteCode981,@SiteCode982,@SiteCode983,@SiteCode984,@SiteCode985,@SiteCode986,@SiteCode987,@SiteCode988,@SiteCode989,@SiteCode990,@SiteCode991,@SiteCode992,@SiteCode993,@SiteCode994,@SiteCode995,@SiteCode996,@SiteCode997,@SiteCode998)))	
Parameters:
@ProjectId972[String] = 6372912251695766465
@SiteCode973[String] = 6373083923489249281
@SiteCode974[String] = 6373083925531366080
@SiteCode975[String] = 6373083927883400612
@SiteCode976[String] = 6373083918575368225
@SiteCode977[String] = 6373083920445075162
@SiteCode978[String] = 6373083908618598731
@SiteCode979[String] = 6373083911842783146
@SiteCode980[String] = 6373083913928202424
@SiteCode981[String] = 6373083877551621804
@SiteCode982[String] = 6373083879921857377
@SiteCode983[String] = 6373083881542550067
@SiteCode984[String] = 6373083883689772886
@SiteCode985[String] = 6373083887136270013
@SiteCode986[String] = 6373083889697116488
@SiteCode987[String] = 6373083891969846476
@SiteCode988[String] = 6373083894422586761
@SiteCode989[String] = 6373083897509963358
@SiteCode990[String] = 6373083900444931227
@SiteCode991[String] = 6373083829464571372
@SiteCode992[String] = 6373083833327492328
@SiteCode993[String] = 6373083841964286321
@SiteCode994[String] = 6373083844982558950
@SiteCode995[String] = 6373083847585007801
@SiteCode996[String] = 6373083856887939900
@SiteCode997[String] = 6373083859102666584
@SiteCode998[String] = 6373083864919499284
@FDictionaryCode999[String] = OrderState
@FDictionaryCode1000[String] = UrgentDegree
@FDictionaryCode1001[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1000) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1001) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode999)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId972) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode973,@SiteCode974,@SiteCode975,@SiteCode976,@SiteCode977,@SiteCode978,@SiteCode979,@SiteCode980,@SiteCode981,@SiteCode982,@SiteCode983,@SiteCode984,@SiteCode985,@SiteCode986,@SiteCode987,@SiteCode988,@SiteCode989,@SiteCode990,@SiteCode991,@SiteCode992,@SiteCode993,@SiteCode994,@SiteCode995,@SiteCode996,@SiteCode997,@SiteCode998))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId972[String] = 6372912251695766465
@SiteCode973[String] = 6373083923489249281
@SiteCode974[String] = 6373083925531366080
@SiteCode975[String] = 6373083927883400612
@SiteCode976[String] = 6373083918575368225
@SiteCode977[String] = 6373083920445075162
@SiteCode978[String] = 6373083908618598731
@SiteCode979[String] = 6373083911842783146
@SiteCode980[String] = 6373083913928202424
@SiteCode981[String] = 6373083877551621804
@SiteCode982[String] = 6373083879921857377
@SiteCode983[String] = 6373083881542550067
@SiteCode984[String] = 6373083883689772886
@SiteCode985[String] = 6373083887136270013
@SiteCode986[String] = 6373083889697116488
@SiteCode987[String] = 6373083891969846476
@SiteCode988[String] = 6373083894422586761
@SiteCode989[String] = 6373083897509963358
@SiteCode990[String] = 6373083900444931227
@SiteCode991[String] = 6373083829464571372
@SiteCode992[String] = 6373083833327492328
@SiteCode993[String] = 6373083841964286321
@SiteCode994[String] = 6373083844982558950
@SiteCode995[String] = 6373083847585007801
@SiteCode996[String] = 6373083856887939900
@SiteCode997[String] = 6373083859102666584
@SiteCode998[String] = 6373083864919499284
@FDictionaryCode999[String] = OrderState
@FDictionaryCode1000[String] = UrgentDegree
@FDictionaryCode1001[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 12:53:38
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 12:53:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:53:42
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1002) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1003))) 	
Parameters:
@ProjectId1002[String] = 6372912251695766465
@SiteCode1003[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 12:53:49
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1004,@MxGjBm1005,@MxGjBm1006,@MxGjBm1007,@MxGjBm1008) 	
Parameters:
@MxGjBm1004[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1005[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1006[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1007[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1008[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 12:53:49
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1009,@ComponentCode1010,@ComponentCode1011,@ComponentCode1012,@ComponentCode1013)) AND ([TbModelOtherInfo].[Type] = @Type1014) 	
Parameters:
@ComponentCode1009[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1010[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1011[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1012[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1013[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1014[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 12:53:55
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1015,@MxGjId1016,@MxGjId1017,@MxGjId1018) 	
Parameters:
@MxGjId1015[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1016[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1017[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1018[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 12:53:55
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1019,@ComponentCode1020,@ComponentCode1021,@ComponentCode1022)) AND ([TbModelOtherInfo].[Type] = @Type1023) 	
Parameters:
@ComponentCode1019[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1020[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1021[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1022[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1023[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 12:56:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:57:12
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 12:57:12
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 12:57:12
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 12:57:12
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:57:12
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1024) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1025)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1026,@CompanyCode1027,@CompanyCode1028,@CompanyCode1029,@CompanyCode1030,@CompanyCode1031,@CompanyCode1032,@CompanyCode1033)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1034))) 	
Parameters:
@Type1024[Int32] = 1
@ProjectId1025[String] = 6372912251695766465
@CompanyCode1026[String] = 6373083923489249281
@CompanyCode1027[String] = 6373083925531366080
@CompanyCode1028[String] = 6373083927883400612
@CompanyCode1029[String] = 6373083918575368225
@CompanyCode1030[String] = 6373083920445075162
@CompanyCode1031[String] = 6373083908618598731
@CompanyCode1032[String] = 6373083911842783146
@CompanyCode1033[String] = 6373083913928202424
@ParentCompanyCode1034[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 12:57:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:57:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1035) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1036)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1037,@CompanyCode1038,@CompanyCode1039,@CompanyCode1040,@CompanyCode1041,@CompanyCode1042,@CompanyCode1043,@CompanyCode1044)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1045))) 	
Parameters:
@Type1035[Int32] = 2
@ProjectId1036[String] = 6372912251695766465
@CompanyCode1037[String] = 6373083923489249281
@CompanyCode1038[String] = 6373083925531366080
@CompanyCode1039[String] = 6373083927883400612
@CompanyCode1040[String] = 6373083918575368225
@CompanyCode1041[String] = 6373083920445075162
@CompanyCode1042[String] = 6373083908618598731
@CompanyCode1043[String] = 6373083911842783146
@CompanyCode1044[String] = 6373083913928202424
@ParentCompanyCode1045[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 12:57:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 12:57:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:57:13
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1073)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1046) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1047,@SiteCode1048,@SiteCode1049,@SiteCode1050,@SiteCode1051,@SiteCode1052,@SiteCode1053,@SiteCode1054,@SiteCode1055,@SiteCode1056,@SiteCode1057,@SiteCode1058,@SiteCode1059,@SiteCode1060,@SiteCode1061,@SiteCode1062,@SiteCode1063,@SiteCode1064,@SiteCode1065,@SiteCode1066,@SiteCode1067,@SiteCode1068,@SiteCode1069,@SiteCode1070,@SiteCode1071,@SiteCode1072)))	
Parameters:
@ProjectId1046[String] = 6372912251695766465
@SiteCode1047[String] = 6373083923489249281
@SiteCode1048[String] = 6373083925531366080
@SiteCode1049[String] = 6373083927883400612
@SiteCode1050[String] = 6373083918575368225
@SiteCode1051[String] = 6373083920445075162
@SiteCode1052[String] = 6373083908618598731
@SiteCode1053[String] = 6373083911842783146
@SiteCode1054[String] = 6373083913928202424
@SiteCode1055[String] = 6373083877551621804
@SiteCode1056[String] = 6373083879921857377
@SiteCode1057[String] = 6373083881542550067
@SiteCode1058[String] = 6373083883689772886
@SiteCode1059[String] = 6373083887136270013
@SiteCode1060[String] = 6373083889697116488
@SiteCode1061[String] = 6373083891969846476
@SiteCode1062[String] = 6373083894422586761
@SiteCode1063[String] = 6373083897509963358
@SiteCode1064[String] = 6373083900444931227
@SiteCode1065[String] = 6373083829464571372
@SiteCode1066[String] = 6373083833327492328
@SiteCode1067[String] = 6373083841964286321
@SiteCode1068[String] = 6373083844982558950
@SiteCode1069[String] = 6373083847585007801
@SiteCode1070[String] = 6373083856887939900
@SiteCode1071[String] = 6373083859102666584
@SiteCode1072[String] = 6373083864919499284
@FDictionaryCode1073[String] = OrderState
@FDictionaryCode1074[String] = UrgentDegree
@FDictionaryCode1075[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 12:57:13
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1074) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1075) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1073)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1046) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1047,@SiteCode1048,@SiteCode1049,@SiteCode1050,@SiteCode1051,@SiteCode1052,@SiteCode1053,@SiteCode1054,@SiteCode1055,@SiteCode1056,@SiteCode1057,@SiteCode1058,@SiteCode1059,@SiteCode1060,@SiteCode1061,@SiteCode1062,@SiteCode1063,@SiteCode1064,@SiteCode1065,@SiteCode1066,@SiteCode1067,@SiteCode1068,@SiteCode1069,@SiteCode1070,@SiteCode1071,@SiteCode1072))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1046[String] = 6372912251695766465
@SiteCode1047[String] = 6373083923489249281
@SiteCode1048[String] = 6373083925531366080
@SiteCode1049[String] = 6373083927883400612
@SiteCode1050[String] = 6373083918575368225
@SiteCode1051[String] = 6373083920445075162
@SiteCode1052[String] = 6373083908618598731
@SiteCode1053[String] = 6373083911842783146
@SiteCode1054[String] = 6373083913928202424
@SiteCode1055[String] = 6373083877551621804
@SiteCode1056[String] = 6373083879921857377
@SiteCode1057[String] = 6373083881542550067
@SiteCode1058[String] = 6373083883689772886
@SiteCode1059[String] = 6373083887136270013
@SiteCode1060[String] = 6373083889697116488
@SiteCode1061[String] = 6373083891969846476
@SiteCode1062[String] = 6373083894422586761
@SiteCode1063[String] = 6373083897509963358
@SiteCode1064[String] = 6373083900444931227
@SiteCode1065[String] = 6373083829464571372
@SiteCode1066[String] = 6373083833327492328
@SiteCode1067[String] = 6373083841964286321
@SiteCode1068[String] = 6373083844982558950
@SiteCode1069[String] = 6373083847585007801
@SiteCode1070[String] = 6373083856887939900
@SiteCode1071[String] = 6373083859102666584
@SiteCode1072[String] = 6373083864919499284
@FDictionaryCode1073[String] = OrderState
@FDictionaryCode1074[String] = UrgentDegree
@FDictionaryCode1075[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 12:57:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 12:57:13
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 12:57:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 12:57:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 12:57:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 12:57:17
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1076) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1077))) 	
Parameters:
@ProjectId1076[String] = 6372912251695766465
@SiteCode1077[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 12:57:23
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1078,@MxGjBm1079,@MxGjBm1080,@MxGjBm1081,@MxGjBm1082) 	
Parameters:
@MxGjBm1078[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1079[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1080[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1081[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1082[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 12:57:23
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1083,@ComponentCode1084,@ComponentCode1085,@ComponentCode1086,@ComponentCode1087)) AND ([TbModelOtherInfo].[Type] = @Type1088) 	
Parameters:
@ComponentCode1083[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1084[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1085[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1086[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1087[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1088[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 12:57:26
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1089,@MxGjId1090,@MxGjId1091,@MxGjId1092) 	
Parameters:
@MxGjId1089[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1090[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1091[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1092[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 12:57:26
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1093,@ComponentCode1094,@ComponentCode1095,@ComponentCode1096)) AND ([TbModelOtherInfo].[Type] = @Type1097) 	
Parameters:
@ComponentCode1093[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1094[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1095[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1096[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1097[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:06:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:06:20
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:06:20
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:06:21
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:06:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:06:21
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1098) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1099)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1100,@CompanyCode1101,@CompanyCode1102,@CompanyCode1103,@CompanyCode1104,@CompanyCode1105,@CompanyCode1106,@CompanyCode1107)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1108))) 	
Parameters:
@Type1098[Int32] = 1
@ProjectId1099[String] = 6372912251695766465
@CompanyCode1100[String] = 6373083923489249281
@CompanyCode1101[String] = 6373083925531366080
@CompanyCode1102[String] = 6373083927883400612
@CompanyCode1103[String] = 6373083918575368225
@CompanyCode1104[String] = 6373083920445075162
@CompanyCode1105[String] = 6373083908618598731
@CompanyCode1106[String] = 6373083911842783146
@CompanyCode1107[String] = 6373083913928202424
@ParentCompanyCode1108[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:06:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:06:21
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1109) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1110)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1111,@CompanyCode1112,@CompanyCode1113,@CompanyCode1114,@CompanyCode1115,@CompanyCode1116,@CompanyCode1117,@CompanyCode1118)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1119))) 	
Parameters:
@Type1109[Int32] = 2
@ProjectId1110[String] = 6372912251695766465
@CompanyCode1111[String] = 6373083923489249281
@CompanyCode1112[String] = 6373083925531366080
@CompanyCode1113[String] = 6373083927883400612
@CompanyCode1114[String] = 6373083918575368225
@CompanyCode1115[String] = 6373083920445075162
@CompanyCode1116[String] = 6373083908618598731
@CompanyCode1117[String] = 6373083911842783146
@CompanyCode1118[String] = 6373083913928202424
@ParentCompanyCode1119[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:06:21
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:06:21
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:06:21
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1147)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1120) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1121,@SiteCode1122,@SiteCode1123,@SiteCode1124,@SiteCode1125,@SiteCode1126,@SiteCode1127,@SiteCode1128,@SiteCode1129,@SiteCode1130,@SiteCode1131,@SiteCode1132,@SiteCode1133,@SiteCode1134,@SiteCode1135,@SiteCode1136,@SiteCode1137,@SiteCode1138,@SiteCode1139,@SiteCode1140,@SiteCode1141,@SiteCode1142,@SiteCode1143,@SiteCode1144,@SiteCode1145,@SiteCode1146)))	
Parameters:
@ProjectId1120[String] = 6372912251695766465
@SiteCode1121[String] = 6373083923489249281
@SiteCode1122[String] = 6373083925531366080
@SiteCode1123[String] = 6373083927883400612
@SiteCode1124[String] = 6373083918575368225
@SiteCode1125[String] = 6373083920445075162
@SiteCode1126[String] = 6373083908618598731
@SiteCode1127[String] = 6373083911842783146
@SiteCode1128[String] = 6373083913928202424
@SiteCode1129[String] = 6373083877551621804
@SiteCode1130[String] = 6373083879921857377
@SiteCode1131[String] = 6373083881542550067
@SiteCode1132[String] = 6373083883689772886
@SiteCode1133[String] = 6373083887136270013
@SiteCode1134[String] = 6373083889697116488
@SiteCode1135[String] = 6373083891969846476
@SiteCode1136[String] = 6373083894422586761
@SiteCode1137[String] = 6373083897509963358
@SiteCode1138[String] = 6373083900444931227
@SiteCode1139[String] = 6373083829464571372
@SiteCode1140[String] = 6373083833327492328
@SiteCode1141[String] = 6373083841964286321
@SiteCode1142[String] = 6373083844982558950
@SiteCode1143[String] = 6373083847585007801
@SiteCode1144[String] = 6373083856887939900
@SiteCode1145[String] = 6373083859102666584
@SiteCode1146[String] = 6373083864919499284
@FDictionaryCode1147[String] = OrderState
@FDictionaryCode1148[String] = UrgentDegree
@FDictionaryCode1149[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:06:21
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1148) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1149) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1147)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1120) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1121,@SiteCode1122,@SiteCode1123,@SiteCode1124,@SiteCode1125,@SiteCode1126,@SiteCode1127,@SiteCode1128,@SiteCode1129,@SiteCode1130,@SiteCode1131,@SiteCode1132,@SiteCode1133,@SiteCode1134,@SiteCode1135,@SiteCode1136,@SiteCode1137,@SiteCode1138,@SiteCode1139,@SiteCode1140,@SiteCode1141,@SiteCode1142,@SiteCode1143,@SiteCode1144,@SiteCode1145,@SiteCode1146))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1120[String] = 6372912251695766465
@SiteCode1121[String] = 6373083923489249281
@SiteCode1122[String] = 6373083925531366080
@SiteCode1123[String] = 6373083927883400612
@SiteCode1124[String] = 6373083918575368225
@SiteCode1125[String] = 6373083920445075162
@SiteCode1126[String] = 6373083908618598731
@SiteCode1127[String] = 6373083911842783146
@SiteCode1128[String] = 6373083913928202424
@SiteCode1129[String] = 6373083877551621804
@SiteCode1130[String] = 6373083879921857377
@SiteCode1131[String] = 6373083881542550067
@SiteCode1132[String] = 6373083883689772886
@SiteCode1133[String] = 6373083887136270013
@SiteCode1134[String] = 6373083889697116488
@SiteCode1135[String] = 6373083891969846476
@SiteCode1136[String] = 6373083894422586761
@SiteCode1137[String] = 6373083897509963358
@SiteCode1138[String] = 6373083900444931227
@SiteCode1139[String] = 6373083829464571372
@SiteCode1140[String] = 6373083833327492328
@SiteCode1141[String] = 6373083841964286321
@SiteCode1142[String] = 6373083844982558950
@SiteCode1143[String] = 6373083847585007801
@SiteCode1144[String] = 6373083856887939900
@SiteCode1145[String] = 6373083859102666584
@SiteCode1146[String] = 6373083864919499284
@FDictionaryCode1147[String] = OrderState
@FDictionaryCode1148[String] = UrgentDegree
@FDictionaryCode1149[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:06:22
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:06:22
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:06:22
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:06:22
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:06:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:06:25
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1150) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1151))) 	
Parameters:
@ProjectId1150[String] = 6372912251695766465
@SiteCode1151[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 13:06:32
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1152,@MxGjBm1153,@MxGjBm1154,@MxGjBm1155,@MxGjBm1156) 	
Parameters:
@MxGjBm1152[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1153[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1154[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1155[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1156[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 13:06:32
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1157,@ComponentCode1158,@ComponentCode1159,@ComponentCode1160,@ComponentCode1161)) AND ([TbModelOtherInfo].[Type] = @Type1162) 	
Parameters:
@ComponentCode1157[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1158[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1159[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1160[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1161[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1162[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 13:06:37
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1163,@MxGjId1164,@MxGjId1165,@MxGjId1166) 	
Parameters:
@MxGjId1163[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1164[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1165[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1166[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:06:37
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1167,@ComponentCode1168,@ComponentCode1169,@ComponentCode1170)) AND ([TbModelOtherInfo].[Type] = @Type1171) 	
Parameters:
@ComponentCode1167[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1168[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1169[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1170[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1171[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:07:40
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:07:40
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:07:40
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:07:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:07:41
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1172) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1173)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1174,@CompanyCode1175,@CompanyCode1176,@CompanyCode1177,@CompanyCode1178,@CompanyCode1179,@CompanyCode1180,@CompanyCode1181)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1182))) 	
Parameters:
@Type1172[Int32] = 1
@ProjectId1173[String] = 6372912251695766465
@CompanyCode1174[String] = 6373083923489249281
@CompanyCode1175[String] = 6373083925531366080
@CompanyCode1176[String] = 6373083927883400612
@CompanyCode1177[String] = 6373083918575368225
@CompanyCode1178[String] = 6373083920445075162
@CompanyCode1179[String] = 6373083908618598731
@CompanyCode1180[String] = 6373083911842783146
@CompanyCode1181[String] = 6373083913928202424
@ParentCompanyCode1182[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:07:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:07:41
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1183) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1184)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1185,@CompanyCode1186,@CompanyCode1187,@CompanyCode1188,@CompanyCode1189,@CompanyCode1190,@CompanyCode1191,@CompanyCode1192)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1193))) 	
Parameters:
@Type1183[Int32] = 2
@ProjectId1184[String] = 6372912251695766465
@CompanyCode1185[String] = 6373083923489249281
@CompanyCode1186[String] = 6373083925531366080
@CompanyCode1187[String] = 6373083927883400612
@CompanyCode1188[String] = 6373083918575368225
@CompanyCode1189[String] = 6373083920445075162
@CompanyCode1190[String] = 6373083908618598731
@CompanyCode1191[String] = 6373083911842783146
@CompanyCode1192[String] = 6373083913928202424
@ParentCompanyCode1193[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:07:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:07:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:07:41
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1221)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1194) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1195,@SiteCode1196,@SiteCode1197,@SiteCode1198,@SiteCode1199,@SiteCode1200,@SiteCode1201,@SiteCode1202,@SiteCode1203,@SiteCode1204,@SiteCode1205,@SiteCode1206,@SiteCode1207,@SiteCode1208,@SiteCode1209,@SiteCode1210,@SiteCode1211,@SiteCode1212,@SiteCode1213,@SiteCode1214,@SiteCode1215,@SiteCode1216,@SiteCode1217,@SiteCode1218,@SiteCode1219,@SiteCode1220)))	
Parameters:
@ProjectId1194[String] = 6372912251695766465
@SiteCode1195[String] = 6373083923489249281
@SiteCode1196[String] = 6373083925531366080
@SiteCode1197[String] = 6373083927883400612
@SiteCode1198[String] = 6373083918575368225
@SiteCode1199[String] = 6373083920445075162
@SiteCode1200[String] = 6373083908618598731
@SiteCode1201[String] = 6373083911842783146
@SiteCode1202[String] = 6373083913928202424
@SiteCode1203[String] = 6373083877551621804
@SiteCode1204[String] = 6373083879921857377
@SiteCode1205[String] = 6373083881542550067
@SiteCode1206[String] = 6373083883689772886
@SiteCode1207[String] = 6373083887136270013
@SiteCode1208[String] = 6373083889697116488
@SiteCode1209[String] = 6373083891969846476
@SiteCode1210[String] = 6373083894422586761
@SiteCode1211[String] = 6373083897509963358
@SiteCode1212[String] = 6373083900444931227
@SiteCode1213[String] = 6373083829464571372
@SiteCode1214[String] = 6373083833327492328
@SiteCode1215[String] = 6373083841964286321
@SiteCode1216[String] = 6373083844982558950
@SiteCode1217[String] = 6373083847585007801
@SiteCode1218[String] = 6373083856887939900
@SiteCode1219[String] = 6373083859102666584
@SiteCode1220[String] = 6373083864919499284
@FDictionaryCode1221[String] = OrderState
@FDictionaryCode1222[String] = UrgentDegree
@FDictionaryCode1223[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:07:41
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1222) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1223) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1221)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1194) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1195,@SiteCode1196,@SiteCode1197,@SiteCode1198,@SiteCode1199,@SiteCode1200,@SiteCode1201,@SiteCode1202,@SiteCode1203,@SiteCode1204,@SiteCode1205,@SiteCode1206,@SiteCode1207,@SiteCode1208,@SiteCode1209,@SiteCode1210,@SiteCode1211,@SiteCode1212,@SiteCode1213,@SiteCode1214,@SiteCode1215,@SiteCode1216,@SiteCode1217,@SiteCode1218,@SiteCode1219,@SiteCode1220))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1194[String] = 6372912251695766465
@SiteCode1195[String] = 6373083923489249281
@SiteCode1196[String] = 6373083925531366080
@SiteCode1197[String] = 6373083927883400612
@SiteCode1198[String] = 6373083918575368225
@SiteCode1199[String] = 6373083920445075162
@SiteCode1200[String] = 6373083908618598731
@SiteCode1201[String] = 6373083911842783146
@SiteCode1202[String] = 6373083913928202424
@SiteCode1203[String] = 6373083877551621804
@SiteCode1204[String] = 6373083879921857377
@SiteCode1205[String] = 6373083881542550067
@SiteCode1206[String] = 6373083883689772886
@SiteCode1207[String] = 6373083887136270013
@SiteCode1208[String] = 6373083889697116488
@SiteCode1209[String] = 6373083891969846476
@SiteCode1210[String] = 6373083894422586761
@SiteCode1211[String] = 6373083897509963358
@SiteCode1212[String] = 6373083900444931227
@SiteCode1213[String] = 6373083829464571372
@SiteCode1214[String] = 6373083833327492328
@SiteCode1215[String] = 6373083841964286321
@SiteCode1216[String] = 6373083844982558950
@SiteCode1217[String] = 6373083847585007801
@SiteCode1218[String] = 6373083856887939900
@SiteCode1219[String] = 6373083859102666584
@SiteCode1220[String] = 6373083864919499284
@FDictionaryCode1221[String] = OrderState
@FDictionaryCode1222[String] = UrgentDegree
@FDictionaryCode1223[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:07:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:07:42
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:07:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:07:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:07:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:07:48
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1224) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1225))) 	
Parameters:
@ProjectId1224[String] = 6372912251695766465
@SiteCode1225[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 13:07:56
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1226,@MxGjBm1227,@MxGjBm1228,@MxGjBm1229,@MxGjBm1230) 	
Parameters:
@MxGjBm1226[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1227[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1228[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1229[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1230[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 13:07:56
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1231,@ComponentCode1232,@ComponentCode1233,@ComponentCode1234,@ComponentCode1235)) AND ([TbModelOtherInfo].[Type] = @Type1236) 	
Parameters:
@ComponentCode1231[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1232[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1233[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1234[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1235[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1236[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 13:07:58
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1237,@MxGjId1238,@MxGjId1239,@MxGjId1240) 	
Parameters:
@MxGjId1237[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1238[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1239[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1240[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:07:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1241,@ComponentCode1242,@ComponentCode1243,@ComponentCode1244)) AND ([TbModelOtherInfo].[Type] = @Type1245) 	
Parameters:
@ComponentCode1241[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1242[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1243[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1244[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1245[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:10:26
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:10:26
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:10:26
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:10:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:10:27
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1246) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1247)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1248,@CompanyCode1249,@CompanyCode1250,@CompanyCode1251,@CompanyCode1252,@CompanyCode1253,@CompanyCode1254,@CompanyCode1255)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1256))) 	
Parameters:
@Type1246[Int32] = 1
@ProjectId1247[String] = 6372912251695766465
@CompanyCode1248[String] = 6373083923489249281
@CompanyCode1249[String] = 6373083925531366080
@CompanyCode1250[String] = 6373083927883400612
@CompanyCode1251[String] = 6373083918575368225
@CompanyCode1252[String] = 6373083920445075162
@CompanyCode1253[String] = 6373083908618598731
@CompanyCode1254[String] = 6373083911842783146
@CompanyCode1255[String] = 6373083913928202424
@ParentCompanyCode1256[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:10:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:10:27
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1257) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1258)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1259,@CompanyCode1260,@CompanyCode1261,@CompanyCode1262,@CompanyCode1263,@CompanyCode1264,@CompanyCode1265,@CompanyCode1266)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1267))) 	
Parameters:
@Type1257[Int32] = 2
@ProjectId1258[String] = 6372912251695766465
@CompanyCode1259[String] = 6373083923489249281
@CompanyCode1260[String] = 6373083925531366080
@CompanyCode1261[String] = 6373083927883400612
@CompanyCode1262[String] = 6373083918575368225
@CompanyCode1263[String] = 6373083920445075162
@CompanyCode1264[String] = 6373083908618598731
@CompanyCode1265[String] = 6373083911842783146
@CompanyCode1266[String] = 6373083913928202424
@ParentCompanyCode1267[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:10:27
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:10:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:10:27
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1295)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1268) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1269,@SiteCode1270,@SiteCode1271,@SiteCode1272,@SiteCode1273,@SiteCode1274,@SiteCode1275,@SiteCode1276,@SiteCode1277,@SiteCode1278,@SiteCode1279,@SiteCode1280,@SiteCode1281,@SiteCode1282,@SiteCode1283,@SiteCode1284,@SiteCode1285,@SiteCode1286,@SiteCode1287,@SiteCode1288,@SiteCode1289,@SiteCode1290,@SiteCode1291,@SiteCode1292,@SiteCode1293,@SiteCode1294)))	
Parameters:
@ProjectId1268[String] = 6372912251695766465
@SiteCode1269[String] = 6373083923489249281
@SiteCode1270[String] = 6373083925531366080
@SiteCode1271[String] = 6373083927883400612
@SiteCode1272[String] = 6373083918575368225
@SiteCode1273[String] = 6373083920445075162
@SiteCode1274[String] = 6373083908618598731
@SiteCode1275[String] = 6373083911842783146
@SiteCode1276[String] = 6373083913928202424
@SiteCode1277[String] = 6373083877551621804
@SiteCode1278[String] = 6373083879921857377
@SiteCode1279[String] = 6373083881542550067
@SiteCode1280[String] = 6373083883689772886
@SiteCode1281[String] = 6373083887136270013
@SiteCode1282[String] = 6373083889697116488
@SiteCode1283[String] = 6373083891969846476
@SiteCode1284[String] = 6373083894422586761
@SiteCode1285[String] = 6373083897509963358
@SiteCode1286[String] = 6373083900444931227
@SiteCode1287[String] = 6373083829464571372
@SiteCode1288[String] = 6373083833327492328
@SiteCode1289[String] = 6373083841964286321
@SiteCode1290[String] = 6373083844982558950
@SiteCode1291[String] = 6373083847585007801
@SiteCode1292[String] = 6373083856887939900
@SiteCode1293[String] = 6373083859102666584
@SiteCode1294[String] = 6373083864919499284
@FDictionaryCode1295[String] = OrderState
@FDictionaryCode1296[String] = UrgentDegree
@FDictionaryCode1297[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:10:27
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1296) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1297) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1295)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1268) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1269,@SiteCode1270,@SiteCode1271,@SiteCode1272,@SiteCode1273,@SiteCode1274,@SiteCode1275,@SiteCode1276,@SiteCode1277,@SiteCode1278,@SiteCode1279,@SiteCode1280,@SiteCode1281,@SiteCode1282,@SiteCode1283,@SiteCode1284,@SiteCode1285,@SiteCode1286,@SiteCode1287,@SiteCode1288,@SiteCode1289,@SiteCode1290,@SiteCode1291,@SiteCode1292,@SiteCode1293,@SiteCode1294))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1268[String] = 6372912251695766465
@SiteCode1269[String] = 6373083923489249281
@SiteCode1270[String] = 6373083925531366080
@SiteCode1271[String] = 6373083927883400612
@SiteCode1272[String] = 6373083918575368225
@SiteCode1273[String] = 6373083920445075162
@SiteCode1274[String] = 6373083908618598731
@SiteCode1275[String] = 6373083911842783146
@SiteCode1276[String] = 6373083913928202424
@SiteCode1277[String] = 6373083877551621804
@SiteCode1278[String] = 6373083879921857377
@SiteCode1279[String] = 6373083881542550067
@SiteCode1280[String] = 6373083883689772886
@SiteCode1281[String] = 6373083887136270013
@SiteCode1282[String] = 6373083889697116488
@SiteCode1283[String] = 6373083891969846476
@SiteCode1284[String] = 6373083894422586761
@SiteCode1285[String] = 6373083897509963358
@SiteCode1286[String] = 6373083900444931227
@SiteCode1287[String] = 6373083829464571372
@SiteCode1288[String] = 6373083833327492328
@SiteCode1289[String] = 6373083841964286321
@SiteCode1290[String] = 6373083844982558950
@SiteCode1291[String] = 6373083847585007801
@SiteCode1292[String] = 6373083856887939900
@SiteCode1293[String] = 6373083859102666584
@SiteCode1294[String] = 6373083864919499284
@FDictionaryCode1295[String] = OrderState
@FDictionaryCode1296[String] = UrgentDegree
@FDictionaryCode1297[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:10:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:10:28
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:10:28
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:10:28
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:10:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:10:32
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1298) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1299))) 	
Parameters:
@ProjectId1298[String] = 6372912251695766465
@SiteCode1299[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 13:10:40
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1300,@MxGjBm1301,@MxGjBm1302,@MxGjBm1303,@MxGjBm1304) 	
Parameters:
@MxGjBm1300[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1301[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1302[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1303[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1304[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 13:10:40
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1305,@ComponentCode1306,@ComponentCode1307,@ComponentCode1308,@ComponentCode1309)) AND ([TbModelOtherInfo].[Type] = @Type1310) 	
Parameters:
@ComponentCode1305[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1306[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1307[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1308[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1309[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1310[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 13:10:55
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1311,@MxGjId1312,@MxGjId1313,@MxGjId1314) 	
Parameters:
@MxGjId1311[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1312[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1313[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1314[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:10:55
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1315,@ComponentCode1316,@ComponentCode1317,@ComponentCode1318)) AND ([TbModelOtherInfo].[Type] = @Type1319) 	
Parameters:
@ComponentCode1315[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1316[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1317[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1318[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1319[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:11:06
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1320,@MxGjId1321,@MxGjId1322,@MxGjId1323) 	
Parameters:
@MxGjId1320[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1321[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1322[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1323[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:11:06
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1324,@ComponentCode1325,@ComponentCode1326,@ComponentCode1327)) AND ([TbModelOtherInfo].[Type] = @Type1328) 	
Parameters:
@ComponentCode1324[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1325[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1326[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1327[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1328[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:13:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:16:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:19:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:22:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:25:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:27:24
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:27:24
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:27:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:27:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:27:25
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1329) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1330)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1331,@CompanyCode1332,@CompanyCode1333,@CompanyCode1334,@CompanyCode1335,@CompanyCode1336,@CompanyCode1337,@CompanyCode1338)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1339))) 	
Parameters:
@Type1329[Int32] = 1
@ProjectId1330[String] = 6372912251695766465
@CompanyCode1331[String] = 6373083923489249281
@CompanyCode1332[String] = 6373083925531366080
@CompanyCode1333[String] = 6373083927883400612
@CompanyCode1334[String] = 6373083918575368225
@CompanyCode1335[String] = 6373083920445075162
@CompanyCode1336[String] = 6373083908618598731
@CompanyCode1337[String] = 6373083911842783146
@CompanyCode1338[String] = 6373083913928202424
@ParentCompanyCode1339[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:27:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:27:25
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1340) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1341)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1342,@CompanyCode1343,@CompanyCode1344,@CompanyCode1345,@CompanyCode1346,@CompanyCode1347,@CompanyCode1348,@CompanyCode1349)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1350))) 	
Parameters:
@Type1340[Int32] = 2
@ProjectId1341[String] = 6372912251695766465
@CompanyCode1342[String] = 6373083923489249281
@CompanyCode1343[String] = 6373083925531366080
@CompanyCode1344[String] = 6373083927883400612
@CompanyCode1345[String] = 6373083918575368225
@CompanyCode1346[String] = 6373083920445075162
@CompanyCode1347[String] = 6373083908618598731
@CompanyCode1348[String] = 6373083911842783146
@CompanyCode1349[String] = 6373083913928202424
@ParentCompanyCode1350[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:27:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:27:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:27:25
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1378)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1351) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1352,@SiteCode1353,@SiteCode1354,@SiteCode1355,@SiteCode1356,@SiteCode1357,@SiteCode1358,@SiteCode1359,@SiteCode1360,@SiteCode1361,@SiteCode1362,@SiteCode1363,@SiteCode1364,@SiteCode1365,@SiteCode1366,@SiteCode1367,@SiteCode1368,@SiteCode1369,@SiteCode1370,@SiteCode1371,@SiteCode1372,@SiteCode1373,@SiteCode1374,@SiteCode1375,@SiteCode1376,@SiteCode1377)))	
Parameters:
@ProjectId1351[String] = 6372912251695766465
@SiteCode1352[String] = 6373083923489249281
@SiteCode1353[String] = 6373083925531366080
@SiteCode1354[String] = 6373083927883400612
@SiteCode1355[String] = 6373083918575368225
@SiteCode1356[String] = 6373083920445075162
@SiteCode1357[String] = 6373083908618598731
@SiteCode1358[String] = 6373083911842783146
@SiteCode1359[String] = 6373083913928202424
@SiteCode1360[String] = 6373083877551621804
@SiteCode1361[String] = 6373083879921857377
@SiteCode1362[String] = 6373083881542550067
@SiteCode1363[String] = 6373083883689772886
@SiteCode1364[String] = 6373083887136270013
@SiteCode1365[String] = 6373083889697116488
@SiteCode1366[String] = 6373083891969846476
@SiteCode1367[String] = 6373083894422586761
@SiteCode1368[String] = 6373083897509963358
@SiteCode1369[String] = 6373083900444931227
@SiteCode1370[String] = 6373083829464571372
@SiteCode1371[String] = 6373083833327492328
@SiteCode1372[String] = 6373083841964286321
@SiteCode1373[String] = 6373083844982558950
@SiteCode1374[String] = 6373083847585007801
@SiteCode1375[String] = 6373083856887939900
@SiteCode1376[String] = 6373083859102666584
@SiteCode1377[String] = 6373083864919499284
@FDictionaryCode1378[String] = OrderState
@FDictionaryCode1379[String] = UrgentDegree
@FDictionaryCode1380[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:27:25
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1379) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1380) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1378)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1351) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1352,@SiteCode1353,@SiteCode1354,@SiteCode1355,@SiteCode1356,@SiteCode1357,@SiteCode1358,@SiteCode1359,@SiteCode1360,@SiteCode1361,@SiteCode1362,@SiteCode1363,@SiteCode1364,@SiteCode1365,@SiteCode1366,@SiteCode1367,@SiteCode1368,@SiteCode1369,@SiteCode1370,@SiteCode1371,@SiteCode1372,@SiteCode1373,@SiteCode1374,@SiteCode1375,@SiteCode1376,@SiteCode1377))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1351[String] = 6372912251695766465
@SiteCode1352[String] = 6373083923489249281
@SiteCode1353[String] = 6373083925531366080
@SiteCode1354[String] = 6373083927883400612
@SiteCode1355[String] = 6373083918575368225
@SiteCode1356[String] = 6373083920445075162
@SiteCode1357[String] = 6373083908618598731
@SiteCode1358[String] = 6373083911842783146
@SiteCode1359[String] = 6373083913928202424
@SiteCode1360[String] = 6373083877551621804
@SiteCode1361[String] = 6373083879921857377
@SiteCode1362[String] = 6373083881542550067
@SiteCode1363[String] = 6373083883689772886
@SiteCode1364[String] = 6373083887136270013
@SiteCode1365[String] = 6373083889697116488
@SiteCode1366[String] = 6373083891969846476
@SiteCode1367[String] = 6373083894422586761
@SiteCode1368[String] = 6373083897509963358
@SiteCode1369[String] = 6373083900444931227
@SiteCode1370[String] = 6373083829464571372
@SiteCode1371[String] = 6373083833327492328
@SiteCode1372[String] = 6373083841964286321
@SiteCode1373[String] = 6373083844982558950
@SiteCode1374[String] = 6373083847585007801
@SiteCode1375[String] = 6373083856887939900
@SiteCode1376[String] = 6373083859102666584
@SiteCode1377[String] = 6373083864919499284
@FDictionaryCode1378[String] = OrderState
@FDictionaryCode1379[String] = UrgentDegree
@FDictionaryCode1380[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:27:26
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:27:26
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:27:26
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:27:26
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:27:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:27:51
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1381) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1382))) 	
Parameters:
@ProjectId1381[String] = 6372912251695766465
@SiteCode1382[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 13:30:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:33:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:36:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:39:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:40:07
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1383,@MxGjBm1384,@MxGjBm1385,@MxGjBm1386,@MxGjBm1387) 	
Parameters:
@MxGjBm1383[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1384[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1385[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1386[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1387[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 13:40:07
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1388,@ComponentCode1389,@ComponentCode1390,@ComponentCode1391,@ComponentCode1392)) AND ([TbModelOtherInfo].[Type] = @Type1393) 	
Parameters:
@ComponentCode1388[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1389[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1390[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1391[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1392[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1393[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 13:40:13
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1394,@MxGjId1395,@MxGjId1396,@MxGjId1397) 	
Parameters:
@MxGjId1394[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1395[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1396[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1397[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:40:13
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1398,@ComponentCode1399,@ComponentCode1400,@ComponentCode1401)) AND ([TbModelOtherInfo].[Type] = @Type1402) 	
Parameters:
@ComponentCode1398[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1399[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1400[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1401[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1402[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:42:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:42:34
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:42:34
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:42:34
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:42:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:42:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1403) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1404)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1405,@CompanyCode1406,@CompanyCode1407,@CompanyCode1408,@CompanyCode1409,@CompanyCode1410,@CompanyCode1411,@CompanyCode1412)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1413))) 	
Parameters:
@Type1403[Int32] = 1
@ProjectId1404[String] = 6372912251695766465
@CompanyCode1405[String] = 6373083923489249281
@CompanyCode1406[String] = 6373083925531366080
@CompanyCode1407[String] = 6373083927883400612
@CompanyCode1408[String] = 6373083918575368225
@CompanyCode1409[String] = 6373083920445075162
@CompanyCode1410[String] = 6373083908618598731
@CompanyCode1411[String] = 6373083911842783146
@CompanyCode1412[String] = 6373083913928202424
@ParentCompanyCode1413[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:42:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:42:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1414) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1415)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1416,@CompanyCode1417,@CompanyCode1418,@CompanyCode1419,@CompanyCode1420,@CompanyCode1421,@CompanyCode1422,@CompanyCode1423)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1424))) 	
Parameters:
@Type1414[Int32] = 2
@ProjectId1415[String] = 6372912251695766465
@CompanyCode1416[String] = 6373083923489249281
@CompanyCode1417[String] = 6373083925531366080
@CompanyCode1418[String] = 6373083927883400612
@CompanyCode1419[String] = 6373083918575368225
@CompanyCode1420[String] = 6373083920445075162
@CompanyCode1421[String] = 6373083908618598731
@CompanyCode1422[String] = 6373083911842783146
@CompanyCode1423[String] = 6373083913928202424
@ParentCompanyCode1424[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:42:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:42:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:42:35
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1452)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1425) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1426,@SiteCode1427,@SiteCode1428,@SiteCode1429,@SiteCode1430,@SiteCode1431,@SiteCode1432,@SiteCode1433,@SiteCode1434,@SiteCode1435,@SiteCode1436,@SiteCode1437,@SiteCode1438,@SiteCode1439,@SiteCode1440,@SiteCode1441,@SiteCode1442,@SiteCode1443,@SiteCode1444,@SiteCode1445,@SiteCode1446,@SiteCode1447,@SiteCode1448,@SiteCode1449,@SiteCode1450,@SiteCode1451)))	
Parameters:
@ProjectId1425[String] = 6372912251695766465
@SiteCode1426[String] = 6373083923489249281
@SiteCode1427[String] = 6373083925531366080
@SiteCode1428[String] = 6373083927883400612
@SiteCode1429[String] = 6373083918575368225
@SiteCode1430[String] = 6373083920445075162
@SiteCode1431[String] = 6373083908618598731
@SiteCode1432[String] = 6373083911842783146
@SiteCode1433[String] = 6373083913928202424
@SiteCode1434[String] = 6373083877551621804
@SiteCode1435[String] = 6373083879921857377
@SiteCode1436[String] = 6373083881542550067
@SiteCode1437[String] = 6373083883689772886
@SiteCode1438[String] = 6373083887136270013
@SiteCode1439[String] = 6373083889697116488
@SiteCode1440[String] = 6373083891969846476
@SiteCode1441[String] = 6373083894422586761
@SiteCode1442[String] = 6373083897509963358
@SiteCode1443[String] = 6373083900444931227
@SiteCode1444[String] = 6373083829464571372
@SiteCode1445[String] = 6373083833327492328
@SiteCode1446[String] = 6373083841964286321
@SiteCode1447[String] = 6373083844982558950
@SiteCode1448[String] = 6373083847585007801
@SiteCode1449[String] = 6373083856887939900
@SiteCode1450[String] = 6373083859102666584
@SiteCode1451[String] = 6373083864919499284
@FDictionaryCode1452[String] = OrderState
@FDictionaryCode1453[String] = UrgentDegree
@FDictionaryCode1454[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:42:35
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1453) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1454) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1452)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1425) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1426,@SiteCode1427,@SiteCode1428,@SiteCode1429,@SiteCode1430,@SiteCode1431,@SiteCode1432,@SiteCode1433,@SiteCode1434,@SiteCode1435,@SiteCode1436,@SiteCode1437,@SiteCode1438,@SiteCode1439,@SiteCode1440,@SiteCode1441,@SiteCode1442,@SiteCode1443,@SiteCode1444,@SiteCode1445,@SiteCode1446,@SiteCode1447,@SiteCode1448,@SiteCode1449,@SiteCode1450,@SiteCode1451))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1425[String] = 6372912251695766465
@SiteCode1426[String] = 6373083923489249281
@SiteCode1427[String] = 6373083925531366080
@SiteCode1428[String] = 6373083927883400612
@SiteCode1429[String] = 6373083918575368225
@SiteCode1430[String] = 6373083920445075162
@SiteCode1431[String] = 6373083908618598731
@SiteCode1432[String] = 6373083911842783146
@SiteCode1433[String] = 6373083913928202424
@SiteCode1434[String] = 6373083877551621804
@SiteCode1435[String] = 6373083879921857377
@SiteCode1436[String] = 6373083881542550067
@SiteCode1437[String] = 6373083883689772886
@SiteCode1438[String] = 6373083887136270013
@SiteCode1439[String] = 6373083889697116488
@SiteCode1440[String] = 6373083891969846476
@SiteCode1441[String] = 6373083894422586761
@SiteCode1442[String] = 6373083897509963358
@SiteCode1443[String] = 6373083900444931227
@SiteCode1444[String] = 6373083829464571372
@SiteCode1445[String] = 6373083833327492328
@SiteCode1446[String] = 6373083841964286321
@SiteCode1447[String] = 6373083844982558950
@SiteCode1448[String] = 6373083847585007801
@SiteCode1449[String] = 6373083856887939900
@SiteCode1450[String] = 6373083859102666584
@SiteCode1451[String] = 6373083864919499284
@FDictionaryCode1452[String] = OrderState
@FDictionaryCode1453[String] = UrgentDegree
@FDictionaryCode1454[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:42:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:42:36
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:42:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:42:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:44:08
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:44:08
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:44:08
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3,@CompanyCode4,@CompanyCode5,@CompanyCode6,@CompanyCode7,@CompanyCode8,@CompanyCode9,@CompanyCode10)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode11))) 	
Parameters:
@Type1[Int32] = 1
@ProjectId2[String] = 6372912251695766465
@CompanyCode3[String] = 6373083923489249281
@CompanyCode4[String] = 6373083925531366080
@CompanyCode5[String] = 6373083927883400612
@CompanyCode6[String] = 6373083918575368225
@CompanyCode7[String] = 6373083920445075162
@CompanyCode8[String] = 6373083908618598731
@CompanyCode9[String] = 6373083911842783146
@CompanyCode10[String] = 6373083913928202424
@ParentCompanyCode11[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type12) AND ([TbOrganizationMap].[ProjectId] = @ProjectId13)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode22))) 	
Parameters:
@Type12[Int32] = 2
@ProjectId13[String] = 6372912251695766465
@CompanyCode14[String] = 6373083923489249281
@CompanyCode15[String] = 6373083925531366080
@CompanyCode16[String] = 6373083927883400612
@CompanyCode17[String] = 6373083918575368225
@CompanyCode18[String] = 6373083920445075162
@CompanyCode19[String] = 6373083908618598731
@CompanyCode20[String] = 6373083911842783146
@CompanyCode21[String] = 6373083913928202424
@ParentCompanyCode22[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49)))	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode51) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode52) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:44:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:45:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:45:40
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId53) AND ([TbModelOrg].[SiteCode] IN (@SiteCode54))) 	
Parameters:
@ProjectId53[String] = 6372912251695766465
@SiteCode54[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 13:47:08
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:49:32
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm55,@MxGjBm56,@MxGjBm57,@MxGjBm58,@MxGjBm59) 	
Parameters:
@MxGjBm55[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm56[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm57[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm58[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm59[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 13:49:32
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode60,@ComponentCode61,@ComponentCode62,@ComponentCode63,@ComponentCode64)) AND ([TbModelOtherInfo].[Type] = @Type65) 	
Parameters:
@ComponentCode60[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode61[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode62[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode63[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode64[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type65[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 13:49:37
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId66,@MxGjId67,@MxGjId68,@MxGjId69) 	
Parameters:
@MxGjId66[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId67[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId68[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId69[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:49:37
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode70,@ComponentCode71,@ComponentCode72,@ComponentCode73)) AND ([TbModelOtherInfo].[Type] = @Type74) 	
Parameters:
@ComponentCode70[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode71[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode72[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode73[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type74[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:50:08
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:50:54
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:50:54
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:50:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type75) AND ([TbOrganizationMap].[ProjectId] = @ProjectId76)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode77,@CompanyCode78,@CompanyCode79,@CompanyCode80,@CompanyCode81,@CompanyCode82,@CompanyCode83,@CompanyCode84)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode85))) 	
Parameters:
@Type75[Int32] = 1
@ProjectId76[String] = 6372912251695766465
@CompanyCode77[String] = 6373083923489249281
@CompanyCode78[String] = 6373083925531366080
@CompanyCode79[String] = 6373083927883400612
@CompanyCode80[String] = 6373083918575368225
@CompanyCode81[String] = 6373083920445075162
@CompanyCode82[String] = 6373083908618598731
@CompanyCode83[String] = 6373083911842783146
@CompanyCode84[String] = 6373083913928202424
@ParentCompanyCode85[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type86) AND ([TbOrganizationMap].[ProjectId] = @ProjectId87)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode88,@CompanyCode89,@CompanyCode90,@CompanyCode91,@CompanyCode92,@CompanyCode93,@CompanyCode94,@CompanyCode95)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode96))) 	
Parameters:
@Type86[Int32] = 2
@ProjectId87[String] = 6372912251695766465
@CompanyCode88[String] = 6373083923489249281
@CompanyCode89[String] = 6373083925531366080
@CompanyCode90[String] = 6373083927883400612
@CompanyCode91[String] = 6373083918575368225
@CompanyCode92[String] = 6373083920445075162
@CompanyCode93[String] = 6373083908618598731
@CompanyCode94[String] = 6373083911842783146
@CompanyCode95[String] = 6373083913928202424
@ParentCompanyCode96[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode124)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId97) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123)))	
Parameters:
@ProjectId97[String] = 6372912251695766465
@SiteCode98[String] = 6373083923489249281
@SiteCode99[String] = 6373083925531366080
@SiteCode100[String] = 6373083927883400612
@SiteCode101[String] = 6373083918575368225
@SiteCode102[String] = 6373083920445075162
@SiteCode103[String] = 6373083908618598731
@SiteCode104[String] = 6373083911842783146
@SiteCode105[String] = 6373083913928202424
@SiteCode106[String] = 6373083877551621804
@SiteCode107[String] = 6373083879921857377
@SiteCode108[String] = 6373083881542550067
@SiteCode109[String] = 6373083883689772886
@SiteCode110[String] = 6373083887136270013
@SiteCode111[String] = 6373083889697116488
@SiteCode112[String] = 6373083891969846476
@SiteCode113[String] = 6373083894422586761
@SiteCode114[String] = 6373083897509963358
@SiteCode115[String] = 6373083900444931227
@SiteCode116[String] = 6373083829464571372
@SiteCode117[String] = 6373083833327492328
@SiteCode118[String] = 6373083841964286321
@SiteCode119[String] = 6373083844982558950
@SiteCode120[String] = 6373083847585007801
@SiteCode121[String] = 6373083856887939900
@SiteCode122[String] = 6373083859102666584
@SiteCode123[String] = 6373083864919499284
@FDictionaryCode124[String] = OrderState
@FDictionaryCode125[String] = UrgentDegree
@FDictionaryCode126[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode125) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode126) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode124)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId97) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId97[String] = 6372912251695766465
@SiteCode98[String] = 6373083923489249281
@SiteCode99[String] = 6373083925531366080
@SiteCode100[String] = 6373083927883400612
@SiteCode101[String] = 6373083918575368225
@SiteCode102[String] = 6373083920445075162
@SiteCode103[String] = 6373083908618598731
@SiteCode104[String] = 6373083911842783146
@SiteCode105[String] = 6373083913928202424
@SiteCode106[String] = 6373083877551621804
@SiteCode107[String] = 6373083879921857377
@SiteCode108[String] = 6373083881542550067
@SiteCode109[String] = 6373083883689772886
@SiteCode110[String] = 6373083887136270013
@SiteCode111[String] = 6373083889697116488
@SiteCode112[String] = 6373083891969846476
@SiteCode113[String] = 6373083894422586761
@SiteCode114[String] = 6373083897509963358
@SiteCode115[String] = 6373083900444931227
@SiteCode116[String] = 6373083829464571372
@SiteCode117[String] = 6373083833327492328
@SiteCode118[String] = 6373083841964286321
@SiteCode119[String] = 6373083844982558950
@SiteCode120[String] = 6373083847585007801
@SiteCode121[String] = 6373083856887939900
@SiteCode122[String] = 6373083859102666584
@SiteCode123[String] = 6373083864919499284
@FDictionaryCode124[String] = OrderState
@FDictionaryCode125[String] = UrgentDegree
@FDictionaryCode126[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:50:56
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:51:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:51:01
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId127) AND ([TbModelOrg].[SiteCode] IN (@SiteCode128))) 	
Parameters:
@ProjectId127[String] = 6372912251695766465
@SiteCode128[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 13:51:10
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm129,@MxGjBm130,@MxGjBm131,@MxGjBm132,@MxGjBm133) 	
Parameters:
@MxGjBm129[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm130[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm131[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm132[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm133[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 13:51:10
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode134,@ComponentCode135,@ComponentCode136,@ComponentCode137,@ComponentCode138)) AND ([TbModelOtherInfo].[Type] = @Type139) 	
Parameters:
@ComponentCode134[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode135[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode136[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode137[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode138[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type139[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 13:53:33
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:53:33
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:53:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type140) AND ([TbOrganizationMap].[ProjectId] = @ProjectId141)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode142,@CompanyCode143,@CompanyCode144,@CompanyCode145,@CompanyCode146,@CompanyCode147,@CompanyCode148,@CompanyCode149)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode150))) 	
Parameters:
@Type140[Int32] = 1
@ProjectId141[String] = 6372912251695766465
@CompanyCode142[String] = 6373083923489249281
@CompanyCode143[String] = 6373083925531366080
@CompanyCode144[String] = 6373083927883400612
@CompanyCode145[String] = 6373083918575368225
@CompanyCode146[String] = 6373083920445075162
@CompanyCode147[String] = 6373083908618598731
@CompanyCode148[String] = 6373083911842783146
@CompanyCode149[String] = 6373083913928202424
@ParentCompanyCode150[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type151) AND ([TbOrganizationMap].[ProjectId] = @ProjectId152)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode153,@CompanyCode154,@CompanyCode155,@CompanyCode156,@CompanyCode157,@CompanyCode158,@CompanyCode159,@CompanyCode160)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode161))) 	
Parameters:
@Type151[Int32] = 2
@ProjectId152[String] = 6372912251695766465
@CompanyCode153[String] = 6373083923489249281
@CompanyCode154[String] = 6373083925531366080
@CompanyCode155[String] = 6373083927883400612
@CompanyCode156[String] = 6373083918575368225
@CompanyCode157[String] = 6373083920445075162
@CompanyCode158[String] = 6373083908618598731
@CompanyCode159[String] = 6373083911842783146
@CompanyCode160[String] = 6373083913928202424
@ParentCompanyCode161[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode189)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId162) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188)))	
Parameters:
@ProjectId162[String] = 6372912251695766465
@SiteCode163[String] = 6373083923489249281
@SiteCode164[String] = 6373083925531366080
@SiteCode165[String] = 6373083927883400612
@SiteCode166[String] = 6373083918575368225
@SiteCode167[String] = 6373083920445075162
@SiteCode168[String] = 6373083908618598731
@SiteCode169[String] = 6373083911842783146
@SiteCode170[String] = 6373083913928202424
@SiteCode171[String] = 6373083877551621804
@SiteCode172[String] = 6373083879921857377
@SiteCode173[String] = 6373083881542550067
@SiteCode174[String] = 6373083883689772886
@SiteCode175[String] = 6373083887136270013
@SiteCode176[String] = 6373083889697116488
@SiteCode177[String] = 6373083891969846476
@SiteCode178[String] = 6373083894422586761
@SiteCode179[String] = 6373083897509963358
@SiteCode180[String] = 6373083900444931227
@SiteCode181[String] = 6373083829464571372
@SiteCode182[String] = 6373083833327492328
@SiteCode183[String] = 6373083841964286321
@SiteCode184[String] = 6373083844982558950
@SiteCode185[String] = 6373083847585007801
@SiteCode186[String] = 6373083856887939900
@SiteCode187[String] = 6373083859102666584
@SiteCode188[String] = 6373083864919499284
@FDictionaryCode189[String] = OrderState
@FDictionaryCode190[String] = UrgentDegree
@FDictionaryCode191[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode190) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode191) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode189)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId162) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode163,@SiteCode164,@SiteCode165,@SiteCode166,@SiteCode167,@SiteCode168,@SiteCode169,@SiteCode170,@SiteCode171,@SiteCode172,@SiteCode173,@SiteCode174,@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId162[String] = 6372912251695766465
@SiteCode163[String] = 6373083923489249281
@SiteCode164[String] = 6373083925531366080
@SiteCode165[String] = 6373083927883400612
@SiteCode166[String] = 6373083918575368225
@SiteCode167[String] = 6373083920445075162
@SiteCode168[String] = 6373083908618598731
@SiteCode169[String] = 6373083911842783146
@SiteCode170[String] = 6373083913928202424
@SiteCode171[String] = 6373083877551621804
@SiteCode172[String] = 6373083879921857377
@SiteCode173[String] = 6373083881542550067
@SiteCode174[String] = 6373083883689772886
@SiteCode175[String] = 6373083887136270013
@SiteCode176[String] = 6373083889697116488
@SiteCode177[String] = 6373083891969846476
@SiteCode178[String] = 6373083894422586761
@SiteCode179[String] = 6373083897509963358
@SiteCode180[String] = 6373083900444931227
@SiteCode181[String] = 6373083829464571372
@SiteCode182[String] = 6373083833327492328
@SiteCode183[String] = 6373083841964286321
@SiteCode184[String] = 6373083844982558950
@SiteCode185[String] = 6373083847585007801
@SiteCode186[String] = 6373083856887939900
@SiteCode187[String] = 6373083859102666584
@SiteCode188[String] = 6373083864919499284
@FDictionaryCode189[String] = OrderState
@FDictionaryCode190[String] = UrgentDegree
@FDictionaryCode191[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:53:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:54:25
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:54:25
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:54:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type192) AND ([TbOrganizationMap].[ProjectId] = @ProjectId193)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode194,@CompanyCode195,@CompanyCode196,@CompanyCode197,@CompanyCode198,@CompanyCode199,@CompanyCode200,@CompanyCode201)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode202))) 	
Parameters:
@Type192[Int32] = 1
@ProjectId193[String] = 6372912251695766465
@CompanyCode194[String] = 6373083923489249281
@CompanyCode195[String] = 6373083925531366080
@CompanyCode196[String] = 6373083927883400612
@CompanyCode197[String] = 6373083918575368225
@CompanyCode198[String] = 6373083920445075162
@CompanyCode199[String] = 6373083908618598731
@CompanyCode200[String] = 6373083911842783146
@CompanyCode201[String] = 6373083913928202424
@ParentCompanyCode202[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type203) AND ([TbOrganizationMap].[ProjectId] = @ProjectId204)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode205,@CompanyCode206,@CompanyCode207,@CompanyCode208,@CompanyCode209,@CompanyCode210,@CompanyCode211,@CompanyCode212)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode213))) 	
Parameters:
@Type203[Int32] = 2
@ProjectId204[String] = 6372912251695766465
@CompanyCode205[String] = 6373083923489249281
@CompanyCode206[String] = 6373083925531366080
@CompanyCode207[String] = 6373083927883400612
@CompanyCode208[String] = 6373083918575368225
@CompanyCode209[String] = 6373083920445075162
@CompanyCode210[String] = 6373083908618598731
@CompanyCode211[String] = 6373083911842783146
@CompanyCode212[String] = 6373083913928202424
@ParentCompanyCode213[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode241)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId214) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode215,@SiteCode216,@SiteCode217,@SiteCode218,@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225,@SiteCode226,@SiteCode227,@SiteCode228,@SiteCode229,@SiteCode230,@SiteCode231,@SiteCode232,@SiteCode233,@SiteCode234,@SiteCode235,@SiteCode236,@SiteCode237,@SiteCode238,@SiteCode239,@SiteCode240)))	
Parameters:
@ProjectId214[String] = 6372912251695766465
@SiteCode215[String] = 6373083923489249281
@SiteCode216[String] = 6373083925531366080
@SiteCode217[String] = 6373083927883400612
@SiteCode218[String] = 6373083918575368225
@SiteCode219[String] = 6373083920445075162
@SiteCode220[String] = 6373083908618598731
@SiteCode221[String] = 6373083911842783146
@SiteCode222[String] = 6373083913928202424
@SiteCode223[String] = 6373083877551621804
@SiteCode224[String] = 6373083879921857377
@SiteCode225[String] = 6373083881542550067
@SiteCode226[String] = 6373083883689772886
@SiteCode227[String] = 6373083887136270013
@SiteCode228[String] = 6373083889697116488
@SiteCode229[String] = 6373083891969846476
@SiteCode230[String] = 6373083894422586761
@SiteCode231[String] = 6373083897509963358
@SiteCode232[String] = 6373083900444931227
@SiteCode233[String] = 6373083829464571372
@SiteCode234[String] = 6373083833327492328
@SiteCode235[String] = 6373083841964286321
@SiteCode236[String] = 6373083844982558950
@SiteCode237[String] = 6373083847585007801
@SiteCode238[String] = 6373083856887939900
@SiteCode239[String] = 6373083859102666584
@SiteCode240[String] = 6373083864919499284
@FDictionaryCode241[String] = OrderState
@FDictionaryCode242[String] = UrgentDegree
@FDictionaryCode243[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode242) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode243) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode241)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId214) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode215,@SiteCode216,@SiteCode217,@SiteCode218,@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225,@SiteCode226,@SiteCode227,@SiteCode228,@SiteCode229,@SiteCode230,@SiteCode231,@SiteCode232,@SiteCode233,@SiteCode234,@SiteCode235,@SiteCode236,@SiteCode237,@SiteCode238,@SiteCode239,@SiteCode240))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId214[String] = 6372912251695766465
@SiteCode215[String] = 6373083923489249281
@SiteCode216[String] = 6373083925531366080
@SiteCode217[String] = 6373083927883400612
@SiteCode218[String] = 6373083918575368225
@SiteCode219[String] = 6373083920445075162
@SiteCode220[String] = 6373083908618598731
@SiteCode221[String] = 6373083911842783146
@SiteCode222[String] = 6373083913928202424
@SiteCode223[String] = 6373083877551621804
@SiteCode224[String] = 6373083879921857377
@SiteCode225[String] = 6373083881542550067
@SiteCode226[String] = 6373083883689772886
@SiteCode227[String] = 6373083887136270013
@SiteCode228[String] = 6373083889697116488
@SiteCode229[String] = 6373083891969846476
@SiteCode230[String] = 6373083894422586761
@SiteCode231[String] = 6373083897509963358
@SiteCode232[String] = 6373083900444931227
@SiteCode233[String] = 6373083829464571372
@SiteCode234[String] = 6373083833327492328
@SiteCode235[String] = 6373083841964286321
@SiteCode236[String] = 6373083844982558950
@SiteCode237[String] = 6373083847585007801
@SiteCode238[String] = 6373083856887939900
@SiteCode239[String] = 6373083859102666584
@SiteCode240[String] = 6373083864919499284
@FDictionaryCode241[String] = OrderState
@FDictionaryCode242[String] = UrgentDegree
@FDictionaryCode243[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:54:26
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:54:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:54:31
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId244) AND ([TbModelOrg].[SiteCode] IN (@SiteCode245))) 	
Parameters:
@ProjectId244[String] = 6372912251695766465
@SiteCode245[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 13:54:38
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm246,@MxGjBm247,@MxGjBm248,@MxGjBm249,@MxGjBm250) 	
Parameters:
@MxGjBm246[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm247[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm248[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm249[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm250[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 13:54:38
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode251,@ComponentCode252,@ComponentCode253,@ComponentCode254,@ComponentCode255)) AND ([TbModelOtherInfo].[Type] = @Type256) 	
Parameters:
@ComponentCode251[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode252[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode253[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode254[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode255[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type256[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 13:54:41
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId257,@MxGjId258,@MxGjId259,@MxGjId260) 	
Parameters:
@MxGjId257[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId258[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId259[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId260[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:54:41
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode261,@ComponentCode262,@ComponentCode263,@ComponentCode264)) AND ([TbModelOtherInfo].[Type] = @Type265) 	
Parameters:
@ComponentCode261[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode262[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode263[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode264[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type265[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:54:48
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId266,@MxGjId267,@MxGjId268,@MxGjId269) 	
Parameters:
@MxGjId266[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId267[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId268[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId269[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:54:48
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode270,@ComponentCode271,@ComponentCode272,@ComponentCode273)) AND ([TbModelOtherInfo].[Type] = @Type274) 	
Parameters:
@ComponentCode270[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode271[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode272[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode273[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type274[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:54:54
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId275,@MxGjId276,@MxGjId277,@MxGjId278) 	
Parameters:
@MxGjId275[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId276[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId277[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId278[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:54:54
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode279,@ComponentCode280,@ComponentCode281,@ComponentCode282)) AND ([TbModelOtherInfo].[Type] = @Type283) 	
Parameters:
@ComponentCode279[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode280[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode281[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode282[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type283[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:56:03
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:56:03
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:56:03
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type284) AND ([TbOrganizationMap].[ProjectId] = @ProjectId285)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode286,@CompanyCode287,@CompanyCode288,@CompanyCode289,@CompanyCode290,@CompanyCode291,@CompanyCode292,@CompanyCode293)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode294))) 	
Parameters:
@Type284[Int32] = 1
@ProjectId285[String] = 6372912251695766465
@CompanyCode286[String] = 6373083923489249281
@CompanyCode287[String] = 6373083925531366080
@CompanyCode288[String] = 6373083927883400612
@CompanyCode289[String] = 6373083918575368225
@CompanyCode290[String] = 6373083920445075162
@CompanyCode291[String] = 6373083908618598731
@CompanyCode292[String] = 6373083911842783146
@CompanyCode293[String] = 6373083913928202424
@ParentCompanyCode294[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type295) AND ([TbOrganizationMap].[ProjectId] = @ProjectId296)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode297,@CompanyCode298,@CompanyCode299,@CompanyCode300,@CompanyCode301,@CompanyCode302,@CompanyCode303,@CompanyCode304)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode305))) 	
Parameters:
@Type295[Int32] = 2
@ProjectId296[String] = 6372912251695766465
@CompanyCode297[String] = 6373083923489249281
@CompanyCode298[String] = 6373083925531366080
@CompanyCode299[String] = 6373083927883400612
@CompanyCode300[String] = 6373083918575368225
@CompanyCode301[String] = 6373083920445075162
@CompanyCode302[String] = 6373083908618598731
@CompanyCode303[String] = 6373083911842783146
@CompanyCode304[String] = 6373083913928202424
@ParentCompanyCode305[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode333)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId306) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode307,@SiteCode308,@SiteCode309,@SiteCode310,@SiteCode311,@SiteCode312,@SiteCode313,@SiteCode314,@SiteCode315,@SiteCode316,@SiteCode317,@SiteCode318,@SiteCode319,@SiteCode320,@SiteCode321,@SiteCode322,@SiteCode323,@SiteCode324,@SiteCode325,@SiteCode326,@SiteCode327,@SiteCode328,@SiteCode329,@SiteCode330,@SiteCode331,@SiteCode332)))	
Parameters:
@ProjectId306[String] = 6372912251695766465
@SiteCode307[String] = 6373083923489249281
@SiteCode308[String] = 6373083925531366080
@SiteCode309[String] = 6373083927883400612
@SiteCode310[String] = 6373083918575368225
@SiteCode311[String] = 6373083920445075162
@SiteCode312[String] = 6373083908618598731
@SiteCode313[String] = 6373083911842783146
@SiteCode314[String] = 6373083913928202424
@SiteCode315[String] = 6373083877551621804
@SiteCode316[String] = 6373083879921857377
@SiteCode317[String] = 6373083881542550067
@SiteCode318[String] = 6373083883689772886
@SiteCode319[String] = 6373083887136270013
@SiteCode320[String] = 6373083889697116488
@SiteCode321[String] = 6373083891969846476
@SiteCode322[String] = 6373083894422586761
@SiteCode323[String] = 6373083897509963358
@SiteCode324[String] = 6373083900444931227
@SiteCode325[String] = 6373083829464571372
@SiteCode326[String] = 6373083833327492328
@SiteCode327[String] = 6373083841964286321
@SiteCode328[String] = 6373083844982558950
@SiteCode329[String] = 6373083847585007801
@SiteCode330[String] = 6373083856887939900
@SiteCode331[String] = 6373083859102666584
@SiteCode332[String] = 6373083864919499284
@FDictionaryCode333[String] = OrderState
@FDictionaryCode334[String] = UrgentDegree
@FDictionaryCode335[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode334) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode335) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode333)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId306) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode307,@SiteCode308,@SiteCode309,@SiteCode310,@SiteCode311,@SiteCode312,@SiteCode313,@SiteCode314,@SiteCode315,@SiteCode316,@SiteCode317,@SiteCode318,@SiteCode319,@SiteCode320,@SiteCode321,@SiteCode322,@SiteCode323,@SiteCode324,@SiteCode325,@SiteCode326,@SiteCode327,@SiteCode328,@SiteCode329,@SiteCode330,@SiteCode331,@SiteCode332))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId306[String] = 6372912251695766465
@SiteCode307[String] = 6373083923489249281
@SiteCode308[String] = 6373083925531366080
@SiteCode309[String] = 6373083927883400612
@SiteCode310[String] = 6373083918575368225
@SiteCode311[String] = 6373083920445075162
@SiteCode312[String] = 6373083908618598731
@SiteCode313[String] = 6373083911842783146
@SiteCode314[String] = 6373083913928202424
@SiteCode315[String] = 6373083877551621804
@SiteCode316[String] = 6373083879921857377
@SiteCode317[String] = 6373083881542550067
@SiteCode318[String] = 6373083883689772886
@SiteCode319[String] = 6373083887136270013
@SiteCode320[String] = 6373083889697116488
@SiteCode321[String] = 6373083891969846476
@SiteCode322[String] = 6373083894422586761
@SiteCode323[String] = 6373083897509963358
@SiteCode324[String] = 6373083900444931227
@SiteCode325[String] = 6373083829464571372
@SiteCode326[String] = 6373083833327492328
@SiteCode327[String] = 6373083841964286321
@SiteCode328[String] = 6373083844982558950
@SiteCode329[String] = 6373083847585007801
@SiteCode330[String] = 6373083856887939900
@SiteCode331[String] = 6373083859102666584
@SiteCode332[String] = 6373083864919499284
@FDictionaryCode333[String] = OrderState
@FDictionaryCode334[String] = UrgentDegree
@FDictionaryCode335[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:56:05
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:56:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:56:10
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId336) AND ([TbModelOrg].[SiteCode] IN (@SiteCode337))) 	
Parameters:
@ProjectId336[String] = 6372912251695766465
@SiteCode337[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 13:56:17
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm338,@MxGjBm339,@MxGjBm340,@MxGjBm341,@MxGjBm342) 	
Parameters:
@MxGjBm338[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm339[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm340[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm341[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm342[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 13:56:17
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode343,@ComponentCode344,@ComponentCode345,@ComponentCode346,@ComponentCode347)) AND ([TbModelOtherInfo].[Type] = @Type348) 	
Parameters:
@ComponentCode343[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode344[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode345[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode346[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode347[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type348[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 13:56:20
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId349,@MxGjId350,@MxGjId351,@MxGjId352) 	
Parameters:
@MxGjId349[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId350[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId351[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId352[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:56:20
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode353,@ComponentCode354,@ComponentCode355,@ComponentCode356)) AND ([TbModelOtherInfo].[Type] = @Type357) 	
Parameters:
@ComponentCode353[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode354[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode355[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode356[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type357[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:56:29
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId358,@MxGjId359,@MxGjId360,@MxGjId361) 	
Parameters:
@MxGjId358[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId359[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId360[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId361[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:56:29
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode362,@ComponentCode363,@ComponentCode364,@ComponentCode365)) AND ([TbModelOtherInfo].[Type] = @Type366) 	
Parameters:
@ComponentCode362[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode363[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode364[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode365[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type366[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:56:31
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId367,@MxGjId368,@MxGjId369,@MxGjId370) 	
Parameters:
@MxGjId367[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId368[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId369[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId370[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:56:31
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode371,@ComponentCode372,@ComponentCode373,@ComponentCode374)) AND ([TbModelOtherInfo].[Type] = @Type375) 	
Parameters:
@ComponentCode371[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode372[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode373[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode374[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type375[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:57:14
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId376,@MxGjId377,@MxGjId378,@MxGjId379) 	
Parameters:
@MxGjId376[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId377[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId378[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId379[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:57:14
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode380,@ComponentCode381,@ComponentCode382,@ComponentCode383)) AND ([TbModelOtherInfo].[Type] = @Type384) 	
Parameters:
@ComponentCode380[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode381[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode382[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode383[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type384[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:58:23
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:58:23
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:58:23
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type385) AND ([TbOrganizationMap].[ProjectId] = @ProjectId386)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode387,@CompanyCode388,@CompanyCode389,@CompanyCode390,@CompanyCode391,@CompanyCode392,@CompanyCode393,@CompanyCode394)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode395))) 	
Parameters:
@Type385[Int32] = 1
@ProjectId386[String] = 6372912251695766465
@CompanyCode387[String] = 6373083923489249281
@CompanyCode388[String] = 6373083925531366080
@CompanyCode389[String] = 6373083927883400612
@CompanyCode390[String] = 6373083918575368225
@CompanyCode391[String] = 6373083920445075162
@CompanyCode392[String] = 6373083908618598731
@CompanyCode393[String] = 6373083911842783146
@CompanyCode394[String] = 6373083913928202424
@ParentCompanyCode395[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type396) AND ([TbOrganizationMap].[ProjectId] = @ProjectId397)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode398,@CompanyCode399,@CompanyCode400,@CompanyCode401,@CompanyCode402,@CompanyCode403,@CompanyCode404,@CompanyCode405)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode406))) 	
Parameters:
@Type396[Int32] = 2
@ProjectId397[String] = 6372912251695766465
@CompanyCode398[String] = 6373083923489249281
@CompanyCode399[String] = 6373083925531366080
@CompanyCode400[String] = 6373083927883400612
@CompanyCode401[String] = 6373083918575368225
@CompanyCode402[String] = 6373083920445075162
@CompanyCode403[String] = 6373083908618598731
@CompanyCode404[String] = 6373083911842783146
@CompanyCode405[String] = 6373083913928202424
@ParentCompanyCode406[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode434)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId407) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode408,@SiteCode409,@SiteCode410,@SiteCode411,@SiteCode412,@SiteCode413,@SiteCode414,@SiteCode415,@SiteCode416,@SiteCode417,@SiteCode418,@SiteCode419,@SiteCode420,@SiteCode421,@SiteCode422,@SiteCode423,@SiteCode424,@SiteCode425,@SiteCode426,@SiteCode427,@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433)))	
Parameters:
@ProjectId407[String] = 6372912251695766465
@SiteCode408[String] = 6373083923489249281
@SiteCode409[String] = 6373083925531366080
@SiteCode410[String] = 6373083927883400612
@SiteCode411[String] = 6373083918575368225
@SiteCode412[String] = 6373083920445075162
@SiteCode413[String] = 6373083908618598731
@SiteCode414[String] = 6373083911842783146
@SiteCode415[String] = 6373083913928202424
@SiteCode416[String] = 6373083877551621804
@SiteCode417[String] = 6373083879921857377
@SiteCode418[String] = 6373083881542550067
@SiteCode419[String] = 6373083883689772886
@SiteCode420[String] = 6373083887136270013
@SiteCode421[String] = 6373083889697116488
@SiteCode422[String] = 6373083891969846476
@SiteCode423[String] = 6373083894422586761
@SiteCode424[String] = 6373083897509963358
@SiteCode425[String] = 6373083900444931227
@SiteCode426[String] = 6373083829464571372
@SiteCode427[String] = 6373083833327492328
@SiteCode428[String] = 6373083841964286321
@SiteCode429[String] = 6373083844982558950
@SiteCode430[String] = 6373083847585007801
@SiteCode431[String] = 6373083856887939900
@SiteCode432[String] = 6373083859102666584
@SiteCode433[String] = 6373083864919499284
@FDictionaryCode434[String] = OrderState
@FDictionaryCode435[String] = UrgentDegree
@FDictionaryCode436[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode435) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode436) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode434)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId407) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode408,@SiteCode409,@SiteCode410,@SiteCode411,@SiteCode412,@SiteCode413,@SiteCode414,@SiteCode415,@SiteCode416,@SiteCode417,@SiteCode418,@SiteCode419,@SiteCode420,@SiteCode421,@SiteCode422,@SiteCode423,@SiteCode424,@SiteCode425,@SiteCode426,@SiteCode427,@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId407[String] = 6372912251695766465
@SiteCode408[String] = 6373083923489249281
@SiteCode409[String] = 6373083925531366080
@SiteCode410[String] = 6373083927883400612
@SiteCode411[String] = 6373083918575368225
@SiteCode412[String] = 6373083920445075162
@SiteCode413[String] = 6373083908618598731
@SiteCode414[String] = 6373083911842783146
@SiteCode415[String] = 6373083913928202424
@SiteCode416[String] = 6373083877551621804
@SiteCode417[String] = 6373083879921857377
@SiteCode418[String] = 6373083881542550067
@SiteCode419[String] = 6373083883689772886
@SiteCode420[String] = 6373083887136270013
@SiteCode421[String] = 6373083889697116488
@SiteCode422[String] = 6373083891969846476
@SiteCode423[String] = 6373083894422586761
@SiteCode424[String] = 6373083897509963358
@SiteCode425[String] = 6373083900444931227
@SiteCode426[String] = 6373083829464571372
@SiteCode427[String] = 6373083833327492328
@SiteCode428[String] = 6373083841964286321
@SiteCode429[String] = 6373083844982558950
@SiteCode430[String] = 6373083847585007801
@SiteCode431[String] = 6373083856887939900
@SiteCode432[String] = 6373083859102666584
@SiteCode433[String] = 6373083864919499284
@FDictionaryCode434[String] = OrderState
@FDictionaryCode435[String] = UrgentDegree
@FDictionaryCode436[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:58:24
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:58:28
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:58:28
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId437) AND ([TbModelOrg].[SiteCode] IN (@SiteCode438))) 	
Parameters:
@ProjectId437[String] = 6372912251695766465
@SiteCode438[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 13:58:40
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm439,@MxGjBm440,@MxGjBm441,@MxGjBm442,@MxGjBm443) 	
Parameters:
@MxGjBm439[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm440[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm441[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm442[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm443[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 13:58:40
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode444,@ComponentCode445,@ComponentCode446,@ComponentCode447,@ComponentCode448)) AND ([TbModelOtherInfo].[Type] = @Type449) 	
Parameters:
@ComponentCode444[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode445[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode446[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode447[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode448[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type449[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 13:58:43
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId450,@MxGjId451,@MxGjId452,@MxGjId453) 	
Parameters:
@MxGjId450[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId451[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId452[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId453[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:58:43
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode454,@ComponentCode455,@ComponentCode456,@ComponentCode457)) AND ([TbModelOtherInfo].[Type] = @Type458) 	
Parameters:
@ComponentCode454[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode455[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode456[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode457[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type458[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:58:49
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId459,@MxGjId460,@MxGjId461,@MxGjId462) 	
Parameters:
@MxGjId459[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId460[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId461[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId462[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:58:49
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode463,@ComponentCode464,@ComponentCode465,@ComponentCode466)) AND ([TbModelOtherInfo].[Type] = @Type467) 	
Parameters:
@ComponentCode463[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode464[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode465[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode466[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type467[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:59:07
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 13:59:07
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 13:59:07
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type468) AND ([TbOrganizationMap].[ProjectId] = @ProjectId469)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode470,@CompanyCode471,@CompanyCode472,@CompanyCode473,@CompanyCode474,@CompanyCode475,@CompanyCode476,@CompanyCode477)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode478))) 	
Parameters:
@Type468[Int32] = 1
@ProjectId469[String] = 6372912251695766465
@CompanyCode470[String] = 6373083923489249281
@CompanyCode471[String] = 6373083925531366080
@CompanyCode472[String] = 6373083927883400612
@CompanyCode473[String] = 6373083918575368225
@CompanyCode474[String] = 6373083920445075162
@CompanyCode475[String] = 6373083908618598731
@CompanyCode476[String] = 6373083911842783146
@CompanyCode477[String] = 6373083913928202424
@ParentCompanyCode478[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type479) AND ([TbOrganizationMap].[ProjectId] = @ProjectId480)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode481,@CompanyCode482,@CompanyCode483,@CompanyCode484,@CompanyCode485,@CompanyCode486,@CompanyCode487,@CompanyCode488)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode489))) 	
Parameters:
@Type479[Int32] = 2
@ProjectId480[String] = 6372912251695766465
@CompanyCode481[String] = 6373083923489249281
@CompanyCode482[String] = 6373083925531366080
@CompanyCode483[String] = 6373083927883400612
@CompanyCode484[String] = 6373083918575368225
@CompanyCode485[String] = 6373083920445075162
@CompanyCode486[String] = 6373083908618598731
@CompanyCode487[String] = 6373083911842783146
@CompanyCode488[String] = 6373083913928202424
@ParentCompanyCode489[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode517)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId490) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode491,@SiteCode492,@SiteCode493,@SiteCode494,@SiteCode495,@SiteCode496,@SiteCode497,@SiteCode498,@SiteCode499,@SiteCode500,@SiteCode501,@SiteCode502,@SiteCode503,@SiteCode504,@SiteCode505,@SiteCode506,@SiteCode507,@SiteCode508,@SiteCode509,@SiteCode510,@SiteCode511,@SiteCode512,@SiteCode513,@SiteCode514,@SiteCode515,@SiteCode516)))	
Parameters:
@ProjectId490[String] = 6372912251695766465
@SiteCode491[String] = 6373083923489249281
@SiteCode492[String] = 6373083925531366080
@SiteCode493[String] = 6373083927883400612
@SiteCode494[String] = 6373083918575368225
@SiteCode495[String] = 6373083920445075162
@SiteCode496[String] = 6373083908618598731
@SiteCode497[String] = 6373083911842783146
@SiteCode498[String] = 6373083913928202424
@SiteCode499[String] = 6373083877551621804
@SiteCode500[String] = 6373083879921857377
@SiteCode501[String] = 6373083881542550067
@SiteCode502[String] = 6373083883689772886
@SiteCode503[String] = 6373083887136270013
@SiteCode504[String] = 6373083889697116488
@SiteCode505[String] = 6373083891969846476
@SiteCode506[String] = 6373083894422586761
@SiteCode507[String] = 6373083897509963358
@SiteCode508[String] = 6373083900444931227
@SiteCode509[String] = 6373083829464571372
@SiteCode510[String] = 6373083833327492328
@SiteCode511[String] = 6373083841964286321
@SiteCode512[String] = 6373083844982558950
@SiteCode513[String] = 6373083847585007801
@SiteCode514[String] = 6373083856887939900
@SiteCode515[String] = 6373083859102666584
@SiteCode516[String] = 6373083864919499284
@FDictionaryCode517[String] = OrderState
@FDictionaryCode518[String] = UrgentDegree
@FDictionaryCode519[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode518) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode519) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode517)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId490) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode491,@SiteCode492,@SiteCode493,@SiteCode494,@SiteCode495,@SiteCode496,@SiteCode497,@SiteCode498,@SiteCode499,@SiteCode500,@SiteCode501,@SiteCode502,@SiteCode503,@SiteCode504,@SiteCode505,@SiteCode506,@SiteCode507,@SiteCode508,@SiteCode509,@SiteCode510,@SiteCode511,@SiteCode512,@SiteCode513,@SiteCode514,@SiteCode515,@SiteCode516))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId490[String] = 6372912251695766465
@SiteCode491[String] = 6373083923489249281
@SiteCode492[String] = 6373083925531366080
@SiteCode493[String] = 6373083927883400612
@SiteCode494[String] = 6373083918575368225
@SiteCode495[String] = 6373083920445075162
@SiteCode496[String] = 6373083908618598731
@SiteCode497[String] = 6373083911842783146
@SiteCode498[String] = 6373083913928202424
@SiteCode499[String] = 6373083877551621804
@SiteCode500[String] = 6373083879921857377
@SiteCode501[String] = 6373083881542550067
@SiteCode502[String] = 6373083883689772886
@SiteCode503[String] = 6373083887136270013
@SiteCode504[String] = 6373083889697116488
@SiteCode505[String] = 6373083891969846476
@SiteCode506[String] = 6373083894422586761
@SiteCode507[String] = 6373083897509963358
@SiteCode508[String] = 6373083900444931227
@SiteCode509[String] = 6373083829464571372
@SiteCode510[String] = 6373083833327492328
@SiteCode511[String] = 6373083841964286321
@SiteCode512[String] = 6373083844982558950
@SiteCode513[String] = 6373083847585007801
@SiteCode514[String] = 6373083856887939900
@SiteCode515[String] = 6373083859102666584
@SiteCode516[String] = 6373083864919499284
@FDictionaryCode517[String] = OrderState
@FDictionaryCode518[String] = UrgentDegree
@FDictionaryCode519[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 13:59:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 13:59:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 13:59:15
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId520) AND ([TbModelOrg].[SiteCode] IN (@SiteCode521))) 	
Parameters:
@ProjectId520[String] = 6372912251695766465
@SiteCode521[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 13:59:21
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm522,@MxGjBm523,@MxGjBm524,@MxGjBm525,@MxGjBm526) 	
Parameters:
@MxGjBm522[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm523[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm524[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm525[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm526[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 13:59:21
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode527,@ComponentCode528,@ComponentCode529,@ComponentCode530,@ComponentCode531)) AND ([TbModelOtherInfo].[Type] = @Type532) 	
Parameters:
@ComponentCode527[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode528[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode529[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode530[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode531[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type532[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 13:59:28
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId533,@MxGjId534,@MxGjId535,@MxGjId536) 	
Parameters:
@MxGjId533[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId534[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId535[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId536[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:59:28
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode537,@ComponentCode538,@ComponentCode539,@ComponentCode540)) AND ([TbModelOtherInfo].[Type] = @Type541) 	
Parameters:
@ComponentCode537[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode538[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode539[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode540[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type541[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 13:59:34
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId542,@MxGjId543,@MxGjId544,@MxGjId545) 	
Parameters:
@MxGjId542[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId543[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId544[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId545[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 13:59:34
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode546,@ComponentCode547,@ComponentCode548,@ComponentCode549)) AND ([TbModelOtherInfo].[Type] = @Type550) 	
Parameters:
@ComponentCode546[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode547[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode548[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode549[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type550[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:00:47
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:00:47
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:00:47
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:00:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:00:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type551) AND ([TbOrganizationMap].[ProjectId] = @ProjectId552)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode553,@CompanyCode554,@CompanyCode555,@CompanyCode556,@CompanyCode557,@CompanyCode558,@CompanyCode559,@CompanyCode560)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode561))) 	
Parameters:
@Type551[Int32] = 1
@ProjectId552[String] = 6372912251695766465
@CompanyCode553[String] = 6373083923489249281
@CompanyCode554[String] = 6373083925531366080
@CompanyCode555[String] = 6373083927883400612
@CompanyCode556[String] = 6373083918575368225
@CompanyCode557[String] = 6373083920445075162
@CompanyCode558[String] = 6373083908618598731
@CompanyCode559[String] = 6373083911842783146
@CompanyCode560[String] = 6373083913928202424
@ParentCompanyCode561[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:00:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:00:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type562) AND ([TbOrganizationMap].[ProjectId] = @ProjectId563)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode564,@CompanyCode565,@CompanyCode566,@CompanyCode567,@CompanyCode568,@CompanyCode569,@CompanyCode570,@CompanyCode571)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode572))) 	
Parameters:
@Type562[Int32] = 2
@ProjectId563[String] = 6372912251695766465
@CompanyCode564[String] = 6373083923489249281
@CompanyCode565[String] = 6373083925531366080
@CompanyCode566[String] = 6373083927883400612
@CompanyCode567[String] = 6373083918575368225
@CompanyCode568[String] = 6373083920445075162
@CompanyCode569[String] = 6373083908618598731
@CompanyCode570[String] = 6373083911842783146
@CompanyCode571[String] = 6373083913928202424
@ParentCompanyCode572[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:00:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:00:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:00:50
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode600)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId573) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode574,@SiteCode575,@SiteCode576,@SiteCode577,@SiteCode578,@SiteCode579,@SiteCode580,@SiteCode581,@SiteCode582,@SiteCode583,@SiteCode584,@SiteCode585,@SiteCode586,@SiteCode587,@SiteCode588,@SiteCode589,@SiteCode590,@SiteCode591,@SiteCode592,@SiteCode593,@SiteCode594,@SiteCode595,@SiteCode596,@SiteCode597,@SiteCode598,@SiteCode599)))	
Parameters:
@ProjectId573[String] = 6372912251695766465
@SiteCode574[String] = 6373083923489249281
@SiteCode575[String] = 6373083925531366080
@SiteCode576[String] = 6373083927883400612
@SiteCode577[String] = 6373083918575368225
@SiteCode578[String] = 6373083920445075162
@SiteCode579[String] = 6373083908618598731
@SiteCode580[String] = 6373083911842783146
@SiteCode581[String] = 6373083913928202424
@SiteCode582[String] = 6373083877551621804
@SiteCode583[String] = 6373083879921857377
@SiteCode584[String] = 6373083881542550067
@SiteCode585[String] = 6373083883689772886
@SiteCode586[String] = 6373083887136270013
@SiteCode587[String] = 6373083889697116488
@SiteCode588[String] = 6373083891969846476
@SiteCode589[String] = 6373083894422586761
@SiteCode590[String] = 6373083897509963358
@SiteCode591[String] = 6373083900444931227
@SiteCode592[String] = 6373083829464571372
@SiteCode593[String] = 6373083833327492328
@SiteCode594[String] = 6373083841964286321
@SiteCode595[String] = 6373083844982558950
@SiteCode596[String] = 6373083847585007801
@SiteCode597[String] = 6373083856887939900
@SiteCode598[String] = 6373083859102666584
@SiteCode599[String] = 6373083864919499284
@FDictionaryCode600[String] = OrderState
@FDictionaryCode601[String] = UrgentDegree
@FDictionaryCode602[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:00:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:00:50
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode601) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode602) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode600)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId573) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode574,@SiteCode575,@SiteCode576,@SiteCode577,@SiteCode578,@SiteCode579,@SiteCode580,@SiteCode581,@SiteCode582,@SiteCode583,@SiteCode584,@SiteCode585,@SiteCode586,@SiteCode587,@SiteCode588,@SiteCode589,@SiteCode590,@SiteCode591,@SiteCode592,@SiteCode593,@SiteCode594,@SiteCode595,@SiteCode596,@SiteCode597,@SiteCode598,@SiteCode599))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId573[String] = 6372912251695766465
@SiteCode574[String] = 6373083923489249281
@SiteCode575[String] = 6373083925531366080
@SiteCode576[String] = 6373083927883400612
@SiteCode577[String] = 6373083918575368225
@SiteCode578[String] = 6373083920445075162
@SiteCode579[String] = 6373083908618598731
@SiteCode580[String] = 6373083911842783146
@SiteCode581[String] = 6373083913928202424
@SiteCode582[String] = 6373083877551621804
@SiteCode583[String] = 6373083879921857377
@SiteCode584[String] = 6373083881542550067
@SiteCode585[String] = 6373083883689772886
@SiteCode586[String] = 6373083887136270013
@SiteCode587[String] = 6373083889697116488
@SiteCode588[String] = 6373083891969846476
@SiteCode589[String] = 6373083894422586761
@SiteCode590[String] = 6373083897509963358
@SiteCode591[String] = 6373083900444931227
@SiteCode592[String] = 6373083829464571372
@SiteCode593[String] = 6373083833327492328
@SiteCode594[String] = 6373083841964286321
@SiteCode595[String] = 6373083844982558950
@SiteCode596[String] = 6373083847585007801
@SiteCode597[String] = 6373083856887939900
@SiteCode598[String] = 6373083859102666584
@SiteCode599[String] = 6373083864919499284
@FDictionaryCode600[String] = OrderState
@FDictionaryCode601[String] = UrgentDegree
@FDictionaryCode602[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:00:50
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:00:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:00:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:00:55
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:00:55
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId603) AND ([TbModelOrg].[SiteCode] IN (@SiteCode604))) 	
Parameters:
@ProjectId603[String] = 6372912251695766465
@SiteCode604[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:01:13
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm605,@MxGjBm606,@MxGjBm607,@MxGjBm608,@MxGjBm609) 	
Parameters:
@MxGjBm605[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm606[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm607[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm608[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm609[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:01:13
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode610,@ComponentCode611,@ComponentCode612,@ComponentCode613,@ComponentCode614)) AND ([TbModelOtherInfo].[Type] = @Type615) 	
Parameters:
@ComponentCode610[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode611[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode612[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode613[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode614[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type615[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:01:16
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId616,@MxGjId617,@MxGjId618,@MxGjId619) 	
Parameters:
@MxGjId616[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId617[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId618[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId619[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:01:16
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode620,@ComponentCode621,@ComponentCode622,@ComponentCode623)) AND ([TbModelOtherInfo].[Type] = @Type624) 	
Parameters:
@ComponentCode620[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode621[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode622[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode623[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type624[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:02:06
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:02:06
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:02:06
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:02:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:02:10
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type625) AND ([TbOrganizationMap].[ProjectId] = @ProjectId626)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode627,@CompanyCode628,@CompanyCode629,@CompanyCode630,@CompanyCode631,@CompanyCode632,@CompanyCode633,@CompanyCode634)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode635))) 	
Parameters:
@Type625[Int32] = 1
@ProjectId626[String] = 6372912251695766465
@CompanyCode627[String] = 6373083923489249281
@CompanyCode628[String] = 6373083925531366080
@CompanyCode629[String] = 6373083927883400612
@CompanyCode630[String] = 6373083918575368225
@CompanyCode631[String] = 6373083920445075162
@CompanyCode632[String] = 6373083908618598731
@CompanyCode633[String] = 6373083911842783146
@CompanyCode634[String] = 6373083913928202424
@ParentCompanyCode635[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:02:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:02:11
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type636) AND ([TbOrganizationMap].[ProjectId] = @ProjectId637)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode638,@CompanyCode639,@CompanyCode640,@CompanyCode641,@CompanyCode642,@CompanyCode643,@CompanyCode644,@CompanyCode645)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode646))) 	
Parameters:
@Type636[Int32] = 2
@ProjectId637[String] = 6372912251695766465
@CompanyCode638[String] = 6373083923489249281
@CompanyCode639[String] = 6373083925531366080
@CompanyCode640[String] = 6373083927883400612
@CompanyCode641[String] = 6373083918575368225
@CompanyCode642[String] = 6373083920445075162
@CompanyCode643[String] = 6373083908618598731
@CompanyCode644[String] = 6373083911842783146
@CompanyCode645[String] = 6373083913928202424
@ParentCompanyCode646[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:02:11
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:02:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:02:11
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode674)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId647) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode648,@SiteCode649,@SiteCode650,@SiteCode651,@SiteCode652,@SiteCode653,@SiteCode654,@SiteCode655,@SiteCode656,@SiteCode657,@SiteCode658,@SiteCode659,@SiteCode660,@SiteCode661,@SiteCode662,@SiteCode663,@SiteCode664,@SiteCode665,@SiteCode666,@SiteCode667,@SiteCode668,@SiteCode669,@SiteCode670,@SiteCode671,@SiteCode672,@SiteCode673)))	
Parameters:
@ProjectId647[String] = 6372912251695766465
@SiteCode648[String] = 6373083923489249281
@SiteCode649[String] = 6373083925531366080
@SiteCode650[String] = 6373083927883400612
@SiteCode651[String] = 6373083918575368225
@SiteCode652[String] = 6373083920445075162
@SiteCode653[String] = 6373083908618598731
@SiteCode654[String] = 6373083911842783146
@SiteCode655[String] = 6373083913928202424
@SiteCode656[String] = 6373083877551621804
@SiteCode657[String] = 6373083879921857377
@SiteCode658[String] = 6373083881542550067
@SiteCode659[String] = 6373083883689772886
@SiteCode660[String] = 6373083887136270013
@SiteCode661[String] = 6373083889697116488
@SiteCode662[String] = 6373083891969846476
@SiteCode663[String] = 6373083894422586761
@SiteCode664[String] = 6373083897509963358
@SiteCode665[String] = 6373083900444931227
@SiteCode666[String] = 6373083829464571372
@SiteCode667[String] = 6373083833327492328
@SiteCode668[String] = 6373083841964286321
@SiteCode669[String] = 6373083844982558950
@SiteCode670[String] = 6373083847585007801
@SiteCode671[String] = 6373083856887939900
@SiteCode672[String] = 6373083859102666584
@SiteCode673[String] = 6373083864919499284
@FDictionaryCode674[String] = OrderState
@FDictionaryCode675[String] = UrgentDegree
@FDictionaryCode676[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:02:11
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:02:11
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode675) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode676) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode674)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId647) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode648,@SiteCode649,@SiteCode650,@SiteCode651,@SiteCode652,@SiteCode653,@SiteCode654,@SiteCode655,@SiteCode656,@SiteCode657,@SiteCode658,@SiteCode659,@SiteCode660,@SiteCode661,@SiteCode662,@SiteCode663,@SiteCode664,@SiteCode665,@SiteCode666,@SiteCode667,@SiteCode668,@SiteCode669,@SiteCode670,@SiteCode671,@SiteCode672,@SiteCode673))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId647[String] = 6372912251695766465
@SiteCode648[String] = 6373083923489249281
@SiteCode649[String] = 6373083925531366080
@SiteCode650[String] = 6373083927883400612
@SiteCode651[String] = 6373083918575368225
@SiteCode652[String] = 6373083920445075162
@SiteCode653[String] = 6373083908618598731
@SiteCode654[String] = 6373083911842783146
@SiteCode655[String] = 6373083913928202424
@SiteCode656[String] = 6373083877551621804
@SiteCode657[String] = 6373083879921857377
@SiteCode658[String] = 6373083881542550067
@SiteCode659[String] = 6373083883689772886
@SiteCode660[String] = 6373083887136270013
@SiteCode661[String] = 6373083889697116488
@SiteCode662[String] = 6373083891969846476
@SiteCode663[String] = 6373083894422586761
@SiteCode664[String] = 6373083897509963358
@SiteCode665[String] = 6373083900444931227
@SiteCode666[String] = 6373083829464571372
@SiteCode667[String] = 6373083833327492328
@SiteCode668[String] = 6373083841964286321
@SiteCode669[String] = 6373083844982558950
@SiteCode670[String] = 6373083847585007801
@SiteCode671[String] = 6373083856887939900
@SiteCode672[String] = 6373083859102666584
@SiteCode673[String] = 6373083864919499284
@FDictionaryCode674[String] = OrderState
@FDictionaryCode675[String] = UrgentDegree
@FDictionaryCode676[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:02:11
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:02:11
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:02:11
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:02:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:02:14
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId677) AND ([TbModelOrg].[SiteCode] IN (@SiteCode678))) 	
Parameters:
@ProjectId677[String] = 6372912251695766465
@SiteCode678[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:02:34
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm679,@MxGjBm680,@MxGjBm681,@MxGjBm682,@MxGjBm683) 	
Parameters:
@MxGjBm679[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm680[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm681[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm682[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm683[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:02:34
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode684,@ComponentCode685,@ComponentCode686,@ComponentCode687,@ComponentCode688)) AND ([TbModelOtherInfo].[Type] = @Type689) 	
Parameters:
@ComponentCode684[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode685[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode686[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode687[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode688[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type689[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:02:37
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId690,@MxGjId691,@MxGjId692,@MxGjId693) 	
Parameters:
@MxGjId690[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId691[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId692[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId693[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:02:37
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode694,@ComponentCode695,@ComponentCode696,@ComponentCode697)) AND ([TbModelOtherInfo].[Type] = @Type698) 	
Parameters:
@ComponentCode694[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode695[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode696[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode697[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type698[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:02:42
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId699,@MxGjId700,@MxGjId701,@MxGjId702) 	
Parameters:
@MxGjId699[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId700[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId701[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId702[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:02:42
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode703,@ComponentCode704,@ComponentCode705,@ComponentCode706)) AND ([TbModelOtherInfo].[Type] = @Type707) 	
Parameters:
@ComponentCode703[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode704[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode705[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode706[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type707[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:05:06
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:06:44
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:06:44
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:06:44
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type708) AND ([TbOrganizationMap].[ProjectId] = @ProjectId709)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode710,@CompanyCode711,@CompanyCode712,@CompanyCode713,@CompanyCode714,@CompanyCode715,@CompanyCode716,@CompanyCode717)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode718))) 	
Parameters:
@Type708[Int32] = 1
@ProjectId709[String] = 6372912251695766465
@CompanyCode710[String] = 6373083923489249281
@CompanyCode711[String] = 6373083925531366080
@CompanyCode712[String] = 6373083927883400612
@CompanyCode713[String] = 6373083918575368225
@CompanyCode714[String] = 6373083920445075162
@CompanyCode715[String] = 6373083908618598731
@CompanyCode716[String] = 6373083911842783146
@CompanyCode717[String] = 6373083913928202424
@ParentCompanyCode718[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type719) AND ([TbOrganizationMap].[ProjectId] = @ProjectId720)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode721,@CompanyCode722,@CompanyCode723,@CompanyCode724,@CompanyCode725,@CompanyCode726,@CompanyCode727,@CompanyCode728)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode729))) 	
Parameters:
@Type719[Int32] = 2
@ProjectId720[String] = 6372912251695766465
@CompanyCode721[String] = 6373083923489249281
@CompanyCode722[String] = 6373083925531366080
@CompanyCode723[String] = 6373083927883400612
@CompanyCode724[String] = 6373083918575368225
@CompanyCode725[String] = 6373083920445075162
@CompanyCode726[String] = 6373083908618598731
@CompanyCode727[String] = 6373083911842783146
@CompanyCode728[String] = 6373083913928202424
@ParentCompanyCode729[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode757)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId730) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode731,@SiteCode732,@SiteCode733,@SiteCode734,@SiteCode735,@SiteCode736,@SiteCode737,@SiteCode738,@SiteCode739,@SiteCode740,@SiteCode741,@SiteCode742,@SiteCode743,@SiteCode744,@SiteCode745,@SiteCode746,@SiteCode747,@SiteCode748,@SiteCode749,@SiteCode750,@SiteCode751,@SiteCode752,@SiteCode753,@SiteCode754,@SiteCode755,@SiteCode756)))	
Parameters:
@ProjectId730[String] = 6372912251695766465
@SiteCode731[String] = 6373083923489249281
@SiteCode732[String] = 6373083925531366080
@SiteCode733[String] = 6373083927883400612
@SiteCode734[String] = 6373083918575368225
@SiteCode735[String] = 6373083920445075162
@SiteCode736[String] = 6373083908618598731
@SiteCode737[String] = 6373083911842783146
@SiteCode738[String] = 6373083913928202424
@SiteCode739[String] = 6373083877551621804
@SiteCode740[String] = 6373083879921857377
@SiteCode741[String] = 6373083881542550067
@SiteCode742[String] = 6373083883689772886
@SiteCode743[String] = 6373083887136270013
@SiteCode744[String] = 6373083889697116488
@SiteCode745[String] = 6373083891969846476
@SiteCode746[String] = 6373083894422586761
@SiteCode747[String] = 6373083897509963358
@SiteCode748[String] = 6373083900444931227
@SiteCode749[String] = 6373083829464571372
@SiteCode750[String] = 6373083833327492328
@SiteCode751[String] = 6373083841964286321
@SiteCode752[String] = 6373083844982558950
@SiteCode753[String] = 6373083847585007801
@SiteCode754[String] = 6373083856887939900
@SiteCode755[String] = 6373083859102666584
@SiteCode756[String] = 6373083864919499284
@FDictionaryCode757[String] = OrderState
@FDictionaryCode758[String] = UrgentDegree
@FDictionaryCode759[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode758) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode759) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode757)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId730) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode731,@SiteCode732,@SiteCode733,@SiteCode734,@SiteCode735,@SiteCode736,@SiteCode737,@SiteCode738,@SiteCode739,@SiteCode740,@SiteCode741,@SiteCode742,@SiteCode743,@SiteCode744,@SiteCode745,@SiteCode746,@SiteCode747,@SiteCode748,@SiteCode749,@SiteCode750,@SiteCode751,@SiteCode752,@SiteCode753,@SiteCode754,@SiteCode755,@SiteCode756))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId730[String] = 6372912251695766465
@SiteCode731[String] = 6373083923489249281
@SiteCode732[String] = 6373083925531366080
@SiteCode733[String] = 6373083927883400612
@SiteCode734[String] = 6373083918575368225
@SiteCode735[String] = 6373083920445075162
@SiteCode736[String] = 6373083908618598731
@SiteCode737[String] = 6373083911842783146
@SiteCode738[String] = 6373083913928202424
@SiteCode739[String] = 6373083877551621804
@SiteCode740[String] = 6373083879921857377
@SiteCode741[String] = 6373083881542550067
@SiteCode742[String] = 6373083883689772886
@SiteCode743[String] = 6373083887136270013
@SiteCode744[String] = 6373083889697116488
@SiteCode745[String] = 6373083891969846476
@SiteCode746[String] = 6373083894422586761
@SiteCode747[String] = 6373083897509963358
@SiteCode748[String] = 6373083900444931227
@SiteCode749[String] = 6373083829464571372
@SiteCode750[String] = 6373083833327492328
@SiteCode751[String] = 6373083841964286321
@SiteCode752[String] = 6373083844982558950
@SiteCode753[String] = 6373083847585007801
@SiteCode754[String] = 6373083856887939900
@SiteCode755[String] = 6373083859102666584
@SiteCode756[String] = 6373083864919499284
@FDictionaryCode757[String] = OrderState
@FDictionaryCode758[String] = UrgentDegree
@FDictionaryCode759[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:06:46
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:06:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:06:53
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId760) AND ([TbModelOrg].[SiteCode] IN (@SiteCode761))) 	
Parameters:
@ProjectId760[String] = 6372912251695766465
@SiteCode761[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:07:23
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm762,@MxGjBm763,@MxGjBm764,@MxGjBm765,@MxGjBm766) 	
Parameters:
@MxGjBm762[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm763[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm764[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm765[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm766[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:07:23
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode767,@ComponentCode768,@ComponentCode769,@ComponentCode770,@ComponentCode771)) AND ([TbModelOtherInfo].[Type] = @Type772) 	
Parameters:
@ComponentCode767[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode768[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode769[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode770[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode771[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type772[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:07:27
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId773,@MxGjId774,@MxGjId775,@MxGjId776) 	
Parameters:
@MxGjId773[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId774[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId775[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId776[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:07:27
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode777,@ComponentCode778,@ComponentCode779,@ComponentCode780)) AND ([TbModelOtherInfo].[Type] = @Type781) 	
Parameters:
@ComponentCode777[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode778[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode779[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode780[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type781[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:07:34
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId782,@MxGjId783,@MxGjId784,@MxGjId785) 	
Parameters:
@MxGjId782[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId783[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId784[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId785[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:07:34
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode786,@ComponentCode787,@ComponentCode788,@ComponentCode789)) AND ([TbModelOtherInfo].[Type] = @Type790) 	
Parameters:
@ComponentCode786[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode787[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode788[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode789[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type790[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:09:44
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:11:29
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:11:29
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:11:29
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type791) AND ([TbOrganizationMap].[ProjectId] = @ProjectId792)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode793,@CompanyCode794,@CompanyCode795,@CompanyCode796,@CompanyCode797,@CompanyCode798,@CompanyCode799,@CompanyCode800)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode801))) 	
Parameters:
@Type791[Int32] = 1
@ProjectId792[String] = 6372912251695766465
@CompanyCode793[String] = 6373083923489249281
@CompanyCode794[String] = 6373083925531366080
@CompanyCode795[String] = 6373083927883400612
@CompanyCode796[String] = 6373083918575368225
@CompanyCode797[String] = 6373083920445075162
@CompanyCode798[String] = 6373083908618598731
@CompanyCode799[String] = 6373083911842783146
@CompanyCode800[String] = 6373083913928202424
@ParentCompanyCode801[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type802) AND ([TbOrganizationMap].[ProjectId] = @ProjectId803)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode804,@CompanyCode805,@CompanyCode806,@CompanyCode807,@CompanyCode808,@CompanyCode809,@CompanyCode810,@CompanyCode811)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode812))) 	
Parameters:
@Type802[Int32] = 2
@ProjectId803[String] = 6372912251695766465
@CompanyCode804[String] = 6373083923489249281
@CompanyCode805[String] = 6373083925531366080
@CompanyCode806[String] = 6373083927883400612
@CompanyCode807[String] = 6373083918575368225
@CompanyCode808[String] = 6373083920445075162
@CompanyCode809[String] = 6373083908618598731
@CompanyCode810[String] = 6373083911842783146
@CompanyCode811[String] = 6373083913928202424
@ParentCompanyCode812[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode840)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId813) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode814,@SiteCode815,@SiteCode816,@SiteCode817,@SiteCode818,@SiteCode819,@SiteCode820,@SiteCode821,@SiteCode822,@SiteCode823,@SiteCode824,@SiteCode825,@SiteCode826,@SiteCode827,@SiteCode828,@SiteCode829,@SiteCode830,@SiteCode831,@SiteCode832,@SiteCode833,@SiteCode834,@SiteCode835,@SiteCode836,@SiteCode837,@SiteCode838,@SiteCode839)))	
Parameters:
@ProjectId813[String] = 6372912251695766465
@SiteCode814[String] = 6373083923489249281
@SiteCode815[String] = 6373083925531366080
@SiteCode816[String] = 6373083927883400612
@SiteCode817[String] = 6373083918575368225
@SiteCode818[String] = 6373083920445075162
@SiteCode819[String] = 6373083908618598731
@SiteCode820[String] = 6373083911842783146
@SiteCode821[String] = 6373083913928202424
@SiteCode822[String] = 6373083877551621804
@SiteCode823[String] = 6373083879921857377
@SiteCode824[String] = 6373083881542550067
@SiteCode825[String] = 6373083883689772886
@SiteCode826[String] = 6373083887136270013
@SiteCode827[String] = 6373083889697116488
@SiteCode828[String] = 6373083891969846476
@SiteCode829[String] = 6373083894422586761
@SiteCode830[String] = 6373083897509963358
@SiteCode831[String] = 6373083900444931227
@SiteCode832[String] = 6373083829464571372
@SiteCode833[String] = 6373083833327492328
@SiteCode834[String] = 6373083841964286321
@SiteCode835[String] = 6373083844982558950
@SiteCode836[String] = 6373083847585007801
@SiteCode837[String] = 6373083856887939900
@SiteCode838[String] = 6373083859102666584
@SiteCode839[String] = 6373083864919499284
@FDictionaryCode840[String] = OrderState
@FDictionaryCode841[String] = UrgentDegree
@FDictionaryCode842[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode841) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode842) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode840)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId813) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode814,@SiteCode815,@SiteCode816,@SiteCode817,@SiteCode818,@SiteCode819,@SiteCode820,@SiteCode821,@SiteCode822,@SiteCode823,@SiteCode824,@SiteCode825,@SiteCode826,@SiteCode827,@SiteCode828,@SiteCode829,@SiteCode830,@SiteCode831,@SiteCode832,@SiteCode833,@SiteCode834,@SiteCode835,@SiteCode836,@SiteCode837,@SiteCode838,@SiteCode839))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId813[String] = 6372912251695766465
@SiteCode814[String] = 6373083923489249281
@SiteCode815[String] = 6373083925531366080
@SiteCode816[String] = 6373083927883400612
@SiteCode817[String] = 6373083918575368225
@SiteCode818[String] = 6373083920445075162
@SiteCode819[String] = 6373083908618598731
@SiteCode820[String] = 6373083911842783146
@SiteCode821[String] = 6373083913928202424
@SiteCode822[String] = 6373083877551621804
@SiteCode823[String] = 6373083879921857377
@SiteCode824[String] = 6373083881542550067
@SiteCode825[String] = 6373083883689772886
@SiteCode826[String] = 6373083887136270013
@SiteCode827[String] = 6373083889697116488
@SiteCode828[String] = 6373083891969846476
@SiteCode829[String] = 6373083894422586761
@SiteCode830[String] = 6373083897509963358
@SiteCode831[String] = 6373083900444931227
@SiteCode832[String] = 6373083829464571372
@SiteCode833[String] = 6373083833327492328
@SiteCode834[String] = 6373083841964286321
@SiteCode835[String] = 6373083844982558950
@SiteCode836[String] = 6373083847585007801
@SiteCode837[String] = 6373083856887939900
@SiteCode838[String] = 6373083859102666584
@SiteCode839[String] = 6373083864919499284
@FDictionaryCode840[String] = OrderState
@FDictionaryCode841[String] = UrgentDegree
@FDictionaryCode842[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:11:31
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:11:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:11:35
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId843) AND ([TbModelOrg].[SiteCode] IN (@SiteCode844))) 	
Parameters:
@ProjectId843[String] = 6372912251695766465
@SiteCode844[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:11:43
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm845,@MxGjBm846,@MxGjBm847,@MxGjBm848,@MxGjBm849) 	
Parameters:
@MxGjBm845[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm846[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm847[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm848[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm849[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:11:43
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode850,@ComponentCode851,@ComponentCode852,@ComponentCode853,@ComponentCode854)) AND ([TbModelOtherInfo].[Type] = @Type855) 	
Parameters:
@ComponentCode850[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode851[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode852[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode853[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode854[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type855[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:11:55
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId856,@MxGjId857,@MxGjId858,@MxGjId859) 	
Parameters:
@MxGjId856[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId857[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId858[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId859[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:11:55
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode860,@ComponentCode861,@ComponentCode862,@ComponentCode863)) AND ([TbModelOtherInfo].[Type] = @Type864) 	
Parameters:
@ComponentCode860[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode861[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode862[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode863[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type864[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:12:07
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId865,@MxGjId866,@MxGjId867,@MxGjId868) 	
Parameters:
@MxGjId865[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId866[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId867[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId868[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:12:07
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode869,@ComponentCode870,@ComponentCode871,@ComponentCode872)) AND ([TbModelOtherInfo].[Type] = @Type873) 	
Parameters:
@ComponentCode869[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode870[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode871[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode872[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type873[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:14:29
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:14:58
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:14:58
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:14:58
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type874) AND ([TbOrganizationMap].[ProjectId] = @ProjectId875)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode876,@CompanyCode877,@CompanyCode878,@CompanyCode879,@CompanyCode880,@CompanyCode881,@CompanyCode882,@CompanyCode883)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode884))) 	
Parameters:
@Type874[Int32] = 1
@ProjectId875[String] = 6372912251695766465
@CompanyCode876[String] = 6373083923489249281
@CompanyCode877[String] = 6373083925531366080
@CompanyCode878[String] = 6373083927883400612
@CompanyCode879[String] = 6373083918575368225
@CompanyCode880[String] = 6373083920445075162
@CompanyCode881[String] = 6373083908618598731
@CompanyCode882[String] = 6373083911842783146
@CompanyCode883[String] = 6373083913928202424
@ParentCompanyCode884[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type885) AND ([TbOrganizationMap].[ProjectId] = @ProjectId886)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode887,@CompanyCode888,@CompanyCode889,@CompanyCode890,@CompanyCode891,@CompanyCode892,@CompanyCode893,@CompanyCode894)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode895))) 	
Parameters:
@Type885[Int32] = 2
@ProjectId886[String] = 6372912251695766465
@CompanyCode887[String] = 6373083923489249281
@CompanyCode888[String] = 6373083925531366080
@CompanyCode889[String] = 6373083927883400612
@CompanyCode890[String] = 6373083918575368225
@CompanyCode891[String] = 6373083920445075162
@CompanyCode892[String] = 6373083908618598731
@CompanyCode893[String] = 6373083911842783146
@CompanyCode894[String] = 6373083913928202424
@ParentCompanyCode895[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode923)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId896) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode897,@SiteCode898,@SiteCode899,@SiteCode900,@SiteCode901,@SiteCode902,@SiteCode903,@SiteCode904,@SiteCode905,@SiteCode906,@SiteCode907,@SiteCode908,@SiteCode909,@SiteCode910,@SiteCode911,@SiteCode912,@SiteCode913,@SiteCode914,@SiteCode915,@SiteCode916,@SiteCode917,@SiteCode918,@SiteCode919,@SiteCode920,@SiteCode921,@SiteCode922)))	
Parameters:
@ProjectId896[String] = 6372912251695766465
@SiteCode897[String] = 6373083923489249281
@SiteCode898[String] = 6373083925531366080
@SiteCode899[String] = 6373083927883400612
@SiteCode900[String] = 6373083918575368225
@SiteCode901[String] = 6373083920445075162
@SiteCode902[String] = 6373083908618598731
@SiteCode903[String] = 6373083911842783146
@SiteCode904[String] = 6373083913928202424
@SiteCode905[String] = 6373083877551621804
@SiteCode906[String] = 6373083879921857377
@SiteCode907[String] = 6373083881542550067
@SiteCode908[String] = 6373083883689772886
@SiteCode909[String] = 6373083887136270013
@SiteCode910[String] = 6373083889697116488
@SiteCode911[String] = 6373083891969846476
@SiteCode912[String] = 6373083894422586761
@SiteCode913[String] = 6373083897509963358
@SiteCode914[String] = 6373083900444931227
@SiteCode915[String] = 6373083829464571372
@SiteCode916[String] = 6373083833327492328
@SiteCode917[String] = 6373083841964286321
@SiteCode918[String] = 6373083844982558950
@SiteCode919[String] = 6373083847585007801
@SiteCode920[String] = 6373083856887939900
@SiteCode921[String] = 6373083859102666584
@SiteCode922[String] = 6373083864919499284
@FDictionaryCode923[String] = OrderState
@FDictionaryCode924[String] = UrgentDegree
@FDictionaryCode925[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode924) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode925) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode923)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId896) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode897,@SiteCode898,@SiteCode899,@SiteCode900,@SiteCode901,@SiteCode902,@SiteCode903,@SiteCode904,@SiteCode905,@SiteCode906,@SiteCode907,@SiteCode908,@SiteCode909,@SiteCode910,@SiteCode911,@SiteCode912,@SiteCode913,@SiteCode914,@SiteCode915,@SiteCode916,@SiteCode917,@SiteCode918,@SiteCode919,@SiteCode920,@SiteCode921,@SiteCode922))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId896[String] = 6372912251695766465
@SiteCode897[String] = 6373083923489249281
@SiteCode898[String] = 6373083925531366080
@SiteCode899[String] = 6373083927883400612
@SiteCode900[String] = 6373083918575368225
@SiteCode901[String] = 6373083920445075162
@SiteCode902[String] = 6373083908618598731
@SiteCode903[String] = 6373083911842783146
@SiteCode904[String] = 6373083913928202424
@SiteCode905[String] = 6373083877551621804
@SiteCode906[String] = 6373083879921857377
@SiteCode907[String] = 6373083881542550067
@SiteCode908[String] = 6373083883689772886
@SiteCode909[String] = 6373083887136270013
@SiteCode910[String] = 6373083889697116488
@SiteCode911[String] = 6373083891969846476
@SiteCode912[String] = 6373083894422586761
@SiteCode913[String] = 6373083897509963358
@SiteCode914[String] = 6373083900444931227
@SiteCode915[String] = 6373083829464571372
@SiteCode916[String] = 6373083833327492328
@SiteCode917[String] = 6373083841964286321
@SiteCode918[String] = 6373083844982558950
@SiteCode919[String] = 6373083847585007801
@SiteCode920[String] = 6373083856887939900
@SiteCode921[String] = 6373083859102666584
@SiteCode922[String] = 6373083864919499284
@FDictionaryCode923[String] = OrderState
@FDictionaryCode924[String] = UrgentDegree
@FDictionaryCode925[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:15:01
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:15:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:15:16
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId926) AND ([TbModelOrg].[SiteCode] IN (@SiteCode927))) 	
Parameters:
@ProjectId926[String] = 6372912251695766465
@SiteCode927[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:15:24
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm928,@MxGjBm929,@MxGjBm930,@MxGjBm931,@MxGjBm932) 	
Parameters:
@MxGjBm928[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm929[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm930[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm931[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm932[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:15:24
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode933,@ComponentCode934,@ComponentCode935,@ComponentCode936,@ComponentCode937)) AND ([TbModelOtherInfo].[Type] = @Type938) 	
Parameters:
@ComponentCode933[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode934[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode935[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode936[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode937[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type938[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:15:28
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId939,@MxGjId940,@MxGjId941,@MxGjId942) 	
Parameters:
@MxGjId939[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId940[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId941[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId942[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:15:28
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode943,@ComponentCode944,@ComponentCode945,@ComponentCode946)) AND ([TbModelOtherInfo].[Type] = @Type947) 	
Parameters:
@ComponentCode943[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode944[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode945[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode946[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type947[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:15:39
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId948,@MxGjId949,@MxGjId950,@MxGjId951) 	
Parameters:
@MxGjId948[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId949[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId950[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId951[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:15:39
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode952,@ComponentCode953,@ComponentCode954,@ComponentCode955)) AND ([TbModelOtherInfo].[Type] = @Type956) 	
Parameters:
@ComponentCode952[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode953[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode954[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode955[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type956[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:16:18
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId957,@MxGjId958,@MxGjId959,@MxGjId960) 	
Parameters:
@MxGjId957[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId958[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId959[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId960[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:16:18
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode961,@ComponentCode962,@ComponentCode963,@ComponentCode964)) AND ([TbModelOtherInfo].[Type] = @Type965) 	
Parameters:
@ComponentCode961[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode962[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode963[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode964[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type965[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:17:58
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:20:58
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:21:33
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:21:33
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:21:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:21:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:21:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type966) AND ([TbOrganizationMap].[ProjectId] = @ProjectId967)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode968,@CompanyCode969,@CompanyCode970,@CompanyCode971,@CompanyCode972,@CompanyCode973,@CompanyCode974,@CompanyCode975)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode976))) 	
Parameters:
@Type966[Int32] = 1
@ProjectId967[String] = 6372912251695766465
@CompanyCode968[String] = 6373083923489249281
@CompanyCode969[String] = 6373083925531366080
@CompanyCode970[String] = 6373083927883400612
@CompanyCode971[String] = 6373083918575368225
@CompanyCode972[String] = 6373083920445075162
@CompanyCode973[String] = 6373083908618598731
@CompanyCode974[String] = 6373083911842783146
@CompanyCode975[String] = 6373083913928202424
@ParentCompanyCode976[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:21:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:21:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type977) AND ([TbOrganizationMap].[ProjectId] = @ProjectId978)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode979,@CompanyCode980,@CompanyCode981,@CompanyCode982,@CompanyCode983,@CompanyCode984,@CompanyCode985,@CompanyCode986)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode987))) 	
Parameters:
@Type977[Int32] = 2
@ProjectId978[String] = 6372912251695766465
@CompanyCode979[String] = 6373083923489249281
@CompanyCode980[String] = 6373083925531366080
@CompanyCode981[String] = 6373083927883400612
@CompanyCode982[String] = 6373083918575368225
@CompanyCode983[String] = 6373083920445075162
@CompanyCode984[String] = 6373083908618598731
@CompanyCode985[String] = 6373083911842783146
@CompanyCode986[String] = 6373083913928202424
@ParentCompanyCode987[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:21:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:21:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:21:35
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1015)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId988) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode989,@SiteCode990,@SiteCode991,@SiteCode992,@SiteCode993,@SiteCode994,@SiteCode995,@SiteCode996,@SiteCode997,@SiteCode998,@SiteCode999,@SiteCode1000,@SiteCode1001,@SiteCode1002,@SiteCode1003,@SiteCode1004,@SiteCode1005,@SiteCode1006,@SiteCode1007,@SiteCode1008,@SiteCode1009,@SiteCode1010,@SiteCode1011,@SiteCode1012,@SiteCode1013,@SiteCode1014)))	
Parameters:
@ProjectId988[String] = 6372912251695766465
@SiteCode989[String] = 6373083923489249281
@SiteCode990[String] = 6373083925531366080
@SiteCode991[String] = 6373083927883400612
@SiteCode992[String] = 6373083918575368225
@SiteCode993[String] = 6373083920445075162
@SiteCode994[String] = 6373083908618598731
@SiteCode995[String] = 6373083911842783146
@SiteCode996[String] = 6373083913928202424
@SiteCode997[String] = 6373083877551621804
@SiteCode998[String] = 6373083879921857377
@SiteCode999[String] = 6373083881542550067
@SiteCode1000[String] = 6373083883689772886
@SiteCode1001[String] = 6373083887136270013
@SiteCode1002[String] = 6373083889697116488
@SiteCode1003[String] = 6373083891969846476
@SiteCode1004[String] = 6373083894422586761
@SiteCode1005[String] = 6373083897509963358
@SiteCode1006[String] = 6373083900444931227
@SiteCode1007[String] = 6373083829464571372
@SiteCode1008[String] = 6373083833327492328
@SiteCode1009[String] = 6373083841964286321
@SiteCode1010[String] = 6373083844982558950
@SiteCode1011[String] = 6373083847585007801
@SiteCode1012[String] = 6373083856887939900
@SiteCode1013[String] = 6373083859102666584
@SiteCode1014[String] = 6373083864919499284
@FDictionaryCode1015[String] = OrderState
@FDictionaryCode1016[String] = UrgentDegree
@FDictionaryCode1017[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:21:35
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1016) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1017) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1015)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId988) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode989,@SiteCode990,@SiteCode991,@SiteCode992,@SiteCode993,@SiteCode994,@SiteCode995,@SiteCode996,@SiteCode997,@SiteCode998,@SiteCode999,@SiteCode1000,@SiteCode1001,@SiteCode1002,@SiteCode1003,@SiteCode1004,@SiteCode1005,@SiteCode1006,@SiteCode1007,@SiteCode1008,@SiteCode1009,@SiteCode1010,@SiteCode1011,@SiteCode1012,@SiteCode1013,@SiteCode1014))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId988[String] = 6372912251695766465
@SiteCode989[String] = 6373083923489249281
@SiteCode990[String] = 6373083925531366080
@SiteCode991[String] = 6373083927883400612
@SiteCode992[String] = 6373083918575368225
@SiteCode993[String] = 6373083920445075162
@SiteCode994[String] = 6373083908618598731
@SiteCode995[String] = 6373083911842783146
@SiteCode996[String] = 6373083913928202424
@SiteCode997[String] = 6373083877551621804
@SiteCode998[String] = 6373083879921857377
@SiteCode999[String] = 6373083881542550067
@SiteCode1000[String] = 6373083883689772886
@SiteCode1001[String] = 6373083887136270013
@SiteCode1002[String] = 6373083889697116488
@SiteCode1003[String] = 6373083891969846476
@SiteCode1004[String] = 6373083894422586761
@SiteCode1005[String] = 6373083897509963358
@SiteCode1006[String] = 6373083900444931227
@SiteCode1007[String] = 6373083829464571372
@SiteCode1008[String] = 6373083833327492328
@SiteCode1009[String] = 6373083841964286321
@SiteCode1010[String] = 6373083844982558950
@SiteCode1011[String] = 6373083847585007801
@SiteCode1012[String] = 6373083856887939900
@SiteCode1013[String] = 6373083859102666584
@SiteCode1014[String] = 6373083864919499284
@FDictionaryCode1015[String] = OrderState
@FDictionaryCode1016[String] = UrgentDegree
@FDictionaryCode1017[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:21:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:21:36
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:21:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:21:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:21:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:21:53
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1018) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1019))) 	
Parameters:
@ProjectId1018[String] = 6372912251695766465
@SiteCode1019[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:22:00
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1020,@MxGjBm1021,@MxGjBm1022,@MxGjBm1023,@MxGjBm1024) 	
Parameters:
@MxGjBm1020[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1021[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1022[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1023[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1024[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:22:00
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1025,@ComponentCode1026,@ComponentCode1027,@ComponentCode1028,@ComponentCode1029)) AND ([TbModelOtherInfo].[Type] = @Type1030) 	
Parameters:
@ComponentCode1025[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1026[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1027[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1028[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1029[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1030[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:22:03
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1031,@MxGjId1032,@MxGjId1033,@MxGjId1034) 	
Parameters:
@MxGjId1031[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1032[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1033[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1034[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:22:03
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1035,@ComponentCode1036,@ComponentCode1037,@ComponentCode1038)) AND ([TbModelOtherInfo].[Type] = @Type1039) 	
Parameters:
@ComponentCode1035[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1036[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1037[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1038[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1039[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:24:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:25:03
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:25:03
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:25:03
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1040) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1041)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1042,@CompanyCode1043,@CompanyCode1044,@CompanyCode1045,@CompanyCode1046,@CompanyCode1047,@CompanyCode1048,@CompanyCode1049)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1050))) 	
Parameters:
@Type1040[Int32] = 1
@ProjectId1041[String] = 6372912251695766465
@CompanyCode1042[String] = 6373083923489249281
@CompanyCode1043[String] = 6373083925531366080
@CompanyCode1044[String] = 6373083927883400612
@CompanyCode1045[String] = 6373083918575368225
@CompanyCode1046[String] = 6373083920445075162
@CompanyCode1047[String] = 6373083908618598731
@CompanyCode1048[String] = 6373083911842783146
@CompanyCode1049[String] = 6373083913928202424
@ParentCompanyCode1050[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1051) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1052)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1053,@CompanyCode1054,@CompanyCode1055,@CompanyCode1056,@CompanyCode1057,@CompanyCode1058,@CompanyCode1059,@CompanyCode1060)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1061))) 	
Parameters:
@Type1051[Int32] = 2
@ProjectId1052[String] = 6372912251695766465
@CompanyCode1053[String] = 6373083923489249281
@CompanyCode1054[String] = 6373083925531366080
@CompanyCode1055[String] = 6373083927883400612
@CompanyCode1056[String] = 6373083918575368225
@CompanyCode1057[String] = 6373083920445075162
@CompanyCode1058[String] = 6373083908618598731
@CompanyCode1059[String] = 6373083911842783146
@CompanyCode1060[String] = 6373083913928202424
@ParentCompanyCode1061[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1089)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1062) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1063,@SiteCode1064,@SiteCode1065,@SiteCode1066,@SiteCode1067,@SiteCode1068,@SiteCode1069,@SiteCode1070,@SiteCode1071,@SiteCode1072,@SiteCode1073,@SiteCode1074,@SiteCode1075,@SiteCode1076,@SiteCode1077,@SiteCode1078,@SiteCode1079,@SiteCode1080,@SiteCode1081,@SiteCode1082,@SiteCode1083,@SiteCode1084,@SiteCode1085,@SiteCode1086,@SiteCode1087,@SiteCode1088)))	
Parameters:
@ProjectId1062[String] = 6372912251695766465
@SiteCode1063[String] = 6373083923489249281
@SiteCode1064[String] = 6373083925531366080
@SiteCode1065[String] = 6373083927883400612
@SiteCode1066[String] = 6373083918575368225
@SiteCode1067[String] = 6373083920445075162
@SiteCode1068[String] = 6373083908618598731
@SiteCode1069[String] = 6373083911842783146
@SiteCode1070[String] = 6373083913928202424
@SiteCode1071[String] = 6373083877551621804
@SiteCode1072[String] = 6373083879921857377
@SiteCode1073[String] = 6373083881542550067
@SiteCode1074[String] = 6373083883689772886
@SiteCode1075[String] = 6373083887136270013
@SiteCode1076[String] = 6373083889697116488
@SiteCode1077[String] = 6373083891969846476
@SiteCode1078[String] = 6373083894422586761
@SiteCode1079[String] = 6373083897509963358
@SiteCode1080[String] = 6373083900444931227
@SiteCode1081[String] = 6373083829464571372
@SiteCode1082[String] = 6373083833327492328
@SiteCode1083[String] = 6373083841964286321
@SiteCode1084[String] = 6373083844982558950
@SiteCode1085[String] = 6373083847585007801
@SiteCode1086[String] = 6373083856887939900
@SiteCode1087[String] = 6373083859102666584
@SiteCode1088[String] = 6373083864919499284
@FDictionaryCode1089[String] = OrderState
@FDictionaryCode1090[String] = UrgentDegree
@FDictionaryCode1091[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1090) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1091) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1089)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1062) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1063,@SiteCode1064,@SiteCode1065,@SiteCode1066,@SiteCode1067,@SiteCode1068,@SiteCode1069,@SiteCode1070,@SiteCode1071,@SiteCode1072,@SiteCode1073,@SiteCode1074,@SiteCode1075,@SiteCode1076,@SiteCode1077,@SiteCode1078,@SiteCode1079,@SiteCode1080,@SiteCode1081,@SiteCode1082,@SiteCode1083,@SiteCode1084,@SiteCode1085,@SiteCode1086,@SiteCode1087,@SiteCode1088))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1062[String] = 6372912251695766465
@SiteCode1063[String] = 6373083923489249281
@SiteCode1064[String] = 6373083925531366080
@SiteCode1065[String] = 6373083927883400612
@SiteCode1066[String] = 6373083918575368225
@SiteCode1067[String] = 6373083920445075162
@SiteCode1068[String] = 6373083908618598731
@SiteCode1069[String] = 6373083911842783146
@SiteCode1070[String] = 6373083913928202424
@SiteCode1071[String] = 6373083877551621804
@SiteCode1072[String] = 6373083879921857377
@SiteCode1073[String] = 6373083881542550067
@SiteCode1074[String] = 6373083883689772886
@SiteCode1075[String] = 6373083887136270013
@SiteCode1076[String] = 6373083889697116488
@SiteCode1077[String] = 6373083891969846476
@SiteCode1078[String] = 6373083894422586761
@SiteCode1079[String] = 6373083897509963358
@SiteCode1080[String] = 6373083900444931227
@SiteCode1081[String] = 6373083829464571372
@SiteCode1082[String] = 6373083833327492328
@SiteCode1083[String] = 6373083841964286321
@SiteCode1084[String] = 6373083844982558950
@SiteCode1085[String] = 6373083847585007801
@SiteCode1086[String] = 6373083856887939900
@SiteCode1087[String] = 6373083859102666584
@SiteCode1088[String] = 6373083864919499284
@FDictionaryCode1089[String] = OrderState
@FDictionaryCode1090[String] = UrgentDegree
@FDictionaryCode1091[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:25:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:25:25
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:25:25
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:25:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1092) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1093)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1094,@CompanyCode1095,@CompanyCode1096,@CompanyCode1097,@CompanyCode1098,@CompanyCode1099,@CompanyCode1100,@CompanyCode1101)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1102))) 	
Parameters:
@Type1092[Int32] = 1
@ProjectId1093[String] = 6372912251695766465
@CompanyCode1094[String] = 6373083923489249281
@CompanyCode1095[String] = 6373083925531366080
@CompanyCode1096[String] = 6373083927883400612
@CompanyCode1097[String] = 6373083918575368225
@CompanyCode1098[String] = 6373083920445075162
@CompanyCode1099[String] = 6373083908618598731
@CompanyCode1100[String] = 6373083911842783146
@CompanyCode1101[String] = 6373083913928202424
@ParentCompanyCode1102[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1103) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1104)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1105,@CompanyCode1106,@CompanyCode1107,@CompanyCode1108,@CompanyCode1109,@CompanyCode1110,@CompanyCode1111,@CompanyCode1112)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1113))) 	
Parameters:
@Type1103[Int32] = 2
@ProjectId1104[String] = 6372912251695766465
@CompanyCode1105[String] = 6373083923489249281
@CompanyCode1106[String] = 6373083925531366080
@CompanyCode1107[String] = 6373083927883400612
@CompanyCode1108[String] = 6373083918575368225
@CompanyCode1109[String] = 6373083920445075162
@CompanyCode1110[String] = 6373083908618598731
@CompanyCode1111[String] = 6373083911842783146
@CompanyCode1112[String] = 6373083913928202424
@ParentCompanyCode1113[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1141)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1114) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1115,@SiteCode1116,@SiteCode1117,@SiteCode1118,@SiteCode1119,@SiteCode1120,@SiteCode1121,@SiteCode1122,@SiteCode1123,@SiteCode1124,@SiteCode1125,@SiteCode1126,@SiteCode1127,@SiteCode1128,@SiteCode1129,@SiteCode1130,@SiteCode1131,@SiteCode1132,@SiteCode1133,@SiteCode1134,@SiteCode1135,@SiteCode1136,@SiteCode1137,@SiteCode1138,@SiteCode1139,@SiteCode1140)))	
Parameters:
@ProjectId1114[String] = 6372912251695766465
@SiteCode1115[String] = 6373083923489249281
@SiteCode1116[String] = 6373083925531366080
@SiteCode1117[String] = 6373083927883400612
@SiteCode1118[String] = 6373083918575368225
@SiteCode1119[String] = 6373083920445075162
@SiteCode1120[String] = 6373083908618598731
@SiteCode1121[String] = 6373083911842783146
@SiteCode1122[String] = 6373083913928202424
@SiteCode1123[String] = 6373083877551621804
@SiteCode1124[String] = 6373083879921857377
@SiteCode1125[String] = 6373083881542550067
@SiteCode1126[String] = 6373083883689772886
@SiteCode1127[String] = 6373083887136270013
@SiteCode1128[String] = 6373083889697116488
@SiteCode1129[String] = 6373083891969846476
@SiteCode1130[String] = 6373083894422586761
@SiteCode1131[String] = 6373083897509963358
@SiteCode1132[String] = 6373083900444931227
@SiteCode1133[String] = 6373083829464571372
@SiteCode1134[String] = 6373083833327492328
@SiteCode1135[String] = 6373083841964286321
@SiteCode1136[String] = 6373083844982558950
@SiteCode1137[String] = 6373083847585007801
@SiteCode1138[String] = 6373083856887939900
@SiteCode1139[String] = 6373083859102666584
@SiteCode1140[String] = 6373083864919499284
@FDictionaryCode1141[String] = OrderState
@FDictionaryCode1142[String] = UrgentDegree
@FDictionaryCode1143[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1142) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1143) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1141)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1114) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1115,@SiteCode1116,@SiteCode1117,@SiteCode1118,@SiteCode1119,@SiteCode1120,@SiteCode1121,@SiteCode1122,@SiteCode1123,@SiteCode1124,@SiteCode1125,@SiteCode1126,@SiteCode1127,@SiteCode1128,@SiteCode1129,@SiteCode1130,@SiteCode1131,@SiteCode1132,@SiteCode1133,@SiteCode1134,@SiteCode1135,@SiteCode1136,@SiteCode1137,@SiteCode1138,@SiteCode1139,@SiteCode1140))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1114[String] = 6372912251695766465
@SiteCode1115[String] = 6373083923489249281
@SiteCode1116[String] = 6373083925531366080
@SiteCode1117[String] = 6373083927883400612
@SiteCode1118[String] = 6373083918575368225
@SiteCode1119[String] = 6373083920445075162
@SiteCode1120[String] = 6373083908618598731
@SiteCode1121[String] = 6373083911842783146
@SiteCode1122[String] = 6373083913928202424
@SiteCode1123[String] = 6373083877551621804
@SiteCode1124[String] = 6373083879921857377
@SiteCode1125[String] = 6373083881542550067
@SiteCode1126[String] = 6373083883689772886
@SiteCode1127[String] = 6373083887136270013
@SiteCode1128[String] = 6373083889697116488
@SiteCode1129[String] = 6373083891969846476
@SiteCode1130[String] = 6373083894422586761
@SiteCode1131[String] = 6373083897509963358
@SiteCode1132[String] = 6373083900444931227
@SiteCode1133[String] = 6373083829464571372
@SiteCode1134[String] = 6373083833327492328
@SiteCode1135[String] = 6373083841964286321
@SiteCode1136[String] = 6373083844982558950
@SiteCode1137[String] = 6373083847585007801
@SiteCode1138[String] = 6373083856887939900
@SiteCode1139[String] = 6373083859102666584
@SiteCode1140[String] = 6373083864919499284
@FDictionaryCode1141[String] = OrderState
@FDictionaryCode1142[String] = UrgentDegree
@FDictionaryCode1143[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:25:26
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:25:29
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:25:29
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1144) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1145))) 	
Parameters:
@ProjectId1144[String] = 6372912251695766465
@SiteCode1145[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:25:37
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1146,@MxGjBm1147,@MxGjBm1148,@MxGjBm1149,@MxGjBm1150) 	
Parameters:
@MxGjBm1146[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1147[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1148[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1149[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1150[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:25:37
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1151,@ComponentCode1152,@ComponentCode1153,@ComponentCode1154,@ComponentCode1155)) AND ([TbModelOtherInfo].[Type] = @Type1156) 	
Parameters:
@ComponentCode1151[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1152[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1153[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1154[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1155[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1156[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:25:39
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1157,@MxGjId1158,@MxGjId1159,@MxGjId1160) 	
Parameters:
@MxGjId1157[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1158[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1159[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1160[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:25:39
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1161,@ComponentCode1162,@ComponentCode1163,@ComponentCode1164)) AND ([TbModelOtherInfo].[Type] = @Type1165) 	
Parameters:
@ComponentCode1161[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1162[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1163[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1164[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1165[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:26:56
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:26:56
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:26:56
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:27:00
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1166) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1167)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1168,@CompanyCode1169,@CompanyCode1170,@CompanyCode1171,@CompanyCode1172,@CompanyCode1173,@CompanyCode1174,@CompanyCode1175)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1176))) 	
Parameters:
@Type1166[Int32] = 1
@ProjectId1167[String] = 6372912251695766465
@CompanyCode1168[String] = 6373083923489249281
@CompanyCode1169[String] = 6373083925531366080
@CompanyCode1170[String] = 6373083927883400612
@CompanyCode1171[String] = 6373083918575368225
@CompanyCode1172[String] = 6373083920445075162
@CompanyCode1173[String] = 6373083908618598731
@CompanyCode1174[String] = 6373083911842783146
@CompanyCode1175[String] = 6373083913928202424
@ParentCompanyCode1176[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1177) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1178)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1179,@CompanyCode1180,@CompanyCode1181,@CompanyCode1182,@CompanyCode1183,@CompanyCode1184,@CompanyCode1185,@CompanyCode1186)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1187))) 	
Parameters:
@Type1177[Int32] = 2
@ProjectId1178[String] = 6372912251695766465
@CompanyCode1179[String] = 6373083923489249281
@CompanyCode1180[String] = 6373083925531366080
@CompanyCode1181[String] = 6373083927883400612
@CompanyCode1182[String] = 6373083918575368225
@CompanyCode1183[String] = 6373083920445075162
@CompanyCode1184[String] = 6373083908618598731
@CompanyCode1185[String] = 6373083911842783146
@CompanyCode1186[String] = 6373083913928202424
@ParentCompanyCode1187[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1215)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1188) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1189,@SiteCode1190,@SiteCode1191,@SiteCode1192,@SiteCode1193,@SiteCode1194,@SiteCode1195,@SiteCode1196,@SiteCode1197,@SiteCode1198,@SiteCode1199,@SiteCode1200,@SiteCode1201,@SiteCode1202,@SiteCode1203,@SiteCode1204,@SiteCode1205,@SiteCode1206,@SiteCode1207,@SiteCode1208,@SiteCode1209,@SiteCode1210,@SiteCode1211,@SiteCode1212,@SiteCode1213,@SiteCode1214)))	
Parameters:
@ProjectId1188[String] = 6372912251695766465
@SiteCode1189[String] = 6373083923489249281
@SiteCode1190[String] = 6373083925531366080
@SiteCode1191[String] = 6373083927883400612
@SiteCode1192[String] = 6373083918575368225
@SiteCode1193[String] = 6373083920445075162
@SiteCode1194[String] = 6373083908618598731
@SiteCode1195[String] = 6373083911842783146
@SiteCode1196[String] = 6373083913928202424
@SiteCode1197[String] = 6373083877551621804
@SiteCode1198[String] = 6373083879921857377
@SiteCode1199[String] = 6373083881542550067
@SiteCode1200[String] = 6373083883689772886
@SiteCode1201[String] = 6373083887136270013
@SiteCode1202[String] = 6373083889697116488
@SiteCode1203[String] = 6373083891969846476
@SiteCode1204[String] = 6373083894422586761
@SiteCode1205[String] = 6373083897509963358
@SiteCode1206[String] = 6373083900444931227
@SiteCode1207[String] = 6373083829464571372
@SiteCode1208[String] = 6373083833327492328
@SiteCode1209[String] = 6373083841964286321
@SiteCode1210[String] = 6373083844982558950
@SiteCode1211[String] = 6373083847585007801
@SiteCode1212[String] = 6373083856887939900
@SiteCode1213[String] = 6373083859102666584
@SiteCode1214[String] = 6373083864919499284
@FDictionaryCode1215[String] = OrderState
@FDictionaryCode1216[String] = UrgentDegree
@FDictionaryCode1217[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1216) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1217) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1215)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1188) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1189,@SiteCode1190,@SiteCode1191,@SiteCode1192,@SiteCode1193,@SiteCode1194,@SiteCode1195,@SiteCode1196,@SiteCode1197,@SiteCode1198,@SiteCode1199,@SiteCode1200,@SiteCode1201,@SiteCode1202,@SiteCode1203,@SiteCode1204,@SiteCode1205,@SiteCode1206,@SiteCode1207,@SiteCode1208,@SiteCode1209,@SiteCode1210,@SiteCode1211,@SiteCode1212,@SiteCode1213,@SiteCode1214))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1188[String] = 6372912251695766465
@SiteCode1189[String] = 6373083923489249281
@SiteCode1190[String] = 6373083925531366080
@SiteCode1191[String] = 6373083927883400612
@SiteCode1192[String] = 6373083918575368225
@SiteCode1193[String] = 6373083920445075162
@SiteCode1194[String] = 6373083908618598731
@SiteCode1195[String] = 6373083911842783146
@SiteCode1196[String] = 6373083913928202424
@SiteCode1197[String] = 6373083877551621804
@SiteCode1198[String] = 6373083879921857377
@SiteCode1199[String] = 6373083881542550067
@SiteCode1200[String] = 6373083883689772886
@SiteCode1201[String] = 6373083887136270013
@SiteCode1202[String] = 6373083889697116488
@SiteCode1203[String] = 6373083891969846476
@SiteCode1204[String] = 6373083894422586761
@SiteCode1205[String] = 6373083897509963358
@SiteCode1206[String] = 6373083900444931227
@SiteCode1207[String] = 6373083829464571372
@SiteCode1208[String] = 6373083833327492328
@SiteCode1209[String] = 6373083841964286321
@SiteCode1210[String] = 6373083844982558950
@SiteCode1211[String] = 6373083847585007801
@SiteCode1212[String] = 6373083856887939900
@SiteCode1213[String] = 6373083859102666584
@SiteCode1214[String] = 6373083864919499284
@FDictionaryCode1215[String] = OrderState
@FDictionaryCode1216[String] = UrgentDegree
@FDictionaryCode1217[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:27:01
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:27:07
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:27:07
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1218) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1219))) 	
Parameters:
@ProjectId1218[String] = 6372912251695766465
@SiteCode1219[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:27:14
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm1220,@MxGjBm1221,@MxGjBm1222,@MxGjBm1223,@MxGjBm1224) 	
Parameters:
@MxGjBm1220[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm1221[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm1222[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm1223[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm1224[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:27:14
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1225,@ComponentCode1226,@ComponentCode1227,@ComponentCode1228,@ComponentCode1229)) AND ([TbModelOtherInfo].[Type] = @Type1230) 	
Parameters:
@ComponentCode1225[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1226[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode1227[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode1228[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode1229[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type1230[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:27:17
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1231,@MxGjId1232,@MxGjId1233,@MxGjId1234) 	
Parameters:
@MxGjId1231[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1232[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1233[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1234[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:27:17
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1235,@ComponentCode1236,@ComponentCode1237,@ComponentCode1238)) AND ([TbModelOtherInfo].[Type] = @Type1239) 	
Parameters:
@ComponentCode1235[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1236[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1237[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1238[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1239[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:28:06
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId1240,@MxGjId1241,@MxGjId1242,@MxGjId1243) 	
Parameters:
@MxGjId1240[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId1241[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId1242[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId1243[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:28:06
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode1244,@ComponentCode1245,@ComponentCode1246,@ComponentCode1247)) AND ([TbModelOtherInfo].[Type] = @Type1248) 	
Parameters:
@ComponentCode1244[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode1245[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode1246[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode1247[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type1248[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:28:50
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:28:50
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:28:50
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:28:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:28:57
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3,@CompanyCode4,@CompanyCode5,@CompanyCode6,@CompanyCode7,@CompanyCode8,@CompanyCode9,@CompanyCode10)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode11))) 	
Parameters:
@Type1[Int32] = 1
@ProjectId2[String] = 6372912251695766465
@CompanyCode3[String] = 6373083923489249281
@CompanyCode4[String] = 6373083925531366080
@CompanyCode5[String] = 6373083927883400612
@CompanyCode6[String] = 6373083918575368225
@CompanyCode7[String] = 6373083920445075162
@CompanyCode8[String] = 6373083908618598731
@CompanyCode9[String] = 6373083911842783146
@CompanyCode10[String] = 6373083913928202424
@ParentCompanyCode11[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:28:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:28:57
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type12) AND ([TbOrganizationMap].[ProjectId] = @ProjectId13)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode22))) 	
Parameters:
@Type12[Int32] = 2
@ProjectId13[String] = 6372912251695766465
@CompanyCode14[String] = 6373083923489249281
@CompanyCode15[String] = 6373083925531366080
@CompanyCode16[String] = 6373083927883400612
@CompanyCode17[String] = 6373083918575368225
@CompanyCode18[String] = 6373083920445075162
@CompanyCode19[String] = 6373083908618598731
@CompanyCode20[String] = 6373083911842783146
@CompanyCode21[String] = 6373083913928202424
@ParentCompanyCode22[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:28:57
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:28:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:28:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:28:58
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49)))	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:28:58
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode51) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode52) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:28:58
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:28:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:28:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:29:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:29:02
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId53) AND ([TbModelOrg].[SiteCode] IN (@SiteCode54))) 	
Parameters:
@ProjectId53[String] = 6372912251695766465
@SiteCode54[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:29:10
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm55,@MxGjBm56,@MxGjBm57,@MxGjBm58,@MxGjBm59) 	
Parameters:
@MxGjBm55[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm56[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm57[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm58[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm59[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:29:10
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode60,@ComponentCode61,@ComponentCode62,@ComponentCode63,@ComponentCode64)) AND ([TbModelOtherInfo].[Type] = @Type65) 	
Parameters:
@ComponentCode60[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode61[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode62[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode63[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode64[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type65[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:29:13
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId66,@MxGjId67,@MxGjId68,@MxGjId69) 	
Parameters:
@MxGjId66[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId67[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId68[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId69[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:29:13
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode70,@ComponentCode71,@ComponentCode72,@ComponentCode73)) AND ([TbModelOtherInfo].[Type] = @Type74) 	
Parameters:
@ComponentCode70[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode71[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode72[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode73[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type74[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:29:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:29:27
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode102)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId75) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101)))	
Parameters:
@ProjectId75[String] = 6372912251695766465
@SiteCode76[String] = 6373083923489249281
@SiteCode77[String] = 6373083925531366080
@SiteCode78[String] = 6373083927883400612
@SiteCode79[String] = 6373083918575368225
@SiteCode80[String] = 6373083920445075162
@SiteCode81[String] = 6373083908618598731
@SiteCode82[String] = 6373083911842783146
@SiteCode83[String] = 6373083913928202424
@SiteCode84[String] = 6373083877551621804
@SiteCode85[String] = 6373083879921857377
@SiteCode86[String] = 6373083881542550067
@SiteCode87[String] = 6373083883689772886
@SiteCode88[String] = 6373083887136270013
@SiteCode89[String] = 6373083889697116488
@SiteCode90[String] = 6373083891969846476
@SiteCode91[String] = 6373083894422586761
@SiteCode92[String] = 6373083897509963358
@SiteCode93[String] = 6373083900444931227
@SiteCode94[String] = 6373083829464571372
@SiteCode95[String] = 6373083833327492328
@SiteCode96[String] = 6373083841964286321
@SiteCode97[String] = 6373083844982558950
@SiteCode98[String] = 6373083847585007801
@SiteCode99[String] = 6373083856887939900
@SiteCode100[String] = 6373083859102666584
@SiteCode101[String] = 6373083864919499284
@FDictionaryCode102[String] = OrderState
@FDictionaryCode103[String] = UrgentDegree
@FDictionaryCode104[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:29:27
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode103) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode104) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode102)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId75) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode76,@SiteCode77,@SiteCode78,@SiteCode79,@SiteCode80,@SiteCode81,@SiteCode82,@SiteCode83,@SiteCode84,@SiteCode85,@SiteCode86,@SiteCode87,@SiteCode88,@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId75[String] = 6372912251695766465
@SiteCode76[String] = 6373083923489249281
@SiteCode77[String] = 6373083925531366080
@SiteCode78[String] = 6373083927883400612
@SiteCode79[String] = 6373083918575368225
@SiteCode80[String] = 6373083920445075162
@SiteCode81[String] = 6373083908618598731
@SiteCode82[String] = 6373083911842783146
@SiteCode83[String] = 6373083913928202424
@SiteCode84[String] = 6373083877551621804
@SiteCode85[String] = 6373083879921857377
@SiteCode86[String] = 6373083881542550067
@SiteCode87[String] = 6373083883689772886
@SiteCode88[String] = 6373083887136270013
@SiteCode89[String] = 6373083889697116488
@SiteCode90[String] = 6373083891969846476
@SiteCode91[String] = 6373083894422586761
@SiteCode92[String] = 6373083897509963358
@SiteCode93[String] = 6373083900444931227
@SiteCode94[String] = 6373083829464571372
@SiteCode95[String] = 6373083833327492328
@SiteCode96[String] = 6373083841964286321
@SiteCode97[String] = 6373083844982558950
@SiteCode98[String] = 6373083847585007801
@SiteCode99[String] = 6373083856887939900
@SiteCode100[String] = 6373083859102666584
@SiteCode101[String] = 6373083864919499284
@FDictionaryCode102[String] = OrderState
@FDictionaryCode103[String] = UrgentDegree
@FDictionaryCode104[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:29:29
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode105) AND ([TbModelOtherInfo].[Type] = @Type106) 	
Parameters:
@ComponentCode105[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@Type106[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:29:29
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode107,@PlanTime108,@Remark109,@SiteCode110,@Type111,@ProjectId112);select scope_identity()	
Parameters:
@ComponentCode107[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@PlanTime108[DateTime] = 2020/8/27 0:00:00
@Remark109[String] = 
@SiteCode110[String] = 6373083847585007801
@Type111[Int32] = 2
@ProjectId112[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:30:51
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:30:51
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:30:51
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type113) AND ([TbOrganizationMap].[ProjectId] = @ProjectId114)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode115,@CompanyCode116,@CompanyCode117,@CompanyCode118,@CompanyCode119,@CompanyCode120,@CompanyCode121,@CompanyCode122)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode123))) 	
Parameters:
@Type113[Int32] = 1
@ProjectId114[String] = 6372912251695766465
@CompanyCode115[String] = 6373083923489249281
@CompanyCode116[String] = 6373083925531366080
@CompanyCode117[String] = 6373083927883400612
@CompanyCode118[String] = 6373083918575368225
@CompanyCode119[String] = 6373083920445075162
@CompanyCode120[String] = 6373083908618598731
@CompanyCode121[String] = 6373083911842783146
@CompanyCode122[String] = 6373083913928202424
@ParentCompanyCode123[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type124) AND ([TbOrganizationMap].[ProjectId] = @ProjectId125)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode126,@CompanyCode127,@CompanyCode128,@CompanyCode129,@CompanyCode130,@CompanyCode131,@CompanyCode132,@CompanyCode133)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode134))) 	
Parameters:
@Type124[Int32] = 2
@ProjectId125[String] = 6372912251695766465
@CompanyCode126[String] = 6373083923489249281
@CompanyCode127[String] = 6373083925531366080
@CompanyCode128[String] = 6373083927883400612
@CompanyCode129[String] = 6373083918575368225
@CompanyCode130[String] = 6373083920445075162
@CompanyCode131[String] = 6373083908618598731
@CompanyCode132[String] = 6373083911842783146
@CompanyCode133[String] = 6373083913928202424
@ParentCompanyCode134[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode162)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId135) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148,@SiteCode149,@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161)))	
Parameters:
@ProjectId135[String] = 6372912251695766465
@SiteCode136[String] = 6373083923489249281
@SiteCode137[String] = 6373083925531366080
@SiteCode138[String] = 6373083927883400612
@SiteCode139[String] = 6373083918575368225
@SiteCode140[String] = 6373083920445075162
@SiteCode141[String] = 6373083908618598731
@SiteCode142[String] = 6373083911842783146
@SiteCode143[String] = 6373083913928202424
@SiteCode144[String] = 6373083877551621804
@SiteCode145[String] = 6373083879921857377
@SiteCode146[String] = 6373083881542550067
@SiteCode147[String] = 6373083883689772886
@SiteCode148[String] = 6373083887136270013
@SiteCode149[String] = 6373083889697116488
@SiteCode150[String] = 6373083891969846476
@SiteCode151[String] = 6373083894422586761
@SiteCode152[String] = 6373083897509963358
@SiteCode153[String] = 6373083900444931227
@SiteCode154[String] = 6373083829464571372
@SiteCode155[String] = 6373083833327492328
@SiteCode156[String] = 6373083841964286321
@SiteCode157[String] = 6373083844982558950
@SiteCode158[String] = 6373083847585007801
@SiteCode159[String] = 6373083856887939900
@SiteCode160[String] = 6373083859102666584
@SiteCode161[String] = 6373083864919499284
@FDictionaryCode162[String] = OrderState
@FDictionaryCode163[String] = UrgentDegree
@FDictionaryCode164[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode163) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode164) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode162)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId135) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148,@SiteCode149,@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159,@SiteCode160,@SiteCode161))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId135[String] = 6372912251695766465
@SiteCode136[String] = 6373083923489249281
@SiteCode137[String] = 6373083925531366080
@SiteCode138[String] = 6373083927883400612
@SiteCode139[String] = 6373083918575368225
@SiteCode140[String] = 6373083920445075162
@SiteCode141[String] = 6373083908618598731
@SiteCode142[String] = 6373083911842783146
@SiteCode143[String] = 6373083913928202424
@SiteCode144[String] = 6373083877551621804
@SiteCode145[String] = 6373083879921857377
@SiteCode146[String] = 6373083881542550067
@SiteCode147[String] = 6373083883689772886
@SiteCode148[String] = 6373083887136270013
@SiteCode149[String] = 6373083889697116488
@SiteCode150[String] = 6373083891969846476
@SiteCode151[String] = 6373083894422586761
@SiteCode152[String] = 6373083897509963358
@SiteCode153[String] = 6373083900444931227
@SiteCode154[String] = 6373083829464571372
@SiteCode155[String] = 6373083833327492328
@SiteCode156[String] = 6373083841964286321
@SiteCode157[String] = 6373083844982558950
@SiteCode158[String] = 6373083847585007801
@SiteCode159[String] = 6373083856887939900
@SiteCode160[String] = 6373083859102666584
@SiteCode161[String] = 6373083864919499284
@FDictionaryCode162[String] = OrderState
@FDictionaryCode163[String] = UrgentDegree
@FDictionaryCode164[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:30:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:31:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:31:23
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId165) AND ([TbModelOrg].[SiteCode] IN (@SiteCode166))) 	
Parameters:
@ProjectId165[String] = 6372912251695766465
@SiteCode166[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:31:30
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm167,@MxGjBm168,@MxGjBm169,@MxGjBm170,@MxGjBm171) 	
Parameters:
@MxGjBm167[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm168[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm169[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm170[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm171[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:31:30
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode172,@ComponentCode173,@ComponentCode174,@ComponentCode175,@ComponentCode176)) AND ([TbModelOtherInfo].[Type] = @Type177) 	
Parameters:
@ComponentCode172[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode173[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode174[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode175[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode176[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type177[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:31:34
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId178,@MxGjId179,@MxGjId180,@MxGjId181) 	
Parameters:
@MxGjId178[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId179[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId180[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId181[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:31:34
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode182,@ComponentCode183,@ComponentCode184,@ComponentCode185)) AND ([TbModelOtherInfo].[Type] = @Type186) 	
Parameters:
@ComponentCode182[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode183[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode184[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode185[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type186[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:31:47
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId187,@MxGjId188,@MxGjId189,@MxGjId190) 	
Parameters:
@MxGjId187[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId188[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId189[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId190[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:31:47
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode191,@ComponentCode192,@ComponentCode193,@ComponentCode194)) AND ([TbModelOtherInfo].[Type] = @Type195) 	
Parameters:
@ComponentCode191[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode192[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode193[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode194[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type195[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:32:49
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:32:49
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:32:49
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type196) AND ([TbOrganizationMap].[ProjectId] = @ProjectId197)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode198,@CompanyCode199,@CompanyCode200,@CompanyCode201,@CompanyCode202,@CompanyCode203,@CompanyCode204,@CompanyCode205)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode206))) 	
Parameters:
@Type196[Int32] = 1
@ProjectId197[String] = 6372912251695766465
@CompanyCode198[String] = 6373083923489249281
@CompanyCode199[String] = 6373083925531366080
@CompanyCode200[String] = 6373083927883400612
@CompanyCode201[String] = 6373083918575368225
@CompanyCode202[String] = 6373083920445075162
@CompanyCode203[String] = 6373083908618598731
@CompanyCode204[String] = 6373083911842783146
@CompanyCode205[String] = 6373083913928202424
@ParentCompanyCode206[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type207) AND ([TbOrganizationMap].[ProjectId] = @ProjectId208)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode209,@CompanyCode210,@CompanyCode211,@CompanyCode212,@CompanyCode213,@CompanyCode214,@CompanyCode215,@CompanyCode216)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode217))) 	
Parameters:
@Type207[Int32] = 2
@ProjectId208[String] = 6372912251695766465
@CompanyCode209[String] = 6373083923489249281
@CompanyCode210[String] = 6373083925531366080
@CompanyCode211[String] = 6373083927883400612
@CompanyCode212[String] = 6373083918575368225
@CompanyCode213[String] = 6373083920445075162
@CompanyCode214[String] = 6373083908618598731
@CompanyCode215[String] = 6373083911842783146
@CompanyCode216[String] = 6373083913928202424
@ParentCompanyCode217[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode245)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId218) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225,@SiteCode226,@SiteCode227,@SiteCode228,@SiteCode229,@SiteCode230,@SiteCode231,@SiteCode232,@SiteCode233,@SiteCode234,@SiteCode235,@SiteCode236,@SiteCode237,@SiteCode238,@SiteCode239,@SiteCode240,@SiteCode241,@SiteCode242,@SiteCode243,@SiteCode244)))	
Parameters:
@ProjectId218[String] = 6372912251695766465
@SiteCode219[String] = 6373083923489249281
@SiteCode220[String] = 6373083925531366080
@SiteCode221[String] = 6373083927883400612
@SiteCode222[String] = 6373083918575368225
@SiteCode223[String] = 6373083920445075162
@SiteCode224[String] = 6373083908618598731
@SiteCode225[String] = 6373083911842783146
@SiteCode226[String] = 6373083913928202424
@SiteCode227[String] = 6373083877551621804
@SiteCode228[String] = 6373083879921857377
@SiteCode229[String] = 6373083881542550067
@SiteCode230[String] = 6373083883689772886
@SiteCode231[String] = 6373083887136270013
@SiteCode232[String] = 6373083889697116488
@SiteCode233[String] = 6373083891969846476
@SiteCode234[String] = 6373083894422586761
@SiteCode235[String] = 6373083897509963358
@SiteCode236[String] = 6373083900444931227
@SiteCode237[String] = 6373083829464571372
@SiteCode238[String] = 6373083833327492328
@SiteCode239[String] = 6373083841964286321
@SiteCode240[String] = 6373083844982558950
@SiteCode241[String] = 6373083847585007801
@SiteCode242[String] = 6373083856887939900
@SiteCode243[String] = 6373083859102666584
@SiteCode244[String] = 6373083864919499284
@FDictionaryCode245[String] = OrderState
@FDictionaryCode246[String] = UrgentDegree
@FDictionaryCode247[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode246) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode247) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode245)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId218) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225,@SiteCode226,@SiteCode227,@SiteCode228,@SiteCode229,@SiteCode230,@SiteCode231,@SiteCode232,@SiteCode233,@SiteCode234,@SiteCode235,@SiteCode236,@SiteCode237,@SiteCode238,@SiteCode239,@SiteCode240,@SiteCode241,@SiteCode242,@SiteCode243,@SiteCode244))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId218[String] = 6372912251695766465
@SiteCode219[String] = 6373083923489249281
@SiteCode220[String] = 6373083925531366080
@SiteCode221[String] = 6373083927883400612
@SiteCode222[String] = 6373083918575368225
@SiteCode223[String] = 6373083920445075162
@SiteCode224[String] = 6373083908618598731
@SiteCode225[String] = 6373083911842783146
@SiteCode226[String] = 6373083913928202424
@SiteCode227[String] = 6373083877551621804
@SiteCode228[String] = 6373083879921857377
@SiteCode229[String] = 6373083881542550067
@SiteCode230[String] = 6373083883689772886
@SiteCode231[String] = 6373083887136270013
@SiteCode232[String] = 6373083889697116488
@SiteCode233[String] = 6373083891969846476
@SiteCode234[String] = 6373083894422586761
@SiteCode235[String] = 6373083897509963358
@SiteCode236[String] = 6373083900444931227
@SiteCode237[String] = 6373083829464571372
@SiteCode238[String] = 6373083833327492328
@SiteCode239[String] = 6373083841964286321
@SiteCode240[String] = 6373083844982558950
@SiteCode241[String] = 6373083847585007801
@SiteCode242[String] = 6373083856887939900
@SiteCode243[String] = 6373083859102666584
@SiteCode244[String] = 6373083864919499284
@FDictionaryCode245[String] = OrderState
@FDictionaryCode246[String] = UrgentDegree
@FDictionaryCode247[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:32:54
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:34:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:34:49
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId248) AND ([TbModelOrg].[SiteCode] IN (@SiteCode249))) 	
Parameters:
@ProjectId248[String] = 6372912251695766465
@SiteCode249[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:34:58
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm250,@MxGjBm251,@MxGjBm252,@MxGjBm253,@MxGjBm254) 	
Parameters:
@MxGjBm250[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm251[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm252[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm253[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm254[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:34:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode255,@ComponentCode256,@ComponentCode257,@ComponentCode258,@ComponentCode259)) AND ([TbModelOtherInfo].[Type] = @Type260) 	
Parameters:
@ComponentCode255[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode256[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode257[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode258[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode259[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type260[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:36:08
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:39:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:39:46
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId261,@MxGjId262) 	
Parameters:
@MxGjId261[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId262[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 14:39:46
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode263,@ComponentCode264)) AND ([TbModelOtherInfo].[Type] = @Type265) 	
Parameters:
@ComponentCode263[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode264[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type265[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:40:54
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:40:54
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:40:54
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:40:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:40:59
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type266) AND ([TbOrganizationMap].[ProjectId] = @ProjectId267)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode268,@CompanyCode269,@CompanyCode270,@CompanyCode271,@CompanyCode272,@CompanyCode273,@CompanyCode274,@CompanyCode275)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode276))) 	
Parameters:
@Type266[Int32] = 1
@ProjectId267[String] = 6372912251695766465
@CompanyCode268[String] = 6373083923489249281
@CompanyCode269[String] = 6373083925531366080
@CompanyCode270[String] = 6373083927883400612
@CompanyCode271[String] = 6373083918575368225
@CompanyCode272[String] = 6373083920445075162
@CompanyCode273[String] = 6373083908618598731
@CompanyCode274[String] = 6373083911842783146
@CompanyCode275[String] = 6373083913928202424
@ParentCompanyCode276[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:40:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:40:59
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type277) AND ([TbOrganizationMap].[ProjectId] = @ProjectId278)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode279,@CompanyCode280,@CompanyCode281,@CompanyCode282,@CompanyCode283,@CompanyCode284,@CompanyCode285,@CompanyCode286)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode287))) 	
Parameters:
@Type277[Int32] = 2
@ProjectId278[String] = 6372912251695766465
@CompanyCode279[String] = 6373083923489249281
@CompanyCode280[String] = 6373083925531366080
@CompanyCode281[String] = 6373083927883400612
@CompanyCode282[String] = 6373083918575368225
@CompanyCode283[String] = 6373083920445075162
@CompanyCode284[String] = 6373083908618598731
@CompanyCode285[String] = 6373083911842783146
@CompanyCode286[String] = 6373083913928202424
@ParentCompanyCode287[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:40:59
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:40:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:40:59
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode315)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId288) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299,@SiteCode300,@SiteCode301,@SiteCode302,@SiteCode303,@SiteCode304,@SiteCode305,@SiteCode306,@SiteCode307,@SiteCode308,@SiteCode309,@SiteCode310,@SiteCode311,@SiteCode312,@SiteCode313,@SiteCode314)))	
Parameters:
@ProjectId288[String] = 6372912251695766465
@SiteCode289[String] = 6373083923489249281
@SiteCode290[String] = 6373083925531366080
@SiteCode291[String] = 6373083927883400612
@SiteCode292[String] = 6373083918575368225
@SiteCode293[String] = 6373083920445075162
@SiteCode294[String] = 6373083908618598731
@SiteCode295[String] = 6373083911842783146
@SiteCode296[String] = 6373083913928202424
@SiteCode297[String] = 6373083877551621804
@SiteCode298[String] = 6373083879921857377
@SiteCode299[String] = 6373083881542550067
@SiteCode300[String] = 6373083883689772886
@SiteCode301[String] = 6373083887136270013
@SiteCode302[String] = 6373083889697116488
@SiteCode303[String] = 6373083891969846476
@SiteCode304[String] = 6373083894422586761
@SiteCode305[String] = 6373083897509963358
@SiteCode306[String] = 6373083900444931227
@SiteCode307[String] = 6373083829464571372
@SiteCode308[String] = 6373083833327492328
@SiteCode309[String] = 6373083841964286321
@SiteCode310[String] = 6373083844982558950
@SiteCode311[String] = 6373083847585007801
@SiteCode312[String] = 6373083856887939900
@SiteCode313[String] = 6373083859102666584
@SiteCode314[String] = 6373083864919499284
@FDictionaryCode315[String] = OrderState
@FDictionaryCode316[String] = UrgentDegree
@FDictionaryCode317[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:40:59
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:40:59
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode316) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode317) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode315)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId288) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299,@SiteCode300,@SiteCode301,@SiteCode302,@SiteCode303,@SiteCode304,@SiteCode305,@SiteCode306,@SiteCode307,@SiteCode308,@SiteCode309,@SiteCode310,@SiteCode311,@SiteCode312,@SiteCode313,@SiteCode314))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId288[String] = 6372912251695766465
@SiteCode289[String] = 6373083923489249281
@SiteCode290[String] = 6373083925531366080
@SiteCode291[String] = 6373083927883400612
@SiteCode292[String] = 6373083918575368225
@SiteCode293[String] = 6373083920445075162
@SiteCode294[String] = 6373083908618598731
@SiteCode295[String] = 6373083911842783146
@SiteCode296[String] = 6373083913928202424
@SiteCode297[String] = 6373083877551621804
@SiteCode298[String] = 6373083879921857377
@SiteCode299[String] = 6373083881542550067
@SiteCode300[String] = 6373083883689772886
@SiteCode301[String] = 6373083887136270013
@SiteCode302[String] = 6373083889697116488
@SiteCode303[String] = 6373083891969846476
@SiteCode304[String] = 6373083894422586761
@SiteCode305[String] = 6373083897509963358
@SiteCode306[String] = 6373083900444931227
@SiteCode307[String] = 6373083829464571372
@SiteCode308[String] = 6373083833327492328
@SiteCode309[String] = 6373083841964286321
@SiteCode310[String] = 6373083844982558950
@SiteCode311[String] = 6373083847585007801
@SiteCode312[String] = 6373083856887939900
@SiteCode313[String] = 6373083859102666584
@SiteCode314[String] = 6373083864919499284
@FDictionaryCode315[String] = OrderState
@FDictionaryCode316[String] = UrgentDegree
@FDictionaryCode317[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:41:00
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:41:00
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:41:00
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:41:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:41:05
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId318) AND ([TbModelOrg].[SiteCode] IN (@SiteCode319))) 	
Parameters:
@ProjectId318[String] = 6372912251695766465
@SiteCode319[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:41:30
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:41:30
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:41:30
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type320) AND ([TbOrganizationMap].[ProjectId] = @ProjectId321)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode322,@CompanyCode323,@CompanyCode324,@CompanyCode325,@CompanyCode326,@CompanyCode327,@CompanyCode328,@CompanyCode329)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode330))) 	
Parameters:
@Type320[Int32] = 1
@ProjectId321[String] = 6372912251695766465
@CompanyCode322[String] = 6373083923489249281
@CompanyCode323[String] = 6373083925531366080
@CompanyCode324[String] = 6373083927883400612
@CompanyCode325[String] = 6373083918575368225
@CompanyCode326[String] = 6373083920445075162
@CompanyCode327[String] = 6373083908618598731
@CompanyCode328[String] = 6373083911842783146
@CompanyCode329[String] = 6373083913928202424
@ParentCompanyCode330[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type331) AND ([TbOrganizationMap].[ProjectId] = @ProjectId332)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode333,@CompanyCode334,@CompanyCode335,@CompanyCode336,@CompanyCode337,@CompanyCode338,@CompanyCode339,@CompanyCode340)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode341))) 	
Parameters:
@Type331[Int32] = 2
@ProjectId332[String] = 6372912251695766465
@CompanyCode333[String] = 6373083923489249281
@CompanyCode334[String] = 6373083925531366080
@CompanyCode335[String] = 6373083927883400612
@CompanyCode336[String] = 6373083918575368225
@CompanyCode337[String] = 6373083920445075162
@CompanyCode338[String] = 6373083908618598731
@CompanyCode339[String] = 6373083911842783146
@CompanyCode340[String] = 6373083913928202424
@ParentCompanyCode341[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode369)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId342) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode343,@SiteCode344,@SiteCode345,@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354,@SiteCode355,@SiteCode356,@SiteCode357,@SiteCode358,@SiteCode359,@SiteCode360,@SiteCode361,@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368)))	
Parameters:
@ProjectId342[String] = 6372912251695766465
@SiteCode343[String] = 6373083923489249281
@SiteCode344[String] = 6373083925531366080
@SiteCode345[String] = 6373083927883400612
@SiteCode346[String] = 6373083918575368225
@SiteCode347[String] = 6373083920445075162
@SiteCode348[String] = 6373083908618598731
@SiteCode349[String] = 6373083911842783146
@SiteCode350[String] = 6373083913928202424
@SiteCode351[String] = 6373083877551621804
@SiteCode352[String] = 6373083879921857377
@SiteCode353[String] = 6373083881542550067
@SiteCode354[String] = 6373083883689772886
@SiteCode355[String] = 6373083887136270013
@SiteCode356[String] = 6373083889697116488
@SiteCode357[String] = 6373083891969846476
@SiteCode358[String] = 6373083894422586761
@SiteCode359[String] = 6373083897509963358
@SiteCode360[String] = 6373083900444931227
@SiteCode361[String] = 6373083829464571372
@SiteCode362[String] = 6373083833327492328
@SiteCode363[String] = 6373083841964286321
@SiteCode364[String] = 6373083844982558950
@SiteCode365[String] = 6373083847585007801
@SiteCode366[String] = 6373083856887939900
@SiteCode367[String] = 6373083859102666584
@SiteCode368[String] = 6373083864919499284
@FDictionaryCode369[String] = OrderState
@FDictionaryCode370[String] = UrgentDegree
@FDictionaryCode371[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode370) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode371) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode369)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId342) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode343,@SiteCode344,@SiteCode345,@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354,@SiteCode355,@SiteCode356,@SiteCode357,@SiteCode358,@SiteCode359,@SiteCode360,@SiteCode361,@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId342[String] = 6372912251695766465
@SiteCode343[String] = 6373083923489249281
@SiteCode344[String] = 6373083925531366080
@SiteCode345[String] = 6373083927883400612
@SiteCode346[String] = 6373083918575368225
@SiteCode347[String] = 6373083920445075162
@SiteCode348[String] = 6373083908618598731
@SiteCode349[String] = 6373083911842783146
@SiteCode350[String] = 6373083913928202424
@SiteCode351[String] = 6373083877551621804
@SiteCode352[String] = 6373083879921857377
@SiteCode353[String] = 6373083881542550067
@SiteCode354[String] = 6373083883689772886
@SiteCode355[String] = 6373083887136270013
@SiteCode356[String] = 6373083889697116488
@SiteCode357[String] = 6373083891969846476
@SiteCode358[String] = 6373083894422586761
@SiteCode359[String] = 6373083897509963358
@SiteCode360[String] = 6373083900444931227
@SiteCode361[String] = 6373083829464571372
@SiteCode362[String] = 6373083833327492328
@SiteCode363[String] = 6373083841964286321
@SiteCode364[String] = 6373083844982558950
@SiteCode365[String] = 6373083847585007801
@SiteCode366[String] = 6373083856887939900
@SiteCode367[String] = 6373083859102666584
@SiteCode368[String] = 6373083864919499284
@FDictionaryCode369[String] = OrderState
@FDictionaryCode370[String] = UrgentDegree
@FDictionaryCode371[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:41:31
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:42:07
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:42:07
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId372) AND ([TbModelOrg].[SiteCode] IN (@SiteCode373))) 	
Parameters:
@ProjectId372[String] = 6372912251695766465
@SiteCode373[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:42:16
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm374,@MxGjBm375,@MxGjBm376,@MxGjBm377,@MxGjBm378) 	
Parameters:
@MxGjBm374[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm375[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm376[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm377[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm378[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:42:16
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode379,@ComponentCode380,@ComponentCode381,@ComponentCode382,@ComponentCode383)) AND ([TbModelOtherInfo].[Type] = @Type384) 	
Parameters:
@ComponentCode379[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode380[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode381[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode382[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode383[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type384[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:43:25
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId385) 	
Parameters:
@MxGjId385[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a39


-----------------------------------------------------------------------------
2020-08-12 14:43:25
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode386)) AND ([TbModelOtherInfo].[Type] = @Type387) 	
Parameters:
@ComponentCode386[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type387[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:44:30
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:44:37
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:44:37
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:44:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:44:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:44:39
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type388) AND ([TbOrganizationMap].[ProjectId] = @ProjectId389)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode390,@CompanyCode391,@CompanyCode392,@CompanyCode393,@CompanyCode394,@CompanyCode395,@CompanyCode396,@CompanyCode397)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode398))) 	
Parameters:
@Type388[Int32] = 1
@ProjectId389[String] = 6372912251695766465
@CompanyCode390[String] = 6373083923489249281
@CompanyCode391[String] = 6373083925531366080
@CompanyCode392[String] = 6373083927883400612
@CompanyCode393[String] = 6373083918575368225
@CompanyCode394[String] = 6373083920445075162
@CompanyCode395[String] = 6373083908618598731
@CompanyCode396[String] = 6373083911842783146
@CompanyCode397[String] = 6373083913928202424
@ParentCompanyCode398[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:44:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:44:39
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type399) AND ([TbOrganizationMap].[ProjectId] = @ProjectId400)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode401,@CompanyCode402,@CompanyCode403,@CompanyCode404,@CompanyCode405,@CompanyCode406,@CompanyCode407,@CompanyCode408)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode409))) 	
Parameters:
@Type399[Int32] = 2
@ProjectId400[String] = 6372912251695766465
@CompanyCode401[String] = 6373083923489249281
@CompanyCode402[String] = 6373083925531366080
@CompanyCode403[String] = 6373083927883400612
@CompanyCode404[String] = 6373083918575368225
@CompanyCode405[String] = 6373083920445075162
@CompanyCode406[String] = 6373083908618598731
@CompanyCode407[String] = 6373083911842783146
@CompanyCode408[String] = 6373083913928202424
@ParentCompanyCode409[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:44:39
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:44:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:44:39
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode437)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId410) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode411,@SiteCode412,@SiteCode413,@SiteCode414,@SiteCode415,@SiteCode416,@SiteCode417,@SiteCode418,@SiteCode419,@SiteCode420,@SiteCode421,@SiteCode422,@SiteCode423,@SiteCode424,@SiteCode425,@SiteCode426,@SiteCode427,@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433,@SiteCode434,@SiteCode435,@SiteCode436)))	
Parameters:
@ProjectId410[String] = 6372912251695766465
@SiteCode411[String] = 6373083923489249281
@SiteCode412[String] = 6373083925531366080
@SiteCode413[String] = 6373083927883400612
@SiteCode414[String] = 6373083918575368225
@SiteCode415[String] = 6373083920445075162
@SiteCode416[String] = 6373083908618598731
@SiteCode417[String] = 6373083911842783146
@SiteCode418[String] = 6373083913928202424
@SiteCode419[String] = 6373083877551621804
@SiteCode420[String] = 6373083879921857377
@SiteCode421[String] = 6373083881542550067
@SiteCode422[String] = 6373083883689772886
@SiteCode423[String] = 6373083887136270013
@SiteCode424[String] = 6373083889697116488
@SiteCode425[String] = 6373083891969846476
@SiteCode426[String] = 6373083894422586761
@SiteCode427[String] = 6373083897509963358
@SiteCode428[String] = 6373083900444931227
@SiteCode429[String] = 6373083829464571372
@SiteCode430[String] = 6373083833327492328
@SiteCode431[String] = 6373083841964286321
@SiteCode432[String] = 6373083844982558950
@SiteCode433[String] = 6373083847585007801
@SiteCode434[String] = 6373083856887939900
@SiteCode435[String] = 6373083859102666584
@SiteCode436[String] = 6373083864919499284
@FDictionaryCode437[String] = OrderState
@FDictionaryCode438[String] = UrgentDegree
@FDictionaryCode439[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:44:39
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:44:39
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode438) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode439) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode437)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId410) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode411,@SiteCode412,@SiteCode413,@SiteCode414,@SiteCode415,@SiteCode416,@SiteCode417,@SiteCode418,@SiteCode419,@SiteCode420,@SiteCode421,@SiteCode422,@SiteCode423,@SiteCode424,@SiteCode425,@SiteCode426,@SiteCode427,@SiteCode428,@SiteCode429,@SiteCode430,@SiteCode431,@SiteCode432,@SiteCode433,@SiteCode434,@SiteCode435,@SiteCode436))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId410[String] = 6372912251695766465
@SiteCode411[String] = 6373083923489249281
@SiteCode412[String] = 6373083925531366080
@SiteCode413[String] = 6373083927883400612
@SiteCode414[String] = 6373083918575368225
@SiteCode415[String] = 6373083920445075162
@SiteCode416[String] = 6373083908618598731
@SiteCode417[String] = 6373083911842783146
@SiteCode418[String] = 6373083913928202424
@SiteCode419[String] = 6373083877551621804
@SiteCode420[String] = 6373083879921857377
@SiteCode421[String] = 6373083881542550067
@SiteCode422[String] = 6373083883689772886
@SiteCode423[String] = 6373083887136270013
@SiteCode424[String] = 6373083889697116488
@SiteCode425[String] = 6373083891969846476
@SiteCode426[String] = 6373083894422586761
@SiteCode427[String] = 6373083897509963358
@SiteCode428[String] = 6373083900444931227
@SiteCode429[String] = 6373083829464571372
@SiteCode430[String] = 6373083833327492328
@SiteCode431[String] = 6373083841964286321
@SiteCode432[String] = 6373083844982558950
@SiteCode433[String] = 6373083847585007801
@SiteCode434[String] = 6373083856887939900
@SiteCode435[String] = 6373083859102666584
@SiteCode436[String] = 6373083864919499284
@FDictionaryCode437[String] = OrderState
@FDictionaryCode438[String] = UrgentDegree
@FDictionaryCode439[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:44:40
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:44:40
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:44:40
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:44:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:44:43
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId440) AND ([TbModelOrg].[SiteCode] IN (@SiteCode441))) 	
Parameters:
@ProjectId440[String] = 6372912251695766465
@SiteCode441[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:44:50
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm442,@MxGjBm443,@MxGjBm444,@MxGjBm445,@MxGjBm446) 	
Parameters:
@MxGjBm442[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm443[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm444[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm445[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm446[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:44:50
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode447,@ComponentCode448,@ComponentCode449,@ComponentCode450,@ComponentCode451)) AND ([TbModelOtherInfo].[Type] = @Type452) 	
Parameters:
@ComponentCode447[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode448[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode449[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode450[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode451[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type452[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:44:52
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId453) 	
Parameters:
@MxGjId453[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a39


-----------------------------------------------------------------------------
2020-08-12 14:44:52
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode454)) AND ([TbModelOtherInfo].[Type] = @Type455) 	
Parameters:
@ComponentCode454[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type455[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:45:04
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId456) 	
Parameters:
@MxGjId456[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a39


-----------------------------------------------------------------------------
2020-08-12 14:45:04
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode457)) AND ([TbModelOtherInfo].[Type] = @Type458) 	
Parameters:
@ComponentCode457[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type458[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:45:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:45:27
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode486)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId459) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode460,@SiteCode461,@SiteCode462,@SiteCode463,@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470,@SiteCode471,@SiteCode472,@SiteCode473,@SiteCode474,@SiteCode475,@SiteCode476,@SiteCode477,@SiteCode478,@SiteCode479,@SiteCode480,@SiteCode481,@SiteCode482,@SiteCode483,@SiteCode484,@SiteCode485)))	
Parameters:
@ProjectId459[String] = 6372912251695766465
@SiteCode460[String] = 6373083923489249281
@SiteCode461[String] = 6373083925531366080
@SiteCode462[String] = 6373083927883400612
@SiteCode463[String] = 6373083918575368225
@SiteCode464[String] = 6373083920445075162
@SiteCode465[String] = 6373083908618598731
@SiteCode466[String] = 6373083911842783146
@SiteCode467[String] = 6373083913928202424
@SiteCode468[String] = 6373083877551621804
@SiteCode469[String] = 6373083879921857377
@SiteCode470[String] = 6373083881542550067
@SiteCode471[String] = 6373083883689772886
@SiteCode472[String] = 6373083887136270013
@SiteCode473[String] = 6373083889697116488
@SiteCode474[String] = 6373083891969846476
@SiteCode475[String] = 6373083894422586761
@SiteCode476[String] = 6373083897509963358
@SiteCode477[String] = 6373083900444931227
@SiteCode478[String] = 6373083829464571372
@SiteCode479[String] = 6373083833327492328
@SiteCode480[String] = 6373083841964286321
@SiteCode481[String] = 6373083844982558950
@SiteCode482[String] = 6373083847585007801
@SiteCode483[String] = 6373083856887939900
@SiteCode484[String] = 6373083859102666584
@SiteCode485[String] = 6373083864919499284
@FDictionaryCode486[String] = OrderState
@FDictionaryCode487[String] = UrgentDegree
@FDictionaryCode488[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:45:27
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode487) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode488) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode486)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId459) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode460,@SiteCode461,@SiteCode462,@SiteCode463,@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470,@SiteCode471,@SiteCode472,@SiteCode473,@SiteCode474,@SiteCode475,@SiteCode476,@SiteCode477,@SiteCode478,@SiteCode479,@SiteCode480,@SiteCode481,@SiteCode482,@SiteCode483,@SiteCode484,@SiteCode485))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId459[String] = 6372912251695766465
@SiteCode460[String] = 6373083923489249281
@SiteCode461[String] = 6373083925531366080
@SiteCode462[String] = 6373083927883400612
@SiteCode463[String] = 6373083918575368225
@SiteCode464[String] = 6373083920445075162
@SiteCode465[String] = 6373083908618598731
@SiteCode466[String] = 6373083911842783146
@SiteCode467[String] = 6373083913928202424
@SiteCode468[String] = 6373083877551621804
@SiteCode469[String] = 6373083879921857377
@SiteCode470[String] = 6373083881542550067
@SiteCode471[String] = 6373083883689772886
@SiteCode472[String] = 6373083887136270013
@SiteCode473[String] = 6373083889697116488
@SiteCode474[String] = 6373083891969846476
@SiteCode475[String] = 6373083894422586761
@SiteCode476[String] = 6373083897509963358
@SiteCode477[String] = 6373083900444931227
@SiteCode478[String] = 6373083829464571372
@SiteCode479[String] = 6373083833327492328
@SiteCode480[String] = 6373083841964286321
@SiteCode481[String] = 6373083844982558950
@SiteCode482[String] = 6373083847585007801
@SiteCode483[String] = 6373083856887939900
@SiteCode484[String] = 6373083859102666584
@SiteCode485[String] = 6373083864919499284
@FDictionaryCode486[String] = OrderState
@FDictionaryCode487[String] = UrgentDegree
@FDictionaryCode488[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:45:30
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode489) AND ([TbModelOtherInfo].[Type] = @Type490) 	
Parameters:
@ComponentCode489[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type490[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:45:30
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode491,@PlanTime492,@Remark493,@SiteCode494,@Type495,@ProjectId496);select scope_identity()	
Parameters:
@ComponentCode491[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@PlanTime492[DateTime] = 2020/8/27 0:00:00
@Remark493[String] = 
@SiteCode494[String] = 6373083847585007801
@Type495[Int32] = 2
@ProjectId496[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:46:00
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode497) AND ([TbModelOtherInfo].[Type] = @Type498) 	
Parameters:
@ComponentCode497[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type498[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:46:00
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode499,@PlanTime500,@Remark501,@SiteCode502,@Type503,@ProjectId504);select scope_identity()	
Parameters:
@ComponentCode499[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@PlanTime500[DateTime] = 2020/8/17 0:00:00
@Remark501[String] = 
@SiteCode502[String] = 6373083847585007801
@Type503[Int32] = 1
@ProjectId504[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:46:18
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode505) AND ([TbModelOtherInfo].[Type] = @Type506) 	
Parameters:
@ComponentCode505[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type506[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:46:18
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode508,[PlanTime]=@PlanTime509,[Remark]=@Remark510,[SiteCode]=@SiteCode511,[Type]=@Type512,[ProjectId]=@ProjectId513 WHERE [TbModelOtherInfo].[ID] = @ID507	
Parameters:
@ComponentCode508[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@PlanTime509[DateTime] = 2020/8/17 0:00:00
@Remark510[String] = 
@SiteCode511[String] = 6373083847585007801
@Type512[Int32] = 1
@ProjectId513[String] = 6372912251695766465
@ID507[Int32] = 24


-----------------------------------------------------------------------------
2020-08-12 14:47:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:50:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:53:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:56:32
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:56:32
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:56:32
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type514) AND ([TbOrganizationMap].[ProjectId] = @ProjectId515)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode516,@CompanyCode517,@CompanyCode518,@CompanyCode519,@CompanyCode520,@CompanyCode521,@CompanyCode522,@CompanyCode523)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode524))) 	
Parameters:
@Type514[Int32] = 1
@ProjectId515[String] = 6372912251695766465
@CompanyCode516[String] = 6373083923489249281
@CompanyCode517[String] = 6373083925531366080
@CompanyCode518[String] = 6373083927883400612
@CompanyCode519[String] = 6373083918575368225
@CompanyCode520[String] = 6373083920445075162
@CompanyCode521[String] = 6373083908618598731
@CompanyCode522[String] = 6373083911842783146
@CompanyCode523[String] = 6373083913928202424
@ParentCompanyCode524[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type525) AND ([TbOrganizationMap].[ProjectId] = @ProjectId526)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode527,@CompanyCode528,@CompanyCode529,@CompanyCode530,@CompanyCode531,@CompanyCode532,@CompanyCode533,@CompanyCode534)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode535))) 	
Parameters:
@Type525[Int32] = 2
@ProjectId526[String] = 6372912251695766465
@CompanyCode527[String] = 6373083923489249281
@CompanyCode528[String] = 6373083925531366080
@CompanyCode529[String] = 6373083927883400612
@CompanyCode530[String] = 6373083918575368225
@CompanyCode531[String] = 6373083920445075162
@CompanyCode532[String] = 6373083908618598731
@CompanyCode533[String] = 6373083911842783146
@CompanyCode534[String] = 6373083913928202424
@ParentCompanyCode535[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode563)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId536) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode537,@SiteCode538,@SiteCode539,@SiteCode540,@SiteCode541,@SiteCode542,@SiteCode543,@SiteCode544,@SiteCode545,@SiteCode546,@SiteCode547,@SiteCode548,@SiteCode549,@SiteCode550,@SiteCode551,@SiteCode552,@SiteCode553,@SiteCode554,@SiteCode555,@SiteCode556,@SiteCode557,@SiteCode558,@SiteCode559,@SiteCode560,@SiteCode561,@SiteCode562)))	
Parameters:
@ProjectId536[String] = 6372912251695766465
@SiteCode537[String] = 6373083923489249281
@SiteCode538[String] = 6373083925531366080
@SiteCode539[String] = 6373083927883400612
@SiteCode540[String] = 6373083918575368225
@SiteCode541[String] = 6373083920445075162
@SiteCode542[String] = 6373083908618598731
@SiteCode543[String] = 6373083911842783146
@SiteCode544[String] = 6373083913928202424
@SiteCode545[String] = 6373083877551621804
@SiteCode546[String] = 6373083879921857377
@SiteCode547[String] = 6373083881542550067
@SiteCode548[String] = 6373083883689772886
@SiteCode549[String] = 6373083887136270013
@SiteCode550[String] = 6373083889697116488
@SiteCode551[String] = 6373083891969846476
@SiteCode552[String] = 6373083894422586761
@SiteCode553[String] = 6373083897509963358
@SiteCode554[String] = 6373083900444931227
@SiteCode555[String] = 6373083829464571372
@SiteCode556[String] = 6373083833327492328
@SiteCode557[String] = 6373083841964286321
@SiteCode558[String] = 6373083844982558950
@SiteCode559[String] = 6373083847585007801
@SiteCode560[String] = 6373083856887939900
@SiteCode561[String] = 6373083859102666584
@SiteCode562[String] = 6373083864919499284
@FDictionaryCode563[String] = OrderState
@FDictionaryCode564[String] = UrgentDegree
@FDictionaryCode565[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode564) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode565) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode563)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId536) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode537,@SiteCode538,@SiteCode539,@SiteCode540,@SiteCode541,@SiteCode542,@SiteCode543,@SiteCode544,@SiteCode545,@SiteCode546,@SiteCode547,@SiteCode548,@SiteCode549,@SiteCode550,@SiteCode551,@SiteCode552,@SiteCode553,@SiteCode554,@SiteCode555,@SiteCode556,@SiteCode557,@SiteCode558,@SiteCode559,@SiteCode560,@SiteCode561,@SiteCode562))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId536[String] = 6372912251695766465
@SiteCode537[String] = 6373083923489249281
@SiteCode538[String] = 6373083925531366080
@SiteCode539[String] = 6373083927883400612
@SiteCode540[String] = 6373083918575368225
@SiteCode541[String] = 6373083920445075162
@SiteCode542[String] = 6373083908618598731
@SiteCode543[String] = 6373083911842783146
@SiteCode544[String] = 6373083913928202424
@SiteCode545[String] = 6373083877551621804
@SiteCode546[String] = 6373083879921857377
@SiteCode547[String] = 6373083881542550067
@SiteCode548[String] = 6373083883689772886
@SiteCode549[String] = 6373083887136270013
@SiteCode550[String] = 6373083889697116488
@SiteCode551[String] = 6373083891969846476
@SiteCode552[String] = 6373083894422586761
@SiteCode553[String] = 6373083897509963358
@SiteCode554[String] = 6373083900444931227
@SiteCode555[String] = 6373083829464571372
@SiteCode556[String] = 6373083833327492328
@SiteCode557[String] = 6373083841964286321
@SiteCode558[String] = 6373083844982558950
@SiteCode559[String] = 6373083847585007801
@SiteCode560[String] = 6373083856887939900
@SiteCode561[String] = 6373083859102666584
@SiteCode562[String] = 6373083864919499284
@FDictionaryCode563[String] = OrderState
@FDictionaryCode564[String] = UrgentDegree
@FDictionaryCode565[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:56:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:56:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:56:39
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId566) AND ([TbModelOrg].[SiteCode] IN (@SiteCode567))) 	
Parameters:
@ProjectId566[String] = 6372912251695766465
@SiteCode567[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 14:56:47
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm568,@MxGjBm569,@MxGjBm570,@MxGjBm571,@MxGjBm572) 	
Parameters:
@MxGjBm568[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm569[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm570[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm571[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm572[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 14:56:47
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode573,@ComponentCode574,@ComponentCode575,@ComponentCode576,@ComponentCode577)) AND ([TbModelOtherInfo].[Type] = @Type578) 	
Parameters:
@ComponentCode573[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode574[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode575[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode576[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode577[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type578[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 14:56:50
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId579,@MxGjId580,@MxGjId581,@MxGjId582) 	
Parameters:
@MxGjId579[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId580[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId581[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId582[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 14:56:50
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode583,@ComponentCode584,@ComponentCode585,@ComponentCode586)) AND ([TbModelOtherInfo].[Type] = @Type587) 	
Parameters:
@ComponentCode583[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode584[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode585[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode586[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type587[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 14:58:25
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 14:58:25
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 14:58:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type588) AND ([TbOrganizationMap].[ProjectId] = @ProjectId589)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode590,@CompanyCode591,@CompanyCode592,@CompanyCode593,@CompanyCode594,@CompanyCode595,@CompanyCode596,@CompanyCode597)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode598))) 	
Parameters:
@Type588[Int32] = 1
@ProjectId589[String] = 6372912251695766465
@CompanyCode590[String] = 6373083923489249281
@CompanyCode591[String] = 6373083925531366080
@CompanyCode592[String] = 6373083927883400612
@CompanyCode593[String] = 6373083918575368225
@CompanyCode594[String] = 6373083920445075162
@CompanyCode595[String] = 6373083908618598731
@CompanyCode596[String] = 6373083911842783146
@CompanyCode597[String] = 6373083913928202424
@ParentCompanyCode598[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type599) AND ([TbOrganizationMap].[ProjectId] = @ProjectId600)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode601,@CompanyCode602,@CompanyCode603,@CompanyCode604,@CompanyCode605,@CompanyCode606,@CompanyCode607,@CompanyCode608)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode609))) 	
Parameters:
@Type599[Int32] = 2
@ProjectId600[String] = 6372912251695766465
@CompanyCode601[String] = 6373083923489249281
@CompanyCode602[String] = 6373083925531366080
@CompanyCode603[String] = 6373083927883400612
@CompanyCode604[String] = 6373083918575368225
@CompanyCode605[String] = 6373083920445075162
@CompanyCode606[String] = 6373083908618598731
@CompanyCode607[String] = 6373083911842783146
@CompanyCode608[String] = 6373083913928202424
@ParentCompanyCode609[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode637)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId610) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode611,@SiteCode612,@SiteCode613,@SiteCode614,@SiteCode615,@SiteCode616,@SiteCode617,@SiteCode618,@SiteCode619,@SiteCode620,@SiteCode621,@SiteCode622,@SiteCode623,@SiteCode624,@SiteCode625,@SiteCode626,@SiteCode627,@SiteCode628,@SiteCode629,@SiteCode630,@SiteCode631,@SiteCode632,@SiteCode633,@SiteCode634,@SiteCode635,@SiteCode636)))	
Parameters:
@ProjectId610[String] = 6372912251695766465
@SiteCode611[String] = 6373083923489249281
@SiteCode612[String] = 6373083925531366080
@SiteCode613[String] = 6373083927883400612
@SiteCode614[String] = 6373083918575368225
@SiteCode615[String] = 6373083920445075162
@SiteCode616[String] = 6373083908618598731
@SiteCode617[String] = 6373083911842783146
@SiteCode618[String] = 6373083913928202424
@SiteCode619[String] = 6373083877551621804
@SiteCode620[String] = 6373083879921857377
@SiteCode621[String] = 6373083881542550067
@SiteCode622[String] = 6373083883689772886
@SiteCode623[String] = 6373083887136270013
@SiteCode624[String] = 6373083889697116488
@SiteCode625[String] = 6373083891969846476
@SiteCode626[String] = 6373083894422586761
@SiteCode627[String] = 6373083897509963358
@SiteCode628[String] = 6373083900444931227
@SiteCode629[String] = 6373083829464571372
@SiteCode630[String] = 6373083833327492328
@SiteCode631[String] = 6373083841964286321
@SiteCode632[String] = 6373083844982558950
@SiteCode633[String] = 6373083847585007801
@SiteCode634[String] = 6373083856887939900
@SiteCode635[String] = 6373083859102666584
@SiteCode636[String] = 6373083864919499284
@FDictionaryCode637[String] = OrderState
@FDictionaryCode638[String] = UrgentDegree
@FDictionaryCode639[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode638) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode639) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode637)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId610) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode611,@SiteCode612,@SiteCode613,@SiteCode614,@SiteCode615,@SiteCode616,@SiteCode617,@SiteCode618,@SiteCode619,@SiteCode620,@SiteCode621,@SiteCode622,@SiteCode623,@SiteCode624,@SiteCode625,@SiteCode626,@SiteCode627,@SiteCode628,@SiteCode629,@SiteCode630,@SiteCode631,@SiteCode632,@SiteCode633,@SiteCode634,@SiteCode635,@SiteCode636))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId610[String] = 6372912251695766465
@SiteCode611[String] = 6373083923489249281
@SiteCode612[String] = 6373083925531366080
@SiteCode613[String] = 6373083927883400612
@SiteCode614[String] = 6373083918575368225
@SiteCode615[String] = 6373083920445075162
@SiteCode616[String] = 6373083908618598731
@SiteCode617[String] = 6373083911842783146
@SiteCode618[String] = 6373083913928202424
@SiteCode619[String] = 6373083877551621804
@SiteCode620[String] = 6373083879921857377
@SiteCode621[String] = 6373083881542550067
@SiteCode622[String] = 6373083883689772886
@SiteCode623[String] = 6373083887136270013
@SiteCode624[String] = 6373083889697116488
@SiteCode625[String] = 6373083891969846476
@SiteCode626[String] = 6373083894422586761
@SiteCode627[String] = 6373083897509963358
@SiteCode628[String] = 6373083900444931227
@SiteCode629[String] = 6373083829464571372
@SiteCode630[String] = 6373083833327492328
@SiteCode631[String] = 6373083841964286321
@SiteCode632[String] = 6373083844982558950
@SiteCode633[String] = 6373083847585007801
@SiteCode634[String] = 6373083856887939900
@SiteCode635[String] = 6373083859102666584
@SiteCode636[String] = 6373083864919499284
@FDictionaryCode637[String] = OrderState
@FDictionaryCode638[String] = UrgentDegree
@FDictionaryCode639[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 14:58:30
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 14:58:38
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 14:58:38
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId640) AND ([TbModelOrg].[SiteCode] IN (@SiteCode641))) 	
Parameters:
@ProjectId640[String] = 6372912251695766465
@SiteCode641[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 15:00:05
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm642,@MxGjBm643,@MxGjBm644,@MxGjBm645,@MxGjBm646) 	
Parameters:
@MxGjBm642[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm643[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm644[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm645[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm646[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 15:00:05
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode647,@ComponentCode648,@ComponentCode649,@ComponentCode650,@ComponentCode651)) AND ([TbModelOtherInfo].[Type] = @Type652) 	
Parameters:
@ComponentCode647[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode648[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode649[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode650[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode651[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type652[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:01:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:02:58
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId653) 	
Parameters:
@MxGjId653[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a39


-----------------------------------------------------------------------------
2020-08-12 15:02:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode654)) AND ([TbModelOtherInfo].[Type] = @Type655) 	
Parameters:
@ComponentCode654[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type655[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 15:03:13
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode656) AND ([TbModelOtherInfo].[Type] = @Type657) 	
Parameters:
@ComponentCode656[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type657[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:03:13
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode658,@PlanTime659,@Remark660,@SiteCode661,@Type662,@ProjectId663);select scope_identity()	
Parameters:
@ComponentCode658[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@PlanTime659[DateTime] = 2020/8/10 0:00:00
@Remark660[String] = 
@SiteCode661[String] = 6373083847585007801
@Type662[Int32] = 1
@ProjectId663[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:03:13
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId664) 	
Parameters:
@MxGjId664[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a39


-----------------------------------------------------------------------------
2020-08-12 15:03:13
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode665)) AND ([TbModelOtherInfo].[Type] = @Type666) 	
Parameters:
@ComponentCode665[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type666[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 15:04:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:07:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:10:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:13:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:14:11
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 15:14:11
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 15:14:11
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:14:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 15:14:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type667) AND ([TbOrganizationMap].[ProjectId] = @ProjectId668)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode669,@CompanyCode670,@CompanyCode671,@CompanyCode672,@CompanyCode673,@CompanyCode674,@CompanyCode675,@CompanyCode676)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode677))) 	
Parameters:
@Type667[Int32] = 1
@ProjectId668[String] = 6372912251695766465
@CompanyCode669[String] = 6373083923489249281
@CompanyCode670[String] = 6373083925531366080
@CompanyCode671[String] = 6373083927883400612
@CompanyCode672[String] = 6373083918575368225
@CompanyCode673[String] = 6373083920445075162
@CompanyCode674[String] = 6373083908618598731
@CompanyCode675[String] = 6373083911842783146
@CompanyCode676[String] = 6373083913928202424
@ParentCompanyCode677[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 15:14:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 15:14:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type678) AND ([TbOrganizationMap].[ProjectId] = @ProjectId679)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode680,@CompanyCode681,@CompanyCode682,@CompanyCode683,@CompanyCode684,@CompanyCode685,@CompanyCode686,@CompanyCode687)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode688))) 	
Parameters:
@Type678[Int32] = 2
@ProjectId679[String] = 6372912251695766465
@CompanyCode680[String] = 6373083923489249281
@CompanyCode681[String] = 6373083925531366080
@CompanyCode682[String] = 6373083927883400612
@CompanyCode683[String] = 6373083918575368225
@CompanyCode684[String] = 6373083920445075162
@CompanyCode685[String] = 6373083908618598731
@CompanyCode686[String] = 6373083911842783146
@CompanyCode687[String] = 6373083913928202424
@ParentCompanyCode688[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 15:14:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 15:14:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 15:14:13
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode716)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId689) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode690,@SiteCode691,@SiteCode692,@SiteCode693,@SiteCode694,@SiteCode695,@SiteCode696,@SiteCode697,@SiteCode698,@SiteCode699,@SiteCode700,@SiteCode701,@SiteCode702,@SiteCode703,@SiteCode704,@SiteCode705,@SiteCode706,@SiteCode707,@SiteCode708,@SiteCode709,@SiteCode710,@SiteCode711,@SiteCode712,@SiteCode713,@SiteCode714,@SiteCode715)))	
Parameters:
@ProjectId689[String] = 6372912251695766465
@SiteCode690[String] = 6373083923489249281
@SiteCode691[String] = 6373083925531366080
@SiteCode692[String] = 6373083927883400612
@SiteCode693[String] = 6373083918575368225
@SiteCode694[String] = 6373083920445075162
@SiteCode695[String] = 6373083908618598731
@SiteCode696[String] = 6373083911842783146
@SiteCode697[String] = 6373083913928202424
@SiteCode698[String] = 6373083877551621804
@SiteCode699[String] = 6373083879921857377
@SiteCode700[String] = 6373083881542550067
@SiteCode701[String] = 6373083883689772886
@SiteCode702[String] = 6373083887136270013
@SiteCode703[String] = 6373083889697116488
@SiteCode704[String] = 6373083891969846476
@SiteCode705[String] = 6373083894422586761
@SiteCode706[String] = 6373083897509963358
@SiteCode707[String] = 6373083900444931227
@SiteCode708[String] = 6373083829464571372
@SiteCode709[String] = 6373083833327492328
@SiteCode710[String] = 6373083841964286321
@SiteCode711[String] = 6373083844982558950
@SiteCode712[String] = 6373083847585007801
@SiteCode713[String] = 6373083856887939900
@SiteCode714[String] = 6373083859102666584
@SiteCode715[String] = 6373083864919499284
@FDictionaryCode716[String] = OrderState
@FDictionaryCode717[String] = UrgentDegree
@FDictionaryCode718[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 15:14:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 15:14:13
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode717) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode718) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode716)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId689) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode690,@SiteCode691,@SiteCode692,@SiteCode693,@SiteCode694,@SiteCode695,@SiteCode696,@SiteCode697,@SiteCode698,@SiteCode699,@SiteCode700,@SiteCode701,@SiteCode702,@SiteCode703,@SiteCode704,@SiteCode705,@SiteCode706,@SiteCode707,@SiteCode708,@SiteCode709,@SiteCode710,@SiteCode711,@SiteCode712,@SiteCode713,@SiteCode714,@SiteCode715))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId689[String] = 6372912251695766465
@SiteCode690[String] = 6373083923489249281
@SiteCode691[String] = 6373083925531366080
@SiteCode692[String] = 6373083927883400612
@SiteCode693[String] = 6373083918575368225
@SiteCode694[String] = 6373083920445075162
@SiteCode695[String] = 6373083908618598731
@SiteCode696[String] = 6373083911842783146
@SiteCode697[String] = 6373083913928202424
@SiteCode698[String] = 6373083877551621804
@SiteCode699[String] = 6373083879921857377
@SiteCode700[String] = 6373083881542550067
@SiteCode701[String] = 6373083883689772886
@SiteCode702[String] = 6373083887136270013
@SiteCode703[String] = 6373083889697116488
@SiteCode704[String] = 6373083891969846476
@SiteCode705[String] = 6373083894422586761
@SiteCode706[String] = 6373083897509963358
@SiteCode707[String] = 6373083900444931227
@SiteCode708[String] = 6373083829464571372
@SiteCode709[String] = 6373083833327492328
@SiteCode710[String] = 6373083841964286321
@SiteCode711[String] = 6373083844982558950
@SiteCode712[String] = 6373083847585007801
@SiteCode713[String] = 6373083856887939900
@SiteCode714[String] = 6373083859102666584
@SiteCode715[String] = 6373083864919499284
@FDictionaryCode716[String] = OrderState
@FDictionaryCode717[String] = UrgentDegree
@FDictionaryCode718[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 15:14:14
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 15:14:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 15:14:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 15:14:18
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 15:14:18
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId719) AND ([TbModelOrg].[SiteCode] IN (@SiteCode720))) 	
Parameters:
@ProjectId719[String] = 6372912251695766465
@SiteCode720[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 15:14:24
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm721,@MxGjBm722,@MxGjBm723,@MxGjBm724,@MxGjBm725) 	
Parameters:
@MxGjBm721[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm722[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm723[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm724[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm725[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 15:14:24
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode726,@ComponentCode727,@ComponentCode728,@ComponentCode729,@ComponentCode730)) AND ([TbModelOtherInfo].[Type] = @Type731) 	
Parameters:
@ComponentCode726[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode727[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode728[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode729[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode730[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type731[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:14:40
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode732) AND ([TbModelOtherInfo].[Type] = @Type733) 	
Parameters:
@ComponentCode732[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type733[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:14:40
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode734,@PlanTime735,@Remark736,@SiteCode737,@Type738,@ProjectId739);select scope_identity()	
Parameters:
@ComponentCode734[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@PlanTime735[DateTime] = 2020/8/18 0:00:00
@Remark736[String] = 
@SiteCode737[String] = 6373083847585007801
@Type738[Int32] = 1
@ProjectId739[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:15:04
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode740) AND ([TbModelOtherInfo].[Type] = @Type741) 	
Parameters:
@ComponentCode740[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type741[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:15:04
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode743,[Remark]=@Remark744,[SiteCode]=@SiteCode745,[Type]=@Type746,[ProjectId]=@ProjectId747 WHERE [TbModelOtherInfo].[ID] = @ID742	
Parameters:
@ComponentCode743[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Remark744[String] = 
@SiteCode745[String] = 6373083847585007801
@Type746[Int32] = 1
@ProjectId747[String] = 6372912251695766465
@ID742[Int32] = 24


-----------------------------------------------------------------------------
2020-08-12 15:15:15
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode748) AND ([TbModelOtherInfo].[Type] = @Type749) 	
Parameters:
@ComponentCode748[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type749[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:15:15
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode751,[PlanTime]=@PlanTime752,[Remark]=@Remark753,[SiteCode]=@SiteCode754,[Type]=@Type755,[ProjectId]=@ProjectId756 WHERE [TbModelOtherInfo].[ID] = @ID750	
Parameters:
@ComponentCode751[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@PlanTime752[DateTime] = 2020/8/18 0:00:00
@Remark753[String] = 
@SiteCode754[String] = 6373083847585007801
@Type755[Int32] = 1
@ProjectId756[String] = 6372912251695766465
@ID750[Int32] = 26


-----------------------------------------------------------------------------
2020-08-12 15:15:21
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode757) AND ([TbModelOtherInfo].[Type] = @Type758) 	
Parameters:
@ComponentCode757[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type758[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:15:21
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode760,[Remark]=@Remark761,[SiteCode]=@SiteCode762,[Type]=@Type763,[ProjectId]=@ProjectId764 WHERE [TbModelOtherInfo].[ID] = @ID759	
Parameters:
@ComponentCode760[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Remark761[String] = 
@SiteCode762[String] = 6373083847585007801
@Type763[Int32] = 1
@ProjectId764[String] = 6372912251695766465
@ID759[Int32] = 24


-----------------------------------------------------------------------------
2020-08-12 15:15:21
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId765,@MxGjId766) 	
Parameters:
@MxGjId765[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId766[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 15:15:21
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode767,@ComponentCode768)) AND ([TbModelOtherInfo].[Type] = @Type769) 	
Parameters:
@ComponentCode767[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode768[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type769[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 15:15:45
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode770) AND ([TbModelOtherInfo].[Type] = @Type771) 	
Parameters:
@ComponentCode770[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@Type771[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 15:15:45
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode772,@Remark773,@SiteCode774,@Type775,@ProjectId776);select scope_identity()	
Parameters:
@ComponentCode772[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@Remark773[String] = 
@SiteCode774[String] = 6373083847585007801
@Type775[Int32] = 2
@ProjectId776[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:15:52
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode777) AND ([TbModelOtherInfo].[Type] = @Type778) 	
Parameters:
@ComponentCode777[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type778[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 15:15:52
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode779,@PlanTime780,@Remark781,@SiteCode782,@Type783,@ProjectId784);select scope_identity()	
Parameters:
@ComponentCode779[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@PlanTime780[DateTime] = 2020/8/18 0:00:00
@Remark781[String] = 
@SiteCode782[String] = 6373083847585007801
@Type783[Int32] = 2
@ProjectId784[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:15:57
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode785) AND ([TbModelOtherInfo].[Type] = @Type786) 	
Parameters:
@ComponentCode785[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@Type786[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 15:15:57
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode787,@PlanTime788,@Remark789,@SiteCode790,@Type791,@ProjectId792);select scope_identity()	
Parameters:
@ComponentCode787[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@PlanTime788[DateTime] = 2020/8/27 0:00:00
@Remark789[String] = 
@SiteCode790[String] = 6373083847585007801
@Type791[Int32] = 2
@ProjectId792[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:16:03
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode793) AND ([TbModelOtherInfo].[Type] = @Type794) 	
Parameters:
@ComponentCode793[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type794[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:16:03
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode796,[PlanTime]=@PlanTime797,[Remark]=@Remark798,[SiteCode]=@SiteCode799,[Type]=@Type800,[ProjectId]=@ProjectId801 WHERE [TbModelOtherInfo].[ID] = @ID795	
Parameters:
@ComponentCode796[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@PlanTime797[DateTime] = 2020/8/10 0:00:00
@Remark798[String] = 
@SiteCode799[String] = 6373083847585007801
@Type800[Int32] = 1
@ProjectId801[String] = 6372912251695766465
@ID795[Int32] = 24


-----------------------------------------------------------------------------
2020-08-12 15:16:03
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId802,@MxGjId803) 	
Parameters:
@MxGjId802[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId803[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 15:16:03
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode804,@ComponentCode805)) AND ([TbModelOtherInfo].[Type] = @Type806) 	
Parameters:
@ComponentCode804[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode805[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type806[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 15:16:25
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode807) AND ([TbModelOtherInfo].[Type] = @Type808) 	
Parameters:
@ComponentCode807[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type808[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:16:25
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode810,[PlanTime]=@PlanTime811,[Remark]=@Remark812,[SiteCode]=@SiteCode813,[Type]=@Type814,[ProjectId]=@ProjectId815 WHERE [TbModelOtherInfo].[ID] = @ID809	
Parameters:
@ComponentCode810[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@PlanTime811[DateTime] = 2020/8/18 0:00:00
@Remark812[String] = 
@SiteCode813[String] = 6373083847585007801
@Type814[Int32] = 1
@ProjectId815[String] = 6372912251695766465
@ID809[Int32] = 26


-----------------------------------------------------------------------------
2020-08-12 15:16:28
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode816) AND ([TbModelOtherInfo].[Type] = @Type817) 	
Parameters:
@ComponentCode816[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type817[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:16:28
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode819,[PlanTime]=@PlanTime820,[Remark]=@Remark821,[SiteCode]=@SiteCode822,[Type]=@Type823,[ProjectId]=@ProjectId824 WHERE [TbModelOtherInfo].[ID] = @ID818	
Parameters:
@ComponentCode819[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@PlanTime820[DateTime] = 2020/8/12 0:00:00
@Remark821[String] = 
@SiteCode822[String] = 6373083847585007801
@Type823[Int32] = 1
@ProjectId824[String] = 6372912251695766465
@ID818[Int32] = 24


-----------------------------------------------------------------------------
2020-08-12 15:16:28
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId825,@MxGjId826) 	
Parameters:
@MxGjId825[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId826[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 15:16:28
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode827,@ComponentCode828)) AND ([TbModelOtherInfo].[Type] = @Type829) 	
Parameters:
@ComponentCode827[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode828[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type829[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 15:17:11
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:17:33
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 15:17:33
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 15:17:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type830) AND ([TbOrganizationMap].[ProjectId] = @ProjectId831)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode832,@CompanyCode833,@CompanyCode834,@CompanyCode835,@CompanyCode836,@CompanyCode837,@CompanyCode838,@CompanyCode839)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode840))) 	
Parameters:
@Type830[Int32] = 1
@ProjectId831[String] = 6372912251695766465
@CompanyCode832[String] = 6373083923489249281
@CompanyCode833[String] = 6373083925531366080
@CompanyCode834[String] = 6373083927883400612
@CompanyCode835[String] = 6373083918575368225
@CompanyCode836[String] = 6373083920445075162
@CompanyCode837[String] = 6373083908618598731
@CompanyCode838[String] = 6373083911842783146
@CompanyCode839[String] = 6373083913928202424
@ParentCompanyCode840[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type841) AND ([TbOrganizationMap].[ProjectId] = @ProjectId842)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode843,@CompanyCode844,@CompanyCode845,@CompanyCode846,@CompanyCode847,@CompanyCode848,@CompanyCode849,@CompanyCode850)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode851))) 	
Parameters:
@Type841[Int32] = 2
@ProjectId842[String] = 6372912251695766465
@CompanyCode843[String] = 6373083923489249281
@CompanyCode844[String] = 6373083925531366080
@CompanyCode845[String] = 6373083927883400612
@CompanyCode846[String] = 6373083918575368225
@CompanyCode847[String] = 6373083920445075162
@CompanyCode848[String] = 6373083908618598731
@CompanyCode849[String] = 6373083911842783146
@CompanyCode850[String] = 6373083913928202424
@ParentCompanyCode851[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode879)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId852) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode853,@SiteCode854,@SiteCode855,@SiteCode856,@SiteCode857,@SiteCode858,@SiteCode859,@SiteCode860,@SiteCode861,@SiteCode862,@SiteCode863,@SiteCode864,@SiteCode865,@SiteCode866,@SiteCode867,@SiteCode868,@SiteCode869,@SiteCode870,@SiteCode871,@SiteCode872,@SiteCode873,@SiteCode874,@SiteCode875,@SiteCode876,@SiteCode877,@SiteCode878)))	
Parameters:
@ProjectId852[String] = 6372912251695766465
@SiteCode853[String] = 6373083923489249281
@SiteCode854[String] = 6373083925531366080
@SiteCode855[String] = 6373083927883400612
@SiteCode856[String] = 6373083918575368225
@SiteCode857[String] = 6373083920445075162
@SiteCode858[String] = 6373083908618598731
@SiteCode859[String] = 6373083911842783146
@SiteCode860[String] = 6373083913928202424
@SiteCode861[String] = 6373083877551621804
@SiteCode862[String] = 6373083879921857377
@SiteCode863[String] = 6373083881542550067
@SiteCode864[String] = 6373083883689772886
@SiteCode865[String] = 6373083887136270013
@SiteCode866[String] = 6373083889697116488
@SiteCode867[String] = 6373083891969846476
@SiteCode868[String] = 6373083894422586761
@SiteCode869[String] = 6373083897509963358
@SiteCode870[String] = 6373083900444931227
@SiteCode871[String] = 6373083829464571372
@SiteCode872[String] = 6373083833327492328
@SiteCode873[String] = 6373083841964286321
@SiteCode874[String] = 6373083844982558950
@SiteCode875[String] = 6373083847585007801
@SiteCode876[String] = 6373083856887939900
@SiteCode877[String] = 6373083859102666584
@SiteCode878[String] = 6373083864919499284
@FDictionaryCode879[String] = OrderState
@FDictionaryCode880[String] = UrgentDegree
@FDictionaryCode881[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode880) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode881) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode879)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId852) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode853,@SiteCode854,@SiteCode855,@SiteCode856,@SiteCode857,@SiteCode858,@SiteCode859,@SiteCode860,@SiteCode861,@SiteCode862,@SiteCode863,@SiteCode864,@SiteCode865,@SiteCode866,@SiteCode867,@SiteCode868,@SiteCode869,@SiteCode870,@SiteCode871,@SiteCode872,@SiteCode873,@SiteCode874,@SiteCode875,@SiteCode876,@SiteCode877,@SiteCode878))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId852[String] = 6372912251695766465
@SiteCode853[String] = 6373083923489249281
@SiteCode854[String] = 6373083925531366080
@SiteCode855[String] = 6373083927883400612
@SiteCode856[String] = 6373083918575368225
@SiteCode857[String] = 6373083920445075162
@SiteCode858[String] = 6373083908618598731
@SiteCode859[String] = 6373083911842783146
@SiteCode860[String] = 6373083913928202424
@SiteCode861[String] = 6373083877551621804
@SiteCode862[String] = 6373083879921857377
@SiteCode863[String] = 6373083881542550067
@SiteCode864[String] = 6373083883689772886
@SiteCode865[String] = 6373083887136270013
@SiteCode866[String] = 6373083889697116488
@SiteCode867[String] = 6373083891969846476
@SiteCode868[String] = 6373083894422586761
@SiteCode869[String] = 6373083897509963358
@SiteCode870[String] = 6373083900444931227
@SiteCode871[String] = 6373083829464571372
@SiteCode872[String] = 6373083833327492328
@SiteCode873[String] = 6373083841964286321
@SiteCode874[String] = 6373083844982558950
@SiteCode875[String] = 6373083847585007801
@SiteCode876[String] = 6373083856887939900
@SiteCode877[String] = 6373083859102666584
@SiteCode878[String] = 6373083864919499284
@FDictionaryCode879[String] = OrderState
@FDictionaryCode880[String] = UrgentDegree
@FDictionaryCode881[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 15:17:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 15:17:38
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 15:17:38
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId882) AND ([TbModelOrg].[SiteCode] IN (@SiteCode883))) 	
Parameters:
@ProjectId882[String] = 6372912251695766465
@SiteCode883[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 15:17:44
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm884,@MxGjBm885,@MxGjBm886,@MxGjBm887,@MxGjBm888) 	
Parameters:
@MxGjBm884[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm885[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm886[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm887[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm888[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 15:17:44
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode889,@ComponentCode890,@ComponentCode891,@ComponentCode892,@ComponentCode893)) AND ([TbModelOtherInfo].[Type] = @Type894) 	
Parameters:
@ComponentCode889[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode890[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode891[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode892[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode893[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type894[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:17:47
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId895,@MxGjId896,@MxGjId897,@MxGjId898) 	
Parameters:
@MxGjId895[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId896[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId897[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId898[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 15:17:47
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode899,@ComponentCode900,@ComponentCode901,@ComponentCode902)) AND ([TbModelOtherInfo].[Type] = @Type903) 	
Parameters:
@ComponentCode899[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode900[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode901[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode902[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type903[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 15:17:57
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode904) AND ([TbModelOtherInfo].[Type] = @Type905) 	
Parameters:
@ComponentCode904[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@Type905[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 15:17:57
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode907,[PlanTime]=@PlanTime908,[Remark]=@Remark909,[SiteCode]=@SiteCode910,[Type]=@Type911,[ProjectId]=@ProjectId912 WHERE [TbModelOtherInfo].[ID] = @ID906	
Parameters:
@ComponentCode907[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@PlanTime908[DateTime] = 2020/8/11 0:00:00
@Remark909[String] = 
@SiteCode910[String] = 6373083847585007801
@Type911[Int32] = 1
@ProjectId912[String] = 6372912251695766465
@ID906[Int32] = 20


-----------------------------------------------------------------------------
2020-08-12 15:19:45
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId913,@MxGjId914,@MxGjId915,@MxGjId916) 	
Parameters:
@MxGjId913[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId914[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId915[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId916[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 15:19:45
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode917,@ComponentCode918,@ComponentCode919,@ComponentCode920)) AND ([TbModelOtherInfo].[Type] = @Type921) 	
Parameters:
@ComponentCode917[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode918[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode919[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode920[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type921[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 15:20:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:23:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:26:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:29:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:32:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:35:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:38:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:41:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:44:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:47:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:50:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:53:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:56:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 15:59:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:02:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:05:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:08:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:11:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:14:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:16:09
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 16:16:10
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 16:16:10
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type922) AND ([TbOrganizationMap].[ProjectId] = @ProjectId923)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode924,@CompanyCode925,@CompanyCode926,@CompanyCode927,@CompanyCode928,@CompanyCode929,@CompanyCode930,@CompanyCode931)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode932))) 	
Parameters:
@Type922[Int32] = 1
@ProjectId923[String] = 6372912251695766465
@CompanyCode924[String] = 6373083923489249281
@CompanyCode925[String] = 6373083925531366080
@CompanyCode926[String] = 6373083927883400612
@CompanyCode927[String] = 6373083918575368225
@CompanyCode928[String] = 6373083920445075162
@CompanyCode929[String] = 6373083908618598731
@CompanyCode930[String] = 6373083911842783146
@CompanyCode931[String] = 6373083913928202424
@ParentCompanyCode932[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type933) AND ([TbOrganizationMap].[ProjectId] = @ProjectId934)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode935,@CompanyCode936,@CompanyCode937,@CompanyCode938,@CompanyCode939,@CompanyCode940,@CompanyCode941,@CompanyCode942)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode943))) 	
Parameters:
@Type933[Int32] = 2
@ProjectId934[String] = 6372912251695766465
@CompanyCode935[String] = 6373083923489249281
@CompanyCode936[String] = 6373083925531366080
@CompanyCode937[String] = 6373083927883400612
@CompanyCode938[String] = 6373083918575368225
@CompanyCode939[String] = 6373083920445075162
@CompanyCode940[String] = 6373083908618598731
@CompanyCode941[String] = 6373083911842783146
@CompanyCode942[String] = 6373083913928202424
@ParentCompanyCode943[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode971)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId944) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode945,@SiteCode946,@SiteCode947,@SiteCode948,@SiteCode949,@SiteCode950,@SiteCode951,@SiteCode952,@SiteCode953,@SiteCode954,@SiteCode955,@SiteCode956,@SiteCode957,@SiteCode958,@SiteCode959,@SiteCode960,@SiteCode961,@SiteCode962,@SiteCode963,@SiteCode964,@SiteCode965,@SiteCode966,@SiteCode967,@SiteCode968,@SiteCode969,@SiteCode970)))	
Parameters:
@ProjectId944[String] = 6372912251695766465
@SiteCode945[String] = 6373083923489249281
@SiteCode946[String] = 6373083925531366080
@SiteCode947[String] = 6373083927883400612
@SiteCode948[String] = 6373083918575368225
@SiteCode949[String] = 6373083920445075162
@SiteCode950[String] = 6373083908618598731
@SiteCode951[String] = 6373083911842783146
@SiteCode952[String] = 6373083913928202424
@SiteCode953[String] = 6373083877551621804
@SiteCode954[String] = 6373083879921857377
@SiteCode955[String] = 6373083881542550067
@SiteCode956[String] = 6373083883689772886
@SiteCode957[String] = 6373083887136270013
@SiteCode958[String] = 6373083889697116488
@SiteCode959[String] = 6373083891969846476
@SiteCode960[String] = 6373083894422586761
@SiteCode961[String] = 6373083897509963358
@SiteCode962[String] = 6373083900444931227
@SiteCode963[String] = 6373083829464571372
@SiteCode964[String] = 6373083833327492328
@SiteCode965[String] = 6373083841964286321
@SiteCode966[String] = 6373083844982558950
@SiteCode967[String] = 6373083847585007801
@SiteCode968[String] = 6373083856887939900
@SiteCode969[String] = 6373083859102666584
@SiteCode970[String] = 6373083864919499284
@FDictionaryCode971[String] = OrderState
@FDictionaryCode972[String] = UrgentDegree
@FDictionaryCode973[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode972) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode973) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode971)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId944) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode945,@SiteCode946,@SiteCode947,@SiteCode948,@SiteCode949,@SiteCode950,@SiteCode951,@SiteCode952,@SiteCode953,@SiteCode954,@SiteCode955,@SiteCode956,@SiteCode957,@SiteCode958,@SiteCode959,@SiteCode960,@SiteCode961,@SiteCode962,@SiteCode963,@SiteCode964,@SiteCode965,@SiteCode966,@SiteCode967,@SiteCode968,@SiteCode969,@SiteCode970))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId944[String] = 6372912251695766465
@SiteCode945[String] = 6373083923489249281
@SiteCode946[String] = 6373083925531366080
@SiteCode947[String] = 6373083927883400612
@SiteCode948[String] = 6373083918575368225
@SiteCode949[String] = 6373083920445075162
@SiteCode950[String] = 6373083908618598731
@SiteCode951[String] = 6373083911842783146
@SiteCode952[String] = 6373083913928202424
@SiteCode953[String] = 6373083877551621804
@SiteCode954[String] = 6373083879921857377
@SiteCode955[String] = 6373083881542550067
@SiteCode956[String] = 6373083883689772886
@SiteCode957[String] = 6373083887136270013
@SiteCode958[String] = 6373083889697116488
@SiteCode959[String] = 6373083891969846476
@SiteCode960[String] = 6373083894422586761
@SiteCode961[String] = 6373083897509963358
@SiteCode962[String] = 6373083900444931227
@SiteCode963[String] = 6373083829464571372
@SiteCode964[String] = 6373083833327492328
@SiteCode965[String] = 6373083841964286321
@SiteCode966[String] = 6373083844982558950
@SiteCode967[String] = 6373083847585007801
@SiteCode968[String] = 6373083856887939900
@SiteCode969[String] = 6373083859102666584
@SiteCode970[String] = 6373083864919499284
@FDictionaryCode971[String] = OrderState
@FDictionaryCode972[String] = UrgentDegree
@FDictionaryCode973[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 16:16:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 16:17:20
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 16:17:20
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 16:17:21
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3,@CompanyCode4,@CompanyCode5,@CompanyCode6,@CompanyCode7,@CompanyCode8,@CompanyCode9,@CompanyCode10)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode11))) 	
Parameters:
@Type1[Int32] = 1
@ProjectId2[String] = 6372912251695766465
@CompanyCode3[String] = 6373083923489249281
@CompanyCode4[String] = 6373083925531366080
@CompanyCode5[String] = 6373083927883400612
@CompanyCode6[String] = 6373083918575368225
@CompanyCode7[String] = 6373083920445075162
@CompanyCode8[String] = 6373083908618598731
@CompanyCode9[String] = 6373083911842783146
@CompanyCode10[String] = 6373083913928202424
@ParentCompanyCode11[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type12) AND ([TbOrganizationMap].[ProjectId] = @ProjectId13)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode22))) 	
Parameters:
@Type12[Int32] = 2
@ProjectId13[String] = 6372912251695766465
@CompanyCode14[String] = 6373083923489249281
@CompanyCode15[String] = 6373083925531366080
@CompanyCode16[String] = 6373083927883400612
@CompanyCode17[String] = 6373083918575368225
@CompanyCode18[String] = 6373083920445075162
@CompanyCode19[String] = 6373083908618598731
@CompanyCode20[String] = 6373083911842783146
@CompanyCode21[String] = 6373083913928202424
@ParentCompanyCode22[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49)))	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode51) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode52) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 16:17:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 16:17:39
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:17:39
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId53) AND ([TbModelOrg].[SiteCode] IN (@SiteCode54))) 	
Parameters:
@ProjectId53[String] = 6372912251695766465
@SiteCode54[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 16:17:46
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm55,@MxGjBm56,@MxGjBm57,@MxGjBm58,@MxGjBm59) 	
Parameters:
@MxGjBm55[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm56[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm57[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm58[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm59[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 16:17:46
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode60,@ComponentCode61,@ComponentCode62,@ComponentCode63,@ComponentCode64)) AND ([TbModelOtherInfo].[Type] = @Type65) 	
Parameters:
@ComponentCode60[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode61[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode62[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode63[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode64[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type65[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:17:50
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId66,@MxGjId67,@MxGjId68,@MxGjId69) 	
Parameters:
@MxGjId66[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId67[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId68[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId69[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:17:50
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode70,@ComponentCode71,@ComponentCode72,@ComponentCode73)) AND ([TbModelOtherInfo].[Type] = @Type74) 	
Parameters:
@ComponentCode70[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode71[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode72[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode73[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type74[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:19:32
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 16:19:32
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 16:19:32
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type75) AND ([TbOrganizationMap].[ProjectId] = @ProjectId76)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode77,@CompanyCode78,@CompanyCode79,@CompanyCode80,@CompanyCode81,@CompanyCode82,@CompanyCode83,@CompanyCode84)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode85))) 	
Parameters:
@Type75[Int32] = 1
@ProjectId76[String] = 6372912251695766465
@CompanyCode77[String] = 6373083923489249281
@CompanyCode78[String] = 6373083925531366080
@CompanyCode79[String] = 6373083927883400612
@CompanyCode80[String] = 6373083918575368225
@CompanyCode81[String] = 6373083920445075162
@CompanyCode82[String] = 6373083908618598731
@CompanyCode83[String] = 6373083911842783146
@CompanyCode84[String] = 6373083913928202424
@ParentCompanyCode85[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type86) AND ([TbOrganizationMap].[ProjectId] = @ProjectId87)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode88,@CompanyCode89,@CompanyCode90,@CompanyCode91,@CompanyCode92,@CompanyCode93,@CompanyCode94,@CompanyCode95)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode96))) 	
Parameters:
@Type86[Int32] = 2
@ProjectId87[String] = 6372912251695766465
@CompanyCode88[String] = 6373083923489249281
@CompanyCode89[String] = 6373083925531366080
@CompanyCode90[String] = 6373083927883400612
@CompanyCode91[String] = 6373083918575368225
@CompanyCode92[String] = 6373083920445075162
@CompanyCode93[String] = 6373083908618598731
@CompanyCode94[String] = 6373083911842783146
@CompanyCode95[String] = 6373083913928202424
@ParentCompanyCode96[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode124)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId97) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123)))	
Parameters:
@ProjectId97[String] = 6372912251695766465
@SiteCode98[String] = 6373083923489249281
@SiteCode99[String] = 6373083925531366080
@SiteCode100[String] = 6373083927883400612
@SiteCode101[String] = 6373083918575368225
@SiteCode102[String] = 6373083920445075162
@SiteCode103[String] = 6373083908618598731
@SiteCode104[String] = 6373083911842783146
@SiteCode105[String] = 6373083913928202424
@SiteCode106[String] = 6373083877551621804
@SiteCode107[String] = 6373083879921857377
@SiteCode108[String] = 6373083881542550067
@SiteCode109[String] = 6373083883689772886
@SiteCode110[String] = 6373083887136270013
@SiteCode111[String] = 6373083889697116488
@SiteCode112[String] = 6373083891969846476
@SiteCode113[String] = 6373083894422586761
@SiteCode114[String] = 6373083897509963358
@SiteCode115[String] = 6373083900444931227
@SiteCode116[String] = 6373083829464571372
@SiteCode117[String] = 6373083833327492328
@SiteCode118[String] = 6373083841964286321
@SiteCode119[String] = 6373083844982558950
@SiteCode120[String] = 6373083847585007801
@SiteCode121[String] = 6373083856887939900
@SiteCode122[String] = 6373083859102666584
@SiteCode123[String] = 6373083864919499284
@FDictionaryCode124[String] = OrderState
@FDictionaryCode125[String] = UrgentDegree
@FDictionaryCode126[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode125) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode126) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode124)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId97) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId97[String] = 6372912251695766465
@SiteCode98[String] = 6373083923489249281
@SiteCode99[String] = 6373083925531366080
@SiteCode100[String] = 6373083927883400612
@SiteCode101[String] = 6373083918575368225
@SiteCode102[String] = 6373083920445075162
@SiteCode103[String] = 6373083908618598731
@SiteCode104[String] = 6373083911842783146
@SiteCode105[String] = 6373083913928202424
@SiteCode106[String] = 6373083877551621804
@SiteCode107[String] = 6373083879921857377
@SiteCode108[String] = 6373083881542550067
@SiteCode109[String] = 6373083883689772886
@SiteCode110[String] = 6373083887136270013
@SiteCode111[String] = 6373083889697116488
@SiteCode112[String] = 6373083891969846476
@SiteCode113[String] = 6373083894422586761
@SiteCode114[String] = 6373083897509963358
@SiteCode115[String] = 6373083900444931227
@SiteCode116[String] = 6373083829464571372
@SiteCode117[String] = 6373083833327492328
@SiteCode118[String] = 6373083841964286321
@SiteCode119[String] = 6373083844982558950
@SiteCode120[String] = 6373083847585007801
@SiteCode121[String] = 6373083856887939900
@SiteCode122[String] = 6373083859102666584
@SiteCode123[String] = 6373083864919499284
@FDictionaryCode124[String] = OrderState
@FDictionaryCode125[String] = UrgentDegree
@FDictionaryCode126[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 16:19:45
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 16:19:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:19:49
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId127) AND ([TbModelOrg].[SiteCode] IN (@SiteCode128))) 	
Parameters:
@ProjectId127[String] = 6372912251695766465
@SiteCode128[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 16:19:55
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm129,@MxGjBm130,@MxGjBm131,@MxGjBm132,@MxGjBm133) 	
Parameters:
@MxGjBm129[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm130[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm131[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm132[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm133[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 16:19:55
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode134,@ComponentCode135,@ComponentCode136,@ComponentCode137,@ComponentCode138)) AND ([TbModelOtherInfo].[Type] = @Type139) 	
Parameters:
@ComponentCode134[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode135[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode136[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode137[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode138[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type139[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:19:59
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId140,@MxGjId141,@MxGjId142,@MxGjId143) 	
Parameters:
@MxGjId140[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId141[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId142[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId143[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:19:59
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode144,@ComponentCode145,@ComponentCode146,@ComponentCode147)) AND ([TbModelOtherInfo].[Type] = @Type148) 	
Parameters:
@ComponentCode144[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode145[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode146[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode147[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type148[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:06
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode149) AND ([TbModelOtherInfo].[Type] = @Type150) 	
Parameters:
@ComponentCode149[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@Type150[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:20:06
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode152,[PlanTime]=@PlanTime153,[Remark]=@Remark154,[SiteCode]=@SiteCode155,[Type]=@Type156,[ProjectId]=@ProjectId157 WHERE [TbModelOtherInfo].[ID] = @ID151	
Parameters:
@ComponentCode152[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@PlanTime153[DateTime] = 2020/8/18 0:00:00
@Remark154[String] = 
@SiteCode155[String] = 6373083847585007801
@Type156[Int32] = 1
@ProjectId157[String] = 6372912251695766465
@ID151[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:20:06
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode158,@ComponentCode159,@ComponentCode160,@ComponentCode161)) AND ([TbModelOtherInfo].[Type] = @Type162) 	
Parameters:
@ComponentCode158[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode159[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode160[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode161[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type162[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:06
Text:	UPDATE [TbModelOtherInfo] SET [PlanTime]=@PlanTime164 WHERE [TbModelOtherInfo].[ID] = @ID163	
Parameters:
@PlanTime164[DateTime] = 2020/8/18 0:00:00
@ID163[Int32] = 19


-----------------------------------------------------------------------------
2020-08-12 16:20:06
Text:	UPDATE [TbModelOtherInfo] SET [PlanTime]=@PlanTime166 WHERE [TbModelOtherInfo].[ID] = @ID165	
Parameters:
@PlanTime166[DateTime] = 2020/8/18 0:00:00
@ID165[Int32] = 21


-----------------------------------------------------------------------------
2020-08-12 16:20:06
Text:	UPDATE [TbModelOtherInfo] SET [PlanTime]=@PlanTime168 WHERE [TbModelOtherInfo].[ID] = @ID167	
Parameters:
@PlanTime168[DateTime] = 2020/8/18 0:00:00
@ID167[Int32] = 22


-----------------------------------------------------------------------------
2020-08-12 16:20:06
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[SiteCode],[ProjectId],[PlanTime],[Type]) VALUES (@ComponentCode169,@SiteCode170,@ProjectId171,@PlanTime172,@Type173);select scope_identity()	
Parameters:
@ComponentCode169[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@SiteCode170[String] = 6373083847585007801
@ProjectId171[String] = 6372912251695766465
@PlanTime172[DateTime] = 2020/8/18 0:00:00
@Type173[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:24
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId174,@MxGjId175,@MxGjId176,@MxGjId177) 	
Parameters:
@MxGjId174[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId175[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId176[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId177[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:20:24
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode178,@ComponentCode179,@ComponentCode180,@ComponentCode181)) AND ([TbModelOtherInfo].[Type] = @Type182) 	
Parameters:
@ComponentCode178[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode179[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode180[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode181[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type182[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:37
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId183) 	
Parameters:
@MxGjId183[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 16:20:37
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode184)) AND ([TbModelOtherInfo].[Type] = @Type185) 	
Parameters:
@ComponentCode184[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type185[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:45
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode186) AND ([TbModelOtherInfo].[Type] = @Type187) 	
Parameters:
@ComponentCode186[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type187[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:20:45
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[PlanTime],[Remark],[SiteCode],[Type],[ProjectId]) VALUES (@ComponentCode188,@PlanTime189,@Remark190,@SiteCode191,@Type192,@ProjectId193);select scope_identity()	
Parameters:
@ComponentCode188[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@PlanTime189[DateTime] = 2020/8/25 0:00:00
@Remark190[String] = 
@SiteCode191[String] = 6373083847585007801
@Type192[Int32] = 1
@ProjectId193[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:20:45
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode194)) AND ([TbModelOtherInfo].[Type] = @Type195) 	
Parameters:
@ComponentCode194[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type195[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:45
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[SiteCode],[ProjectId],[PlanTime],[Type]) VALUES (@ComponentCode196,@SiteCode197,@ProjectId198,@PlanTime199,@Type200);select scope_identity()	
Parameters:
@ComponentCode196[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@SiteCode197[String] = 6373083847585007801
@ProjectId198[String] = 6372912251695766465
@PlanTime199[DateTime] = 2020/8/25 0:00:00
@Type200[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:45
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId201) 	
Parameters:
@MxGjId201[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 16:20:45
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode202)) AND ([TbModelOtherInfo].[Type] = @Type203) 	
Parameters:
@ComponentCode202[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type203[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:52
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId204) 	
Parameters:
@MxGjId204[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 16:20:52
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode205)) AND ([TbModelOtherInfo].[Type] = @Type206) 	
Parameters:
@ComponentCode205[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type206[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:58
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode207) AND ([TbModelOtherInfo].[Type] = @Type208) 	
Parameters:
@ComponentCode207[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type208[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:20:58
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode210,[PlanTime]=@PlanTime211,[Remark]=@Remark212,[SiteCode]=@SiteCode213,[Type]=@Type214,[ProjectId]=@ProjectId215 WHERE [TbModelOtherInfo].[ID] = @ID209	
Parameters:
@ComponentCode210[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@PlanTime211[DateTime] = 2020/8/27 0:00:00
@Remark212[String] = 
@SiteCode213[String] = 6373083847585007801
@Type214[Int32] = 1
@ProjectId215[String] = 6372912251695766465
@ID209[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:20:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode216)) AND ([TbModelOtherInfo].[Type] = @Type217) 	
Parameters:
@ComponentCode216[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type217[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:58
Text:	INSERT INTO [TbModelOtherInfo] ([ComponentCode],[SiteCode],[ProjectId],[PlanTime],[Type]) VALUES (@ComponentCode218,@SiteCode219,@ProjectId220,@PlanTime221,@Type222);select scope_identity()	
Parameters:
@ComponentCode218[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@SiteCode219[String] = 6373083847585007801
@ProjectId220[String] = 6372912251695766465
@PlanTime221[DateTime] = 2020/8/27 0:00:00
@Type222[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:20:58
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId223) 	
Parameters:
@MxGjId223[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 16:20:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode224)) AND ([TbModelOtherInfo].[Type] = @Type225) 	
Parameters:
@ComponentCode224[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type225[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:21:15
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId226) 	
Parameters:
@MxGjId226[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 16:21:15
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode227)) AND ([TbModelOtherInfo].[Type] = @Type228) 	
Parameters:
@ComponentCode227[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type228[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:21:20
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId229,@MxGjId230,@MxGjId231,@MxGjId232) 	
Parameters:
@MxGjId229[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId230[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId231[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId232[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:21:20
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode233,@ComponentCode234,@ComponentCode235,@ComponentCode236)) AND ([TbModelOtherInfo].[Type] = @Type237) 	
Parameters:
@ComponentCode233[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode234[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode235[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode236[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type237[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:21:35
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode238) AND ([TbModelOtherInfo].[Type] = @Type239) 	
Parameters:
@ComponentCode238[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@Type239[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:21:35
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode241,[PlanTime]=@PlanTime242,[Remark]=@Remark243,[SiteCode]=@SiteCode244,[Type]=@Type245,[ProjectId]=@ProjectId246 WHERE [TbModelOtherInfo].[ID] = @ID240	
Parameters:
@ComponentCode241[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@PlanTime242[DateTime] = 2020/8/18 0:00:00
@Remark243[String] = xxx
@SiteCode244[String] = 6373083847585007801
@Type245[Int32] = 2
@ProjectId246[String] = 6372912251695766465
@ID240[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:21:40
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode247) AND ([TbModelOtherInfo].[Type] = @Type248) 	
Parameters:
@ComponentCode247[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@Type248[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:21:40
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode250,[PlanTime]=@PlanTime251,[Remark]=@Remark252,[SiteCode]=@SiteCode253,[Type]=@Type254,[ProjectId]=@ProjectId255 WHERE [TbModelOtherInfo].[ID] = @ID249	
Parameters:
@ComponentCode250[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@PlanTime251[DateTime] = 2020/8/18 0:00:00
@Remark252[String] = xxx
@SiteCode253[String] = 6373083847585007801
@Type254[Int32] = 1
@ProjectId255[String] = 6372912251695766465
@ID249[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:22:20
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 16:22:20
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 16:22:20
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:22:24
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:22:24
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type256) AND ([TbOrganizationMap].[ProjectId] = @ProjectId257)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode258,@CompanyCode259,@CompanyCode260,@CompanyCode261,@CompanyCode262,@CompanyCode263,@CompanyCode264,@CompanyCode265)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode266))) 	
Parameters:
@Type256[Int32] = 1
@ProjectId257[String] = 6372912251695766465
@CompanyCode258[String] = 6373083923489249281
@CompanyCode259[String] = 6373083925531366080
@CompanyCode260[String] = 6373083927883400612
@CompanyCode261[String] = 6373083918575368225
@CompanyCode262[String] = 6373083920445075162
@CompanyCode263[String] = 6373083908618598731
@CompanyCode264[String] = 6373083911842783146
@CompanyCode265[String] = 6373083913928202424
@ParentCompanyCode266[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:22:24
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:22:24
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type267) AND ([TbOrganizationMap].[ProjectId] = @ProjectId268)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode269,@CompanyCode270,@CompanyCode271,@CompanyCode272,@CompanyCode273,@CompanyCode274,@CompanyCode275,@CompanyCode276)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode277))) 	
Parameters:
@Type267[Int32] = 2
@ProjectId268[String] = 6372912251695766465
@CompanyCode269[String] = 6373083923489249281
@CompanyCode270[String] = 6373083925531366080
@CompanyCode271[String] = 6373083927883400612
@CompanyCode272[String] = 6373083918575368225
@CompanyCode273[String] = 6373083920445075162
@CompanyCode274[String] = 6373083908618598731
@CompanyCode275[String] = 6373083911842783146
@CompanyCode276[String] = 6373083913928202424
@ParentCompanyCode277[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:22:24
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 16:22:24
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:22:24
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode305)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId278) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode279,@SiteCode280,@SiteCode281,@SiteCode282,@SiteCode283,@SiteCode284,@SiteCode285,@SiteCode286,@SiteCode287,@SiteCode288,@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299,@SiteCode300,@SiteCode301,@SiteCode302,@SiteCode303,@SiteCode304)))	
Parameters:
@ProjectId278[String] = 6372912251695766465
@SiteCode279[String] = 6373083923489249281
@SiteCode280[String] = 6373083925531366080
@SiteCode281[String] = 6373083927883400612
@SiteCode282[String] = 6373083918575368225
@SiteCode283[String] = 6373083920445075162
@SiteCode284[String] = 6373083908618598731
@SiteCode285[String] = 6373083911842783146
@SiteCode286[String] = 6373083913928202424
@SiteCode287[String] = 6373083877551621804
@SiteCode288[String] = 6373083879921857377
@SiteCode289[String] = 6373083881542550067
@SiteCode290[String] = 6373083883689772886
@SiteCode291[String] = 6373083887136270013
@SiteCode292[String] = 6373083889697116488
@SiteCode293[String] = 6373083891969846476
@SiteCode294[String] = 6373083894422586761
@SiteCode295[String] = 6373083897509963358
@SiteCode296[String] = 6373083900444931227
@SiteCode297[String] = 6373083829464571372
@SiteCode298[String] = 6373083833327492328
@SiteCode299[String] = 6373083841964286321
@SiteCode300[String] = 6373083844982558950
@SiteCode301[String] = 6373083847585007801
@SiteCode302[String] = 6373083856887939900
@SiteCode303[String] = 6373083859102666584
@SiteCode304[String] = 6373083864919499284
@FDictionaryCode305[String] = OrderState
@FDictionaryCode306[String] = UrgentDegree
@FDictionaryCode307[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:22:24
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode306) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode307) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode305)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId278) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode279,@SiteCode280,@SiteCode281,@SiteCode282,@SiteCode283,@SiteCode284,@SiteCode285,@SiteCode286,@SiteCode287,@SiteCode288,@SiteCode289,@SiteCode290,@SiteCode291,@SiteCode292,@SiteCode293,@SiteCode294,@SiteCode295,@SiteCode296,@SiteCode297,@SiteCode298,@SiteCode299,@SiteCode300,@SiteCode301,@SiteCode302,@SiteCode303,@SiteCode304))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId278[String] = 6372912251695766465
@SiteCode279[String] = 6373083923489249281
@SiteCode280[String] = 6373083925531366080
@SiteCode281[String] = 6373083927883400612
@SiteCode282[String] = 6373083918575368225
@SiteCode283[String] = 6373083920445075162
@SiteCode284[String] = 6373083908618598731
@SiteCode285[String] = 6373083911842783146
@SiteCode286[String] = 6373083913928202424
@SiteCode287[String] = 6373083877551621804
@SiteCode288[String] = 6373083879921857377
@SiteCode289[String] = 6373083881542550067
@SiteCode290[String] = 6373083883689772886
@SiteCode291[String] = 6373083887136270013
@SiteCode292[String] = 6373083889697116488
@SiteCode293[String] = 6373083891969846476
@SiteCode294[String] = 6373083894422586761
@SiteCode295[String] = 6373083897509963358
@SiteCode296[String] = 6373083900444931227
@SiteCode297[String] = 6373083829464571372
@SiteCode298[String] = 6373083833327492328
@SiteCode299[String] = 6373083841964286321
@SiteCode300[String] = 6373083844982558950
@SiteCode301[String] = 6373083847585007801
@SiteCode302[String] = 6373083856887939900
@SiteCode303[String] = 6373083859102666584
@SiteCode304[String] = 6373083864919499284
@FDictionaryCode305[String] = OrderState
@FDictionaryCode306[String] = UrgentDegree
@FDictionaryCode307[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:22:24
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 16:22:25
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 16:22:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 16:22:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 16:22:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:22:30
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId308) AND ([TbModelOrg].[SiteCode] IN (@SiteCode309))) 	
Parameters:
@ProjectId308[String] = 6372912251695766465
@SiteCode309[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 16:22:36
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm310,@MxGjBm311,@MxGjBm312,@MxGjBm313,@MxGjBm314) 	
Parameters:
@MxGjBm310[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm311[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm312[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm313[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm314[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 16:22:36
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode315,@ComponentCode316,@ComponentCode317,@ComponentCode318,@ComponentCode319)) AND ([TbModelOtherInfo].[Type] = @Type320) 	
Parameters:
@ComponentCode315[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode316[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode317[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode318[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode319[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type320[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:22:42
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId321,@MxGjId322,@MxGjId323,@MxGjId324) 	
Parameters:
@MxGjId321[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId322[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId323[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId324[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:22:42
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode325,@ComponentCode326,@ComponentCode327,@ComponentCode328)) AND ([TbModelOtherInfo].[Type] = @Type329) 	
Parameters:
@ComponentCode325[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode326[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode327[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode328[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type329[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:22:52
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode330) AND ([TbModelOtherInfo].[Type] = @Type331) 	
Parameters:
@ComponentCode330[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@Type331[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:22:52
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode333,[PlanTime]=@PlanTime334,[Remark]=@Remark335,[SiteCode]=@SiteCode336,[Type]=@Type337,[ProjectId]=@ProjectId338 WHERE [TbModelOtherInfo].[ID] = @ID332	
Parameters:
@ComponentCode333[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@PlanTime334[DateTime] = 2020/8/18 0:00:00
@Remark335[String] = xxx
@SiteCode336[String] = 6373083847585007801
@Type337[Int32] = 2
@ProjectId338[String] = 6372912251695766465
@ID332[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:23:06
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId339) 	
Parameters:
@MxGjId339[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 16:23:06
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode340)) AND ([TbModelOtherInfo].[Type] = @Type341) 	
Parameters:
@ComponentCode340[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type341[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:23:07
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId342) 	
Parameters:
@MxGjId342[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 16:23:07
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode343)) AND ([TbModelOtherInfo].[Type] = @Type344) 	
Parameters:
@ComponentCode343[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type344[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:23:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:23:25
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode372)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId345) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354,@SiteCode355,@SiteCode356,@SiteCode357,@SiteCode358,@SiteCode359,@SiteCode360,@SiteCode361,@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368,@SiteCode369,@SiteCode370,@SiteCode371)))	
Parameters:
@ProjectId345[String] = 6372912251695766465
@SiteCode346[String] = 6373083923489249281
@SiteCode347[String] = 6373083925531366080
@SiteCode348[String] = 6373083927883400612
@SiteCode349[String] = 6373083918575368225
@SiteCode350[String] = 6373083920445075162
@SiteCode351[String] = 6373083908618598731
@SiteCode352[String] = 6373083911842783146
@SiteCode353[String] = 6373083913928202424
@SiteCode354[String] = 6373083877551621804
@SiteCode355[String] = 6373083879921857377
@SiteCode356[String] = 6373083881542550067
@SiteCode357[String] = 6373083883689772886
@SiteCode358[String] = 6373083887136270013
@SiteCode359[String] = 6373083889697116488
@SiteCode360[String] = 6373083891969846476
@SiteCode361[String] = 6373083894422586761
@SiteCode362[String] = 6373083897509963358
@SiteCode363[String] = 6373083900444931227
@SiteCode364[String] = 6373083829464571372
@SiteCode365[String] = 6373083833327492328
@SiteCode366[String] = 6373083841964286321
@SiteCode367[String] = 6373083844982558950
@SiteCode368[String] = 6373083847585007801
@SiteCode369[String] = 6373083856887939900
@SiteCode370[String] = 6373083859102666584
@SiteCode371[String] = 6373083864919499284
@FDictionaryCode372[String] = OrderState
@FDictionaryCode373[String] = UrgentDegree
@FDictionaryCode374[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:23:25
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode373) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode374) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode372)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId345) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354,@SiteCode355,@SiteCode356,@SiteCode357,@SiteCode358,@SiteCode359,@SiteCode360,@SiteCode361,@SiteCode362,@SiteCode363,@SiteCode364,@SiteCode365,@SiteCode366,@SiteCode367,@SiteCode368,@SiteCode369,@SiteCode370,@SiteCode371))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId345[String] = 6372912251695766465
@SiteCode346[String] = 6373083923489249281
@SiteCode347[String] = 6373083925531366080
@SiteCode348[String] = 6373083927883400612
@SiteCode349[String] = 6373083918575368225
@SiteCode350[String] = 6373083920445075162
@SiteCode351[String] = 6373083908618598731
@SiteCode352[String] = 6373083911842783146
@SiteCode353[String] = 6373083913928202424
@SiteCode354[String] = 6373083877551621804
@SiteCode355[String] = 6373083879921857377
@SiteCode356[String] = 6373083881542550067
@SiteCode357[String] = 6373083883689772886
@SiteCode358[String] = 6373083887136270013
@SiteCode359[String] = 6373083889697116488
@SiteCode360[String] = 6373083891969846476
@SiteCode361[String] = 6373083894422586761
@SiteCode362[String] = 6373083897509963358
@SiteCode363[String] = 6373083900444931227
@SiteCode364[String] = 6373083829464571372
@SiteCode365[String] = 6373083833327492328
@SiteCode366[String] = 6373083841964286321
@SiteCode367[String] = 6373083844982558950
@SiteCode368[String] = 6373083847585007801
@SiteCode369[String] = 6373083856887939900
@SiteCode370[String] = 6373083859102666584
@SiteCode371[String] = 6373083864919499284
@FDictionaryCode372[String] = OrderState
@FDictionaryCode373[String] = UrgentDegree
@FDictionaryCode374[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:23:27
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode375) AND ([TbModelOtherInfo].[Type] = @Type376) 	
Parameters:
@ComponentCode375[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type376[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:23:27
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode378,[PlanTime]=@PlanTime379,[Remark]=@Remark380,[SiteCode]=@SiteCode381,[Type]=@Type382,[ProjectId]=@ProjectId383 WHERE [TbModelOtherInfo].[ID] = @ID377	
Parameters:
@ComponentCode378[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@PlanTime379[DateTime] = 2020/8/27 0:00:00
@Remark380[String] = xxx
@SiteCode381[String] = 6373083847585007801
@Type382[Int32] = 2
@ProjectId383[String] = 6372912251695766465
@ID377[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:23:29
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode384) AND ([TbModelOtherInfo].[Type] = @Type385) 	
Parameters:
@ComponentCode384[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type385[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:23:29
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode387,[PlanTime]=@PlanTime388,[Remark]=@Remark389,[SiteCode]=@SiteCode390,[Type]=@Type391,[ProjectId]=@ProjectId392 WHERE [TbModelOtherInfo].[ID] = @ID386	
Parameters:
@ComponentCode387[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@PlanTime388[DateTime] = 2020/8/21 0:00:00
@Remark389[String] = 
@SiteCode390[String] = 6373083847585007801
@Type391[Int32] = 2
@ProjectId392[String] = 6372912251695766465
@ID386[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:23:42
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId393,@MxGjId394,@MxGjId395,@MxGjId396) 	
Parameters:
@MxGjId393[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId394[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId395[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId396[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:23:42
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode397,@ComponentCode398,@ComponentCode399,@ComponentCode400)) AND ([TbModelOtherInfo].[Type] = @Type401) 	
Parameters:
@ComponentCode397[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode398[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode399[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode400[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type401[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:23:55
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode402) AND ([TbModelOtherInfo].[Type] = @Type403) 	
Parameters:
@ComponentCode402[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@Type403[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:23:55
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode405,[PlanTime]=@PlanTime406,[Remark]=@Remark407,[SiteCode]=@SiteCode408,[Type]=@Type409,[ProjectId]=@ProjectId410 WHERE [TbModelOtherInfo].[ID] = @ID404	
Parameters:
@ComponentCode405[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@PlanTime406[DateTime] = 2020/8/20 0:00:00
@Remark407[String] = xxx
@SiteCode408[String] = 6373083847585007801
@Type409[Int32] = 2
@ProjectId410[String] = 6372912251695766465
@ID404[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:24:10
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId411,@MxGjId412,@MxGjId413,@MxGjId414) 	
Parameters:
@MxGjId411[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId412[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId413[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId414[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:24:10
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode415,@ComponentCode416,@ComponentCode417,@ComponentCode418)) AND ([TbModelOtherInfo].[Type] = @Type419) 	
Parameters:
@ComponentCode415[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode416[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode417[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode418[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type419[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:24:11
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId420) 	
Parameters:
@MxGjId420[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 16:24:11
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode421)) AND ([TbModelOtherInfo].[Type] = @Type422) 	
Parameters:
@ComponentCode421[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type422[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:24:22
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId423) 	
Parameters:
@MxGjId423[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 16:24:22
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode424)) AND ([TbModelOtherInfo].[Type] = @Type425) 	
Parameters:
@ComponentCode424[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type425[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:24:24
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId426) 	
Parameters:
@MxGjId426[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 16:24:24
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode427)) AND ([TbModelOtherInfo].[Type] = @Type428) 	
Parameters:
@ComponentCode427[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type428[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:24:30
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId429) 	
Parameters:
@MxGjId429[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 16:24:30
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode430)) AND ([TbModelOtherInfo].[Type] = @Type431) 	
Parameters:
@ComponentCode430[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type431[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:25:16
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId432,@MxGjId433,@MxGjId434,@MxGjId435) 	
Parameters:
@MxGjId432[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId433[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId434[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId435[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:25:16
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode436,@ComponentCode437,@ComponentCode438,@ComponentCode439)) AND ([TbModelOtherInfo].[Type] = @Type440) 	
Parameters:
@ComponentCode436[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode437[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode438[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode439[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type440[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:25:20
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:26:05
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 16:26:05
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 16:26:05
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:26:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:26:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type441) AND ([TbOrganizationMap].[ProjectId] = @ProjectId442)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode443,@CompanyCode444,@CompanyCode445,@CompanyCode446,@CompanyCode447,@CompanyCode448,@CompanyCode449,@CompanyCode450)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode451))) 	
Parameters:
@Type441[Int32] = 1
@ProjectId442[String] = 6372912251695766465
@CompanyCode443[String] = 6373083923489249281
@CompanyCode444[String] = 6373083925531366080
@CompanyCode445[String] = 6373083927883400612
@CompanyCode446[String] = 6373083918575368225
@CompanyCode447[String] = 6373083920445075162
@CompanyCode448[String] = 6373083908618598731
@CompanyCode449[String] = 6373083911842783146
@CompanyCode450[String] = 6373083913928202424
@ParentCompanyCode451[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:26:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:26:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type452) AND ([TbOrganizationMap].[ProjectId] = @ProjectId453)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode454,@CompanyCode455,@CompanyCode456,@CompanyCode457,@CompanyCode458,@CompanyCode459,@CompanyCode460,@CompanyCode461)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode462))) 	
Parameters:
@Type452[Int32] = 2
@ProjectId453[String] = 6372912251695766465
@CompanyCode454[String] = 6373083923489249281
@CompanyCode455[String] = 6373083925531366080
@CompanyCode456[String] = 6373083927883400612
@CompanyCode457[String] = 6373083918575368225
@CompanyCode458[String] = 6373083920445075162
@CompanyCode459[String] = 6373083908618598731
@CompanyCode460[String] = 6373083911842783146
@CompanyCode461[String] = 6373083913928202424
@ParentCompanyCode462[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:26:15
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 16:26:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:26:15
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode490)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId463) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470,@SiteCode471,@SiteCode472,@SiteCode473,@SiteCode474,@SiteCode475,@SiteCode476,@SiteCode477,@SiteCode478,@SiteCode479,@SiteCode480,@SiteCode481,@SiteCode482,@SiteCode483,@SiteCode484,@SiteCode485,@SiteCode486,@SiteCode487,@SiteCode488,@SiteCode489)))	
Parameters:
@ProjectId463[String] = 6372912251695766465
@SiteCode464[String] = 6373083923489249281
@SiteCode465[String] = 6373083925531366080
@SiteCode466[String] = 6373083927883400612
@SiteCode467[String] = 6373083918575368225
@SiteCode468[String] = 6373083920445075162
@SiteCode469[String] = 6373083908618598731
@SiteCode470[String] = 6373083911842783146
@SiteCode471[String] = 6373083913928202424
@SiteCode472[String] = 6373083877551621804
@SiteCode473[String] = 6373083879921857377
@SiteCode474[String] = 6373083881542550067
@SiteCode475[String] = 6373083883689772886
@SiteCode476[String] = 6373083887136270013
@SiteCode477[String] = 6373083889697116488
@SiteCode478[String] = 6373083891969846476
@SiteCode479[String] = 6373083894422586761
@SiteCode480[String] = 6373083897509963358
@SiteCode481[String] = 6373083900444931227
@SiteCode482[String] = 6373083829464571372
@SiteCode483[String] = 6373083833327492328
@SiteCode484[String] = 6373083841964286321
@SiteCode485[String] = 6373083844982558950
@SiteCode486[String] = 6373083847585007801
@SiteCode487[String] = 6373083856887939900
@SiteCode488[String] = 6373083859102666584
@SiteCode489[String] = 6373083864919499284
@FDictionaryCode490[String] = OrderState
@FDictionaryCode491[String] = UrgentDegree
@FDictionaryCode492[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:26:15
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 16:26:15
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode491) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode492) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode490)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId463) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470,@SiteCode471,@SiteCode472,@SiteCode473,@SiteCode474,@SiteCode475,@SiteCode476,@SiteCode477,@SiteCode478,@SiteCode479,@SiteCode480,@SiteCode481,@SiteCode482,@SiteCode483,@SiteCode484,@SiteCode485,@SiteCode486,@SiteCode487,@SiteCode488,@SiteCode489))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId463[String] = 6372912251695766465
@SiteCode464[String] = 6373083923489249281
@SiteCode465[String] = 6373083925531366080
@SiteCode466[String] = 6373083927883400612
@SiteCode467[String] = 6373083918575368225
@SiteCode468[String] = 6373083920445075162
@SiteCode469[String] = 6373083908618598731
@SiteCode470[String] = 6373083911842783146
@SiteCode471[String] = 6373083913928202424
@SiteCode472[String] = 6373083877551621804
@SiteCode473[String] = 6373083879921857377
@SiteCode474[String] = 6373083881542550067
@SiteCode475[String] = 6373083883689772886
@SiteCode476[String] = 6373083887136270013
@SiteCode477[String] = 6373083889697116488
@SiteCode478[String] = 6373083891969846476
@SiteCode479[String] = 6373083894422586761
@SiteCode480[String] = 6373083897509963358
@SiteCode481[String] = 6373083900444931227
@SiteCode482[String] = 6373083829464571372
@SiteCode483[String] = 6373083833327492328
@SiteCode484[String] = 6373083841964286321
@SiteCode485[String] = 6373083844982558950
@SiteCode486[String] = 6373083847585007801
@SiteCode487[String] = 6373083856887939900
@SiteCode488[String] = 6373083859102666584
@SiteCode489[String] = 6373083864919499284
@FDictionaryCode490[String] = OrderState
@FDictionaryCode491[String] = UrgentDegree
@FDictionaryCode492[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:26:16
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 16:26:16
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 16:26:16
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 16:29:04
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:32:05
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:34:32
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 16:34:32
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 16:34:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:34:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:34:36
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3,@CompanyCode4,@CompanyCode5,@CompanyCode6,@CompanyCode7,@CompanyCode8,@CompanyCode9,@CompanyCode10)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode11))) 	
Parameters:
@Type1[Int32] = 1
@ProjectId2[String] = 6372912251695766465
@CompanyCode3[String] = 6373083923489249281
@CompanyCode4[String] = 6373083925531366080
@CompanyCode5[String] = 6373083927883400612
@CompanyCode6[String] = 6373083918575368225
@CompanyCode7[String] = 6373083920445075162
@CompanyCode8[String] = 6373083908618598731
@CompanyCode9[String] = 6373083911842783146
@CompanyCode10[String] = 6373083913928202424
@ParentCompanyCode11[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:34:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:34:36
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type12) AND ([TbOrganizationMap].[ProjectId] = @ProjectId13)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode22))) 	
Parameters:
@Type12[Int32] = 2
@ProjectId13[String] = 6372912251695766465
@CompanyCode14[String] = 6373083923489249281
@CompanyCode15[String] = 6373083925531366080
@CompanyCode16[String] = 6373083927883400612
@CompanyCode17[String] = 6373083918575368225
@CompanyCode18[String] = 6373083920445075162
@CompanyCode19[String] = 6373083908618598731
@CompanyCode20[String] = 6373083911842783146
@CompanyCode21[String] = 6373083913928202424
@ParentCompanyCode22[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:34:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 16:34:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 16:34:36
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:34:36
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49)))	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:34:36
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode51) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode52) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:34:37
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 16:34:37
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 16:34:37
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 16:34:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:34:57
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId53) AND ([TbModelOrg].[SiteCode] IN (@SiteCode54))) 	
Parameters:
@ProjectId53[String] = 6372912251695766465
@SiteCode54[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 16:35:04
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm55,@MxGjBm56,@MxGjBm57,@MxGjBm58,@MxGjBm59) 	
Parameters:
@MxGjBm55[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm56[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm57[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm58[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm59[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 16:35:04
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode60,@ComponentCode61,@ComponentCode62,@ComponentCode63,@ComponentCode64)) AND ([TbModelOtherInfo].[Type] = @Type65) 	
Parameters:
@ComponentCode60[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode61[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode62[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode63[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode64[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type65[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:35:12
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId66,@MxGjId67,@MxGjId68,@MxGjId69) 	
Parameters:
@MxGjId66[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId67[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId68[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId69[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:35:12
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode70,@ComponentCode71,@ComponentCode72,@ComponentCode73)) AND ([TbModelOtherInfo].[Type] = @Type74) 	
Parameters:
@ComponentCode70[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode71[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode72[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode73[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type74[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:36:03
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm75,@MxGjBm76,@MxGjBm77,@MxGjBm78,@MxGjBm79) 	
Parameters:
@MxGjBm75[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm76[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm77[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm78[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm79[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 16:36:03
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode80,@ComponentCode81,@ComponentCode82,@ComponentCode83,@ComponentCode84)) AND ([TbModelOtherInfo].[Type] = @Type85) 	
Parameters:
@ComponentCode80[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode81[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode82[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode83[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode84[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type85[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:36:06
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId86,@MxGjId87,@MxGjId88,@MxGjId89) 	
Parameters:
@MxGjId86[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId87[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId88[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId89[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:36:06
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode90,@ComponentCode91,@ComponentCode92,@ComponentCode93)) AND ([TbModelOtherInfo].[Type] = @Type94) 	
Parameters:
@ComponentCode90[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode91[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode92[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode93[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type94[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:36:09
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 16:36:09
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 16:36:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:36:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:36:19
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type95) AND ([TbOrganizationMap].[ProjectId] = @ProjectId96)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode97,@CompanyCode98,@CompanyCode99,@CompanyCode100,@CompanyCode101,@CompanyCode102,@CompanyCode103,@CompanyCode104)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode105))) 	
Parameters:
@Type95[Int32] = 1
@ProjectId96[String] = 6372912251695766465
@CompanyCode97[String] = 6373083923489249281
@CompanyCode98[String] = 6373083925531366080
@CompanyCode99[String] = 6373083927883400612
@CompanyCode100[String] = 6373083918575368225
@CompanyCode101[String] = 6373083920445075162
@CompanyCode102[String] = 6373083908618598731
@CompanyCode103[String] = 6373083911842783146
@CompanyCode104[String] = 6373083913928202424
@ParentCompanyCode105[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:36:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:36:19
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type106) AND ([TbOrganizationMap].[ProjectId] = @ProjectId107)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode108,@CompanyCode109,@CompanyCode110,@CompanyCode111,@CompanyCode112,@CompanyCode113,@CompanyCode114,@CompanyCode115)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode116))) 	
Parameters:
@Type106[Int32] = 2
@ProjectId107[String] = 6372912251695766465
@CompanyCode108[String] = 6373083923489249281
@CompanyCode109[String] = 6373083925531366080
@CompanyCode110[String] = 6373083927883400612
@CompanyCode111[String] = 6373083918575368225
@CompanyCode112[String] = 6373083920445075162
@CompanyCode113[String] = 6373083908618598731
@CompanyCode114[String] = 6373083911842783146
@CompanyCode115[String] = 6373083913928202424
@ParentCompanyCode116[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:36:19
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 16:36:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:36:19
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode144)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId117) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132,@SiteCode133,@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143)))	
Parameters:
@ProjectId117[String] = 6372912251695766465
@SiteCode118[String] = 6373083923489249281
@SiteCode119[String] = 6373083925531366080
@SiteCode120[String] = 6373083927883400612
@SiteCode121[String] = 6373083918575368225
@SiteCode122[String] = 6373083920445075162
@SiteCode123[String] = 6373083908618598731
@SiteCode124[String] = 6373083911842783146
@SiteCode125[String] = 6373083913928202424
@SiteCode126[String] = 6373083877551621804
@SiteCode127[String] = 6373083879921857377
@SiteCode128[String] = 6373083881542550067
@SiteCode129[String] = 6373083883689772886
@SiteCode130[String] = 6373083887136270013
@SiteCode131[String] = 6373083889697116488
@SiteCode132[String] = 6373083891969846476
@SiteCode133[String] = 6373083894422586761
@SiteCode134[String] = 6373083897509963358
@SiteCode135[String] = 6373083900444931227
@SiteCode136[String] = 6373083829464571372
@SiteCode137[String] = 6373083833327492328
@SiteCode138[String] = 6373083841964286321
@SiteCode139[String] = 6373083844982558950
@SiteCode140[String] = 6373083847585007801
@SiteCode141[String] = 6373083856887939900
@SiteCode142[String] = 6373083859102666584
@SiteCode143[String] = 6373083864919499284
@FDictionaryCode144[String] = OrderState
@FDictionaryCode145[String] = UrgentDegree
@FDictionaryCode146[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:36:20
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 16:36:20
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode145) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode146) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode144)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId117) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129,@SiteCode130,@SiteCode131,@SiteCode132,@SiteCode133,@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId117[String] = 6372912251695766465
@SiteCode118[String] = 6373083923489249281
@SiteCode119[String] = 6373083925531366080
@SiteCode120[String] = 6373083927883400612
@SiteCode121[String] = 6373083918575368225
@SiteCode122[String] = 6373083920445075162
@SiteCode123[String] = 6373083908618598731
@SiteCode124[String] = 6373083911842783146
@SiteCode125[String] = 6373083913928202424
@SiteCode126[String] = 6373083877551621804
@SiteCode127[String] = 6373083879921857377
@SiteCode128[String] = 6373083881542550067
@SiteCode129[String] = 6373083883689772886
@SiteCode130[String] = 6373083887136270013
@SiteCode131[String] = 6373083889697116488
@SiteCode132[String] = 6373083891969846476
@SiteCode133[String] = 6373083894422586761
@SiteCode134[String] = 6373083897509963358
@SiteCode135[String] = 6373083900444931227
@SiteCode136[String] = 6373083829464571372
@SiteCode137[String] = 6373083833327492328
@SiteCode138[String] = 6373083841964286321
@SiteCode139[String] = 6373083844982558950
@SiteCode140[String] = 6373083847585007801
@SiteCode141[String] = 6373083856887939900
@SiteCode142[String] = 6373083859102666584
@SiteCode143[String] = 6373083864919499284
@FDictionaryCode144[String] = OrderState
@FDictionaryCode145[String] = UrgentDegree
@FDictionaryCode146[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:36:20
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 16:36:20
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 16:36:20
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 16:36:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:36:23
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId147) AND ([TbModelOrg].[SiteCode] IN (@SiteCode148))) 	
Parameters:
@ProjectId147[String] = 6372912251695766465
@SiteCode148[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 16:36:31
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm149,@MxGjBm150,@MxGjBm151,@MxGjBm152,@MxGjBm153) 	
Parameters:
@MxGjBm149[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm150[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm151[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm152[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm153[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 16:36:31
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode154,@ComponentCode155,@ComponentCode156,@ComponentCode157,@ComponentCode158)) AND ([TbModelOtherInfo].[Type] = @Type159) 	
Parameters:
@ComponentCode154[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode155[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode156[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode157[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode158[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type159[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:36:36
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId160,@MxGjId161,@MxGjId162,@MxGjId163) 	
Parameters:
@MxGjId160[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId161[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId162[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId163[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:36:36
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode164,@ComponentCode165,@ComponentCode166,@ComponentCode167)) AND ([TbModelOtherInfo].[Type] = @Type168) 	
Parameters:
@ComponentCode164[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode165[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode166[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode167[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type168[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:38:31
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 16:38:31
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 16:38:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type169) AND ([TbOrganizationMap].[ProjectId] = @ProjectId170)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode171,@CompanyCode172,@CompanyCode173,@CompanyCode174,@CompanyCode175,@CompanyCode176,@CompanyCode177,@CompanyCode178)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode179))) 	
Parameters:
@Type169[Int32] = 1
@ProjectId170[String] = 6372912251695766465
@CompanyCode171[String] = 6373083923489249281
@CompanyCode172[String] = 6373083925531366080
@CompanyCode173[String] = 6373083927883400612
@CompanyCode174[String] = 6373083918575368225
@CompanyCode175[String] = 6373083920445075162
@CompanyCode176[String] = 6373083908618598731
@CompanyCode177[String] = 6373083911842783146
@CompanyCode178[String] = 6373083913928202424
@ParentCompanyCode179[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type180) AND ([TbOrganizationMap].[ProjectId] = @ProjectId181)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode182,@CompanyCode183,@CompanyCode184,@CompanyCode185,@CompanyCode186,@CompanyCode187,@CompanyCode188,@CompanyCode189)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode190))) 	
Parameters:
@Type180[Int32] = 2
@ProjectId181[String] = 6372912251695766465
@CompanyCode182[String] = 6373083923489249281
@CompanyCode183[String] = 6373083925531366080
@CompanyCode184[String] = 6373083927883400612
@CompanyCode185[String] = 6373083918575368225
@CompanyCode186[String] = 6373083920445075162
@CompanyCode187[String] = 6373083908618598731
@CompanyCode188[String] = 6373083911842783146
@CompanyCode189[String] = 6373083913928202424
@ParentCompanyCode190[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode218)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId191) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207,@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212,@SiteCode213,@SiteCode214,@SiteCode215,@SiteCode216,@SiteCode217)))	
Parameters:
@ProjectId191[String] = 6372912251695766465
@SiteCode192[String] = 6373083923489249281
@SiteCode193[String] = 6373083925531366080
@SiteCode194[String] = 6373083927883400612
@SiteCode195[String] = 6373083918575368225
@SiteCode196[String] = 6373083920445075162
@SiteCode197[String] = 6373083908618598731
@SiteCode198[String] = 6373083911842783146
@SiteCode199[String] = 6373083913928202424
@SiteCode200[String] = 6373083877551621804
@SiteCode201[String] = 6373083879921857377
@SiteCode202[String] = 6373083881542550067
@SiteCode203[String] = 6373083883689772886
@SiteCode204[String] = 6373083887136270013
@SiteCode205[String] = 6373083889697116488
@SiteCode206[String] = 6373083891969846476
@SiteCode207[String] = 6373083894422586761
@SiteCode208[String] = 6373083897509963358
@SiteCode209[String] = 6373083900444931227
@SiteCode210[String] = 6373083829464571372
@SiteCode211[String] = 6373083833327492328
@SiteCode212[String] = 6373083841964286321
@SiteCode213[String] = 6373083844982558950
@SiteCode214[String] = 6373083847585007801
@SiteCode215[String] = 6373083856887939900
@SiteCode216[String] = 6373083859102666584
@SiteCode217[String] = 6373083864919499284
@FDictionaryCode218[String] = OrderState
@FDictionaryCode219[String] = UrgentDegree
@FDictionaryCode220[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode219) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode220) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode218)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId191) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207,@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212,@SiteCode213,@SiteCode214,@SiteCode215,@SiteCode216,@SiteCode217))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId191[String] = 6372912251695766465
@SiteCode192[String] = 6373083923489249281
@SiteCode193[String] = 6373083925531366080
@SiteCode194[String] = 6373083927883400612
@SiteCode195[String] = 6373083918575368225
@SiteCode196[String] = 6373083920445075162
@SiteCode197[String] = 6373083908618598731
@SiteCode198[String] = 6373083911842783146
@SiteCode199[String] = 6373083913928202424
@SiteCode200[String] = 6373083877551621804
@SiteCode201[String] = 6373083879921857377
@SiteCode202[String] = 6373083881542550067
@SiteCode203[String] = 6373083883689772886
@SiteCode204[String] = 6373083887136270013
@SiteCode205[String] = 6373083889697116488
@SiteCode206[String] = 6373083891969846476
@SiteCode207[String] = 6373083894422586761
@SiteCode208[String] = 6373083897509963358
@SiteCode209[String] = 6373083900444931227
@SiteCode210[String] = 6373083829464571372
@SiteCode211[String] = 6373083833327492328
@SiteCode212[String] = 6373083841964286321
@SiteCode213[String] = 6373083844982558950
@SiteCode214[String] = 6373083847585007801
@SiteCode215[String] = 6373083856887939900
@SiteCode216[String] = 6373083859102666584
@SiteCode217[String] = 6373083864919499284
@FDictionaryCode218[String] = OrderState
@FDictionaryCode219[String] = UrgentDegree
@FDictionaryCode220[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 16:38:45
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 16:38:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:38:48
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId221) AND ([TbModelOrg].[SiteCode] IN (@SiteCode222))) 	
Parameters:
@ProjectId221[String] = 6372912251695766465
@SiteCode222[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 16:38:55
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm223,@MxGjBm224,@MxGjBm225,@MxGjBm226,@MxGjBm227) 	
Parameters:
@MxGjBm223[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm224[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm225[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm226[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm227[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 16:38:55
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode228,@ComponentCode229,@ComponentCode230,@ComponentCode231,@ComponentCode232)) AND ([TbModelOtherInfo].[Type] = @Type233) 	
Parameters:
@ComponentCode228[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode229[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode230[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode231[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode232[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type233[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:39:00
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId234,@MxGjId235,@MxGjId236,@MxGjId237) 	
Parameters:
@MxGjId234[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId235[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId236[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId237[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:39:00
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode238,@ComponentCode239,@ComponentCode240,@ComponentCode241)) AND ([TbModelOtherInfo].[Type] = @Type242) 	
Parameters:
@ComponentCode238[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode239[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode240[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode241[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type242[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:40:25
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId243) 	
Parameters:
@MxGjId243[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 16:40:25
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode244)) AND ([TbModelOtherInfo].[Type] = @Type245) 	
Parameters:
@ComponentCode244[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type245[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:41:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:45:48
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:45:48
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId246,@MxGjId247,@MxGjId248,@MxGjId249) 	
Parameters:
@MxGjId246[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId247[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId248[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId249[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:45:49
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode250,@ComponentCode251,@ComponentCode252,@ComponentCode253)) AND ([TbModelOtherInfo].[Type] = @Type254) 	
Parameters:
@ComponentCode250[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode251[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode252[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode253[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type254[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:47:32
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:47:42
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 16:47:43
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 16:47:43
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3,@CompanyCode4,@CompanyCode5,@CompanyCode6,@CompanyCode7,@CompanyCode8,@CompanyCode9,@CompanyCode10)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode11))) 	
Parameters:
@Type1[Int32] = 1
@ProjectId2[String] = 6372912251695766465
@CompanyCode3[String] = 6373083923489249281
@CompanyCode4[String] = 6373083925531366080
@CompanyCode5[String] = 6373083927883400612
@CompanyCode6[String] = 6373083918575368225
@CompanyCode7[String] = 6373083920445075162
@CompanyCode8[String] = 6373083908618598731
@CompanyCode9[String] = 6373083911842783146
@CompanyCode10[String] = 6373083913928202424
@ParentCompanyCode11[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type12) AND ([TbOrganizationMap].[ProjectId] = @ProjectId13)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode22))) 	
Parameters:
@Type12[Int32] = 2
@ProjectId13[String] = 6372912251695766465
@CompanyCode14[String] = 6373083923489249281
@CompanyCode15[String] = 6373083925531366080
@CompanyCode16[String] = 6373083927883400612
@CompanyCode17[String] = 6373083918575368225
@CompanyCode18[String] = 6373083920445075162
@CompanyCode19[String] = 6373083908618598731
@CompanyCode20[String] = 6373083911842783146
@CompanyCode21[String] = 6373083913928202424
@ParentCompanyCode22[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49)))	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode51) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode52) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 16:47:56
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 16:48:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:48:10
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId53) AND ([TbModelOrg].[SiteCode] IN (@SiteCode54))) 	
Parameters:
@ProjectId53[String] = 6372912251695766465
@SiteCode54[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 16:48:18
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm55,@MxGjBm56,@MxGjBm57,@MxGjBm58,@MxGjBm59) 	
Parameters:
@MxGjBm55[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm56[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm57[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm58[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm59[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 16:48:18
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode60,@ComponentCode61,@ComponentCode62,@ComponentCode63,@ComponentCode64)) AND ([TbModelOtherInfo].[Type] = @Type65) 	
Parameters:
@ComponentCode60[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode61[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode62[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode63[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode64[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type65[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:48:24
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId66,@MxGjId67,@MxGjId68,@MxGjId69) 	
Parameters:
@MxGjId66[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId67[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId68[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId69[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:48:24
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode70,@ComponentCode71,@ComponentCode72,@ComponentCode73)) AND ([TbModelOtherInfo].[Type] = @Type74) 	
Parameters:
@ComponentCode70[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode71[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode72[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode73[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type74[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:49:08
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId75) 	
Parameters:
@MxGjId75[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 16:49:08
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode76)) AND ([TbModelOtherInfo].[Type] = @Type77) 	
Parameters:
@ComponentCode76[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type77[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:49:14
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId78) 	
Parameters:
@MxGjId78[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 16:49:14
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode79)) AND ([TbModelOtherInfo].[Type] = @Type80) 	
Parameters:
@ComponentCode79[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type80[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:49:27
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId81,@MxGjId82) 	
Parameters:
@MxGjId81[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId82[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 16:49:27
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode83,@ComponentCode84)) AND ([TbModelOtherInfo].[Type] = @Type85) 	
Parameters:
@ComponentCode83[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode84[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type85[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:49:28
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId86) 	
Parameters:
@MxGjId86[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a39


-----------------------------------------------------------------------------
2020-08-12 16:49:28
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode87)) AND ([TbModelOtherInfo].[Type] = @Type88) 	
Parameters:
@ComponentCode87[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type88[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:49:30
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId89,@MxGjId90) 	
Parameters:
@MxGjId89[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId90[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 16:49:30
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode91,@ComponentCode92)) AND ([TbModelOtherInfo].[Type] = @Type93) 	
Parameters:
@ComponentCode91[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode92[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type93[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:49:43
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode94) AND ([TbModelOtherInfo].[Type] = @Type95) 	
Parameters:
@ComponentCode94[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type95[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:49:43
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode97,[PlanTime]=@PlanTime98,[Remark]=@Remark99,[SiteCode]=@SiteCode100,[Type]=@Type101,[ProjectId]=@ProjectId102 WHERE [TbModelOtherInfo].[ID] = @ID96	
Parameters:
@ComponentCode97[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@PlanTime98[DateTime] = 2020/8/18 0:00:00
@Remark99[String] = 
@SiteCode100[String] = 6373083847585007801
@Type101[Int32] = 2
@ProjectId102[String] = 6372912251695766465
@ID96[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:49:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:49:48
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode130)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId103) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129)))	
Parameters:
@ProjectId103[String] = 6372912251695766465
@SiteCode104[String] = 6373083923489249281
@SiteCode105[String] = 6373083925531366080
@SiteCode106[String] = 6373083927883400612
@SiteCode107[String] = 6373083918575368225
@SiteCode108[String] = 6373083920445075162
@SiteCode109[String] = 6373083908618598731
@SiteCode110[String] = 6373083911842783146
@SiteCode111[String] = 6373083913928202424
@SiteCode112[String] = 6373083877551621804
@SiteCode113[String] = 6373083879921857377
@SiteCode114[String] = 6373083881542550067
@SiteCode115[String] = 6373083883689772886
@SiteCode116[String] = 6373083887136270013
@SiteCode117[String] = 6373083889697116488
@SiteCode118[String] = 6373083891969846476
@SiteCode119[String] = 6373083894422586761
@SiteCode120[String] = 6373083897509963358
@SiteCode121[String] = 6373083900444931227
@SiteCode122[String] = 6373083829464571372
@SiteCode123[String] = 6373083833327492328
@SiteCode124[String] = 6373083841964286321
@SiteCode125[String] = 6373083844982558950
@SiteCode126[String] = 6373083847585007801
@SiteCode127[String] = 6373083856887939900
@SiteCode128[String] = 6373083859102666584
@SiteCode129[String] = 6373083864919499284
@FDictionaryCode130[String] = OrderState
@FDictionaryCode131[String] = UrgentDegree
@FDictionaryCode132[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:49:48
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode131) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode132) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode130)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId103) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114,@SiteCode115,@SiteCode116,@SiteCode117,@SiteCode118,@SiteCode119,@SiteCode120,@SiteCode121,@SiteCode122,@SiteCode123,@SiteCode124,@SiteCode125,@SiteCode126,@SiteCode127,@SiteCode128,@SiteCode129))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId103[String] = 6372912251695766465
@SiteCode104[String] = 6373083923489249281
@SiteCode105[String] = 6373083925531366080
@SiteCode106[String] = 6373083927883400612
@SiteCode107[String] = 6373083918575368225
@SiteCode108[String] = 6373083920445075162
@SiteCode109[String] = 6373083908618598731
@SiteCode110[String] = 6373083911842783146
@SiteCode111[String] = 6373083913928202424
@SiteCode112[String] = 6373083877551621804
@SiteCode113[String] = 6373083879921857377
@SiteCode114[String] = 6373083881542550067
@SiteCode115[String] = 6373083883689772886
@SiteCode116[String] = 6373083887136270013
@SiteCode117[String] = 6373083889697116488
@SiteCode118[String] = 6373083891969846476
@SiteCode119[String] = 6373083894422586761
@SiteCode120[String] = 6373083897509963358
@SiteCode121[String] = 6373083900444931227
@SiteCode122[String] = 6373083829464571372
@SiteCode123[String] = 6373083833327492328
@SiteCode124[String] = 6373083841964286321
@SiteCode125[String] = 6373083844982558950
@SiteCode126[String] = 6373083847585007801
@SiteCode127[String] = 6373083856887939900
@SiteCode128[String] = 6373083859102666584
@SiteCode129[String] = 6373083864919499284
@FDictionaryCode130[String] = OrderState
@FDictionaryCode131[String] = UrgentDegree
@FDictionaryCode132[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:49:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:49:50
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode160)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId133) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148,@SiteCode149,@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159)))	
Parameters:
@ProjectId133[String] = 6372912251695766465
@SiteCode134[String] = 6373083923489249281
@SiteCode135[String] = 6373083925531366080
@SiteCode136[String] = 6373083927883400612
@SiteCode137[String] = 6373083918575368225
@SiteCode138[String] = 6373083920445075162
@SiteCode139[String] = 6373083908618598731
@SiteCode140[String] = 6373083911842783146
@SiteCode141[String] = 6373083913928202424
@SiteCode142[String] = 6373083877551621804
@SiteCode143[String] = 6373083879921857377
@SiteCode144[String] = 6373083881542550067
@SiteCode145[String] = 6373083883689772886
@SiteCode146[String] = 6373083887136270013
@SiteCode147[String] = 6373083889697116488
@SiteCode148[String] = 6373083891969846476
@SiteCode149[String] = 6373083894422586761
@SiteCode150[String] = 6373083897509963358
@SiteCode151[String] = 6373083900444931227
@SiteCode152[String] = 6373083829464571372
@SiteCode153[String] = 6373083833327492328
@SiteCode154[String] = 6373083841964286321
@SiteCode155[String] = 6373083844982558950
@SiteCode156[String] = 6373083847585007801
@SiteCode157[String] = 6373083856887939900
@SiteCode158[String] = 6373083859102666584
@SiteCode159[String] = 6373083864919499284
@FDictionaryCode160[String] = OrderState
@FDictionaryCode161[String] = UrgentDegree
@FDictionaryCode162[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:49:50
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode161) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode162) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode160)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId133) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode134,@SiteCode135,@SiteCode136,@SiteCode137,@SiteCode138,@SiteCode139,@SiteCode140,@SiteCode141,@SiteCode142,@SiteCode143,@SiteCode144,@SiteCode145,@SiteCode146,@SiteCode147,@SiteCode148,@SiteCode149,@SiteCode150,@SiteCode151,@SiteCode152,@SiteCode153,@SiteCode154,@SiteCode155,@SiteCode156,@SiteCode157,@SiteCode158,@SiteCode159))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId133[String] = 6372912251695766465
@SiteCode134[String] = 6373083923489249281
@SiteCode135[String] = 6373083925531366080
@SiteCode136[String] = 6373083927883400612
@SiteCode137[String] = 6373083918575368225
@SiteCode138[String] = 6373083920445075162
@SiteCode139[String] = 6373083908618598731
@SiteCode140[String] = 6373083911842783146
@SiteCode141[String] = 6373083913928202424
@SiteCode142[String] = 6373083877551621804
@SiteCode143[String] = 6373083879921857377
@SiteCode144[String] = 6373083881542550067
@SiteCode145[String] = 6373083883689772886
@SiteCode146[String] = 6373083887136270013
@SiteCode147[String] = 6373083889697116488
@SiteCode148[String] = 6373083891969846476
@SiteCode149[String] = 6373083894422586761
@SiteCode150[String] = 6373083897509963358
@SiteCode151[String] = 6373083900444931227
@SiteCode152[String] = 6373083829464571372
@SiteCode153[String] = 6373083833327492328
@SiteCode154[String] = 6373083841964286321
@SiteCode155[String] = 6373083844982558950
@SiteCode156[String] = 6373083847585007801
@SiteCode157[String] = 6373083856887939900
@SiteCode158[String] = 6373083859102666584
@SiteCode159[String] = 6373083864919499284
@FDictionaryCode160[String] = OrderState
@FDictionaryCode161[String] = UrgentDegree
@FDictionaryCode162[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:49:52
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode163) AND ([TbModelOtherInfo].[Type] = @Type164) 	
Parameters:
@ComponentCode163[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@Type164[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:49:52
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode166,[PlanTime]=@PlanTime167,[Remark]=@Remark168,[SiteCode]=@SiteCode169,[Type]=@Type170,[ProjectId]=@ProjectId171 WHERE [TbModelOtherInfo].[ID] = @ID165	
Parameters:
@ComponentCode166[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@PlanTime167[DateTime] = 2020/8/18 0:00:00
@Remark168[String] = 
@SiteCode169[String] = 6373083847585007801
@Type170[Int32] = 2
@ProjectId171[String] = 6372912251695766465
@ID165[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:49:59
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId172,@MxGjId173,@MxGjId174,@MxGjId175) 	
Parameters:
@MxGjId172[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId173[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId174[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId175[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:50:00
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode176,@ComponentCode177,@ComponentCode178,@ComponentCode179)) AND ([TbModelOtherInfo].[Type] = @Type180) 	
Parameters:
@ComponentCode176[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode177[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode178[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode179[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type180[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:50:09
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode181) AND ([TbModelOtherInfo].[Type] = @Type182) 	
Parameters:
@ComponentCode181[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@Type182[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:50:09
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode184,[PlanTime]=@PlanTime185,[Remark]=@Remark186,[SiteCode]=@SiteCode187,[Type]=@Type188,[ProjectId]=@ProjectId189 WHERE [TbModelOtherInfo].[ID] = @ID183	
Parameters:
@ComponentCode184[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@PlanTime185[DateTime] = 2020/8/21 0:00:00
@Remark186[String] = 
@SiteCode187[String] = 6373083847585007801
@Type188[Int32] = 2
@ProjectId189[String] = 6372912251695766465
@ID183[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:50:14
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode190) AND ([TbModelOtherInfo].[Type] = @Type191) 	
Parameters:
@ComponentCode190[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@Type191[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:50:14
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode193,[PlanTime]=@PlanTime194,[Remark]=@Remark195,[SiteCode]=@SiteCode196,[Type]=@Type197,[ProjectId]=@ProjectId198 WHERE [TbModelOtherInfo].[ID] = @ID192	
Parameters:
@ComponentCode193[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@PlanTime194[DateTime] = 2020/8/21 0:00:00
@Remark195[String] = 
@SiteCode196[String] = 6373083847585007801
@Type197[Int32] = 2
@ProjectId198[String] = 6372912251695766465
@ID192[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:50:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:50:25
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode226)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId199) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207,@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212,@SiteCode213,@SiteCode214,@SiteCode215,@SiteCode216,@SiteCode217,@SiteCode218,@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225)))	
Parameters:
@ProjectId199[String] = 6372912251695766465
@SiteCode200[String] = 6373083923489249281
@SiteCode201[String] = 6373083925531366080
@SiteCode202[String] = 6373083927883400612
@SiteCode203[String] = 6373083918575368225
@SiteCode204[String] = 6373083920445075162
@SiteCode205[String] = 6373083908618598731
@SiteCode206[String] = 6373083911842783146
@SiteCode207[String] = 6373083913928202424
@SiteCode208[String] = 6373083877551621804
@SiteCode209[String] = 6373083879921857377
@SiteCode210[String] = 6373083881542550067
@SiteCode211[String] = 6373083883689772886
@SiteCode212[String] = 6373083887136270013
@SiteCode213[String] = 6373083889697116488
@SiteCode214[String] = 6373083891969846476
@SiteCode215[String] = 6373083894422586761
@SiteCode216[String] = 6373083897509963358
@SiteCode217[String] = 6373083900444931227
@SiteCode218[String] = 6373083829464571372
@SiteCode219[String] = 6373083833327492328
@SiteCode220[String] = 6373083841964286321
@SiteCode221[String] = 6373083844982558950
@SiteCode222[String] = 6373083847585007801
@SiteCode223[String] = 6373083856887939900
@SiteCode224[String] = 6373083859102666584
@SiteCode225[String] = 6373083864919499284
@FDictionaryCode226[String] = OrderState
@FDictionaryCode227[String] = UrgentDegree
@FDictionaryCode228[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:50:25
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode227) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode228) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode226)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId199) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode200,@SiteCode201,@SiteCode202,@SiteCode203,@SiteCode204,@SiteCode205,@SiteCode206,@SiteCode207,@SiteCode208,@SiteCode209,@SiteCode210,@SiteCode211,@SiteCode212,@SiteCode213,@SiteCode214,@SiteCode215,@SiteCode216,@SiteCode217,@SiteCode218,@SiteCode219,@SiteCode220,@SiteCode221,@SiteCode222,@SiteCode223,@SiteCode224,@SiteCode225))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId199[String] = 6372912251695766465
@SiteCode200[String] = 6373083923489249281
@SiteCode201[String] = 6373083925531366080
@SiteCode202[String] = 6373083927883400612
@SiteCode203[String] = 6373083918575368225
@SiteCode204[String] = 6373083920445075162
@SiteCode205[String] = 6373083908618598731
@SiteCode206[String] = 6373083911842783146
@SiteCode207[String] = 6373083913928202424
@SiteCode208[String] = 6373083877551621804
@SiteCode209[String] = 6373083879921857377
@SiteCode210[String] = 6373083881542550067
@SiteCode211[String] = 6373083883689772886
@SiteCode212[String] = 6373083887136270013
@SiteCode213[String] = 6373083889697116488
@SiteCode214[String] = 6373083891969846476
@SiteCode215[String] = 6373083894422586761
@SiteCode216[String] = 6373083897509963358
@SiteCode217[String] = 6373083900444931227
@SiteCode218[String] = 6373083829464571372
@SiteCode219[String] = 6373083833327492328
@SiteCode220[String] = 6373083841964286321
@SiteCode221[String] = 6373083844982558950
@SiteCode222[String] = 6373083847585007801
@SiteCode223[String] = 6373083856887939900
@SiteCode224[String] = 6373083859102666584
@SiteCode225[String] = 6373083864919499284
@FDictionaryCode226[String] = OrderState
@FDictionaryCode227[String] = UrgentDegree
@FDictionaryCode228[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:50:27
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode229) AND ([TbModelOtherInfo].[Type] = @Type230) 	
Parameters:
@ComponentCode229[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@Type230[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:50:27
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode232,[PlanTime]=@PlanTime233,[Remark]=@Remark234,[SiteCode]=@SiteCode235,[Type]=@Type236,[ProjectId]=@ProjectId237 WHERE [TbModelOtherInfo].[ID] = @ID231	
Parameters:
@ComponentCode232[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@PlanTime233[DateTime] = 2020/8/21 0:00:00
@Remark234[String] = xxx
@SiteCode235[String] = 6373083847585007801
@Type236[Int32] = 2
@ProjectId237[String] = 6372912251695766465
@ID231[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:50:33
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode238) AND ([TbModelOtherInfo].[Type] = @Type239) 	
Parameters:
@ComponentCode238[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@Type239[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:50:33
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode241,[PlanTime]=@PlanTime242,[Remark]=@Remark243,[SiteCode]=@SiteCode244,[Type]=@Type245,[ProjectId]=@ProjectId246 WHERE [TbModelOtherInfo].[ID] = @ID240	
Parameters:
@ComponentCode241[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@PlanTime242[DateTime] = 2020/8/18 0:00:00
@Remark243[String] = xxx
@SiteCode244[String] = 6373083847585007801
@Type245[Int32] = 2
@ProjectId246[String] = 6372912251695766465
@ID240[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:50:36
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode247) AND ([TbModelOtherInfo].[Type] = @Type248) 	
Parameters:
@ComponentCode247[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type248[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:50:36
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode250,[PlanTime]=@PlanTime251,[Remark]=@Remark252,[SiteCode]=@SiteCode253,[Type]=@Type254,[ProjectId]=@ProjectId255 WHERE [TbModelOtherInfo].[ID] = @ID249	
Parameters:
@ComponentCode250[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@PlanTime251[DateTime] = 2020/8/18 0:00:00
@Remark252[String] = 
@SiteCode253[String] = 6373083847585007801
@Type254[Int32] = 2
@ProjectId255[String] = 6372912251695766465
@ID249[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:50:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:50:43
Text:	 SELECT   TOP 1 * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] = @ComponentCode256) AND ([TbModelOtherInfo].[Type] = @Type257) 	
Parameters:
@ComponentCode256[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@Type257[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 16:50:43
Text:	UPDATE [TbModelOtherInfo] SET [ComponentCode]=@ComponentCode259,[PlanTime]=@PlanTime260,[Remark]=@Remark261,[SiteCode]=@SiteCode262,[Type]=@Type263,[ProjectId]=@ProjectId264 WHERE [TbModelOtherInfo].[ID] = @ID258	
Parameters:
@ComponentCode259[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@PlanTime260[DateTime] = 2020/8/28 0:00:00
@Remark261[String] = 
@SiteCode262[String] = 6373083847585007801
@Type263[Int32] = 1
@ProjectId264[String] = 6372912251695766465
@ID258[Int32] = 0


-----------------------------------------------------------------------------
2020-08-12 16:50:43
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode265,@ComponentCode266,@ComponentCode267,@ComponentCode268)) AND ([TbModelOtherInfo].[Type] = @Type269) 	
Parameters:
@ComponentCode265[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode266[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode267[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode268[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type269[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:50:43
Text:	UPDATE [TbModelOtherInfo] SET [PlanTime]=@PlanTime271 WHERE [TbModelOtherInfo].[ID] = @ID270	
Parameters:
@PlanTime271[DateTime] = 2020/8/28 0:00:00
@ID270[Int32] = 19


-----------------------------------------------------------------------------
2020-08-12 16:50:43
Text:	UPDATE [TbModelOtherInfo] SET [PlanTime]=@PlanTime273 WHERE [TbModelOtherInfo].[ID] = @ID272	
Parameters:
@PlanTime273[DateTime] = 2020/8/28 0:00:00
@ID272[Int32] = 21


-----------------------------------------------------------------------------
2020-08-12 16:50:43
Text:	UPDATE [TbModelOtherInfo] SET [PlanTime]=@PlanTime275 WHERE [TbModelOtherInfo].[ID] = @ID274	
Parameters:
@PlanTime275[DateTime] = 2020/8/28 0:00:00
@ID274[Int32] = 22


-----------------------------------------------------------------------------
2020-08-12 16:50:43
Text:	UPDATE [TbModelOtherInfo] SET [PlanTime]=@PlanTime277 WHERE [TbModelOtherInfo].[ID] = @ID276	
Parameters:
@PlanTime277[DateTime] = 2020/8/28 0:00:00
@ID276[Int32] = 30


-----------------------------------------------------------------------------
2020-08-12 16:50:44
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId278,@MxGjId279,@MxGjId280,@MxGjId281) 	
Parameters:
@MxGjId278[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId279[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId280[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId281[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:50:44
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode282,@ComponentCode283,@ComponentCode284,@ComponentCode285)) AND ([TbModelOtherInfo].[Type] = @Type286) 	
Parameters:
@ComponentCode282[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode283[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode284[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode285[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type286[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:50:55
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId287,@MxGjId288,@MxGjId289,@MxGjId290) 	
Parameters:
@MxGjId287[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId288[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId289[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId290[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 16:51:04
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode291,@ComponentCode292,@ComponentCode293,@ComponentCode294)) AND ([TbModelOtherInfo].[Type] = @Type295) 	
Parameters:
@ComponentCode291[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode292[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode293[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode294[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type295[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:51:29
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId296,@MxGjId297) 	
Parameters:
@MxGjId296[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId297[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 16:51:29
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode298,@ComponentCode299)) AND ([TbModelOtherInfo].[Type] = @Type300) 	
Parameters:
@ComponentCode298[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode299[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type300[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:51:42
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId301) 	
Parameters:
@MxGjId301[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a39


-----------------------------------------------------------------------------
2020-08-12 16:51:42
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode302)) AND ([TbModelOtherInfo].[Type] = @Type303) 	
Parameters:
@ComponentCode302[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type303[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:51:48
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId304) 	
Parameters:
@MxGjId304[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a39


-----------------------------------------------------------------------------
2020-08-12 16:51:48
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode305)) AND ([TbModelOtherInfo].[Type] = @Type306) 	
Parameters:
@ComponentCode305[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type306[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:51:49
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId307,@MxGjId308) 	
Parameters:
@MxGjId307[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId308[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 16:51:49
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode309,@ComponentCode310)) AND ([TbModelOtherInfo].[Type] = @Type311) 	
Parameters:
@ComponentCode309[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode310[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type311[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 16:53:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:56:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:58:30
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 16:58:30
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 16:58:30
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 16:58:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:58:30
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type312) AND ([TbOrganizationMap].[ProjectId] = @ProjectId313)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode314,@CompanyCode315,@CompanyCode316,@CompanyCode317,@CompanyCode318,@CompanyCode319,@CompanyCode320,@CompanyCode321)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode322))) 	
Parameters:
@Type312[Int32] = 1
@ProjectId313[String] = 6372912251695766465
@CompanyCode314[String] = 6373083923489249281
@CompanyCode315[String] = 6373083925531366080
@CompanyCode316[String] = 6373083927883400612
@CompanyCode317[String] = 6373083918575368225
@CompanyCode318[String] = 6373083920445075162
@CompanyCode319[String] = 6373083908618598731
@CompanyCode320[String] = 6373083911842783146
@CompanyCode321[String] = 6373083913928202424
@ParentCompanyCode322[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:58:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:58:30
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type323) AND ([TbOrganizationMap].[ProjectId] = @ProjectId324)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode325,@CompanyCode326,@CompanyCode327,@CompanyCode328,@CompanyCode329,@CompanyCode330,@CompanyCode331,@CompanyCode332)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode333))) 	
Parameters:
@Type323[Int32] = 2
@ProjectId324[String] = 6372912251695766465
@CompanyCode325[String] = 6373083923489249281
@CompanyCode326[String] = 6373083925531366080
@CompanyCode327[String] = 6373083927883400612
@CompanyCode328[String] = 6373083918575368225
@CompanyCode329[String] = 6373083920445075162
@CompanyCode330[String] = 6373083908618598731
@CompanyCode331[String] = 6373083911842783146
@CompanyCode332[String] = 6373083913928202424
@ParentCompanyCode333[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 16:58:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 16:58:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 16:58:32
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode361)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId334) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode335,@SiteCode336,@SiteCode337,@SiteCode338,@SiteCode339,@SiteCode340,@SiteCode341,@SiteCode342,@SiteCode343,@SiteCode344,@SiteCode345,@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354,@SiteCode355,@SiteCode356,@SiteCode357,@SiteCode358,@SiteCode359,@SiteCode360)))	
Parameters:
@ProjectId334[String] = 6372912251695766465
@SiteCode335[String] = 6373083923489249281
@SiteCode336[String] = 6373083925531366080
@SiteCode337[String] = 6373083927883400612
@SiteCode338[String] = 6373083918575368225
@SiteCode339[String] = 6373083920445075162
@SiteCode340[String] = 6373083908618598731
@SiteCode341[String] = 6373083911842783146
@SiteCode342[String] = 6373083913928202424
@SiteCode343[String] = 6373083877551621804
@SiteCode344[String] = 6373083879921857377
@SiteCode345[String] = 6373083881542550067
@SiteCode346[String] = 6373083883689772886
@SiteCode347[String] = 6373083887136270013
@SiteCode348[String] = 6373083889697116488
@SiteCode349[String] = 6373083891969846476
@SiteCode350[String] = 6373083894422586761
@SiteCode351[String] = 6373083897509963358
@SiteCode352[String] = 6373083900444931227
@SiteCode353[String] = 6373083829464571372
@SiteCode354[String] = 6373083833327492328
@SiteCode355[String] = 6373083841964286321
@SiteCode356[String] = 6373083844982558950
@SiteCode357[String] = 6373083847585007801
@SiteCode358[String] = 6373083856887939900
@SiteCode359[String] = 6373083859102666584
@SiteCode360[String] = 6373083864919499284
@FDictionaryCode361[String] = OrderState
@FDictionaryCode362[String] = UrgentDegree
@FDictionaryCode363[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:58:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 16:58:32
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode362) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode363) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode361)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId334) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode335,@SiteCode336,@SiteCode337,@SiteCode338,@SiteCode339,@SiteCode340,@SiteCode341,@SiteCode342,@SiteCode343,@SiteCode344,@SiteCode345,@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353,@SiteCode354,@SiteCode355,@SiteCode356,@SiteCode357,@SiteCode358,@SiteCode359,@SiteCode360))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId334[String] = 6372912251695766465
@SiteCode335[String] = 6373083923489249281
@SiteCode336[String] = 6373083925531366080
@SiteCode337[String] = 6373083927883400612
@SiteCode338[String] = 6373083918575368225
@SiteCode339[String] = 6373083920445075162
@SiteCode340[String] = 6373083908618598731
@SiteCode341[String] = 6373083911842783146
@SiteCode342[String] = 6373083913928202424
@SiteCode343[String] = 6373083877551621804
@SiteCode344[String] = 6373083879921857377
@SiteCode345[String] = 6373083881542550067
@SiteCode346[String] = 6373083883689772886
@SiteCode347[String] = 6373083887136270013
@SiteCode348[String] = 6373083889697116488
@SiteCode349[String] = 6373083891969846476
@SiteCode350[String] = 6373083894422586761
@SiteCode351[String] = 6373083897509963358
@SiteCode352[String] = 6373083900444931227
@SiteCode353[String] = 6373083829464571372
@SiteCode354[String] = 6373083833327492328
@SiteCode355[String] = 6373083841964286321
@SiteCode356[String] = 6373083844982558950
@SiteCode357[String] = 6373083847585007801
@SiteCode358[String] = 6373083856887939900
@SiteCode359[String] = 6373083859102666584
@SiteCode360[String] = 6373083864919499284
@FDictionaryCode361[String] = OrderState
@FDictionaryCode362[String] = UrgentDegree
@FDictionaryCode363[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 16:58:32
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 16:58:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 16:58:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:01:05
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:01:05
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:01:05
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:01:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:01:05
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type364) AND ([TbOrganizationMap].[ProjectId] = @ProjectId365)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode366,@CompanyCode367,@CompanyCode368,@CompanyCode369,@CompanyCode370,@CompanyCode371,@CompanyCode372,@CompanyCode373)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode374))) 	
Parameters:
@Type364[Int32] = 1
@ProjectId365[String] = 6372912251695766465
@CompanyCode366[String] = 6373083923489249281
@CompanyCode367[String] = 6373083925531366080
@CompanyCode368[String] = 6373083927883400612
@CompanyCode369[String] = 6373083918575368225
@CompanyCode370[String] = 6373083920445075162
@CompanyCode371[String] = 6373083908618598731
@CompanyCode372[String] = 6373083911842783146
@CompanyCode373[String] = 6373083913928202424
@ParentCompanyCode374[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:01:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:01:05
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type375) AND ([TbOrganizationMap].[ProjectId] = @ProjectId376)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode377,@CompanyCode378,@CompanyCode379,@CompanyCode380,@CompanyCode381,@CompanyCode382,@CompanyCode383,@CompanyCode384)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode385))) 	
Parameters:
@Type375[Int32] = 2
@ProjectId376[String] = 6372912251695766465
@CompanyCode377[String] = 6373083923489249281
@CompanyCode378[String] = 6373083925531366080
@CompanyCode379[String] = 6373083927883400612
@CompanyCode380[String] = 6373083918575368225
@CompanyCode381[String] = 6373083920445075162
@CompanyCode382[String] = 6373083908618598731
@CompanyCode383[String] = 6373083911842783146
@CompanyCode384[String] = 6373083913928202424
@ParentCompanyCode385[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:01:05
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:01:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:01:05
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode413)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId386) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode387,@SiteCode388,@SiteCode389,@SiteCode390,@SiteCode391,@SiteCode392,@SiteCode393,@SiteCode394,@SiteCode395,@SiteCode396,@SiteCode397,@SiteCode398,@SiteCode399,@SiteCode400,@SiteCode401,@SiteCode402,@SiteCode403,@SiteCode404,@SiteCode405,@SiteCode406,@SiteCode407,@SiteCode408,@SiteCode409,@SiteCode410,@SiteCode411,@SiteCode412)))	
Parameters:
@ProjectId386[String] = 6372912251695766465
@SiteCode387[String] = 6373083923489249281
@SiteCode388[String] = 6373083925531366080
@SiteCode389[String] = 6373083927883400612
@SiteCode390[String] = 6373083918575368225
@SiteCode391[String] = 6373083920445075162
@SiteCode392[String] = 6373083908618598731
@SiteCode393[String] = 6373083911842783146
@SiteCode394[String] = 6373083913928202424
@SiteCode395[String] = 6373083877551621804
@SiteCode396[String] = 6373083879921857377
@SiteCode397[String] = 6373083881542550067
@SiteCode398[String] = 6373083883689772886
@SiteCode399[String] = 6373083887136270013
@SiteCode400[String] = 6373083889697116488
@SiteCode401[String] = 6373083891969846476
@SiteCode402[String] = 6373083894422586761
@SiteCode403[String] = 6373083897509963358
@SiteCode404[String] = 6373083900444931227
@SiteCode405[String] = 6373083829464571372
@SiteCode406[String] = 6373083833327492328
@SiteCode407[String] = 6373083841964286321
@SiteCode408[String] = 6373083844982558950
@SiteCode409[String] = 6373083847585007801
@SiteCode410[String] = 6373083856887939900
@SiteCode411[String] = 6373083859102666584
@SiteCode412[String] = 6373083864919499284
@FDictionaryCode413[String] = OrderState
@FDictionaryCode414[String] = UrgentDegree
@FDictionaryCode415[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:01:06
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:01:06
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode414) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode415) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode413)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId386) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode387,@SiteCode388,@SiteCode389,@SiteCode390,@SiteCode391,@SiteCode392,@SiteCode393,@SiteCode394,@SiteCode395,@SiteCode396,@SiteCode397,@SiteCode398,@SiteCode399,@SiteCode400,@SiteCode401,@SiteCode402,@SiteCode403,@SiteCode404,@SiteCode405,@SiteCode406,@SiteCode407,@SiteCode408,@SiteCode409,@SiteCode410,@SiteCode411,@SiteCode412))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId386[String] = 6372912251695766465
@SiteCode387[String] = 6373083923489249281
@SiteCode388[String] = 6373083925531366080
@SiteCode389[String] = 6373083927883400612
@SiteCode390[String] = 6373083918575368225
@SiteCode391[String] = 6373083920445075162
@SiteCode392[String] = 6373083908618598731
@SiteCode393[String] = 6373083911842783146
@SiteCode394[String] = 6373083913928202424
@SiteCode395[String] = 6373083877551621804
@SiteCode396[String] = 6373083879921857377
@SiteCode397[String] = 6373083881542550067
@SiteCode398[String] = 6373083883689772886
@SiteCode399[String] = 6373083887136270013
@SiteCode400[String] = 6373083889697116488
@SiteCode401[String] = 6373083891969846476
@SiteCode402[String] = 6373083894422586761
@SiteCode403[String] = 6373083897509963358
@SiteCode404[String] = 6373083900444931227
@SiteCode405[String] = 6373083829464571372
@SiteCode406[String] = 6373083833327492328
@SiteCode407[String] = 6373083841964286321
@SiteCode408[String] = 6373083844982558950
@SiteCode409[String] = 6373083847585007801
@SiteCode410[String] = 6373083856887939900
@SiteCode411[String] = 6373083859102666584
@SiteCode412[String] = 6373083864919499284
@FDictionaryCode413[String] = OrderState
@FDictionaryCode414[String] = UrgentDegree
@FDictionaryCode415[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:01:06
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:01:06
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:01:06
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:01:34
Text:	 SELECT   TOP 1 * FROM [TbUser]  WHERE ([TbUser].[UserCode] = @UserCode416) AND ([TbUser].[UserPwd] = @UserPwd417) 	
Parameters:
@UserCode416[String] = 500000
@UserPwd417[String] = c4ca4238a0b923820dcc509a6f75849b


-----------------------------------------------------------------------------
2020-08-12 17:01:34
Text:	SELECT UserClosed FROM TbUser WHERE UserCode=@UserName	
Parameters:
@UserName[String] = 500000


-----------------------------------------------------------------------------
2020-08-12 17:01:34
Text:	select top 1 ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode as UserId,u.UserCode,u.UserName from TbUserRole ur 
left join TbCompany cm on ur.OrgId=cm.CompanyCode
left join TbProjectInfo pro on ur.ProjectId=pro.ProjectId
left join TbUser u on ur.UserCode=u.UserId
where u.UserCode=@UserCode and ur.Flag=0 group by ur.ProjectId,pro.ProjectName,ur.OrgId,cm.CompanyFullName,cm.ParentCompanyCode,ur.OrgType,ur.UserCode,u.UserCode,u.UserName order by OrgId asc	
Parameters:
@UserCode[String] = 500000


-----------------------------------------------------------------------------
2020-08-12 17:01:34
Text:	select distinct ur.RoleCode as RoleId,r.RoleCode,r.RoleName from TbUserRole ur
left join TbUser u on ur.UserCode=u.UserId
left join TbRole r on ur.RoleCode=r.RoleId
where u.UserCode=@UserCode and ProjectId=@ProjectId and OrgId=@OrgId and ur.Flag=0	
Parameters:
@UserCode[String] = 500000
@ProjectId[String] = 6372912251695766465
@OrgId[String] = 6372921375874657752


-----------------------------------------------------------------------------
2020-08-12 17:01:34
Text:	 SELECT   TOP 1 [TbCarInfoDetail].[ID] FROM [TbCarInfoDetail]  WHERE [TbCarInfoDetail].[UserCode] = @UserCode418 	
Parameters:
@UserCode418[String] = 500000


-----------------------------------------------------------------------------
2020-08-12 17:01:34
Text:	INSERT INTO [TbSysLog] ([ActionMenu],[ActionType],[HostName],[LogDate],[UserCode],[UserIP]) VALUES (@ActionMenu419,@ActionType420,@HostName421,@LogDate422,@UserCode423,@UserIP424);select scope_identity()	
Parameters:
@ActionMenu419[String] = 0
@ActionType420[String] = 登录系统
@HostName421[String] = 
@LogDate422[DateTime] = 2020/8/12 17:01:34
@UserCode423[String] = 500000
@UserIP424[String] = 192.168.3.222


-----------------------------------------------------------------------------
2020-08-12 17:01:34
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:01:34
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:01:34
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type425) AND ([TbOrganizationMap].[ProjectId] = @ProjectId426)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode427,@CompanyCode428,@CompanyCode429,@CompanyCode430,@CompanyCode431,@CompanyCode432,@CompanyCode433,@CompanyCode434)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode435))) 	
Parameters:
@Type425[Int32] = 1
@ProjectId426[String] = 6372912251695766465
@CompanyCode427[String] = 6373083923489249281
@CompanyCode428[String] = 6373083925531366080
@CompanyCode429[String] = 6373083927883400612
@CompanyCode430[String] = 6373083918575368225
@CompanyCode431[String] = 6373083920445075162
@CompanyCode432[String] = 6373083908618598731
@CompanyCode433[String] = 6373083911842783146
@CompanyCode434[String] = 6373083913928202424
@ParentCompanyCode435[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type436) AND ([TbOrganizationMap].[ProjectId] = @ProjectId437)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode438,@CompanyCode439,@CompanyCode440,@CompanyCode441,@CompanyCode442,@CompanyCode443,@CompanyCode444,@CompanyCode445)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode446))) 	
Parameters:
@Type436[Int32] = 2
@ProjectId437[String] = 6372912251695766465
@CompanyCode438[String] = 6373083923489249281
@CompanyCode439[String] = 6373083925531366080
@CompanyCode440[String] = 6373083927883400612
@CompanyCode441[String] = 6373083918575368225
@CompanyCode442[String] = 6373083920445075162
@CompanyCode443[String] = 6373083908618598731
@CompanyCode444[String] = 6373083911842783146
@CompanyCode445[String] = 6373083913928202424
@ParentCompanyCode446[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode474)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId447) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode448,@SiteCode449,@SiteCode450,@SiteCode451,@SiteCode452,@SiteCode453,@SiteCode454,@SiteCode455,@SiteCode456,@SiteCode457,@SiteCode458,@SiteCode459,@SiteCode460,@SiteCode461,@SiteCode462,@SiteCode463,@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470,@SiteCode471,@SiteCode472,@SiteCode473)))	
Parameters:
@ProjectId447[String] = 6372912251695766465
@SiteCode448[String] = 6373083923489249281
@SiteCode449[String] = 6373083925531366080
@SiteCode450[String] = 6373083927883400612
@SiteCode451[String] = 6373083918575368225
@SiteCode452[String] = 6373083920445075162
@SiteCode453[String] = 6373083908618598731
@SiteCode454[String] = 6373083911842783146
@SiteCode455[String] = 6373083913928202424
@SiteCode456[String] = 6373083877551621804
@SiteCode457[String] = 6373083879921857377
@SiteCode458[String] = 6373083881542550067
@SiteCode459[String] = 6373083883689772886
@SiteCode460[String] = 6373083887136270013
@SiteCode461[String] = 6373083889697116488
@SiteCode462[String] = 6373083891969846476
@SiteCode463[String] = 6373083894422586761
@SiteCode464[String] = 6373083897509963358
@SiteCode465[String] = 6373083900444931227
@SiteCode466[String] = 6373083829464571372
@SiteCode467[String] = 6373083833327492328
@SiteCode468[String] = 6373083841964286321
@SiteCode469[String] = 6373083844982558950
@SiteCode470[String] = 6373083847585007801
@SiteCode471[String] = 6373083856887939900
@SiteCode472[String] = 6373083859102666584
@SiteCode473[String] = 6373083864919499284
@FDictionaryCode474[String] = OrderState
@FDictionaryCode475[String] = UrgentDegree
@FDictionaryCode476[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode475) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode476) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode474)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId447) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode448,@SiteCode449,@SiteCode450,@SiteCode451,@SiteCode452,@SiteCode453,@SiteCode454,@SiteCode455,@SiteCode456,@SiteCode457,@SiteCode458,@SiteCode459,@SiteCode460,@SiteCode461,@SiteCode462,@SiteCode463,@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470,@SiteCode471,@SiteCode472,@SiteCode473))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId447[String] = 6372912251695766465
@SiteCode448[String] = 6373083923489249281
@SiteCode449[String] = 6373083925531366080
@SiteCode450[String] = 6373083927883400612
@SiteCode451[String] = 6373083918575368225
@SiteCode452[String] = 6373083920445075162
@SiteCode453[String] = 6373083908618598731
@SiteCode454[String] = 6373083911842783146
@SiteCode455[String] = 6373083913928202424
@SiteCode456[String] = 6373083877551621804
@SiteCode457[String] = 6373083879921857377
@SiteCode458[String] = 6373083881542550067
@SiteCode459[String] = 6373083883689772886
@SiteCode460[String] = 6373083887136270013
@SiteCode461[String] = 6373083889697116488
@SiteCode462[String] = 6373083891969846476
@SiteCode463[String] = 6373083894422586761
@SiteCode464[String] = 6373083897509963358
@SiteCode465[String] = 6373083900444931227
@SiteCode466[String] = 6373083829464571372
@SiteCode467[String] = 6373083833327492328
@SiteCode468[String] = 6373083841964286321
@SiteCode469[String] = 6373083844982558950
@SiteCode470[String] = 6373083847585007801
@SiteCode471[String] = 6373083856887939900
@SiteCode472[String] = 6373083859102666584
@SiteCode473[String] = 6373083864919499284
@FDictionaryCode474[String] = OrderState
@FDictionaryCode475[String] = UrgentDegree
@FDictionaryCode476[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:01:35
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:01:57
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:01:57
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:01:57
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type477) AND ([TbOrganizationMap].[ProjectId] = @ProjectId478)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode479,@CompanyCode480,@CompanyCode481,@CompanyCode482,@CompanyCode483,@CompanyCode484,@CompanyCode485,@CompanyCode486)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode487))) 	
Parameters:
@Type477[Int32] = 1
@ProjectId478[String] = 6372912251695766465
@CompanyCode479[String] = 6373083923489249281
@CompanyCode480[String] = 6373083925531366080
@CompanyCode481[String] = 6373083927883400612
@CompanyCode482[String] = 6373083918575368225
@CompanyCode483[String] = 6373083920445075162
@CompanyCode484[String] = 6373083908618598731
@CompanyCode485[String] = 6373083911842783146
@CompanyCode486[String] = 6373083913928202424
@ParentCompanyCode487[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type488) AND ([TbOrganizationMap].[ProjectId] = @ProjectId489)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode490,@CompanyCode491,@CompanyCode492,@CompanyCode493,@CompanyCode494,@CompanyCode495,@CompanyCode496,@CompanyCode497)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode498))) 	
Parameters:
@Type488[Int32] = 2
@ProjectId489[String] = 6372912251695766465
@CompanyCode490[String] = 6373083923489249281
@CompanyCode491[String] = 6373083925531366080
@CompanyCode492[String] = 6373083927883400612
@CompanyCode493[String] = 6373083918575368225
@CompanyCode494[String] = 6373083920445075162
@CompanyCode495[String] = 6373083908618598731
@CompanyCode496[String] = 6373083911842783146
@CompanyCode497[String] = 6373083913928202424
@ParentCompanyCode498[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode526)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId499) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode500,@SiteCode501,@SiteCode502,@SiteCode503,@SiteCode504,@SiteCode505,@SiteCode506,@SiteCode507,@SiteCode508,@SiteCode509,@SiteCode510,@SiteCode511,@SiteCode512,@SiteCode513,@SiteCode514,@SiteCode515,@SiteCode516,@SiteCode517,@SiteCode518,@SiteCode519,@SiteCode520,@SiteCode521,@SiteCode522,@SiteCode523,@SiteCode524,@SiteCode525)))	
Parameters:
@ProjectId499[String] = 6372912251695766465
@SiteCode500[String] = 6373083923489249281
@SiteCode501[String] = 6373083925531366080
@SiteCode502[String] = 6373083927883400612
@SiteCode503[String] = 6373083918575368225
@SiteCode504[String] = 6373083920445075162
@SiteCode505[String] = 6373083908618598731
@SiteCode506[String] = 6373083911842783146
@SiteCode507[String] = 6373083913928202424
@SiteCode508[String] = 6373083877551621804
@SiteCode509[String] = 6373083879921857377
@SiteCode510[String] = 6373083881542550067
@SiteCode511[String] = 6373083883689772886
@SiteCode512[String] = 6373083887136270013
@SiteCode513[String] = 6373083889697116488
@SiteCode514[String] = 6373083891969846476
@SiteCode515[String] = 6373083894422586761
@SiteCode516[String] = 6373083897509963358
@SiteCode517[String] = 6373083900444931227
@SiteCode518[String] = 6373083829464571372
@SiteCode519[String] = 6373083833327492328
@SiteCode520[String] = 6373083841964286321
@SiteCode521[String] = 6373083844982558950
@SiteCode522[String] = 6373083847585007801
@SiteCode523[String] = 6373083856887939900
@SiteCode524[String] = 6373083859102666584
@SiteCode525[String] = 6373083864919499284
@FDictionaryCode526[String] = OrderState
@FDictionaryCode527[String] = UrgentDegree
@FDictionaryCode528[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode527) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode528) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode526)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId499) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode500,@SiteCode501,@SiteCode502,@SiteCode503,@SiteCode504,@SiteCode505,@SiteCode506,@SiteCode507,@SiteCode508,@SiteCode509,@SiteCode510,@SiteCode511,@SiteCode512,@SiteCode513,@SiteCode514,@SiteCode515,@SiteCode516,@SiteCode517,@SiteCode518,@SiteCode519,@SiteCode520,@SiteCode521,@SiteCode522,@SiteCode523,@SiteCode524,@SiteCode525))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId499[String] = 6372912251695766465
@SiteCode500[String] = 6373083923489249281
@SiteCode501[String] = 6373083925531366080
@SiteCode502[String] = 6373083927883400612
@SiteCode503[String] = 6373083918575368225
@SiteCode504[String] = 6373083920445075162
@SiteCode505[String] = 6373083908618598731
@SiteCode506[String] = 6373083911842783146
@SiteCode507[String] = 6373083913928202424
@SiteCode508[String] = 6373083877551621804
@SiteCode509[String] = 6373083879921857377
@SiteCode510[String] = 6373083881542550067
@SiteCode511[String] = 6373083883689772886
@SiteCode512[String] = 6373083887136270013
@SiteCode513[String] = 6373083889697116488
@SiteCode514[String] = 6373083891969846476
@SiteCode515[String] = 6373083894422586761
@SiteCode516[String] = 6373083897509963358
@SiteCode517[String] = 6373083900444931227
@SiteCode518[String] = 6373083829464571372
@SiteCode519[String] = 6373083833327492328
@SiteCode520[String] = 6373083841964286321
@SiteCode521[String] = 6373083844982558950
@SiteCode522[String] = 6373083847585007801
@SiteCode523[String] = 6373083856887939900
@SiteCode524[String] = 6373083859102666584
@SiteCode525[String] = 6373083864919499284
@FDictionaryCode526[String] = OrderState
@FDictionaryCode527[String] = UrgentDegree
@FDictionaryCode528[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:01:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:02:09
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:02:09
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:02:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type529) AND ([TbOrganizationMap].[ProjectId] = @ProjectId530)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode531,@CompanyCode532,@CompanyCode533,@CompanyCode534,@CompanyCode535,@CompanyCode536,@CompanyCode537,@CompanyCode538)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode539))) 	
Parameters:
@Type529[Int32] = 1
@ProjectId530[String] = 6372912251695766465
@CompanyCode531[String] = 6373083923489249281
@CompanyCode532[String] = 6373083925531366080
@CompanyCode533[String] = 6373083927883400612
@CompanyCode534[String] = 6373083918575368225
@CompanyCode535[String] = 6373083920445075162
@CompanyCode536[String] = 6373083908618598731
@CompanyCode537[String] = 6373083911842783146
@CompanyCode538[String] = 6373083913928202424
@ParentCompanyCode539[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type540) AND ([TbOrganizationMap].[ProjectId] = @ProjectId541)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode542,@CompanyCode543,@CompanyCode544,@CompanyCode545,@CompanyCode546,@CompanyCode547,@CompanyCode548,@CompanyCode549)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode550))) 	
Parameters:
@Type540[Int32] = 2
@ProjectId541[String] = 6372912251695766465
@CompanyCode542[String] = 6373083923489249281
@CompanyCode543[String] = 6373083925531366080
@CompanyCode544[String] = 6373083927883400612
@CompanyCode545[String] = 6373083918575368225
@CompanyCode546[String] = 6373083920445075162
@CompanyCode547[String] = 6373083908618598731
@CompanyCode548[String] = 6373083911842783146
@CompanyCode549[String] = 6373083913928202424
@ParentCompanyCode550[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode578)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId551) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode552,@SiteCode553,@SiteCode554,@SiteCode555,@SiteCode556,@SiteCode557,@SiteCode558,@SiteCode559,@SiteCode560,@SiteCode561,@SiteCode562,@SiteCode563,@SiteCode564,@SiteCode565,@SiteCode566,@SiteCode567,@SiteCode568,@SiteCode569,@SiteCode570,@SiteCode571,@SiteCode572,@SiteCode573,@SiteCode574,@SiteCode575,@SiteCode576,@SiteCode577)))	
Parameters:
@ProjectId551[String] = 6372912251695766465
@SiteCode552[String] = 6373083923489249281
@SiteCode553[String] = 6373083925531366080
@SiteCode554[String] = 6373083927883400612
@SiteCode555[String] = 6373083918575368225
@SiteCode556[String] = 6373083920445075162
@SiteCode557[String] = 6373083908618598731
@SiteCode558[String] = 6373083911842783146
@SiteCode559[String] = 6373083913928202424
@SiteCode560[String] = 6373083877551621804
@SiteCode561[String] = 6373083879921857377
@SiteCode562[String] = 6373083881542550067
@SiteCode563[String] = 6373083883689772886
@SiteCode564[String] = 6373083887136270013
@SiteCode565[String] = 6373083889697116488
@SiteCode566[String] = 6373083891969846476
@SiteCode567[String] = 6373083894422586761
@SiteCode568[String] = 6373083897509963358
@SiteCode569[String] = 6373083900444931227
@SiteCode570[String] = 6373083829464571372
@SiteCode571[String] = 6373083833327492328
@SiteCode572[String] = 6373083841964286321
@SiteCode573[String] = 6373083844982558950
@SiteCode574[String] = 6373083847585007801
@SiteCode575[String] = 6373083856887939900
@SiteCode576[String] = 6373083859102666584
@SiteCode577[String] = 6373083864919499284
@FDictionaryCode578[String] = OrderState
@FDictionaryCode579[String] = UrgentDegree
@FDictionaryCode580[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode579) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode580) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode578)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId551) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode552,@SiteCode553,@SiteCode554,@SiteCode555,@SiteCode556,@SiteCode557,@SiteCode558,@SiteCode559,@SiteCode560,@SiteCode561,@SiteCode562,@SiteCode563,@SiteCode564,@SiteCode565,@SiteCode566,@SiteCode567,@SiteCode568,@SiteCode569,@SiteCode570,@SiteCode571,@SiteCode572,@SiteCode573,@SiteCode574,@SiteCode575,@SiteCode576,@SiteCode577))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId551[String] = 6372912251695766465
@SiteCode552[String] = 6373083923489249281
@SiteCode553[String] = 6373083925531366080
@SiteCode554[String] = 6373083927883400612
@SiteCode555[String] = 6373083918575368225
@SiteCode556[String] = 6373083920445075162
@SiteCode557[String] = 6373083908618598731
@SiteCode558[String] = 6373083911842783146
@SiteCode559[String] = 6373083913928202424
@SiteCode560[String] = 6373083877551621804
@SiteCode561[String] = 6373083879921857377
@SiteCode562[String] = 6373083881542550067
@SiteCode563[String] = 6373083883689772886
@SiteCode564[String] = 6373083887136270013
@SiteCode565[String] = 6373083889697116488
@SiteCode566[String] = 6373083891969846476
@SiteCode567[String] = 6373083894422586761
@SiteCode568[String] = 6373083897509963358
@SiteCode569[String] = 6373083900444931227
@SiteCode570[String] = 6373083829464571372
@SiteCode571[String] = 6373083833327492328
@SiteCode572[String] = 6373083841964286321
@SiteCode573[String] = 6373083844982558950
@SiteCode574[String] = 6373083847585007801
@SiteCode575[String] = 6373083856887939900
@SiteCode576[String] = 6373083859102666584
@SiteCode577[String] = 6373083864919499284
@FDictionaryCode578[String] = OrderState
@FDictionaryCode579[String] = UrgentDegree
@FDictionaryCode580[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:02:10
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type581) AND ([TbOrganizationMap].[ProjectId] = @ProjectId582)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode583,@CompanyCode584,@CompanyCode585,@CompanyCode586,@CompanyCode587,@CompanyCode588,@CompanyCode589,@CompanyCode590)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode591))) 	
Parameters:
@Type581[Int32] = 1
@ProjectId582[String] = 6372912251695766465
@CompanyCode583[String] = 6373083923489249281
@CompanyCode584[String] = 6373083925531366080
@CompanyCode585[String] = 6373083927883400612
@CompanyCode586[String] = 6373083918575368225
@CompanyCode587[String] = 6373083920445075162
@CompanyCode588[String] = 6373083908618598731
@CompanyCode589[String] = 6373083911842783146
@CompanyCode590[String] = 6373083913928202424
@ParentCompanyCode591[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type592) AND ([TbOrganizationMap].[ProjectId] = @ProjectId593)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode594,@CompanyCode595,@CompanyCode596,@CompanyCode597,@CompanyCode598,@CompanyCode599,@CompanyCode600,@CompanyCode601)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode602))) 	
Parameters:
@Type592[Int32] = 2
@ProjectId593[String] = 6372912251695766465
@CompanyCode594[String] = 6373083923489249281
@CompanyCode595[String] = 6373083925531366080
@CompanyCode596[String] = 6373083927883400612
@CompanyCode597[String] = 6373083918575368225
@CompanyCode598[String] = 6373083920445075162
@CompanyCode599[String] = 6373083908618598731
@CompanyCode600[String] = 6373083911842783146
@CompanyCode601[String] = 6373083913928202424
@ParentCompanyCode602[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode630)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId603) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode604,@SiteCode605,@SiteCode606,@SiteCode607,@SiteCode608,@SiteCode609,@SiteCode610,@SiteCode611,@SiteCode612,@SiteCode613,@SiteCode614,@SiteCode615,@SiteCode616,@SiteCode617,@SiteCode618,@SiteCode619,@SiteCode620,@SiteCode621,@SiteCode622,@SiteCode623,@SiteCode624,@SiteCode625,@SiteCode626,@SiteCode627,@SiteCode628,@SiteCode629)))	
Parameters:
@ProjectId603[String] = 6372912251695766465
@SiteCode604[String] = 6373083923489249281
@SiteCode605[String] = 6373083925531366080
@SiteCode606[String] = 6373083927883400612
@SiteCode607[String] = 6373083918575368225
@SiteCode608[String] = 6373083920445075162
@SiteCode609[String] = 6373083908618598731
@SiteCode610[String] = 6373083911842783146
@SiteCode611[String] = 6373083913928202424
@SiteCode612[String] = 6373083877551621804
@SiteCode613[String] = 6373083879921857377
@SiteCode614[String] = 6373083881542550067
@SiteCode615[String] = 6373083883689772886
@SiteCode616[String] = 6373083887136270013
@SiteCode617[String] = 6373083889697116488
@SiteCode618[String] = 6373083891969846476
@SiteCode619[String] = 6373083894422586761
@SiteCode620[String] = 6373083897509963358
@SiteCode621[String] = 6373083900444931227
@SiteCode622[String] = 6373083829464571372
@SiteCode623[String] = 6373083833327492328
@SiteCode624[String] = 6373083841964286321
@SiteCode625[String] = 6373083844982558950
@SiteCode626[String] = 6373083847585007801
@SiteCode627[String] = 6373083856887939900
@SiteCode628[String] = 6373083859102666584
@SiteCode629[String] = 6373083864919499284
@FDictionaryCode630[String] = OrderState
@FDictionaryCode631[String] = UrgentDegree
@FDictionaryCode632[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:02:27
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode631) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode632) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode630)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId603) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode604,@SiteCode605,@SiteCode606,@SiteCode607,@SiteCode608,@SiteCode609,@SiteCode610,@SiteCode611,@SiteCode612,@SiteCode613,@SiteCode614,@SiteCode615,@SiteCode616,@SiteCode617,@SiteCode618,@SiteCode619,@SiteCode620,@SiteCode621,@SiteCode622,@SiteCode623,@SiteCode624,@SiteCode625,@SiteCode626,@SiteCode627,@SiteCode628,@SiteCode629))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId603[String] = 6372912251695766465
@SiteCode604[String] = 6373083923489249281
@SiteCode605[String] = 6373083925531366080
@SiteCode606[String] = 6373083927883400612
@SiteCode607[String] = 6373083918575368225
@SiteCode608[String] = 6373083920445075162
@SiteCode609[String] = 6373083908618598731
@SiteCode610[String] = 6373083911842783146
@SiteCode611[String] = 6373083913928202424
@SiteCode612[String] = 6373083877551621804
@SiteCode613[String] = 6373083879921857377
@SiteCode614[String] = 6373083881542550067
@SiteCode615[String] = 6373083883689772886
@SiteCode616[String] = 6373083887136270013
@SiteCode617[String] = 6373083889697116488
@SiteCode618[String] = 6373083891969846476
@SiteCode619[String] = 6373083894422586761
@SiteCode620[String] = 6373083897509963358
@SiteCode621[String] = 6373083900444931227
@SiteCode622[String] = 6373083829464571372
@SiteCode623[String] = 6373083833327492328
@SiteCode624[String] = 6373083841964286321
@SiteCode625[String] = 6373083844982558950
@SiteCode626[String] = 6373083847585007801
@SiteCode627[String] = 6373083856887939900
@SiteCode628[String] = 6373083859102666584
@SiteCode629[String] = 6373083864919499284
@FDictionaryCode630[String] = OrderState
@FDictionaryCode631[String] = UrgentDegree
@FDictionaryCode632[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:02:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:02:28
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:02:28
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:02:28
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:03:33
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:03:33
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:03:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type633) AND ([TbOrganizationMap].[ProjectId] = @ProjectId634)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode635,@CompanyCode636,@CompanyCode637,@CompanyCode638,@CompanyCode639,@CompanyCode640,@CompanyCode641,@CompanyCode642)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode643))) 	
Parameters:
@Type633[Int32] = 1
@ProjectId634[String] = 6372912251695766465
@CompanyCode635[String] = 6373083923489249281
@CompanyCode636[String] = 6373083925531366080
@CompanyCode637[String] = 6373083927883400612
@CompanyCode638[String] = 6373083918575368225
@CompanyCode639[String] = 6373083920445075162
@CompanyCode640[String] = 6373083908618598731
@CompanyCode641[String] = 6373083911842783146
@CompanyCode642[String] = 6373083913928202424
@ParentCompanyCode643[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type644) AND ([TbOrganizationMap].[ProjectId] = @ProjectId645)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode646,@CompanyCode647,@CompanyCode648,@CompanyCode649,@CompanyCode650,@CompanyCode651,@CompanyCode652,@CompanyCode653)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode654))) 	
Parameters:
@Type644[Int32] = 2
@ProjectId645[String] = 6372912251695766465
@CompanyCode646[String] = 6373083923489249281
@CompanyCode647[String] = 6373083925531366080
@CompanyCode648[String] = 6373083927883400612
@CompanyCode649[String] = 6373083918575368225
@CompanyCode650[String] = 6373083920445075162
@CompanyCode651[String] = 6373083908618598731
@CompanyCode652[String] = 6373083911842783146
@CompanyCode653[String] = 6373083913928202424
@ParentCompanyCode654[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode682)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId655) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode656,@SiteCode657,@SiteCode658,@SiteCode659,@SiteCode660,@SiteCode661,@SiteCode662,@SiteCode663,@SiteCode664,@SiteCode665,@SiteCode666,@SiteCode667,@SiteCode668,@SiteCode669,@SiteCode670,@SiteCode671,@SiteCode672,@SiteCode673,@SiteCode674,@SiteCode675,@SiteCode676,@SiteCode677,@SiteCode678,@SiteCode679,@SiteCode680,@SiteCode681)))	
Parameters:
@ProjectId655[String] = 6372912251695766465
@SiteCode656[String] = 6373083923489249281
@SiteCode657[String] = 6373083925531366080
@SiteCode658[String] = 6373083927883400612
@SiteCode659[String] = 6373083918575368225
@SiteCode660[String] = 6373083920445075162
@SiteCode661[String] = 6373083908618598731
@SiteCode662[String] = 6373083911842783146
@SiteCode663[String] = 6373083913928202424
@SiteCode664[String] = 6373083877551621804
@SiteCode665[String] = 6373083879921857377
@SiteCode666[String] = 6373083881542550067
@SiteCode667[String] = 6373083883689772886
@SiteCode668[String] = 6373083887136270013
@SiteCode669[String] = 6373083889697116488
@SiteCode670[String] = 6373083891969846476
@SiteCode671[String] = 6373083894422586761
@SiteCode672[String] = 6373083897509963358
@SiteCode673[String] = 6373083900444931227
@SiteCode674[String] = 6373083829464571372
@SiteCode675[String] = 6373083833327492328
@SiteCode676[String] = 6373083841964286321
@SiteCode677[String] = 6373083844982558950
@SiteCode678[String] = 6373083847585007801
@SiteCode679[String] = 6373083856887939900
@SiteCode680[String] = 6373083859102666584
@SiteCode681[String] = 6373083864919499284
@FDictionaryCode682[String] = OrderState
@FDictionaryCode683[String] = UrgentDegree
@FDictionaryCode684[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode683) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode684) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode682)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId655) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode656,@SiteCode657,@SiteCode658,@SiteCode659,@SiteCode660,@SiteCode661,@SiteCode662,@SiteCode663,@SiteCode664,@SiteCode665,@SiteCode666,@SiteCode667,@SiteCode668,@SiteCode669,@SiteCode670,@SiteCode671,@SiteCode672,@SiteCode673,@SiteCode674,@SiteCode675,@SiteCode676,@SiteCode677,@SiteCode678,@SiteCode679,@SiteCode680,@SiteCode681))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId655[String] = 6372912251695766465
@SiteCode656[String] = 6373083923489249281
@SiteCode657[String] = 6373083925531366080
@SiteCode658[String] = 6373083927883400612
@SiteCode659[String] = 6373083918575368225
@SiteCode660[String] = 6373083920445075162
@SiteCode661[String] = 6373083908618598731
@SiteCode662[String] = 6373083911842783146
@SiteCode663[String] = 6373083913928202424
@SiteCode664[String] = 6373083877551621804
@SiteCode665[String] = 6373083879921857377
@SiteCode666[String] = 6373083881542550067
@SiteCode667[String] = 6373083883689772886
@SiteCode668[String] = 6373083887136270013
@SiteCode669[String] = 6373083889697116488
@SiteCode670[String] = 6373083891969846476
@SiteCode671[String] = 6373083894422586761
@SiteCode672[String] = 6373083897509963358
@SiteCode673[String] = 6373083900444931227
@SiteCode674[String] = 6373083829464571372
@SiteCode675[String] = 6373083833327492328
@SiteCode676[String] = 6373083841964286321
@SiteCode677[String] = 6373083844982558950
@SiteCode678[String] = 6373083847585007801
@SiteCode679[String] = 6373083856887939900
@SiteCode680[String] = 6373083859102666584
@SiteCode681[String] = 6373083864919499284
@FDictionaryCode682[String] = OrderState
@FDictionaryCode683[String] = UrgentDegree
@FDictionaryCode684[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:03:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:06:34
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:07:14
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:07:14
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:07:14
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:07:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:07:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type685) AND ([TbOrganizationMap].[ProjectId] = @ProjectId686)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode687,@CompanyCode688,@CompanyCode689,@CompanyCode690,@CompanyCode691,@CompanyCode692,@CompanyCode693,@CompanyCode694)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode695))) 	
Parameters:
@Type685[Int32] = 1
@ProjectId686[String] = 6372912251695766465
@CompanyCode687[String] = 6373083923489249281
@CompanyCode688[String] = 6373083925531366080
@CompanyCode689[String] = 6373083927883400612
@CompanyCode690[String] = 6373083918575368225
@CompanyCode691[String] = 6373083920445075162
@CompanyCode692[String] = 6373083908618598731
@CompanyCode693[String] = 6373083911842783146
@CompanyCode694[String] = 6373083913928202424
@ParentCompanyCode695[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:07:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:07:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type696) AND ([TbOrganizationMap].[ProjectId] = @ProjectId697)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode698,@CompanyCode699,@CompanyCode700,@CompanyCode701,@CompanyCode702,@CompanyCode703,@CompanyCode704,@CompanyCode705)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode706))) 	
Parameters:
@Type696[Int32] = 2
@ProjectId697[String] = 6372912251695766465
@CompanyCode698[String] = 6373083923489249281
@CompanyCode699[String] = 6373083925531366080
@CompanyCode700[String] = 6373083927883400612
@CompanyCode701[String] = 6373083918575368225
@CompanyCode702[String] = 6373083920445075162
@CompanyCode703[String] = 6373083908618598731
@CompanyCode704[String] = 6373083911842783146
@CompanyCode705[String] = 6373083913928202424
@ParentCompanyCode706[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:07:15
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:07:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:07:15
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode734)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId707) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode708,@SiteCode709,@SiteCode710,@SiteCode711,@SiteCode712,@SiteCode713,@SiteCode714,@SiteCode715,@SiteCode716,@SiteCode717,@SiteCode718,@SiteCode719,@SiteCode720,@SiteCode721,@SiteCode722,@SiteCode723,@SiteCode724,@SiteCode725,@SiteCode726,@SiteCode727,@SiteCode728,@SiteCode729,@SiteCode730,@SiteCode731,@SiteCode732,@SiteCode733)))	
Parameters:
@ProjectId707[String] = 6372912251695766465
@SiteCode708[String] = 6373083923489249281
@SiteCode709[String] = 6373083925531366080
@SiteCode710[String] = 6373083927883400612
@SiteCode711[String] = 6373083918575368225
@SiteCode712[String] = 6373083920445075162
@SiteCode713[String] = 6373083908618598731
@SiteCode714[String] = 6373083911842783146
@SiteCode715[String] = 6373083913928202424
@SiteCode716[String] = 6373083877551621804
@SiteCode717[String] = 6373083879921857377
@SiteCode718[String] = 6373083881542550067
@SiteCode719[String] = 6373083883689772886
@SiteCode720[String] = 6373083887136270013
@SiteCode721[String] = 6373083889697116488
@SiteCode722[String] = 6373083891969846476
@SiteCode723[String] = 6373083894422586761
@SiteCode724[String] = 6373083897509963358
@SiteCode725[String] = 6373083900444931227
@SiteCode726[String] = 6373083829464571372
@SiteCode727[String] = 6373083833327492328
@SiteCode728[String] = 6373083841964286321
@SiteCode729[String] = 6373083844982558950
@SiteCode730[String] = 6373083847585007801
@SiteCode731[String] = 6373083856887939900
@SiteCode732[String] = 6373083859102666584
@SiteCode733[String] = 6373083864919499284
@FDictionaryCode734[String] = OrderState
@FDictionaryCode735[String] = UrgentDegree
@FDictionaryCode736[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:07:15
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode735) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode736) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode734)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId707) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode708,@SiteCode709,@SiteCode710,@SiteCode711,@SiteCode712,@SiteCode713,@SiteCode714,@SiteCode715,@SiteCode716,@SiteCode717,@SiteCode718,@SiteCode719,@SiteCode720,@SiteCode721,@SiteCode722,@SiteCode723,@SiteCode724,@SiteCode725,@SiteCode726,@SiteCode727,@SiteCode728,@SiteCode729,@SiteCode730,@SiteCode731,@SiteCode732,@SiteCode733))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId707[String] = 6372912251695766465
@SiteCode708[String] = 6373083923489249281
@SiteCode709[String] = 6373083925531366080
@SiteCode710[String] = 6373083927883400612
@SiteCode711[String] = 6373083918575368225
@SiteCode712[String] = 6373083920445075162
@SiteCode713[String] = 6373083908618598731
@SiteCode714[String] = 6373083911842783146
@SiteCode715[String] = 6373083913928202424
@SiteCode716[String] = 6373083877551621804
@SiteCode717[String] = 6373083879921857377
@SiteCode718[String] = 6373083881542550067
@SiteCode719[String] = 6373083883689772886
@SiteCode720[String] = 6373083887136270013
@SiteCode721[String] = 6373083889697116488
@SiteCode722[String] = 6373083891969846476
@SiteCode723[String] = 6373083894422586761
@SiteCode724[String] = 6373083897509963358
@SiteCode725[String] = 6373083900444931227
@SiteCode726[String] = 6373083829464571372
@SiteCode727[String] = 6373083833327492328
@SiteCode728[String] = 6373083841964286321
@SiteCode729[String] = 6373083844982558950
@SiteCode730[String] = 6373083847585007801
@SiteCode731[String] = 6373083856887939900
@SiteCode732[String] = 6373083859102666584
@SiteCode733[String] = 6373083864919499284
@FDictionaryCode734[String] = OrderState
@FDictionaryCode735[String] = UrgentDegree
@FDictionaryCode736[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:07:15
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:07:16
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:07:16
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:07:16
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:08:08
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:08:08
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:08:08
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:08:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:08:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type737) AND ([TbOrganizationMap].[ProjectId] = @ProjectId738)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode739,@CompanyCode740,@CompanyCode741,@CompanyCode742,@CompanyCode743,@CompanyCode744,@CompanyCode745,@CompanyCode746)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode747))) 	
Parameters:
@Type737[Int32] = 1
@ProjectId738[String] = 6372912251695766465
@CompanyCode739[String] = 6373083923489249281
@CompanyCode740[String] = 6373083925531366080
@CompanyCode741[String] = 6373083927883400612
@CompanyCode742[String] = 6373083918575368225
@CompanyCode743[String] = 6373083920445075162
@CompanyCode744[String] = 6373083908618598731
@CompanyCode745[String] = 6373083911842783146
@CompanyCode746[String] = 6373083913928202424
@ParentCompanyCode747[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:08:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:08:09
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type748) AND ([TbOrganizationMap].[ProjectId] = @ProjectId749)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode750,@CompanyCode751,@CompanyCode752,@CompanyCode753,@CompanyCode754,@CompanyCode755,@CompanyCode756,@CompanyCode757)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode758))) 	
Parameters:
@Type748[Int32] = 2
@ProjectId749[String] = 6372912251695766465
@CompanyCode750[String] = 6373083923489249281
@CompanyCode751[String] = 6373083925531366080
@CompanyCode752[String] = 6373083927883400612
@CompanyCode753[String] = 6373083918575368225
@CompanyCode754[String] = 6373083920445075162
@CompanyCode755[String] = 6373083908618598731
@CompanyCode756[String] = 6373083911842783146
@CompanyCode757[String] = 6373083913928202424
@ParentCompanyCode758[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:08:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:08:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:08:09
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode786)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId759) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode760,@SiteCode761,@SiteCode762,@SiteCode763,@SiteCode764,@SiteCode765,@SiteCode766,@SiteCode767,@SiteCode768,@SiteCode769,@SiteCode770,@SiteCode771,@SiteCode772,@SiteCode773,@SiteCode774,@SiteCode775,@SiteCode776,@SiteCode777,@SiteCode778,@SiteCode779,@SiteCode780,@SiteCode781,@SiteCode782,@SiteCode783,@SiteCode784,@SiteCode785)))	
Parameters:
@ProjectId759[String] = 6372912251695766465
@SiteCode760[String] = 6373083923489249281
@SiteCode761[String] = 6373083925531366080
@SiteCode762[String] = 6373083927883400612
@SiteCode763[String] = 6373083918575368225
@SiteCode764[String] = 6373083920445075162
@SiteCode765[String] = 6373083908618598731
@SiteCode766[String] = 6373083911842783146
@SiteCode767[String] = 6373083913928202424
@SiteCode768[String] = 6373083877551621804
@SiteCode769[String] = 6373083879921857377
@SiteCode770[String] = 6373083881542550067
@SiteCode771[String] = 6373083883689772886
@SiteCode772[String] = 6373083887136270013
@SiteCode773[String] = 6373083889697116488
@SiteCode774[String] = 6373083891969846476
@SiteCode775[String] = 6373083894422586761
@SiteCode776[String] = 6373083897509963358
@SiteCode777[String] = 6373083900444931227
@SiteCode778[String] = 6373083829464571372
@SiteCode779[String] = 6373083833327492328
@SiteCode780[String] = 6373083841964286321
@SiteCode781[String] = 6373083844982558950
@SiteCode782[String] = 6373083847585007801
@SiteCode783[String] = 6373083856887939900
@SiteCode784[String] = 6373083859102666584
@SiteCode785[String] = 6373083864919499284
@FDictionaryCode786[String] = OrderState
@FDictionaryCode787[String] = UrgentDegree
@FDictionaryCode788[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:08:09
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode787) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode788) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode786)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId759) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode760,@SiteCode761,@SiteCode762,@SiteCode763,@SiteCode764,@SiteCode765,@SiteCode766,@SiteCode767,@SiteCode768,@SiteCode769,@SiteCode770,@SiteCode771,@SiteCode772,@SiteCode773,@SiteCode774,@SiteCode775,@SiteCode776,@SiteCode777,@SiteCode778,@SiteCode779,@SiteCode780,@SiteCode781,@SiteCode782,@SiteCode783,@SiteCode784,@SiteCode785))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId759[String] = 6372912251695766465
@SiteCode760[String] = 6373083923489249281
@SiteCode761[String] = 6373083925531366080
@SiteCode762[String] = 6373083927883400612
@SiteCode763[String] = 6373083918575368225
@SiteCode764[String] = 6373083920445075162
@SiteCode765[String] = 6373083908618598731
@SiteCode766[String] = 6373083911842783146
@SiteCode767[String] = 6373083913928202424
@SiteCode768[String] = 6373083877551621804
@SiteCode769[String] = 6373083879921857377
@SiteCode770[String] = 6373083881542550067
@SiteCode771[String] = 6373083883689772886
@SiteCode772[String] = 6373083887136270013
@SiteCode773[String] = 6373083889697116488
@SiteCode774[String] = 6373083891969846476
@SiteCode775[String] = 6373083894422586761
@SiteCode776[String] = 6373083897509963358
@SiteCode777[String] = 6373083900444931227
@SiteCode778[String] = 6373083829464571372
@SiteCode779[String] = 6373083833327492328
@SiteCode780[String] = 6373083841964286321
@SiteCode781[String] = 6373083844982558950
@SiteCode782[String] = 6373083847585007801
@SiteCode783[String] = 6373083856887939900
@SiteCode784[String] = 6373083859102666584
@SiteCode785[String] = 6373083864919499284
@FDictionaryCode786[String] = OrderState
@FDictionaryCode787[String] = UrgentDegree
@FDictionaryCode788[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:08:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:08:09
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:08:09
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:08:09
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type789) AND ([TbOrganizationMap].[ProjectId] = @ProjectId790)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode791,@CompanyCode792,@CompanyCode793,@CompanyCode794,@CompanyCode795,@CompanyCode796,@CompanyCode797,@CompanyCode798)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode799))) 	
Parameters:
@Type789[Int32] = 1
@ProjectId790[String] = 6372912251695766465
@CompanyCode791[String] = 6373083923489249281
@CompanyCode792[String] = 6373083925531366080
@CompanyCode793[String] = 6373083927883400612
@CompanyCode794[String] = 6373083918575368225
@CompanyCode795[String] = 6373083920445075162
@CompanyCode796[String] = 6373083908618598731
@CompanyCode797[String] = 6373083911842783146
@CompanyCode798[String] = 6373083913928202424
@ParentCompanyCode799[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type800) AND ([TbOrganizationMap].[ProjectId] = @ProjectId801)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode802,@CompanyCode803,@CompanyCode804,@CompanyCode805,@CompanyCode806,@CompanyCode807,@CompanyCode808,@CompanyCode809)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode810))) 	
Parameters:
@Type800[Int32] = 2
@ProjectId801[String] = 6372912251695766465
@CompanyCode802[String] = 6373083923489249281
@CompanyCode803[String] = 6373083925531366080
@CompanyCode804[String] = 6373083927883400612
@CompanyCode805[String] = 6373083918575368225
@CompanyCode806[String] = 6373083920445075162
@CompanyCode807[String] = 6373083908618598731
@CompanyCode808[String] = 6373083911842783146
@CompanyCode809[String] = 6373083913928202424
@ParentCompanyCode810[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode838)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId811) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode812,@SiteCode813,@SiteCode814,@SiteCode815,@SiteCode816,@SiteCode817,@SiteCode818,@SiteCode819,@SiteCode820,@SiteCode821,@SiteCode822,@SiteCode823,@SiteCode824,@SiteCode825,@SiteCode826,@SiteCode827,@SiteCode828,@SiteCode829,@SiteCode830,@SiteCode831,@SiteCode832,@SiteCode833,@SiteCode834,@SiteCode835,@SiteCode836,@SiteCode837)))	
Parameters:
@ProjectId811[String] = 6372912251695766465
@SiteCode812[String] = 6373083923489249281
@SiteCode813[String] = 6373083925531366080
@SiteCode814[String] = 6373083927883400612
@SiteCode815[String] = 6373083918575368225
@SiteCode816[String] = 6373083920445075162
@SiteCode817[String] = 6373083908618598731
@SiteCode818[String] = 6373083911842783146
@SiteCode819[String] = 6373083913928202424
@SiteCode820[String] = 6373083877551621804
@SiteCode821[String] = 6373083879921857377
@SiteCode822[String] = 6373083881542550067
@SiteCode823[String] = 6373083883689772886
@SiteCode824[String] = 6373083887136270013
@SiteCode825[String] = 6373083889697116488
@SiteCode826[String] = 6373083891969846476
@SiteCode827[String] = 6373083894422586761
@SiteCode828[String] = 6373083897509963358
@SiteCode829[String] = 6373083900444931227
@SiteCode830[String] = 6373083829464571372
@SiteCode831[String] = 6373083833327492328
@SiteCode832[String] = 6373083841964286321
@SiteCode833[String] = 6373083844982558950
@SiteCode834[String] = 6373083847585007801
@SiteCode835[String] = 6373083856887939900
@SiteCode836[String] = 6373083859102666584
@SiteCode837[String] = 6373083864919499284
@FDictionaryCode838[String] = OrderState
@FDictionaryCode839[String] = UrgentDegree
@FDictionaryCode840[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:08:27
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode839) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode840) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode838)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId811) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode812,@SiteCode813,@SiteCode814,@SiteCode815,@SiteCode816,@SiteCode817,@SiteCode818,@SiteCode819,@SiteCode820,@SiteCode821,@SiteCode822,@SiteCode823,@SiteCode824,@SiteCode825,@SiteCode826,@SiteCode827,@SiteCode828,@SiteCode829,@SiteCode830,@SiteCode831,@SiteCode832,@SiteCode833,@SiteCode834,@SiteCode835,@SiteCode836,@SiteCode837))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId811[String] = 6372912251695766465
@SiteCode812[String] = 6373083923489249281
@SiteCode813[String] = 6373083925531366080
@SiteCode814[String] = 6373083927883400612
@SiteCode815[String] = 6373083918575368225
@SiteCode816[String] = 6373083920445075162
@SiteCode817[String] = 6373083908618598731
@SiteCode818[String] = 6373083911842783146
@SiteCode819[String] = 6373083913928202424
@SiteCode820[String] = 6373083877551621804
@SiteCode821[String] = 6373083879921857377
@SiteCode822[String] = 6373083881542550067
@SiteCode823[String] = 6373083883689772886
@SiteCode824[String] = 6373083887136270013
@SiteCode825[String] = 6373083889697116488
@SiteCode826[String] = 6373083891969846476
@SiteCode827[String] = 6373083894422586761
@SiteCode828[String] = 6373083897509963358
@SiteCode829[String] = 6373083900444931227
@SiteCode830[String] = 6373083829464571372
@SiteCode831[String] = 6373083833327492328
@SiteCode832[String] = 6373083841964286321
@SiteCode833[String] = 6373083844982558950
@SiteCode834[String] = 6373083847585007801
@SiteCode835[String] = 6373083856887939900
@SiteCode836[String] = 6373083859102666584
@SiteCode837[String] = 6373083864919499284
@FDictionaryCode838[String] = OrderState
@FDictionaryCode839[String] = UrgentDegree
@FDictionaryCode840[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:08:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:08:28
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:08:28
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:08:28
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:08:49
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:08:49
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:08:49
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:08:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:08:50
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type841) AND ([TbOrganizationMap].[ProjectId] = @ProjectId842)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode843,@CompanyCode844,@CompanyCode845,@CompanyCode846,@CompanyCode847,@CompanyCode848,@CompanyCode849,@CompanyCode850)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode851))) 	
Parameters:
@Type841[Int32] = 1
@ProjectId842[String] = 6372912251695766465
@CompanyCode843[String] = 6373083923489249281
@CompanyCode844[String] = 6373083925531366080
@CompanyCode845[String] = 6373083927883400612
@CompanyCode846[String] = 6373083918575368225
@CompanyCode847[String] = 6373083920445075162
@CompanyCode848[String] = 6373083908618598731
@CompanyCode849[String] = 6373083911842783146
@CompanyCode850[String] = 6373083913928202424
@ParentCompanyCode851[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:08:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:08:50
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type852) AND ([TbOrganizationMap].[ProjectId] = @ProjectId853)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode854,@CompanyCode855,@CompanyCode856,@CompanyCode857,@CompanyCode858,@CompanyCode859,@CompanyCode860,@CompanyCode861)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode862))) 	
Parameters:
@Type852[Int32] = 2
@ProjectId853[String] = 6372912251695766465
@CompanyCode854[String] = 6373083923489249281
@CompanyCode855[String] = 6373083925531366080
@CompanyCode856[String] = 6373083927883400612
@CompanyCode857[String] = 6373083918575368225
@CompanyCode858[String] = 6373083920445075162
@CompanyCode859[String] = 6373083908618598731
@CompanyCode860[String] = 6373083911842783146
@CompanyCode861[String] = 6373083913928202424
@ParentCompanyCode862[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:08:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:08:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:08:50
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode890)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId863) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode864,@SiteCode865,@SiteCode866,@SiteCode867,@SiteCode868,@SiteCode869,@SiteCode870,@SiteCode871,@SiteCode872,@SiteCode873,@SiteCode874,@SiteCode875,@SiteCode876,@SiteCode877,@SiteCode878,@SiteCode879,@SiteCode880,@SiteCode881,@SiteCode882,@SiteCode883,@SiteCode884,@SiteCode885,@SiteCode886,@SiteCode887,@SiteCode888,@SiteCode889)))	
Parameters:
@ProjectId863[String] = 6372912251695766465
@SiteCode864[String] = 6373083923489249281
@SiteCode865[String] = 6373083925531366080
@SiteCode866[String] = 6373083927883400612
@SiteCode867[String] = 6373083918575368225
@SiteCode868[String] = 6373083920445075162
@SiteCode869[String] = 6373083908618598731
@SiteCode870[String] = 6373083911842783146
@SiteCode871[String] = 6373083913928202424
@SiteCode872[String] = 6373083877551621804
@SiteCode873[String] = 6373083879921857377
@SiteCode874[String] = 6373083881542550067
@SiteCode875[String] = 6373083883689772886
@SiteCode876[String] = 6373083887136270013
@SiteCode877[String] = 6373083889697116488
@SiteCode878[String] = 6373083891969846476
@SiteCode879[String] = 6373083894422586761
@SiteCode880[String] = 6373083897509963358
@SiteCode881[String] = 6373083900444931227
@SiteCode882[String] = 6373083829464571372
@SiteCode883[String] = 6373083833327492328
@SiteCode884[String] = 6373083841964286321
@SiteCode885[String] = 6373083844982558950
@SiteCode886[String] = 6373083847585007801
@SiteCode887[String] = 6373083856887939900
@SiteCode888[String] = 6373083859102666584
@SiteCode889[String] = 6373083864919499284
@FDictionaryCode890[String] = OrderState
@FDictionaryCode891[String] = UrgentDegree
@FDictionaryCode892[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:08:50
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode891) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode892) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode890)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId863) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode864,@SiteCode865,@SiteCode866,@SiteCode867,@SiteCode868,@SiteCode869,@SiteCode870,@SiteCode871,@SiteCode872,@SiteCode873,@SiteCode874,@SiteCode875,@SiteCode876,@SiteCode877,@SiteCode878,@SiteCode879,@SiteCode880,@SiteCode881,@SiteCode882,@SiteCode883,@SiteCode884,@SiteCode885,@SiteCode886,@SiteCode887,@SiteCode888,@SiteCode889))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId863[String] = 6372912251695766465
@SiteCode864[String] = 6373083923489249281
@SiteCode865[String] = 6373083925531366080
@SiteCode866[String] = 6373083927883400612
@SiteCode867[String] = 6373083918575368225
@SiteCode868[String] = 6373083920445075162
@SiteCode869[String] = 6373083908618598731
@SiteCode870[String] = 6373083911842783146
@SiteCode871[String] = 6373083913928202424
@SiteCode872[String] = 6373083877551621804
@SiteCode873[String] = 6373083879921857377
@SiteCode874[String] = 6373083881542550067
@SiteCode875[String] = 6373083883689772886
@SiteCode876[String] = 6373083887136270013
@SiteCode877[String] = 6373083889697116488
@SiteCode878[String] = 6373083891969846476
@SiteCode879[String] = 6373083894422586761
@SiteCode880[String] = 6373083897509963358
@SiteCode881[String] = 6373083900444931227
@SiteCode882[String] = 6373083829464571372
@SiteCode883[String] = 6373083833327492328
@SiteCode884[String] = 6373083841964286321
@SiteCode885[String] = 6373083844982558950
@SiteCode886[String] = 6373083847585007801
@SiteCode887[String] = 6373083856887939900
@SiteCode888[String] = 6373083859102666584
@SiteCode889[String] = 6373083864919499284
@FDictionaryCode890[String] = OrderState
@FDictionaryCode891[String] = UrgentDegree
@FDictionaryCode892[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:08:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:08:51
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:08:51
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:08:51
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:09:12
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:09:12
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:09:12
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type893) AND ([TbOrganizationMap].[ProjectId] = @ProjectId894)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode895,@CompanyCode896,@CompanyCode897,@CompanyCode898,@CompanyCode899,@CompanyCode900,@CompanyCode901,@CompanyCode902)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode903))) 	
Parameters:
@Type893[Int32] = 1
@ProjectId894[String] = 6372912251695766465
@CompanyCode895[String] = 6373083923489249281
@CompanyCode896[String] = 6373083925531366080
@CompanyCode897[String] = 6373083927883400612
@CompanyCode898[String] = 6373083918575368225
@CompanyCode899[String] = 6373083920445075162
@CompanyCode900[String] = 6373083908618598731
@CompanyCode901[String] = 6373083911842783146
@CompanyCode902[String] = 6373083913928202424
@ParentCompanyCode903[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type904) AND ([TbOrganizationMap].[ProjectId] = @ProjectId905)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode906,@CompanyCode907,@CompanyCode908,@CompanyCode909,@CompanyCode910,@CompanyCode911,@CompanyCode912,@CompanyCode913)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode914))) 	
Parameters:
@Type904[Int32] = 2
@ProjectId905[String] = 6372912251695766465
@CompanyCode906[String] = 6373083923489249281
@CompanyCode907[String] = 6373083925531366080
@CompanyCode908[String] = 6373083927883400612
@CompanyCode909[String] = 6373083918575368225
@CompanyCode910[String] = 6373083920445075162
@CompanyCode911[String] = 6373083908618598731
@CompanyCode912[String] = 6373083911842783146
@CompanyCode913[String] = 6373083913928202424
@ParentCompanyCode914[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode942)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId915) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode916,@SiteCode917,@SiteCode918,@SiteCode919,@SiteCode920,@SiteCode921,@SiteCode922,@SiteCode923,@SiteCode924,@SiteCode925,@SiteCode926,@SiteCode927,@SiteCode928,@SiteCode929,@SiteCode930,@SiteCode931,@SiteCode932,@SiteCode933,@SiteCode934,@SiteCode935,@SiteCode936,@SiteCode937,@SiteCode938,@SiteCode939,@SiteCode940,@SiteCode941)))	
Parameters:
@ProjectId915[String] = 6372912251695766465
@SiteCode916[String] = 6373083923489249281
@SiteCode917[String] = 6373083925531366080
@SiteCode918[String] = 6373083927883400612
@SiteCode919[String] = 6373083918575368225
@SiteCode920[String] = 6373083920445075162
@SiteCode921[String] = 6373083908618598731
@SiteCode922[String] = 6373083911842783146
@SiteCode923[String] = 6373083913928202424
@SiteCode924[String] = 6373083877551621804
@SiteCode925[String] = 6373083879921857377
@SiteCode926[String] = 6373083881542550067
@SiteCode927[String] = 6373083883689772886
@SiteCode928[String] = 6373083887136270013
@SiteCode929[String] = 6373083889697116488
@SiteCode930[String] = 6373083891969846476
@SiteCode931[String] = 6373083894422586761
@SiteCode932[String] = 6373083897509963358
@SiteCode933[String] = 6373083900444931227
@SiteCode934[String] = 6373083829464571372
@SiteCode935[String] = 6373083833327492328
@SiteCode936[String] = 6373083841964286321
@SiteCode937[String] = 6373083844982558950
@SiteCode938[String] = 6373083847585007801
@SiteCode939[String] = 6373083856887939900
@SiteCode940[String] = 6373083859102666584
@SiteCode941[String] = 6373083864919499284
@FDictionaryCode942[String] = OrderState
@FDictionaryCode943[String] = UrgentDegree
@FDictionaryCode944[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode943) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode944) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode942)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId915) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode916,@SiteCode917,@SiteCode918,@SiteCode919,@SiteCode920,@SiteCode921,@SiteCode922,@SiteCode923,@SiteCode924,@SiteCode925,@SiteCode926,@SiteCode927,@SiteCode928,@SiteCode929,@SiteCode930,@SiteCode931,@SiteCode932,@SiteCode933,@SiteCode934,@SiteCode935,@SiteCode936,@SiteCode937,@SiteCode938,@SiteCode939,@SiteCode940,@SiteCode941))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId915[String] = 6372912251695766465
@SiteCode916[String] = 6373083923489249281
@SiteCode917[String] = 6373083925531366080
@SiteCode918[String] = 6373083927883400612
@SiteCode919[String] = 6373083918575368225
@SiteCode920[String] = 6373083920445075162
@SiteCode921[String] = 6373083908618598731
@SiteCode922[String] = 6373083911842783146
@SiteCode923[String] = 6373083913928202424
@SiteCode924[String] = 6373083877551621804
@SiteCode925[String] = 6373083879921857377
@SiteCode926[String] = 6373083881542550067
@SiteCode927[String] = 6373083883689772886
@SiteCode928[String] = 6373083887136270013
@SiteCode929[String] = 6373083889697116488
@SiteCode930[String] = 6373083891969846476
@SiteCode931[String] = 6373083894422586761
@SiteCode932[String] = 6373083897509963358
@SiteCode933[String] = 6373083900444931227
@SiteCode934[String] = 6373083829464571372
@SiteCode935[String] = 6373083833327492328
@SiteCode936[String] = 6373083841964286321
@SiteCode937[String] = 6373083844982558950
@SiteCode938[String] = 6373083847585007801
@SiteCode939[String] = 6373083856887939900
@SiteCode940[String] = 6373083859102666584
@SiteCode941[String] = 6373083864919499284
@FDictionaryCode942[String] = OrderState
@FDictionaryCode943[String] = UrgentDegree
@FDictionaryCode944[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:09:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type945) AND ([TbOrganizationMap].[ProjectId] = @ProjectId946)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode947,@CompanyCode948,@CompanyCode949,@CompanyCode950,@CompanyCode951,@CompanyCode952,@CompanyCode953,@CompanyCode954)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode955))) 	
Parameters:
@Type945[Int32] = 1
@ProjectId946[String] = 6372912251695766465
@CompanyCode947[String] = 6373083923489249281
@CompanyCode948[String] = 6373083925531366080
@CompanyCode949[String] = 6373083927883400612
@CompanyCode950[String] = 6373083918575368225
@CompanyCode951[String] = 6373083920445075162
@CompanyCode952[String] = 6373083908618598731
@CompanyCode953[String] = 6373083911842783146
@CompanyCode954[String] = 6373083913928202424
@ParentCompanyCode955[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type956) AND ([TbOrganizationMap].[ProjectId] = @ProjectId957)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode958,@CompanyCode959,@CompanyCode960,@CompanyCode961,@CompanyCode962,@CompanyCode963,@CompanyCode964,@CompanyCode965)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode966))) 	
Parameters:
@Type956[Int32] = 2
@ProjectId957[String] = 6372912251695766465
@CompanyCode958[String] = 6373083923489249281
@CompanyCode959[String] = 6373083925531366080
@CompanyCode960[String] = 6373083927883400612
@CompanyCode961[String] = 6373083918575368225
@CompanyCode962[String] = 6373083920445075162
@CompanyCode963[String] = 6373083908618598731
@CompanyCode964[String] = 6373083911842783146
@CompanyCode965[String] = 6373083913928202424
@ParentCompanyCode966[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode994)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId967) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode968,@SiteCode969,@SiteCode970,@SiteCode971,@SiteCode972,@SiteCode973,@SiteCode974,@SiteCode975,@SiteCode976,@SiteCode977,@SiteCode978,@SiteCode979,@SiteCode980,@SiteCode981,@SiteCode982,@SiteCode983,@SiteCode984,@SiteCode985,@SiteCode986,@SiteCode987,@SiteCode988,@SiteCode989,@SiteCode990,@SiteCode991,@SiteCode992,@SiteCode993)))	
Parameters:
@ProjectId967[String] = 6372912251695766465
@SiteCode968[String] = 6373083923489249281
@SiteCode969[String] = 6373083925531366080
@SiteCode970[String] = 6373083927883400612
@SiteCode971[String] = 6373083918575368225
@SiteCode972[String] = 6373083920445075162
@SiteCode973[String] = 6373083908618598731
@SiteCode974[String] = 6373083911842783146
@SiteCode975[String] = 6373083913928202424
@SiteCode976[String] = 6373083877551621804
@SiteCode977[String] = 6373083879921857377
@SiteCode978[String] = 6373083881542550067
@SiteCode979[String] = 6373083883689772886
@SiteCode980[String] = 6373083887136270013
@SiteCode981[String] = 6373083889697116488
@SiteCode982[String] = 6373083891969846476
@SiteCode983[String] = 6373083894422586761
@SiteCode984[String] = 6373083897509963358
@SiteCode985[String] = 6373083900444931227
@SiteCode986[String] = 6373083829464571372
@SiteCode987[String] = 6373083833327492328
@SiteCode988[String] = 6373083841964286321
@SiteCode989[String] = 6373083844982558950
@SiteCode990[String] = 6373083847585007801
@SiteCode991[String] = 6373083856887939900
@SiteCode992[String] = 6373083859102666584
@SiteCode993[String] = 6373083864919499284
@FDictionaryCode994[String] = OrderState
@FDictionaryCode995[String] = UrgentDegree
@FDictionaryCode996[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:09:33
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode995) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode996) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode994)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId967) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode968,@SiteCode969,@SiteCode970,@SiteCode971,@SiteCode972,@SiteCode973,@SiteCode974,@SiteCode975,@SiteCode976,@SiteCode977,@SiteCode978,@SiteCode979,@SiteCode980,@SiteCode981,@SiteCode982,@SiteCode983,@SiteCode984,@SiteCode985,@SiteCode986,@SiteCode987,@SiteCode988,@SiteCode989,@SiteCode990,@SiteCode991,@SiteCode992,@SiteCode993))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId967[String] = 6372912251695766465
@SiteCode968[String] = 6373083923489249281
@SiteCode969[String] = 6373083925531366080
@SiteCode970[String] = 6373083927883400612
@SiteCode971[String] = 6373083918575368225
@SiteCode972[String] = 6373083920445075162
@SiteCode973[String] = 6373083908618598731
@SiteCode974[String] = 6373083911842783146
@SiteCode975[String] = 6373083913928202424
@SiteCode976[String] = 6373083877551621804
@SiteCode977[String] = 6373083879921857377
@SiteCode978[String] = 6373083881542550067
@SiteCode979[String] = 6373083883689772886
@SiteCode980[String] = 6373083887136270013
@SiteCode981[String] = 6373083889697116488
@SiteCode982[String] = 6373083891969846476
@SiteCode983[String] = 6373083894422586761
@SiteCode984[String] = 6373083897509963358
@SiteCode985[String] = 6373083900444931227
@SiteCode986[String] = 6373083829464571372
@SiteCode987[String] = 6373083833327492328
@SiteCode988[String] = 6373083841964286321
@SiteCode989[String] = 6373083844982558950
@SiteCode990[String] = 6373083847585007801
@SiteCode991[String] = 6373083856887939900
@SiteCode992[String] = 6373083859102666584
@SiteCode993[String] = 6373083864919499284
@FDictionaryCode994[String] = OrderState
@FDictionaryCode995[String] = UrgentDegree
@FDictionaryCode996[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:09:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:09:34
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:09:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:09:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:09:43
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:09:43
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:09:43
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type997) AND ([TbOrganizationMap].[ProjectId] = @ProjectId998)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode999,@CompanyCode1000,@CompanyCode1001,@CompanyCode1002,@CompanyCode1003,@CompanyCode1004,@CompanyCode1005,@CompanyCode1006)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1007))) 	
Parameters:
@Type997[Int32] = 1
@ProjectId998[String] = 6372912251695766465
@CompanyCode999[String] = 6373083923489249281
@CompanyCode1000[String] = 6373083925531366080
@CompanyCode1001[String] = 6373083927883400612
@CompanyCode1002[String] = 6373083918575368225
@CompanyCode1003[String] = 6373083920445075162
@CompanyCode1004[String] = 6373083908618598731
@CompanyCode1005[String] = 6373083911842783146
@CompanyCode1006[String] = 6373083913928202424
@ParentCompanyCode1007[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1008) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1009)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1010,@CompanyCode1011,@CompanyCode1012,@CompanyCode1013,@CompanyCode1014,@CompanyCode1015,@CompanyCode1016,@CompanyCode1017)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1018))) 	
Parameters:
@Type1008[Int32] = 2
@ProjectId1009[String] = 6372912251695766465
@CompanyCode1010[String] = 6373083923489249281
@CompanyCode1011[String] = 6373083925531366080
@CompanyCode1012[String] = 6373083927883400612
@CompanyCode1013[String] = 6373083918575368225
@CompanyCode1014[String] = 6373083920445075162
@CompanyCode1015[String] = 6373083908618598731
@CompanyCode1016[String] = 6373083911842783146
@CompanyCode1017[String] = 6373083913928202424
@ParentCompanyCode1018[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1046)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1019) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1020,@SiteCode1021,@SiteCode1022,@SiteCode1023,@SiteCode1024,@SiteCode1025,@SiteCode1026,@SiteCode1027,@SiteCode1028,@SiteCode1029,@SiteCode1030,@SiteCode1031,@SiteCode1032,@SiteCode1033,@SiteCode1034,@SiteCode1035,@SiteCode1036,@SiteCode1037,@SiteCode1038,@SiteCode1039,@SiteCode1040,@SiteCode1041,@SiteCode1042,@SiteCode1043,@SiteCode1044,@SiteCode1045)))	
Parameters:
@ProjectId1019[String] = 6372912251695766465
@SiteCode1020[String] = 6373083923489249281
@SiteCode1021[String] = 6373083925531366080
@SiteCode1022[String] = 6373083927883400612
@SiteCode1023[String] = 6373083918575368225
@SiteCode1024[String] = 6373083920445075162
@SiteCode1025[String] = 6373083908618598731
@SiteCode1026[String] = 6373083911842783146
@SiteCode1027[String] = 6373083913928202424
@SiteCode1028[String] = 6373083877551621804
@SiteCode1029[String] = 6373083879921857377
@SiteCode1030[String] = 6373083881542550067
@SiteCode1031[String] = 6373083883689772886
@SiteCode1032[String] = 6373083887136270013
@SiteCode1033[String] = 6373083889697116488
@SiteCode1034[String] = 6373083891969846476
@SiteCode1035[String] = 6373083894422586761
@SiteCode1036[String] = 6373083897509963358
@SiteCode1037[String] = 6373083900444931227
@SiteCode1038[String] = 6373083829464571372
@SiteCode1039[String] = 6373083833327492328
@SiteCode1040[String] = 6373083841964286321
@SiteCode1041[String] = 6373083844982558950
@SiteCode1042[String] = 6373083847585007801
@SiteCode1043[String] = 6373083856887939900
@SiteCode1044[String] = 6373083859102666584
@SiteCode1045[String] = 6373083864919499284
@FDictionaryCode1046[String] = OrderState
@FDictionaryCode1047[String] = UrgentDegree
@FDictionaryCode1048[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1047) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1048) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1046)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1019) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1020,@SiteCode1021,@SiteCode1022,@SiteCode1023,@SiteCode1024,@SiteCode1025,@SiteCode1026,@SiteCode1027,@SiteCode1028,@SiteCode1029,@SiteCode1030,@SiteCode1031,@SiteCode1032,@SiteCode1033,@SiteCode1034,@SiteCode1035,@SiteCode1036,@SiteCode1037,@SiteCode1038,@SiteCode1039,@SiteCode1040,@SiteCode1041,@SiteCode1042,@SiteCode1043,@SiteCode1044,@SiteCode1045))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1019[String] = 6372912251695766465
@SiteCode1020[String] = 6373083923489249281
@SiteCode1021[String] = 6373083925531366080
@SiteCode1022[String] = 6373083927883400612
@SiteCode1023[String] = 6373083918575368225
@SiteCode1024[String] = 6373083920445075162
@SiteCode1025[String] = 6373083908618598731
@SiteCode1026[String] = 6373083911842783146
@SiteCode1027[String] = 6373083913928202424
@SiteCode1028[String] = 6373083877551621804
@SiteCode1029[String] = 6373083879921857377
@SiteCode1030[String] = 6373083881542550067
@SiteCode1031[String] = 6373083883689772886
@SiteCode1032[String] = 6373083887136270013
@SiteCode1033[String] = 6373083889697116488
@SiteCode1034[String] = 6373083891969846476
@SiteCode1035[String] = 6373083894422586761
@SiteCode1036[String] = 6373083897509963358
@SiteCode1037[String] = 6373083900444931227
@SiteCode1038[String] = 6373083829464571372
@SiteCode1039[String] = 6373083833327492328
@SiteCode1040[String] = 6373083841964286321
@SiteCode1041[String] = 6373083844982558950
@SiteCode1042[String] = 6373083847585007801
@SiteCode1043[String] = 6373083856887939900
@SiteCode1044[String] = 6373083859102666584
@SiteCode1045[String] = 6373083864919499284
@FDictionaryCode1046[String] = OrderState
@FDictionaryCode1047[String] = UrgentDegree
@FDictionaryCode1048[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:09:44
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:12:43
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:13:53
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:13:53
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:13:53
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1049) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1050)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1051,@CompanyCode1052,@CompanyCode1053,@CompanyCode1054,@CompanyCode1055,@CompanyCode1056,@CompanyCode1057,@CompanyCode1058)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1059))) 	
Parameters:
@Type1049[Int32] = 1
@ProjectId1050[String] = 6372912251695766465
@CompanyCode1051[String] = 6373083923489249281
@CompanyCode1052[String] = 6373083925531366080
@CompanyCode1053[String] = 6373083927883400612
@CompanyCode1054[String] = 6373083918575368225
@CompanyCode1055[String] = 6373083920445075162
@CompanyCode1056[String] = 6373083908618598731
@CompanyCode1057[String] = 6373083911842783146
@CompanyCode1058[String] = 6373083913928202424
@ParentCompanyCode1059[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1060) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1061)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1062,@CompanyCode1063,@CompanyCode1064,@CompanyCode1065,@CompanyCode1066,@CompanyCode1067,@CompanyCode1068,@CompanyCode1069)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1070))) 	
Parameters:
@Type1060[Int32] = 2
@ProjectId1061[String] = 6372912251695766465
@CompanyCode1062[String] = 6373083923489249281
@CompanyCode1063[String] = 6373083925531366080
@CompanyCode1064[String] = 6373083927883400612
@CompanyCode1065[String] = 6373083918575368225
@CompanyCode1066[String] = 6373083920445075162
@CompanyCode1067[String] = 6373083908618598731
@CompanyCode1068[String] = 6373083911842783146
@CompanyCode1069[String] = 6373083913928202424
@ParentCompanyCode1070[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1098)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1071) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1072,@SiteCode1073,@SiteCode1074,@SiteCode1075,@SiteCode1076,@SiteCode1077,@SiteCode1078,@SiteCode1079,@SiteCode1080,@SiteCode1081,@SiteCode1082,@SiteCode1083,@SiteCode1084,@SiteCode1085,@SiteCode1086,@SiteCode1087,@SiteCode1088,@SiteCode1089,@SiteCode1090,@SiteCode1091,@SiteCode1092,@SiteCode1093,@SiteCode1094,@SiteCode1095,@SiteCode1096,@SiteCode1097)))	
Parameters:
@ProjectId1071[String] = 6372912251695766465
@SiteCode1072[String] = 6373083923489249281
@SiteCode1073[String] = 6373083925531366080
@SiteCode1074[String] = 6373083927883400612
@SiteCode1075[String] = 6373083918575368225
@SiteCode1076[String] = 6373083920445075162
@SiteCode1077[String] = 6373083908618598731
@SiteCode1078[String] = 6373083911842783146
@SiteCode1079[String] = 6373083913928202424
@SiteCode1080[String] = 6373083877551621804
@SiteCode1081[String] = 6373083879921857377
@SiteCode1082[String] = 6373083881542550067
@SiteCode1083[String] = 6373083883689772886
@SiteCode1084[String] = 6373083887136270013
@SiteCode1085[String] = 6373083889697116488
@SiteCode1086[String] = 6373083891969846476
@SiteCode1087[String] = 6373083894422586761
@SiteCode1088[String] = 6373083897509963358
@SiteCode1089[String] = 6373083900444931227
@SiteCode1090[String] = 6373083829464571372
@SiteCode1091[String] = 6373083833327492328
@SiteCode1092[String] = 6373083841964286321
@SiteCode1093[String] = 6373083844982558950
@SiteCode1094[String] = 6373083847585007801
@SiteCode1095[String] = 6373083856887939900
@SiteCode1096[String] = 6373083859102666584
@SiteCode1097[String] = 6373083864919499284
@FDictionaryCode1098[String] = OrderState
@FDictionaryCode1099[String] = UrgentDegree
@FDictionaryCode1100[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1099) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1100) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1098)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1071) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1072,@SiteCode1073,@SiteCode1074,@SiteCode1075,@SiteCode1076,@SiteCode1077,@SiteCode1078,@SiteCode1079,@SiteCode1080,@SiteCode1081,@SiteCode1082,@SiteCode1083,@SiteCode1084,@SiteCode1085,@SiteCode1086,@SiteCode1087,@SiteCode1088,@SiteCode1089,@SiteCode1090,@SiteCode1091,@SiteCode1092,@SiteCode1093,@SiteCode1094,@SiteCode1095,@SiteCode1096,@SiteCode1097))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1071[String] = 6372912251695766465
@SiteCode1072[String] = 6373083923489249281
@SiteCode1073[String] = 6373083925531366080
@SiteCode1074[String] = 6373083927883400612
@SiteCode1075[String] = 6373083918575368225
@SiteCode1076[String] = 6373083920445075162
@SiteCode1077[String] = 6373083908618598731
@SiteCode1078[String] = 6373083911842783146
@SiteCode1079[String] = 6373083913928202424
@SiteCode1080[String] = 6373083877551621804
@SiteCode1081[String] = 6373083879921857377
@SiteCode1082[String] = 6373083881542550067
@SiteCode1083[String] = 6373083883689772886
@SiteCode1084[String] = 6373083887136270013
@SiteCode1085[String] = 6373083889697116488
@SiteCode1086[String] = 6373083891969846476
@SiteCode1087[String] = 6373083894422586761
@SiteCode1088[String] = 6373083897509963358
@SiteCode1089[String] = 6373083900444931227
@SiteCode1090[String] = 6373083829464571372
@SiteCode1091[String] = 6373083833327492328
@SiteCode1092[String] = 6373083841964286321
@SiteCode1093[String] = 6373083844982558950
@SiteCode1094[String] = 6373083847585007801
@SiteCode1095[String] = 6373083856887939900
@SiteCode1096[String] = 6373083859102666584
@SiteCode1097[String] = 6373083864919499284
@FDictionaryCode1098[String] = OrderState
@FDictionaryCode1099[String] = UrgentDegree
@FDictionaryCode1100[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:13:54
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:15:19
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:15:19
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:15:20
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:15:20
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:15:20
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1101) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1102)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1103,@CompanyCode1104,@CompanyCode1105,@CompanyCode1106,@CompanyCode1107,@CompanyCode1108,@CompanyCode1109,@CompanyCode1110)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1111))) 	
Parameters:
@Type1101[Int32] = 1
@ProjectId1102[String] = 6372912251695766465
@CompanyCode1103[String] = 6373083923489249281
@CompanyCode1104[String] = 6373083925531366080
@CompanyCode1105[String] = 6373083927883400612
@CompanyCode1106[String] = 6373083918575368225
@CompanyCode1107[String] = 6373083920445075162
@CompanyCode1108[String] = 6373083908618598731
@CompanyCode1109[String] = 6373083911842783146
@CompanyCode1110[String] = 6373083913928202424
@ParentCompanyCode1111[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:15:20
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:15:20
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1112) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1113)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1114,@CompanyCode1115,@CompanyCode1116,@CompanyCode1117,@CompanyCode1118,@CompanyCode1119,@CompanyCode1120,@CompanyCode1121)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1122))) 	
Parameters:
@Type1112[Int32] = 2
@ProjectId1113[String] = 6372912251695766465
@CompanyCode1114[String] = 6373083923489249281
@CompanyCode1115[String] = 6373083925531366080
@CompanyCode1116[String] = 6373083927883400612
@CompanyCode1117[String] = 6373083918575368225
@CompanyCode1118[String] = 6373083920445075162
@CompanyCode1119[String] = 6373083908618598731
@CompanyCode1120[String] = 6373083911842783146
@CompanyCode1121[String] = 6373083913928202424
@ParentCompanyCode1122[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:15:20
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:15:20
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:15:20
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1150)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1123) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1124,@SiteCode1125,@SiteCode1126,@SiteCode1127,@SiteCode1128,@SiteCode1129,@SiteCode1130,@SiteCode1131,@SiteCode1132,@SiteCode1133,@SiteCode1134,@SiteCode1135,@SiteCode1136,@SiteCode1137,@SiteCode1138,@SiteCode1139,@SiteCode1140,@SiteCode1141,@SiteCode1142,@SiteCode1143,@SiteCode1144,@SiteCode1145,@SiteCode1146,@SiteCode1147,@SiteCode1148,@SiteCode1149)))	
Parameters:
@ProjectId1123[String] = 6372912251695766465
@SiteCode1124[String] = 6373083923489249281
@SiteCode1125[String] = 6373083925531366080
@SiteCode1126[String] = 6373083927883400612
@SiteCode1127[String] = 6373083918575368225
@SiteCode1128[String] = 6373083920445075162
@SiteCode1129[String] = 6373083908618598731
@SiteCode1130[String] = 6373083911842783146
@SiteCode1131[String] = 6373083913928202424
@SiteCode1132[String] = 6373083877551621804
@SiteCode1133[String] = 6373083879921857377
@SiteCode1134[String] = 6373083881542550067
@SiteCode1135[String] = 6373083883689772886
@SiteCode1136[String] = 6373083887136270013
@SiteCode1137[String] = 6373083889697116488
@SiteCode1138[String] = 6373083891969846476
@SiteCode1139[String] = 6373083894422586761
@SiteCode1140[String] = 6373083897509963358
@SiteCode1141[String] = 6373083900444931227
@SiteCode1142[String] = 6373083829464571372
@SiteCode1143[String] = 6373083833327492328
@SiteCode1144[String] = 6373083841964286321
@SiteCode1145[String] = 6373083844982558950
@SiteCode1146[String] = 6373083847585007801
@SiteCode1147[String] = 6373083856887939900
@SiteCode1148[String] = 6373083859102666584
@SiteCode1149[String] = 6373083864919499284
@FDictionaryCode1150[String] = OrderState
@FDictionaryCode1151[String] = UrgentDegree
@FDictionaryCode1152[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:15:20
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1151) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1152) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1150)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1123) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1124,@SiteCode1125,@SiteCode1126,@SiteCode1127,@SiteCode1128,@SiteCode1129,@SiteCode1130,@SiteCode1131,@SiteCode1132,@SiteCode1133,@SiteCode1134,@SiteCode1135,@SiteCode1136,@SiteCode1137,@SiteCode1138,@SiteCode1139,@SiteCode1140,@SiteCode1141,@SiteCode1142,@SiteCode1143,@SiteCode1144,@SiteCode1145,@SiteCode1146,@SiteCode1147,@SiteCode1148,@SiteCode1149))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1123[String] = 6372912251695766465
@SiteCode1124[String] = 6373083923489249281
@SiteCode1125[String] = 6373083925531366080
@SiteCode1126[String] = 6373083927883400612
@SiteCode1127[String] = 6373083918575368225
@SiteCode1128[String] = 6373083920445075162
@SiteCode1129[String] = 6373083908618598731
@SiteCode1130[String] = 6373083911842783146
@SiteCode1131[String] = 6373083913928202424
@SiteCode1132[String] = 6373083877551621804
@SiteCode1133[String] = 6373083879921857377
@SiteCode1134[String] = 6373083881542550067
@SiteCode1135[String] = 6373083883689772886
@SiteCode1136[String] = 6373083887136270013
@SiteCode1137[String] = 6373083889697116488
@SiteCode1138[String] = 6373083891969846476
@SiteCode1139[String] = 6373083894422586761
@SiteCode1140[String] = 6373083897509963358
@SiteCode1141[String] = 6373083900444931227
@SiteCode1142[String] = 6373083829464571372
@SiteCode1143[String] = 6373083833327492328
@SiteCode1144[String] = 6373083841964286321
@SiteCode1145[String] = 6373083844982558950
@SiteCode1146[String] = 6373083847585007801
@SiteCode1147[String] = 6373083856887939900
@SiteCode1148[String] = 6373083859102666584
@SiteCode1149[String] = 6373083864919499284
@FDictionaryCode1150[String] = OrderState
@FDictionaryCode1151[String] = UrgentDegree
@FDictionaryCode1152[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:15:21
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:15:21
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:15:21
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:15:21
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:15:33
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:15:33
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:15:33
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1153) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1154)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1155,@CompanyCode1156,@CompanyCode1157,@CompanyCode1158,@CompanyCode1159,@CompanyCode1160,@CompanyCode1161,@CompanyCode1162)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1163))) 	
Parameters:
@Type1153[Int32] = 1
@ProjectId1154[String] = 6372912251695766465
@CompanyCode1155[String] = 6373083923489249281
@CompanyCode1156[String] = 6373083925531366080
@CompanyCode1157[String] = 6373083927883400612
@CompanyCode1158[String] = 6373083918575368225
@CompanyCode1159[String] = 6373083920445075162
@CompanyCode1160[String] = 6373083908618598731
@CompanyCode1161[String] = 6373083911842783146
@CompanyCode1162[String] = 6373083913928202424
@ParentCompanyCode1163[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1164) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1165)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1166,@CompanyCode1167,@CompanyCode1168,@CompanyCode1169,@CompanyCode1170,@CompanyCode1171,@CompanyCode1172,@CompanyCode1173)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1174))) 	
Parameters:
@Type1164[Int32] = 2
@ProjectId1165[String] = 6372912251695766465
@CompanyCode1166[String] = 6373083923489249281
@CompanyCode1167[String] = 6373083925531366080
@CompanyCode1168[String] = 6373083927883400612
@CompanyCode1169[String] = 6373083918575368225
@CompanyCode1170[String] = 6373083920445075162
@CompanyCode1171[String] = 6373083908618598731
@CompanyCode1172[String] = 6373083911842783146
@CompanyCode1173[String] = 6373083913928202424
@ParentCompanyCode1174[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1202)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1175) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1176,@SiteCode1177,@SiteCode1178,@SiteCode1179,@SiteCode1180,@SiteCode1181,@SiteCode1182,@SiteCode1183,@SiteCode1184,@SiteCode1185,@SiteCode1186,@SiteCode1187,@SiteCode1188,@SiteCode1189,@SiteCode1190,@SiteCode1191,@SiteCode1192,@SiteCode1193,@SiteCode1194,@SiteCode1195,@SiteCode1196,@SiteCode1197,@SiteCode1198,@SiteCode1199,@SiteCode1200,@SiteCode1201)))	
Parameters:
@ProjectId1175[String] = 6372912251695766465
@SiteCode1176[String] = 6373083923489249281
@SiteCode1177[String] = 6373083925531366080
@SiteCode1178[String] = 6373083927883400612
@SiteCode1179[String] = 6373083918575368225
@SiteCode1180[String] = 6373083920445075162
@SiteCode1181[String] = 6373083908618598731
@SiteCode1182[String] = 6373083911842783146
@SiteCode1183[String] = 6373083913928202424
@SiteCode1184[String] = 6373083877551621804
@SiteCode1185[String] = 6373083879921857377
@SiteCode1186[String] = 6373083881542550067
@SiteCode1187[String] = 6373083883689772886
@SiteCode1188[String] = 6373083887136270013
@SiteCode1189[String] = 6373083889697116488
@SiteCode1190[String] = 6373083891969846476
@SiteCode1191[String] = 6373083894422586761
@SiteCode1192[String] = 6373083897509963358
@SiteCode1193[String] = 6373083900444931227
@SiteCode1194[String] = 6373083829464571372
@SiteCode1195[String] = 6373083833327492328
@SiteCode1196[String] = 6373083841964286321
@SiteCode1197[String] = 6373083844982558950
@SiteCode1198[String] = 6373083847585007801
@SiteCode1199[String] = 6373083856887939900
@SiteCode1200[String] = 6373083859102666584
@SiteCode1201[String] = 6373083864919499284
@FDictionaryCode1202[String] = OrderState
@FDictionaryCode1203[String] = UrgentDegree
@FDictionaryCode1204[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1203) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1204) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1202)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1175) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1176,@SiteCode1177,@SiteCode1178,@SiteCode1179,@SiteCode1180,@SiteCode1181,@SiteCode1182,@SiteCode1183,@SiteCode1184,@SiteCode1185,@SiteCode1186,@SiteCode1187,@SiteCode1188,@SiteCode1189,@SiteCode1190,@SiteCode1191,@SiteCode1192,@SiteCode1193,@SiteCode1194,@SiteCode1195,@SiteCode1196,@SiteCode1197,@SiteCode1198,@SiteCode1199,@SiteCode1200,@SiteCode1201))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1175[String] = 6372912251695766465
@SiteCode1176[String] = 6373083923489249281
@SiteCode1177[String] = 6373083925531366080
@SiteCode1178[String] = 6373083927883400612
@SiteCode1179[String] = 6373083918575368225
@SiteCode1180[String] = 6373083920445075162
@SiteCode1181[String] = 6373083908618598731
@SiteCode1182[String] = 6373083911842783146
@SiteCode1183[String] = 6373083913928202424
@SiteCode1184[String] = 6373083877551621804
@SiteCode1185[String] = 6373083879921857377
@SiteCode1186[String] = 6373083881542550067
@SiteCode1187[String] = 6373083883689772886
@SiteCode1188[String] = 6373083887136270013
@SiteCode1189[String] = 6373083889697116488
@SiteCode1190[String] = 6373083891969846476
@SiteCode1191[String] = 6373083894422586761
@SiteCode1192[String] = 6373083897509963358
@SiteCode1193[String] = 6373083900444931227
@SiteCode1194[String] = 6373083829464571372
@SiteCode1195[String] = 6373083833327492328
@SiteCode1196[String] = 6373083841964286321
@SiteCode1197[String] = 6373083844982558950
@SiteCode1198[String] = 6373083847585007801
@SiteCode1199[String] = 6373083856887939900
@SiteCode1200[String] = 6373083859102666584
@SiteCode1201[String] = 6373083864919499284
@FDictionaryCode1202[String] = OrderState
@FDictionaryCode1203[String] = UrgentDegree
@FDictionaryCode1204[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:15:34
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:16:05
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:16:05
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:16:05
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1205) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1206)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1207,@CompanyCode1208,@CompanyCode1209,@CompanyCode1210,@CompanyCode1211,@CompanyCode1212,@CompanyCode1213,@CompanyCode1214)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1215))) 	
Parameters:
@Type1205[Int32] = 1
@ProjectId1206[String] = 6372912251695766465
@CompanyCode1207[String] = 6373083923489249281
@CompanyCode1208[String] = 6373083925531366080
@CompanyCode1209[String] = 6373083927883400612
@CompanyCode1210[String] = 6373083918575368225
@CompanyCode1211[String] = 6373083920445075162
@CompanyCode1212[String] = 6373083908618598731
@CompanyCode1213[String] = 6373083911842783146
@CompanyCode1214[String] = 6373083913928202424
@ParentCompanyCode1215[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1216) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1217)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1218,@CompanyCode1219,@CompanyCode1220,@CompanyCode1221,@CompanyCode1222,@CompanyCode1223,@CompanyCode1224,@CompanyCode1225)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1226))) 	
Parameters:
@Type1216[Int32] = 2
@ProjectId1217[String] = 6372912251695766465
@CompanyCode1218[String] = 6373083923489249281
@CompanyCode1219[String] = 6373083925531366080
@CompanyCode1220[String] = 6373083927883400612
@CompanyCode1221[String] = 6373083918575368225
@CompanyCode1222[String] = 6373083920445075162
@CompanyCode1223[String] = 6373083908618598731
@CompanyCode1224[String] = 6373083911842783146
@CompanyCode1225[String] = 6373083913928202424
@ParentCompanyCode1226[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1254)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1227) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1228,@SiteCode1229,@SiteCode1230,@SiteCode1231,@SiteCode1232,@SiteCode1233,@SiteCode1234,@SiteCode1235,@SiteCode1236,@SiteCode1237,@SiteCode1238,@SiteCode1239,@SiteCode1240,@SiteCode1241,@SiteCode1242,@SiteCode1243,@SiteCode1244,@SiteCode1245,@SiteCode1246,@SiteCode1247,@SiteCode1248,@SiteCode1249,@SiteCode1250,@SiteCode1251,@SiteCode1252,@SiteCode1253)))	
Parameters:
@ProjectId1227[String] = 6372912251695766465
@SiteCode1228[String] = 6373083923489249281
@SiteCode1229[String] = 6373083925531366080
@SiteCode1230[String] = 6373083927883400612
@SiteCode1231[String] = 6373083918575368225
@SiteCode1232[String] = 6373083920445075162
@SiteCode1233[String] = 6373083908618598731
@SiteCode1234[String] = 6373083911842783146
@SiteCode1235[String] = 6373083913928202424
@SiteCode1236[String] = 6373083877551621804
@SiteCode1237[String] = 6373083879921857377
@SiteCode1238[String] = 6373083881542550067
@SiteCode1239[String] = 6373083883689772886
@SiteCode1240[String] = 6373083887136270013
@SiteCode1241[String] = 6373083889697116488
@SiteCode1242[String] = 6373083891969846476
@SiteCode1243[String] = 6373083894422586761
@SiteCode1244[String] = 6373083897509963358
@SiteCode1245[String] = 6373083900444931227
@SiteCode1246[String] = 6373083829464571372
@SiteCode1247[String] = 6373083833327492328
@SiteCode1248[String] = 6373083841964286321
@SiteCode1249[String] = 6373083844982558950
@SiteCode1250[String] = 6373083847585007801
@SiteCode1251[String] = 6373083856887939900
@SiteCode1252[String] = 6373083859102666584
@SiteCode1253[String] = 6373083864919499284
@FDictionaryCode1254[String] = OrderState
@FDictionaryCode1255[String] = UrgentDegree
@FDictionaryCode1256[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1255) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1256) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1254)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1227) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1228,@SiteCode1229,@SiteCode1230,@SiteCode1231,@SiteCode1232,@SiteCode1233,@SiteCode1234,@SiteCode1235,@SiteCode1236,@SiteCode1237,@SiteCode1238,@SiteCode1239,@SiteCode1240,@SiteCode1241,@SiteCode1242,@SiteCode1243,@SiteCode1244,@SiteCode1245,@SiteCode1246,@SiteCode1247,@SiteCode1248,@SiteCode1249,@SiteCode1250,@SiteCode1251,@SiteCode1252,@SiteCode1253))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1227[String] = 6372912251695766465
@SiteCode1228[String] = 6373083923489249281
@SiteCode1229[String] = 6373083925531366080
@SiteCode1230[String] = 6373083927883400612
@SiteCode1231[String] = 6373083918575368225
@SiteCode1232[String] = 6373083920445075162
@SiteCode1233[String] = 6373083908618598731
@SiteCode1234[String] = 6373083911842783146
@SiteCode1235[String] = 6373083913928202424
@SiteCode1236[String] = 6373083877551621804
@SiteCode1237[String] = 6373083879921857377
@SiteCode1238[String] = 6373083881542550067
@SiteCode1239[String] = 6373083883689772886
@SiteCode1240[String] = 6373083887136270013
@SiteCode1241[String] = 6373083889697116488
@SiteCode1242[String] = 6373083891969846476
@SiteCode1243[String] = 6373083894422586761
@SiteCode1244[String] = 6373083897509963358
@SiteCode1245[String] = 6373083900444931227
@SiteCode1246[String] = 6373083829464571372
@SiteCode1247[String] = 6373083833327492328
@SiteCode1248[String] = 6373083841964286321
@SiteCode1249[String] = 6373083844982558950
@SiteCode1250[String] = 6373083847585007801
@SiteCode1251[String] = 6373083856887939900
@SiteCode1252[String] = 6373083859102666584
@SiteCode1253[String] = 6373083864919499284
@FDictionaryCode1254[String] = OrderState
@FDictionaryCode1255[String] = UrgentDegree
@FDictionaryCode1256[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:16:07
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:16:51
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:16:51
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:16:51
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:16:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:16:51
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1257) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1258)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1259,@CompanyCode1260,@CompanyCode1261,@CompanyCode1262,@CompanyCode1263,@CompanyCode1264,@CompanyCode1265,@CompanyCode1266)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1267))) 	
Parameters:
@Type1257[Int32] = 1
@ProjectId1258[String] = 6372912251695766465
@CompanyCode1259[String] = 6373083923489249281
@CompanyCode1260[String] = 6373083925531366080
@CompanyCode1261[String] = 6373083927883400612
@CompanyCode1262[String] = 6373083918575368225
@CompanyCode1263[String] = 6373083920445075162
@CompanyCode1264[String] = 6373083908618598731
@CompanyCode1265[String] = 6373083911842783146
@CompanyCode1266[String] = 6373083913928202424
@ParentCompanyCode1267[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:16:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:16:52
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1268) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1269)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1270,@CompanyCode1271,@CompanyCode1272,@CompanyCode1273,@CompanyCode1274,@CompanyCode1275,@CompanyCode1276,@CompanyCode1277)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1278))) 	
Parameters:
@Type1268[Int32] = 2
@ProjectId1269[String] = 6372912251695766465
@CompanyCode1270[String] = 6373083923489249281
@CompanyCode1271[String] = 6373083925531366080
@CompanyCode1272[String] = 6373083927883400612
@CompanyCode1273[String] = 6373083918575368225
@CompanyCode1274[String] = 6373083920445075162
@CompanyCode1275[String] = 6373083908618598731
@CompanyCode1276[String] = 6373083911842783146
@CompanyCode1277[String] = 6373083913928202424
@ParentCompanyCode1278[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:16:52
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:16:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:16:52
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1306)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1279) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1280,@SiteCode1281,@SiteCode1282,@SiteCode1283,@SiteCode1284,@SiteCode1285,@SiteCode1286,@SiteCode1287,@SiteCode1288,@SiteCode1289,@SiteCode1290,@SiteCode1291,@SiteCode1292,@SiteCode1293,@SiteCode1294,@SiteCode1295,@SiteCode1296,@SiteCode1297,@SiteCode1298,@SiteCode1299,@SiteCode1300,@SiteCode1301,@SiteCode1302,@SiteCode1303,@SiteCode1304,@SiteCode1305)))	
Parameters:
@ProjectId1279[String] = 6372912251695766465
@SiteCode1280[String] = 6373083923489249281
@SiteCode1281[String] = 6373083925531366080
@SiteCode1282[String] = 6373083927883400612
@SiteCode1283[String] = 6373083918575368225
@SiteCode1284[String] = 6373083920445075162
@SiteCode1285[String] = 6373083908618598731
@SiteCode1286[String] = 6373083911842783146
@SiteCode1287[String] = 6373083913928202424
@SiteCode1288[String] = 6373083877551621804
@SiteCode1289[String] = 6373083879921857377
@SiteCode1290[String] = 6373083881542550067
@SiteCode1291[String] = 6373083883689772886
@SiteCode1292[String] = 6373083887136270013
@SiteCode1293[String] = 6373083889697116488
@SiteCode1294[String] = 6373083891969846476
@SiteCode1295[String] = 6373083894422586761
@SiteCode1296[String] = 6373083897509963358
@SiteCode1297[String] = 6373083900444931227
@SiteCode1298[String] = 6373083829464571372
@SiteCode1299[String] = 6373083833327492328
@SiteCode1300[String] = 6373083841964286321
@SiteCode1301[String] = 6373083844982558950
@SiteCode1302[String] = 6373083847585007801
@SiteCode1303[String] = 6373083856887939900
@SiteCode1304[String] = 6373083859102666584
@SiteCode1305[String] = 6373083864919499284
@FDictionaryCode1306[String] = OrderState
@FDictionaryCode1307[String] = UrgentDegree
@FDictionaryCode1308[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:16:52
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1307) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1308) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1306)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1279) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1280,@SiteCode1281,@SiteCode1282,@SiteCode1283,@SiteCode1284,@SiteCode1285,@SiteCode1286,@SiteCode1287,@SiteCode1288,@SiteCode1289,@SiteCode1290,@SiteCode1291,@SiteCode1292,@SiteCode1293,@SiteCode1294,@SiteCode1295,@SiteCode1296,@SiteCode1297,@SiteCode1298,@SiteCode1299,@SiteCode1300,@SiteCode1301,@SiteCode1302,@SiteCode1303,@SiteCode1304,@SiteCode1305))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1279[String] = 6372912251695766465
@SiteCode1280[String] = 6373083923489249281
@SiteCode1281[String] = 6373083925531366080
@SiteCode1282[String] = 6373083927883400612
@SiteCode1283[String] = 6373083918575368225
@SiteCode1284[String] = 6373083920445075162
@SiteCode1285[String] = 6373083908618598731
@SiteCode1286[String] = 6373083911842783146
@SiteCode1287[String] = 6373083913928202424
@SiteCode1288[String] = 6373083877551621804
@SiteCode1289[String] = 6373083879921857377
@SiteCode1290[String] = 6373083881542550067
@SiteCode1291[String] = 6373083883689772886
@SiteCode1292[String] = 6373083887136270013
@SiteCode1293[String] = 6373083889697116488
@SiteCode1294[String] = 6373083891969846476
@SiteCode1295[String] = 6373083894422586761
@SiteCode1296[String] = 6373083897509963358
@SiteCode1297[String] = 6373083900444931227
@SiteCode1298[String] = 6373083829464571372
@SiteCode1299[String] = 6373083833327492328
@SiteCode1300[String] = 6373083841964286321
@SiteCode1301[String] = 6373083844982558950
@SiteCode1302[String] = 6373083847585007801
@SiteCode1303[String] = 6373083856887939900
@SiteCode1304[String] = 6373083859102666584
@SiteCode1305[String] = 6373083864919499284
@FDictionaryCode1306[String] = OrderState
@FDictionaryCode1307[String] = UrgentDegree
@FDictionaryCode1308[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:16:52
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:16:52
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:16:52
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:16:52
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:17:31
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:17:31
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:17:31
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1309) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1310)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1311,@CompanyCode1312,@CompanyCode1313,@CompanyCode1314,@CompanyCode1315,@CompanyCode1316,@CompanyCode1317,@CompanyCode1318)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1319))) 	
Parameters:
@Type1309[Int32] = 1
@ProjectId1310[String] = 6372912251695766465
@CompanyCode1311[String] = 6373083923489249281
@CompanyCode1312[String] = 6373083925531366080
@CompanyCode1313[String] = 6373083927883400612
@CompanyCode1314[String] = 6373083918575368225
@CompanyCode1315[String] = 6373083920445075162
@CompanyCode1316[String] = 6373083908618598731
@CompanyCode1317[String] = 6373083911842783146
@CompanyCode1318[String] = 6373083913928202424
@ParentCompanyCode1319[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1320) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1321)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1322,@CompanyCode1323,@CompanyCode1324,@CompanyCode1325,@CompanyCode1326,@CompanyCode1327,@CompanyCode1328,@CompanyCode1329)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1330))) 	
Parameters:
@Type1320[Int32] = 2
@ProjectId1321[String] = 6372912251695766465
@CompanyCode1322[String] = 6373083923489249281
@CompanyCode1323[String] = 6373083925531366080
@CompanyCode1324[String] = 6373083927883400612
@CompanyCode1325[String] = 6373083918575368225
@CompanyCode1326[String] = 6373083920445075162
@CompanyCode1327[String] = 6373083908618598731
@CompanyCode1328[String] = 6373083911842783146
@CompanyCode1329[String] = 6373083913928202424
@ParentCompanyCode1330[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1358)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1331) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1332,@SiteCode1333,@SiteCode1334,@SiteCode1335,@SiteCode1336,@SiteCode1337,@SiteCode1338,@SiteCode1339,@SiteCode1340,@SiteCode1341,@SiteCode1342,@SiteCode1343,@SiteCode1344,@SiteCode1345,@SiteCode1346,@SiteCode1347,@SiteCode1348,@SiteCode1349,@SiteCode1350,@SiteCode1351,@SiteCode1352,@SiteCode1353,@SiteCode1354,@SiteCode1355,@SiteCode1356,@SiteCode1357)))	
Parameters:
@ProjectId1331[String] = 6372912251695766465
@SiteCode1332[String] = 6373083923489249281
@SiteCode1333[String] = 6373083925531366080
@SiteCode1334[String] = 6373083927883400612
@SiteCode1335[String] = 6373083918575368225
@SiteCode1336[String] = 6373083920445075162
@SiteCode1337[String] = 6373083908618598731
@SiteCode1338[String] = 6373083911842783146
@SiteCode1339[String] = 6373083913928202424
@SiteCode1340[String] = 6373083877551621804
@SiteCode1341[String] = 6373083879921857377
@SiteCode1342[String] = 6373083881542550067
@SiteCode1343[String] = 6373083883689772886
@SiteCode1344[String] = 6373083887136270013
@SiteCode1345[String] = 6373083889697116488
@SiteCode1346[String] = 6373083891969846476
@SiteCode1347[String] = 6373083894422586761
@SiteCode1348[String] = 6373083897509963358
@SiteCode1349[String] = 6373083900444931227
@SiteCode1350[String] = 6373083829464571372
@SiteCode1351[String] = 6373083833327492328
@SiteCode1352[String] = 6373083841964286321
@SiteCode1353[String] = 6373083844982558950
@SiteCode1354[String] = 6373083847585007801
@SiteCode1355[String] = 6373083856887939900
@SiteCode1356[String] = 6373083859102666584
@SiteCode1357[String] = 6373083864919499284
@FDictionaryCode1358[String] = OrderState
@FDictionaryCode1359[String] = UrgentDegree
@FDictionaryCode1360[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1359) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1360) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1358)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1331) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1332,@SiteCode1333,@SiteCode1334,@SiteCode1335,@SiteCode1336,@SiteCode1337,@SiteCode1338,@SiteCode1339,@SiteCode1340,@SiteCode1341,@SiteCode1342,@SiteCode1343,@SiteCode1344,@SiteCode1345,@SiteCode1346,@SiteCode1347,@SiteCode1348,@SiteCode1349,@SiteCode1350,@SiteCode1351,@SiteCode1352,@SiteCode1353,@SiteCode1354,@SiteCode1355,@SiteCode1356,@SiteCode1357))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1331[String] = 6372912251695766465
@SiteCode1332[String] = 6373083923489249281
@SiteCode1333[String] = 6373083925531366080
@SiteCode1334[String] = 6373083927883400612
@SiteCode1335[String] = 6373083918575368225
@SiteCode1336[String] = 6373083920445075162
@SiteCode1337[String] = 6373083908618598731
@SiteCode1338[String] = 6373083911842783146
@SiteCode1339[String] = 6373083913928202424
@SiteCode1340[String] = 6373083877551621804
@SiteCode1341[String] = 6373083879921857377
@SiteCode1342[String] = 6373083881542550067
@SiteCode1343[String] = 6373083883689772886
@SiteCode1344[String] = 6373083887136270013
@SiteCode1345[String] = 6373083889697116488
@SiteCode1346[String] = 6373083891969846476
@SiteCode1347[String] = 6373083894422586761
@SiteCode1348[String] = 6373083897509963358
@SiteCode1349[String] = 6373083900444931227
@SiteCode1350[String] = 6373083829464571372
@SiteCode1351[String] = 6373083833327492328
@SiteCode1352[String] = 6373083841964286321
@SiteCode1353[String] = 6373083844982558950
@SiteCode1354[String] = 6373083847585007801
@SiteCode1355[String] = 6373083856887939900
@SiteCode1356[String] = 6373083859102666584
@SiteCode1357[String] = 6373083864919499284
@FDictionaryCode1358[String] = OrderState
@FDictionaryCode1359[String] = UrgentDegree
@FDictionaryCode1360[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:17:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:18:57
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:18:57
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:18:57
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:18:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:18:58
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1361) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1362)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1363,@CompanyCode1364,@CompanyCode1365,@CompanyCode1366,@CompanyCode1367,@CompanyCode1368,@CompanyCode1369,@CompanyCode1370)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1371))) 	
Parameters:
@Type1361[Int32] = 1
@ProjectId1362[String] = 6372912251695766465
@CompanyCode1363[String] = 6373083923489249281
@CompanyCode1364[String] = 6373083925531366080
@CompanyCode1365[String] = 6373083927883400612
@CompanyCode1366[String] = 6373083918575368225
@CompanyCode1367[String] = 6373083920445075162
@CompanyCode1368[String] = 6373083908618598731
@CompanyCode1369[String] = 6373083911842783146
@CompanyCode1370[String] = 6373083913928202424
@ParentCompanyCode1371[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:18:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:18:58
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1372) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1373)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1374,@CompanyCode1375,@CompanyCode1376,@CompanyCode1377,@CompanyCode1378,@CompanyCode1379,@CompanyCode1380,@CompanyCode1381)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1382))) 	
Parameters:
@Type1372[Int32] = 2
@ProjectId1373[String] = 6372912251695766465
@CompanyCode1374[String] = 6373083923489249281
@CompanyCode1375[String] = 6373083925531366080
@CompanyCode1376[String] = 6373083927883400612
@CompanyCode1377[String] = 6373083918575368225
@CompanyCode1378[String] = 6373083920445075162
@CompanyCode1379[String] = 6373083908618598731
@CompanyCode1380[String] = 6373083911842783146
@CompanyCode1381[String] = 6373083913928202424
@ParentCompanyCode1382[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:18:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:18:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:18:58
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1410)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1383) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1384,@SiteCode1385,@SiteCode1386,@SiteCode1387,@SiteCode1388,@SiteCode1389,@SiteCode1390,@SiteCode1391,@SiteCode1392,@SiteCode1393,@SiteCode1394,@SiteCode1395,@SiteCode1396,@SiteCode1397,@SiteCode1398,@SiteCode1399,@SiteCode1400,@SiteCode1401,@SiteCode1402,@SiteCode1403,@SiteCode1404,@SiteCode1405,@SiteCode1406,@SiteCode1407,@SiteCode1408,@SiteCode1409)))	
Parameters:
@ProjectId1383[String] = 6372912251695766465
@SiteCode1384[String] = 6373083923489249281
@SiteCode1385[String] = 6373083925531366080
@SiteCode1386[String] = 6373083927883400612
@SiteCode1387[String] = 6373083918575368225
@SiteCode1388[String] = 6373083920445075162
@SiteCode1389[String] = 6373083908618598731
@SiteCode1390[String] = 6373083911842783146
@SiteCode1391[String] = 6373083913928202424
@SiteCode1392[String] = 6373083877551621804
@SiteCode1393[String] = 6373083879921857377
@SiteCode1394[String] = 6373083881542550067
@SiteCode1395[String] = 6373083883689772886
@SiteCode1396[String] = 6373083887136270013
@SiteCode1397[String] = 6373083889697116488
@SiteCode1398[String] = 6373083891969846476
@SiteCode1399[String] = 6373083894422586761
@SiteCode1400[String] = 6373083897509963358
@SiteCode1401[String] = 6373083900444931227
@SiteCode1402[String] = 6373083829464571372
@SiteCode1403[String] = 6373083833327492328
@SiteCode1404[String] = 6373083841964286321
@SiteCode1405[String] = 6373083844982558950
@SiteCode1406[String] = 6373083847585007801
@SiteCode1407[String] = 6373083856887939900
@SiteCode1408[String] = 6373083859102666584
@SiteCode1409[String] = 6373083864919499284
@FDictionaryCode1410[String] = OrderState
@FDictionaryCode1411[String] = UrgentDegree
@FDictionaryCode1412[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:18:58
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1411) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1412) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1410)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1383) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1384,@SiteCode1385,@SiteCode1386,@SiteCode1387,@SiteCode1388,@SiteCode1389,@SiteCode1390,@SiteCode1391,@SiteCode1392,@SiteCode1393,@SiteCode1394,@SiteCode1395,@SiteCode1396,@SiteCode1397,@SiteCode1398,@SiteCode1399,@SiteCode1400,@SiteCode1401,@SiteCode1402,@SiteCode1403,@SiteCode1404,@SiteCode1405,@SiteCode1406,@SiteCode1407,@SiteCode1408,@SiteCode1409))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1383[String] = 6372912251695766465
@SiteCode1384[String] = 6373083923489249281
@SiteCode1385[String] = 6373083925531366080
@SiteCode1386[String] = 6373083927883400612
@SiteCode1387[String] = 6373083918575368225
@SiteCode1388[String] = 6373083920445075162
@SiteCode1389[String] = 6373083908618598731
@SiteCode1390[String] = 6373083911842783146
@SiteCode1391[String] = 6373083913928202424
@SiteCode1392[String] = 6373083877551621804
@SiteCode1393[String] = 6373083879921857377
@SiteCode1394[String] = 6373083881542550067
@SiteCode1395[String] = 6373083883689772886
@SiteCode1396[String] = 6373083887136270013
@SiteCode1397[String] = 6373083889697116488
@SiteCode1398[String] = 6373083891969846476
@SiteCode1399[String] = 6373083894422586761
@SiteCode1400[String] = 6373083897509963358
@SiteCode1401[String] = 6373083900444931227
@SiteCode1402[String] = 6373083829464571372
@SiteCode1403[String] = 6373083833327492328
@SiteCode1404[String] = 6373083841964286321
@SiteCode1405[String] = 6373083844982558950
@SiteCode1406[String] = 6373083847585007801
@SiteCode1407[String] = 6373083856887939900
@SiteCode1408[String] = 6373083859102666584
@SiteCode1409[String] = 6373083864919499284
@FDictionaryCode1410[String] = OrderState
@FDictionaryCode1411[String] = UrgentDegree
@FDictionaryCode1412[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:18:59
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:18:59
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:18:59
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:18:59
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:19:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083844982558950
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:19:16
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1413) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1414))) 	
Parameters:
@ProjectId1413[String] = 6372912251695766465
@SiteCode1414[String] = 6373083844982558950


-----------------------------------------------------------------------------
2020-08-12 17:19:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:19:19
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId1415) AND ([TbModelOrg].[SiteCode] IN (@SiteCode1416))) 	
Parameters:
@ProjectId1415[String] = 6372912251695766465
@SiteCode1416[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 17:20:29
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:20:29
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:20:29
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1417) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1418)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1419,@CompanyCode1420,@CompanyCode1421,@CompanyCode1422,@CompanyCode1423,@CompanyCode1424,@CompanyCode1425,@CompanyCode1426)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1427))) 	
Parameters:
@Type1417[Int32] = 1
@ProjectId1418[String] = 6372912251695766465
@CompanyCode1419[String] = 6373083923489249281
@CompanyCode1420[String] = 6373083925531366080
@CompanyCode1421[String] = 6373083927883400612
@CompanyCode1422[String] = 6373083918575368225
@CompanyCode1423[String] = 6373083920445075162
@CompanyCode1424[String] = 6373083908618598731
@CompanyCode1425[String] = 6373083911842783146
@CompanyCode1426[String] = 6373083913928202424
@ParentCompanyCode1427[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1428) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1429)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1430,@CompanyCode1431,@CompanyCode1432,@CompanyCode1433,@CompanyCode1434,@CompanyCode1435,@CompanyCode1436,@CompanyCode1437)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1438))) 	
Parameters:
@Type1428[Int32] = 2
@ProjectId1429[String] = 6372912251695766465
@CompanyCode1430[String] = 6373083923489249281
@CompanyCode1431[String] = 6373083925531366080
@CompanyCode1432[String] = 6373083927883400612
@CompanyCode1433[String] = 6373083918575368225
@CompanyCode1434[String] = 6373083920445075162
@CompanyCode1435[String] = 6373083908618598731
@CompanyCode1436[String] = 6373083911842783146
@CompanyCode1437[String] = 6373083913928202424
@ParentCompanyCode1438[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1466)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1439) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1440,@SiteCode1441,@SiteCode1442,@SiteCode1443,@SiteCode1444,@SiteCode1445,@SiteCode1446,@SiteCode1447,@SiteCode1448,@SiteCode1449,@SiteCode1450,@SiteCode1451,@SiteCode1452,@SiteCode1453,@SiteCode1454,@SiteCode1455,@SiteCode1456,@SiteCode1457,@SiteCode1458,@SiteCode1459,@SiteCode1460,@SiteCode1461,@SiteCode1462,@SiteCode1463,@SiteCode1464,@SiteCode1465)))	
Parameters:
@ProjectId1439[String] = 6372912251695766465
@SiteCode1440[String] = 6373083923489249281
@SiteCode1441[String] = 6373083925531366080
@SiteCode1442[String] = 6373083927883400612
@SiteCode1443[String] = 6373083918575368225
@SiteCode1444[String] = 6373083920445075162
@SiteCode1445[String] = 6373083908618598731
@SiteCode1446[String] = 6373083911842783146
@SiteCode1447[String] = 6373083913928202424
@SiteCode1448[String] = 6373083877551621804
@SiteCode1449[String] = 6373083879921857377
@SiteCode1450[String] = 6373083881542550067
@SiteCode1451[String] = 6373083883689772886
@SiteCode1452[String] = 6373083887136270013
@SiteCode1453[String] = 6373083889697116488
@SiteCode1454[String] = 6373083891969846476
@SiteCode1455[String] = 6373083894422586761
@SiteCode1456[String] = 6373083897509963358
@SiteCode1457[String] = 6373083900444931227
@SiteCode1458[String] = 6373083829464571372
@SiteCode1459[String] = 6373083833327492328
@SiteCode1460[String] = 6373083841964286321
@SiteCode1461[String] = 6373083844982558950
@SiteCode1462[String] = 6373083847585007801
@SiteCode1463[String] = 6373083856887939900
@SiteCode1464[String] = 6373083859102666584
@SiteCode1465[String] = 6373083864919499284
@FDictionaryCode1466[String] = OrderState
@FDictionaryCode1467[String] = UrgentDegree
@FDictionaryCode1468[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1467) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1468) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1466)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1439) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1440,@SiteCode1441,@SiteCode1442,@SiteCode1443,@SiteCode1444,@SiteCode1445,@SiteCode1446,@SiteCode1447,@SiteCode1448,@SiteCode1449,@SiteCode1450,@SiteCode1451,@SiteCode1452,@SiteCode1453,@SiteCode1454,@SiteCode1455,@SiteCode1456,@SiteCode1457,@SiteCode1458,@SiteCode1459,@SiteCode1460,@SiteCode1461,@SiteCode1462,@SiteCode1463,@SiteCode1464,@SiteCode1465))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1439[String] = 6372912251695766465
@SiteCode1440[String] = 6373083923489249281
@SiteCode1441[String] = 6373083925531366080
@SiteCode1442[String] = 6373083927883400612
@SiteCode1443[String] = 6373083918575368225
@SiteCode1444[String] = 6373083920445075162
@SiteCode1445[String] = 6373083908618598731
@SiteCode1446[String] = 6373083911842783146
@SiteCode1447[String] = 6373083913928202424
@SiteCode1448[String] = 6373083877551621804
@SiteCode1449[String] = 6373083879921857377
@SiteCode1450[String] = 6373083881542550067
@SiteCode1451[String] = 6373083883689772886
@SiteCode1452[String] = 6373083887136270013
@SiteCode1453[String] = 6373083889697116488
@SiteCode1454[String] = 6373083891969846476
@SiteCode1455[String] = 6373083894422586761
@SiteCode1456[String] = 6373083897509963358
@SiteCode1457[String] = 6373083900444931227
@SiteCode1458[String] = 6373083829464571372
@SiteCode1459[String] = 6373083833327492328
@SiteCode1460[String] = 6373083841964286321
@SiteCode1461[String] = 6373083844982558950
@SiteCode1462[String] = 6373083847585007801
@SiteCode1463[String] = 6373083856887939900
@SiteCode1464[String] = 6373083859102666584
@SiteCode1465[String] = 6373083864919499284
@FDictionaryCode1466[String] = OrderState
@FDictionaryCode1467[String] = UrgentDegree
@FDictionaryCode1468[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:20:30
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:21:48
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:21:49
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:21:49
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1469) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1470)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1471,@CompanyCode1472,@CompanyCode1473,@CompanyCode1474,@CompanyCode1475,@CompanyCode1476,@CompanyCode1477,@CompanyCode1478)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1479))) 	
Parameters:
@Type1469[Int32] = 1
@ProjectId1470[String] = 6372912251695766465
@CompanyCode1471[String] = 6373083923489249281
@CompanyCode1472[String] = 6373083925531366080
@CompanyCode1473[String] = 6373083927883400612
@CompanyCode1474[String] = 6373083918575368225
@CompanyCode1475[String] = 6373083920445075162
@CompanyCode1476[String] = 6373083908618598731
@CompanyCode1477[String] = 6373083911842783146
@CompanyCode1478[String] = 6373083913928202424
@ParentCompanyCode1479[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1480) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1481)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1482,@CompanyCode1483,@CompanyCode1484,@CompanyCode1485,@CompanyCode1486,@CompanyCode1487,@CompanyCode1488,@CompanyCode1489)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1490))) 	
Parameters:
@Type1480[Int32] = 2
@ProjectId1481[String] = 6372912251695766465
@CompanyCode1482[String] = 6373083923489249281
@CompanyCode1483[String] = 6373083925531366080
@CompanyCode1484[String] = 6373083927883400612
@CompanyCode1485[String] = 6373083918575368225
@CompanyCode1486[String] = 6373083920445075162
@CompanyCode1487[String] = 6373083908618598731
@CompanyCode1488[String] = 6373083911842783146
@CompanyCode1489[String] = 6373083913928202424
@ParentCompanyCode1490[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1518)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1491) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1492,@SiteCode1493,@SiteCode1494,@SiteCode1495,@SiteCode1496,@SiteCode1497,@SiteCode1498,@SiteCode1499,@SiteCode1500,@SiteCode1501,@SiteCode1502,@SiteCode1503,@SiteCode1504,@SiteCode1505,@SiteCode1506,@SiteCode1507,@SiteCode1508,@SiteCode1509,@SiteCode1510,@SiteCode1511,@SiteCode1512,@SiteCode1513,@SiteCode1514,@SiteCode1515,@SiteCode1516,@SiteCode1517)))	
Parameters:
@ProjectId1491[String] = 6372912251695766465
@SiteCode1492[String] = 6373083923489249281
@SiteCode1493[String] = 6373083925531366080
@SiteCode1494[String] = 6373083927883400612
@SiteCode1495[String] = 6373083918575368225
@SiteCode1496[String] = 6373083920445075162
@SiteCode1497[String] = 6373083908618598731
@SiteCode1498[String] = 6373083911842783146
@SiteCode1499[String] = 6373083913928202424
@SiteCode1500[String] = 6373083877551621804
@SiteCode1501[String] = 6373083879921857377
@SiteCode1502[String] = 6373083881542550067
@SiteCode1503[String] = 6373083883689772886
@SiteCode1504[String] = 6373083887136270013
@SiteCode1505[String] = 6373083889697116488
@SiteCode1506[String] = 6373083891969846476
@SiteCode1507[String] = 6373083894422586761
@SiteCode1508[String] = 6373083897509963358
@SiteCode1509[String] = 6373083900444931227
@SiteCode1510[String] = 6373083829464571372
@SiteCode1511[String] = 6373083833327492328
@SiteCode1512[String] = 6373083841964286321
@SiteCode1513[String] = 6373083844982558950
@SiteCode1514[String] = 6373083847585007801
@SiteCode1515[String] = 6373083856887939900
@SiteCode1516[String] = 6373083859102666584
@SiteCode1517[String] = 6373083864919499284
@FDictionaryCode1518[String] = OrderState
@FDictionaryCode1519[String] = UrgentDegree
@FDictionaryCode1520[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1519) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1520) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1518)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1491) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1492,@SiteCode1493,@SiteCode1494,@SiteCode1495,@SiteCode1496,@SiteCode1497,@SiteCode1498,@SiteCode1499,@SiteCode1500,@SiteCode1501,@SiteCode1502,@SiteCode1503,@SiteCode1504,@SiteCode1505,@SiteCode1506,@SiteCode1507,@SiteCode1508,@SiteCode1509,@SiteCode1510,@SiteCode1511,@SiteCode1512,@SiteCode1513,@SiteCode1514,@SiteCode1515,@SiteCode1516,@SiteCode1517))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1491[String] = 6372912251695766465
@SiteCode1492[String] = 6373083923489249281
@SiteCode1493[String] = 6373083925531366080
@SiteCode1494[String] = 6373083927883400612
@SiteCode1495[String] = 6373083918575368225
@SiteCode1496[String] = 6373083920445075162
@SiteCode1497[String] = 6373083908618598731
@SiteCode1498[String] = 6373083911842783146
@SiteCode1499[String] = 6373083913928202424
@SiteCode1500[String] = 6373083877551621804
@SiteCode1501[String] = 6373083879921857377
@SiteCode1502[String] = 6373083881542550067
@SiteCode1503[String] = 6373083883689772886
@SiteCode1504[String] = 6373083887136270013
@SiteCode1505[String] = 6373083889697116488
@SiteCode1506[String] = 6373083891969846476
@SiteCode1507[String] = 6373083894422586761
@SiteCode1508[String] = 6373083897509963358
@SiteCode1509[String] = 6373083900444931227
@SiteCode1510[String] = 6373083829464571372
@SiteCode1511[String] = 6373083833327492328
@SiteCode1512[String] = 6373083841964286321
@SiteCode1513[String] = 6373083844982558950
@SiteCode1514[String] = 6373083847585007801
@SiteCode1515[String] = 6373083856887939900
@SiteCode1516[String] = 6373083859102666584
@SiteCode1517[String] = 6373083864919499284
@FDictionaryCode1518[String] = OrderState
@FDictionaryCode1519[String] = UrgentDegree
@FDictionaryCode1520[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:21:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:22:32
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:22:32
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:22:32
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1521) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1522)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1523,@CompanyCode1524,@CompanyCode1525,@CompanyCode1526,@CompanyCode1527,@CompanyCode1528,@CompanyCode1529,@CompanyCode1530)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1531))) 	
Parameters:
@Type1521[Int32] = 1
@ProjectId1522[String] = 6372912251695766465
@CompanyCode1523[String] = 6373083923489249281
@CompanyCode1524[String] = 6373083925531366080
@CompanyCode1525[String] = 6373083927883400612
@CompanyCode1526[String] = 6373083918575368225
@CompanyCode1527[String] = 6373083920445075162
@CompanyCode1528[String] = 6373083908618598731
@CompanyCode1529[String] = 6373083911842783146
@CompanyCode1530[String] = 6373083913928202424
@ParentCompanyCode1531[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1532) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1533)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1534,@CompanyCode1535,@CompanyCode1536,@CompanyCode1537,@CompanyCode1538,@CompanyCode1539,@CompanyCode1540,@CompanyCode1541)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1542))) 	
Parameters:
@Type1532[Int32] = 2
@ProjectId1533[String] = 6372912251695766465
@CompanyCode1534[String] = 6373083923489249281
@CompanyCode1535[String] = 6373083925531366080
@CompanyCode1536[String] = 6373083927883400612
@CompanyCode1537[String] = 6373083918575368225
@CompanyCode1538[String] = 6373083920445075162
@CompanyCode1539[String] = 6373083908618598731
@CompanyCode1540[String] = 6373083911842783146
@CompanyCode1541[String] = 6373083913928202424
@ParentCompanyCode1542[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1570)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1543) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1544,@SiteCode1545,@SiteCode1546,@SiteCode1547,@SiteCode1548,@SiteCode1549,@SiteCode1550,@SiteCode1551,@SiteCode1552,@SiteCode1553,@SiteCode1554,@SiteCode1555,@SiteCode1556,@SiteCode1557,@SiteCode1558,@SiteCode1559,@SiteCode1560,@SiteCode1561,@SiteCode1562,@SiteCode1563,@SiteCode1564,@SiteCode1565,@SiteCode1566,@SiteCode1567,@SiteCode1568,@SiteCode1569)))	
Parameters:
@ProjectId1543[String] = 6372912251695766465
@SiteCode1544[String] = 6373083923489249281
@SiteCode1545[String] = 6373083925531366080
@SiteCode1546[String] = 6373083927883400612
@SiteCode1547[String] = 6373083918575368225
@SiteCode1548[String] = 6373083920445075162
@SiteCode1549[String] = 6373083908618598731
@SiteCode1550[String] = 6373083911842783146
@SiteCode1551[String] = 6373083913928202424
@SiteCode1552[String] = 6373083877551621804
@SiteCode1553[String] = 6373083879921857377
@SiteCode1554[String] = 6373083881542550067
@SiteCode1555[String] = 6373083883689772886
@SiteCode1556[String] = 6373083887136270013
@SiteCode1557[String] = 6373083889697116488
@SiteCode1558[String] = 6373083891969846476
@SiteCode1559[String] = 6373083894422586761
@SiteCode1560[String] = 6373083897509963358
@SiteCode1561[String] = 6373083900444931227
@SiteCode1562[String] = 6373083829464571372
@SiteCode1563[String] = 6373083833327492328
@SiteCode1564[String] = 6373083841964286321
@SiteCode1565[String] = 6373083844982558950
@SiteCode1566[String] = 6373083847585007801
@SiteCode1567[String] = 6373083856887939900
@SiteCode1568[String] = 6373083859102666584
@SiteCode1569[String] = 6373083864919499284
@FDictionaryCode1570[String] = OrderState
@FDictionaryCode1571[String] = UrgentDegree
@FDictionaryCode1572[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1571) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1572) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1570)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1543) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1544,@SiteCode1545,@SiteCode1546,@SiteCode1547,@SiteCode1548,@SiteCode1549,@SiteCode1550,@SiteCode1551,@SiteCode1552,@SiteCode1553,@SiteCode1554,@SiteCode1555,@SiteCode1556,@SiteCode1557,@SiteCode1558,@SiteCode1559,@SiteCode1560,@SiteCode1561,@SiteCode1562,@SiteCode1563,@SiteCode1564,@SiteCode1565,@SiteCode1566,@SiteCode1567,@SiteCode1568,@SiteCode1569))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1543[String] = 6372912251695766465
@SiteCode1544[String] = 6373083923489249281
@SiteCode1545[String] = 6373083925531366080
@SiteCode1546[String] = 6373083927883400612
@SiteCode1547[String] = 6373083918575368225
@SiteCode1548[String] = 6373083920445075162
@SiteCode1549[String] = 6373083908618598731
@SiteCode1550[String] = 6373083911842783146
@SiteCode1551[String] = 6373083913928202424
@SiteCode1552[String] = 6373083877551621804
@SiteCode1553[String] = 6373083879921857377
@SiteCode1554[String] = 6373083881542550067
@SiteCode1555[String] = 6373083883689772886
@SiteCode1556[String] = 6373083887136270013
@SiteCode1557[String] = 6373083889697116488
@SiteCode1558[String] = 6373083891969846476
@SiteCode1559[String] = 6373083894422586761
@SiteCode1560[String] = 6373083897509963358
@SiteCode1561[String] = 6373083900444931227
@SiteCode1562[String] = 6373083829464571372
@SiteCode1563[String] = 6373083833327492328
@SiteCode1564[String] = 6373083841964286321
@SiteCode1565[String] = 6373083844982558950
@SiteCode1566[String] = 6373083847585007801
@SiteCode1567[String] = 6373083856887939900
@SiteCode1568[String] = 6373083859102666584
@SiteCode1569[String] = 6373083864919499284
@FDictionaryCode1570[String] = OrderState
@FDictionaryCode1571[String] = UrgentDegree
@FDictionaryCode1572[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:22:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:22:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:22:48
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1573) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1574)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1575,@CompanyCode1576,@CompanyCode1577,@CompanyCode1578,@CompanyCode1579,@CompanyCode1580,@CompanyCode1581,@CompanyCode1582)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1583))) 	
Parameters:
@Type1573[Int32] = 1
@ProjectId1574[String] = 6372912251695766465
@CompanyCode1575[String] = 6373083923489249281
@CompanyCode1576[String] = 6373083925531366080
@CompanyCode1577[String] = 6373083927883400612
@CompanyCode1578[String] = 6373083918575368225
@CompanyCode1579[String] = 6373083920445075162
@CompanyCode1580[String] = 6373083908618598731
@CompanyCode1581[String] = 6373083911842783146
@CompanyCode1582[String] = 6373083913928202424
@ParentCompanyCode1583[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:22:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:22:48
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1584) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1585)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1586,@CompanyCode1587,@CompanyCode1588,@CompanyCode1589,@CompanyCode1590,@CompanyCode1591,@CompanyCode1592,@CompanyCode1593)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1594))) 	
Parameters:
@Type1584[Int32] = 2
@ProjectId1585[String] = 6372912251695766465
@CompanyCode1586[String] = 6373083923489249281
@CompanyCode1587[String] = 6373083925531366080
@CompanyCode1588[String] = 6373083927883400612
@CompanyCode1589[String] = 6373083918575368225
@CompanyCode1590[String] = 6373083920445075162
@CompanyCode1591[String] = 6373083908618598731
@CompanyCode1592[String] = 6373083911842783146
@CompanyCode1593[String] = 6373083913928202424
@ParentCompanyCode1594[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:22:48
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:22:48
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:22:48
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:22:48
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:22:48
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1622)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1595) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1596,@SiteCode1597,@SiteCode1598,@SiteCode1599,@SiteCode1600,@SiteCode1601,@SiteCode1602,@SiteCode1603,@SiteCode1604,@SiteCode1605,@SiteCode1606,@SiteCode1607,@SiteCode1608,@SiteCode1609,@SiteCode1610,@SiteCode1611,@SiteCode1612,@SiteCode1613,@SiteCode1614,@SiteCode1615,@SiteCode1616,@SiteCode1617,@SiteCode1618,@SiteCode1619,@SiteCode1620,@SiteCode1621)))	
Parameters:
@ProjectId1595[String] = 6372912251695766465
@SiteCode1596[String] = 6373083923489249281
@SiteCode1597[String] = 6373083925531366080
@SiteCode1598[String] = 6373083927883400612
@SiteCode1599[String] = 6373083918575368225
@SiteCode1600[String] = 6373083920445075162
@SiteCode1601[String] = 6373083908618598731
@SiteCode1602[String] = 6373083911842783146
@SiteCode1603[String] = 6373083913928202424
@SiteCode1604[String] = 6373083877551621804
@SiteCode1605[String] = 6373083879921857377
@SiteCode1606[String] = 6373083881542550067
@SiteCode1607[String] = 6373083883689772886
@SiteCode1608[String] = 6373083887136270013
@SiteCode1609[String] = 6373083889697116488
@SiteCode1610[String] = 6373083891969846476
@SiteCode1611[String] = 6373083894422586761
@SiteCode1612[String] = 6373083897509963358
@SiteCode1613[String] = 6373083900444931227
@SiteCode1614[String] = 6373083829464571372
@SiteCode1615[String] = 6373083833327492328
@SiteCode1616[String] = 6373083841964286321
@SiteCode1617[String] = 6373083844982558950
@SiteCode1618[String] = 6373083847585007801
@SiteCode1619[String] = 6373083856887939900
@SiteCode1620[String] = 6373083859102666584
@SiteCode1621[String] = 6373083864919499284
@FDictionaryCode1622[String] = OrderState
@FDictionaryCode1623[String] = UrgentDegree
@FDictionaryCode1624[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:22:48
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1623) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1624) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1622)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1595) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1596,@SiteCode1597,@SiteCode1598,@SiteCode1599,@SiteCode1600,@SiteCode1601,@SiteCode1602,@SiteCode1603,@SiteCode1604,@SiteCode1605,@SiteCode1606,@SiteCode1607,@SiteCode1608,@SiteCode1609,@SiteCode1610,@SiteCode1611,@SiteCode1612,@SiteCode1613,@SiteCode1614,@SiteCode1615,@SiteCode1616,@SiteCode1617,@SiteCode1618,@SiteCode1619,@SiteCode1620,@SiteCode1621))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1595[String] = 6372912251695766465
@SiteCode1596[String] = 6373083923489249281
@SiteCode1597[String] = 6373083925531366080
@SiteCode1598[String] = 6373083927883400612
@SiteCode1599[String] = 6373083918575368225
@SiteCode1600[String] = 6373083920445075162
@SiteCode1601[String] = 6373083908618598731
@SiteCode1602[String] = 6373083911842783146
@SiteCode1603[String] = 6373083913928202424
@SiteCode1604[String] = 6373083877551621804
@SiteCode1605[String] = 6373083879921857377
@SiteCode1606[String] = 6373083881542550067
@SiteCode1607[String] = 6373083883689772886
@SiteCode1608[String] = 6373083887136270013
@SiteCode1609[String] = 6373083889697116488
@SiteCode1610[String] = 6373083891969846476
@SiteCode1611[String] = 6373083894422586761
@SiteCode1612[String] = 6373083897509963358
@SiteCode1613[String] = 6373083900444931227
@SiteCode1614[String] = 6373083829464571372
@SiteCode1615[String] = 6373083833327492328
@SiteCode1616[String] = 6373083841964286321
@SiteCode1617[String] = 6373083844982558950
@SiteCode1618[String] = 6373083847585007801
@SiteCode1619[String] = 6373083856887939900
@SiteCode1620[String] = 6373083859102666584
@SiteCode1621[String] = 6373083864919499284
@FDictionaryCode1622[String] = OrderState
@FDictionaryCode1623[String] = UrgentDegree
@FDictionaryCode1624[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:22:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:22:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:22:49
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:22:49
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:22:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:22:49
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:22:49
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:22:49
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:24:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1625) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1626)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1627,@CompanyCode1628,@CompanyCode1629,@CompanyCode1630,@CompanyCode1631,@CompanyCode1632,@CompanyCode1633,@CompanyCode1634)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1635))) 	
Parameters:
@Type1625[Int32] = 1
@ProjectId1626[String] = 6372912251695766465
@CompanyCode1627[String] = 6373083923489249281
@CompanyCode1628[String] = 6373083925531366080
@CompanyCode1629[String] = 6373083927883400612
@CompanyCode1630[String] = 6373083918575368225
@CompanyCode1631[String] = 6373083920445075162
@CompanyCode1632[String] = 6373083908618598731
@CompanyCode1633[String] = 6373083911842783146
@CompanyCode1634[String] = 6373083913928202424
@ParentCompanyCode1635[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1636) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1637)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1638,@CompanyCode1639,@CompanyCode1640,@CompanyCode1641,@CompanyCode1642,@CompanyCode1643,@CompanyCode1644,@CompanyCode1645)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1646))) 	
Parameters:
@Type1636[Int32] = 2
@ProjectId1637[String] = 6372912251695766465
@CompanyCode1638[String] = 6373083923489249281
@CompanyCode1639[String] = 6373083925531366080
@CompanyCode1640[String] = 6373083927883400612
@CompanyCode1641[String] = 6373083918575368225
@CompanyCode1642[String] = 6373083920445075162
@CompanyCode1643[String] = 6373083908618598731
@CompanyCode1644[String] = 6373083911842783146
@CompanyCode1645[String] = 6373083913928202424
@ParentCompanyCode1646[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1674)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1647) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1648,@SiteCode1649,@SiteCode1650,@SiteCode1651,@SiteCode1652,@SiteCode1653,@SiteCode1654,@SiteCode1655,@SiteCode1656,@SiteCode1657,@SiteCode1658,@SiteCode1659,@SiteCode1660,@SiteCode1661,@SiteCode1662,@SiteCode1663,@SiteCode1664,@SiteCode1665,@SiteCode1666,@SiteCode1667,@SiteCode1668,@SiteCode1669,@SiteCode1670,@SiteCode1671,@SiteCode1672,@SiteCode1673)))	
Parameters:
@ProjectId1647[String] = 6372912251695766465
@SiteCode1648[String] = 6373083923489249281
@SiteCode1649[String] = 6373083925531366080
@SiteCode1650[String] = 6373083927883400612
@SiteCode1651[String] = 6373083918575368225
@SiteCode1652[String] = 6373083920445075162
@SiteCode1653[String] = 6373083908618598731
@SiteCode1654[String] = 6373083911842783146
@SiteCode1655[String] = 6373083913928202424
@SiteCode1656[String] = 6373083877551621804
@SiteCode1657[String] = 6373083879921857377
@SiteCode1658[String] = 6373083881542550067
@SiteCode1659[String] = 6373083883689772886
@SiteCode1660[String] = 6373083887136270013
@SiteCode1661[String] = 6373083889697116488
@SiteCode1662[String] = 6373083891969846476
@SiteCode1663[String] = 6373083894422586761
@SiteCode1664[String] = 6373083897509963358
@SiteCode1665[String] = 6373083900444931227
@SiteCode1666[String] = 6373083829464571372
@SiteCode1667[String] = 6373083833327492328
@SiteCode1668[String] = 6373083841964286321
@SiteCode1669[String] = 6373083844982558950
@SiteCode1670[String] = 6373083847585007801
@SiteCode1671[String] = 6373083856887939900
@SiteCode1672[String] = 6373083859102666584
@SiteCode1673[String] = 6373083864919499284
@FDictionaryCode1674[String] = OrderState
@FDictionaryCode1675[String] = UrgentDegree
@FDictionaryCode1676[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1675) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1676) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1674)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1647) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1648,@SiteCode1649,@SiteCode1650,@SiteCode1651,@SiteCode1652,@SiteCode1653,@SiteCode1654,@SiteCode1655,@SiteCode1656,@SiteCode1657,@SiteCode1658,@SiteCode1659,@SiteCode1660,@SiteCode1661,@SiteCode1662,@SiteCode1663,@SiteCode1664,@SiteCode1665,@SiteCode1666,@SiteCode1667,@SiteCode1668,@SiteCode1669,@SiteCode1670,@SiteCode1671,@SiteCode1672,@SiteCode1673))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1647[String] = 6372912251695766465
@SiteCode1648[String] = 6373083923489249281
@SiteCode1649[String] = 6373083925531366080
@SiteCode1650[String] = 6373083927883400612
@SiteCode1651[String] = 6373083918575368225
@SiteCode1652[String] = 6373083920445075162
@SiteCode1653[String] = 6373083908618598731
@SiteCode1654[String] = 6373083911842783146
@SiteCode1655[String] = 6373083913928202424
@SiteCode1656[String] = 6373083877551621804
@SiteCode1657[String] = 6373083879921857377
@SiteCode1658[String] = 6373083881542550067
@SiteCode1659[String] = 6373083883689772886
@SiteCode1660[String] = 6373083887136270013
@SiteCode1661[String] = 6373083889697116488
@SiteCode1662[String] = 6373083891969846476
@SiteCode1663[String] = 6373083894422586761
@SiteCode1664[String] = 6373083897509963358
@SiteCode1665[String] = 6373083900444931227
@SiteCode1666[String] = 6373083829464571372
@SiteCode1667[String] = 6373083833327492328
@SiteCode1668[String] = 6373083841964286321
@SiteCode1669[String] = 6373083844982558950
@SiteCode1670[String] = 6373083847585007801
@SiteCode1671[String] = 6373083856887939900
@SiteCode1672[String] = 6373083859102666584
@SiteCode1673[String] = 6373083864919499284
@FDictionaryCode1674[String] = OrderState
@FDictionaryCode1675[String] = UrgentDegree
@FDictionaryCode1676[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:24:44
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:24:45
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:24:45
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:24:45
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:25:32
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:26:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:26:25
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1704)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1677) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1678,@SiteCode1679,@SiteCode1680,@SiteCode1681,@SiteCode1682,@SiteCode1683,@SiteCode1684,@SiteCode1685,@SiteCode1686,@SiteCode1687,@SiteCode1688,@SiteCode1689,@SiteCode1690,@SiteCode1691,@SiteCode1692,@SiteCode1693,@SiteCode1694,@SiteCode1695,@SiteCode1696,@SiteCode1697,@SiteCode1698,@SiteCode1699,@SiteCode1700,@SiteCode1701,@SiteCode1702,@SiteCode1703)))	
Parameters:
@ProjectId1677[String] = 6372912251695766465
@SiteCode1678[String] = 6373083923489249281
@SiteCode1679[String] = 6373083925531366080
@SiteCode1680[String] = 6373083927883400612
@SiteCode1681[String] = 6373083918575368225
@SiteCode1682[String] = 6373083920445075162
@SiteCode1683[String] = 6373083908618598731
@SiteCode1684[String] = 6373083911842783146
@SiteCode1685[String] = 6373083913928202424
@SiteCode1686[String] = 6373083877551621804
@SiteCode1687[String] = 6373083879921857377
@SiteCode1688[String] = 6373083881542550067
@SiteCode1689[String] = 6373083883689772886
@SiteCode1690[String] = 6373083887136270013
@SiteCode1691[String] = 6373083889697116488
@SiteCode1692[String] = 6373083891969846476
@SiteCode1693[String] = 6373083894422586761
@SiteCode1694[String] = 6373083897509963358
@SiteCode1695[String] = 6373083900444931227
@SiteCode1696[String] = 6373083829464571372
@SiteCode1697[String] = 6373083833327492328
@SiteCode1698[String] = 6373083841964286321
@SiteCode1699[String] = 6373083844982558950
@SiteCode1700[String] = 6373083847585007801
@SiteCode1701[String] = 6373083856887939900
@SiteCode1702[String] = 6373083859102666584
@SiteCode1703[String] = 6373083864919499284
@FDictionaryCode1704[String] = OrderState
@FDictionaryCode1705[String] = UrgentDegree
@FDictionaryCode1706[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:26:25
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1705) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1706) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1704)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1677) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1678,@SiteCode1679,@SiteCode1680,@SiteCode1681,@SiteCode1682,@SiteCode1683,@SiteCode1684,@SiteCode1685,@SiteCode1686,@SiteCode1687,@SiteCode1688,@SiteCode1689,@SiteCode1690,@SiteCode1691,@SiteCode1692,@SiteCode1693,@SiteCode1694,@SiteCode1695,@SiteCode1696,@SiteCode1697,@SiteCode1698,@SiteCode1699,@SiteCode1700,@SiteCode1701,@SiteCode1702,@SiteCode1703))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1677[String] = 6372912251695766465
@SiteCode1678[String] = 6373083923489249281
@SiteCode1679[String] = 6373083925531366080
@SiteCode1680[String] = 6373083927883400612
@SiteCode1681[String] = 6373083918575368225
@SiteCode1682[String] = 6373083920445075162
@SiteCode1683[String] = 6373083908618598731
@SiteCode1684[String] = 6373083911842783146
@SiteCode1685[String] = 6373083913928202424
@SiteCode1686[String] = 6373083877551621804
@SiteCode1687[String] = 6373083879921857377
@SiteCode1688[String] = 6373083881542550067
@SiteCode1689[String] = 6373083883689772886
@SiteCode1690[String] = 6373083887136270013
@SiteCode1691[String] = 6373083889697116488
@SiteCode1692[String] = 6373083891969846476
@SiteCode1693[String] = 6373083894422586761
@SiteCode1694[String] = 6373083897509963358
@SiteCode1695[String] = 6373083900444931227
@SiteCode1696[String] = 6373083829464571372
@SiteCode1697[String] = 6373083833327492328
@SiteCode1698[String] = 6373083841964286321
@SiteCode1699[String] = 6373083844982558950
@SiteCode1700[String] = 6373083847585007801
@SiteCode1701[String] = 6373083856887939900
@SiteCode1702[String] = 6373083859102666584
@SiteCode1703[String] = 6373083864919499284
@FDictionaryCode1704[String] = OrderState
@FDictionaryCode1705[String] = UrgentDegree
@FDictionaryCode1706[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1707) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1708)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1709,@CompanyCode1710,@CompanyCode1711,@CompanyCode1712,@CompanyCode1713,@CompanyCode1714,@CompanyCode1715,@CompanyCode1716)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1717))) 	
Parameters:
@Type1707[Int32] = 1
@ProjectId1708[String] = 6372912251695766465
@CompanyCode1709[String] = 6373083923489249281
@CompanyCode1710[String] = 6373083925531366080
@CompanyCode1711[String] = 6373083927883400612
@CompanyCode1712[String] = 6373083918575368225
@CompanyCode1713[String] = 6373083920445075162
@CompanyCode1714[String] = 6373083908618598731
@CompanyCode1715[String] = 6373083911842783146
@CompanyCode1716[String] = 6373083913928202424
@ParentCompanyCode1717[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1718) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1719)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1720,@CompanyCode1721,@CompanyCode1722,@CompanyCode1723,@CompanyCode1724,@CompanyCode1725,@CompanyCode1726,@CompanyCode1727)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1728))) 	
Parameters:
@Type1718[Int32] = 2
@ProjectId1719[String] = 6372912251695766465
@CompanyCode1720[String] = 6373083923489249281
@CompanyCode1721[String] = 6373083925531366080
@CompanyCode1722[String] = 6373083927883400612
@CompanyCode1723[String] = 6373083918575368225
@CompanyCode1724[String] = 6373083920445075162
@CompanyCode1725[String] = 6373083908618598731
@CompanyCode1726[String] = 6373083911842783146
@CompanyCode1727[String] = 6373083913928202424
@ParentCompanyCode1728[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1756)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1729) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1730,@SiteCode1731,@SiteCode1732,@SiteCode1733,@SiteCode1734,@SiteCode1735,@SiteCode1736,@SiteCode1737,@SiteCode1738,@SiteCode1739,@SiteCode1740,@SiteCode1741,@SiteCode1742,@SiteCode1743,@SiteCode1744,@SiteCode1745,@SiteCode1746,@SiteCode1747,@SiteCode1748,@SiteCode1749,@SiteCode1750,@SiteCode1751,@SiteCode1752,@SiteCode1753,@SiteCode1754,@SiteCode1755)))	
Parameters:
@ProjectId1729[String] = 6372912251695766465
@SiteCode1730[String] = 6373083923489249281
@SiteCode1731[String] = 6373083925531366080
@SiteCode1732[String] = 6373083927883400612
@SiteCode1733[String] = 6373083918575368225
@SiteCode1734[String] = 6373083920445075162
@SiteCode1735[String] = 6373083908618598731
@SiteCode1736[String] = 6373083911842783146
@SiteCode1737[String] = 6373083913928202424
@SiteCode1738[String] = 6373083877551621804
@SiteCode1739[String] = 6373083879921857377
@SiteCode1740[String] = 6373083881542550067
@SiteCode1741[String] = 6373083883689772886
@SiteCode1742[String] = 6373083887136270013
@SiteCode1743[String] = 6373083889697116488
@SiteCode1744[String] = 6373083891969846476
@SiteCode1745[String] = 6373083894422586761
@SiteCode1746[String] = 6373083897509963358
@SiteCode1747[String] = 6373083900444931227
@SiteCode1748[String] = 6373083829464571372
@SiteCode1749[String] = 6373083833327492328
@SiteCode1750[String] = 6373083841964286321
@SiteCode1751[String] = 6373083844982558950
@SiteCode1752[String] = 6373083847585007801
@SiteCode1753[String] = 6373083856887939900
@SiteCode1754[String] = 6373083859102666584
@SiteCode1755[String] = 6373083864919499284
@FDictionaryCode1756[String] = OrderState
@FDictionaryCode1757[String] = UrgentDegree
@FDictionaryCode1758[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1757) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1758) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1756)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1729) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1730,@SiteCode1731,@SiteCode1732,@SiteCode1733,@SiteCode1734,@SiteCode1735,@SiteCode1736,@SiteCode1737,@SiteCode1738,@SiteCode1739,@SiteCode1740,@SiteCode1741,@SiteCode1742,@SiteCode1743,@SiteCode1744,@SiteCode1745,@SiteCode1746,@SiteCode1747,@SiteCode1748,@SiteCode1749,@SiteCode1750,@SiteCode1751,@SiteCode1752,@SiteCode1753,@SiteCode1754,@SiteCode1755))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1729[String] = 6372912251695766465
@SiteCode1730[String] = 6373083923489249281
@SiteCode1731[String] = 6373083925531366080
@SiteCode1732[String] = 6373083927883400612
@SiteCode1733[String] = 6373083918575368225
@SiteCode1734[String] = 6373083920445075162
@SiteCode1735[String] = 6373083908618598731
@SiteCode1736[String] = 6373083911842783146
@SiteCode1737[String] = 6373083913928202424
@SiteCode1738[String] = 6373083877551621804
@SiteCode1739[String] = 6373083879921857377
@SiteCode1740[String] = 6373083881542550067
@SiteCode1741[String] = 6373083883689772886
@SiteCode1742[String] = 6373083887136270013
@SiteCode1743[String] = 6373083889697116488
@SiteCode1744[String] = 6373083891969846476
@SiteCode1745[String] = 6373083894422586761
@SiteCode1746[String] = 6373083897509963358
@SiteCode1747[String] = 6373083900444931227
@SiteCode1748[String] = 6373083829464571372
@SiteCode1749[String] = 6373083833327492328
@SiteCode1750[String] = 6373083841964286321
@SiteCode1751[String] = 6373083844982558950
@SiteCode1752[String] = 6373083847585007801
@SiteCode1753[String] = 6373083856887939900
@SiteCode1754[String] = 6373083859102666584
@SiteCode1755[String] = 6373083864919499284
@FDictionaryCode1756[String] = OrderState
@FDictionaryCode1757[String] = UrgentDegree
@FDictionaryCode1758[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:26:28
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:26:29
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:26:29
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:26:29
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:26:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:26:57
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1759) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1760)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1761,@CompanyCode1762,@CompanyCode1763,@CompanyCode1764,@CompanyCode1765,@CompanyCode1766,@CompanyCode1767,@CompanyCode1768)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1769))) 	
Parameters:
@Type1759[Int32] = 1
@ProjectId1760[String] = 6372912251695766465
@CompanyCode1761[String] = 6373083923489249281
@CompanyCode1762[String] = 6373083925531366080
@CompanyCode1763[String] = 6373083927883400612
@CompanyCode1764[String] = 6373083918575368225
@CompanyCode1765[String] = 6373083920445075162
@CompanyCode1766[String] = 6373083908618598731
@CompanyCode1767[String] = 6373083911842783146
@CompanyCode1768[String] = 6373083913928202424
@ParentCompanyCode1769[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:26:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:26:57
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1770) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1771)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1772,@CompanyCode1773,@CompanyCode1774,@CompanyCode1775,@CompanyCode1776,@CompanyCode1777,@CompanyCode1778,@CompanyCode1779)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1780))) 	
Parameters:
@Type1770[Int32] = 2
@ProjectId1771[String] = 6372912251695766465
@CompanyCode1772[String] = 6373083923489249281
@CompanyCode1773[String] = 6373083925531366080
@CompanyCode1774[String] = 6373083927883400612
@CompanyCode1775[String] = 6373083918575368225
@CompanyCode1776[String] = 6373083920445075162
@CompanyCode1777[String] = 6373083908618598731
@CompanyCode1778[String] = 6373083911842783146
@CompanyCode1779[String] = 6373083913928202424
@ParentCompanyCode1780[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:26:57
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:26:57
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:26:57
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:26:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:26:57
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1808)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1781) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1782,@SiteCode1783,@SiteCode1784,@SiteCode1785,@SiteCode1786,@SiteCode1787,@SiteCode1788,@SiteCode1789,@SiteCode1790,@SiteCode1791,@SiteCode1792,@SiteCode1793,@SiteCode1794,@SiteCode1795,@SiteCode1796,@SiteCode1797,@SiteCode1798,@SiteCode1799,@SiteCode1800,@SiteCode1801,@SiteCode1802,@SiteCode1803,@SiteCode1804,@SiteCode1805,@SiteCode1806,@SiteCode1807)))	
Parameters:
@ProjectId1781[String] = 6372912251695766465
@SiteCode1782[String] = 6373083923489249281
@SiteCode1783[String] = 6373083925531366080
@SiteCode1784[String] = 6373083927883400612
@SiteCode1785[String] = 6373083918575368225
@SiteCode1786[String] = 6373083920445075162
@SiteCode1787[String] = 6373083908618598731
@SiteCode1788[String] = 6373083911842783146
@SiteCode1789[String] = 6373083913928202424
@SiteCode1790[String] = 6373083877551621804
@SiteCode1791[String] = 6373083879921857377
@SiteCode1792[String] = 6373083881542550067
@SiteCode1793[String] = 6373083883689772886
@SiteCode1794[String] = 6373083887136270013
@SiteCode1795[String] = 6373083889697116488
@SiteCode1796[String] = 6373083891969846476
@SiteCode1797[String] = 6373083894422586761
@SiteCode1798[String] = 6373083897509963358
@SiteCode1799[String] = 6373083900444931227
@SiteCode1800[String] = 6373083829464571372
@SiteCode1801[String] = 6373083833327492328
@SiteCode1802[String] = 6373083841964286321
@SiteCode1803[String] = 6373083844982558950
@SiteCode1804[String] = 6373083847585007801
@SiteCode1805[String] = 6373083856887939900
@SiteCode1806[String] = 6373083859102666584
@SiteCode1807[String] = 6373083864919499284
@FDictionaryCode1808[String] = OrderState
@FDictionaryCode1809[String] = UrgentDegree
@FDictionaryCode1810[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:26:57
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1809) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1810) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1808)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1781) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1782,@SiteCode1783,@SiteCode1784,@SiteCode1785,@SiteCode1786,@SiteCode1787,@SiteCode1788,@SiteCode1789,@SiteCode1790,@SiteCode1791,@SiteCode1792,@SiteCode1793,@SiteCode1794,@SiteCode1795,@SiteCode1796,@SiteCode1797,@SiteCode1798,@SiteCode1799,@SiteCode1800,@SiteCode1801,@SiteCode1802,@SiteCode1803,@SiteCode1804,@SiteCode1805,@SiteCode1806,@SiteCode1807))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1781[String] = 6372912251695766465
@SiteCode1782[String] = 6373083923489249281
@SiteCode1783[String] = 6373083925531366080
@SiteCode1784[String] = 6373083927883400612
@SiteCode1785[String] = 6373083918575368225
@SiteCode1786[String] = 6373083920445075162
@SiteCode1787[String] = 6373083908618598731
@SiteCode1788[String] = 6373083911842783146
@SiteCode1789[String] = 6373083913928202424
@SiteCode1790[String] = 6373083877551621804
@SiteCode1791[String] = 6373083879921857377
@SiteCode1792[String] = 6373083881542550067
@SiteCode1793[String] = 6373083883689772886
@SiteCode1794[String] = 6373083887136270013
@SiteCode1795[String] = 6373083889697116488
@SiteCode1796[String] = 6373083891969846476
@SiteCode1797[String] = 6373083894422586761
@SiteCode1798[String] = 6373083897509963358
@SiteCode1799[String] = 6373083900444931227
@SiteCode1800[String] = 6373083829464571372
@SiteCode1801[String] = 6373083833327492328
@SiteCode1802[String] = 6373083841964286321
@SiteCode1803[String] = 6373083844982558950
@SiteCode1804[String] = 6373083847585007801
@SiteCode1805[String] = 6373083856887939900
@SiteCode1806[String] = 6373083859102666584
@SiteCode1807[String] = 6373083864919499284
@FDictionaryCode1808[String] = OrderState
@FDictionaryCode1809[String] = UrgentDegree
@FDictionaryCode1810[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:26:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:26:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:26:58
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:26:58
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:26:58
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:26:58
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:26:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:26:58
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:27:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:27:25
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1811) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1812)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1813,@CompanyCode1814,@CompanyCode1815,@CompanyCode1816,@CompanyCode1817,@CompanyCode1818,@CompanyCode1819,@CompanyCode1820)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1821))) 	
Parameters:
@Type1811[Int32] = 1
@ProjectId1812[String] = 6372912251695766465
@CompanyCode1813[String] = 6373083923489249281
@CompanyCode1814[String] = 6373083925531366080
@CompanyCode1815[String] = 6373083927883400612
@CompanyCode1816[String] = 6373083918575368225
@CompanyCode1817[String] = 6373083920445075162
@CompanyCode1818[String] = 6373083908618598731
@CompanyCode1819[String] = 6373083911842783146
@CompanyCode1820[String] = 6373083913928202424
@ParentCompanyCode1821[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:27:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:27:25
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1822) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1823)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1824,@CompanyCode1825,@CompanyCode1826,@CompanyCode1827,@CompanyCode1828,@CompanyCode1829,@CompanyCode1830,@CompanyCode1831)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1832))) 	
Parameters:
@Type1822[Int32] = 2
@ProjectId1823[String] = 6372912251695766465
@CompanyCode1824[String] = 6373083923489249281
@CompanyCode1825[String] = 6373083925531366080
@CompanyCode1826[String] = 6373083927883400612
@CompanyCode1827[String] = 6373083918575368225
@CompanyCode1828[String] = 6373083920445075162
@CompanyCode1829[String] = 6373083908618598731
@CompanyCode1830[String] = 6373083911842783146
@CompanyCode1831[String] = 6373083913928202424
@ParentCompanyCode1832[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:27:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:27:25
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:27:25
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:27:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:27:25
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1860)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1833) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1834,@SiteCode1835,@SiteCode1836,@SiteCode1837,@SiteCode1838,@SiteCode1839,@SiteCode1840,@SiteCode1841,@SiteCode1842,@SiteCode1843,@SiteCode1844,@SiteCode1845,@SiteCode1846,@SiteCode1847,@SiteCode1848,@SiteCode1849,@SiteCode1850,@SiteCode1851,@SiteCode1852,@SiteCode1853,@SiteCode1854,@SiteCode1855,@SiteCode1856,@SiteCode1857,@SiteCode1858,@SiteCode1859)))	
Parameters:
@ProjectId1833[String] = 6372912251695766465
@SiteCode1834[String] = 6373083923489249281
@SiteCode1835[String] = 6373083925531366080
@SiteCode1836[String] = 6373083927883400612
@SiteCode1837[String] = 6373083918575368225
@SiteCode1838[String] = 6373083920445075162
@SiteCode1839[String] = 6373083908618598731
@SiteCode1840[String] = 6373083911842783146
@SiteCode1841[String] = 6373083913928202424
@SiteCode1842[String] = 6373083877551621804
@SiteCode1843[String] = 6373083879921857377
@SiteCode1844[String] = 6373083881542550067
@SiteCode1845[String] = 6373083883689772886
@SiteCode1846[String] = 6373083887136270013
@SiteCode1847[String] = 6373083889697116488
@SiteCode1848[String] = 6373083891969846476
@SiteCode1849[String] = 6373083894422586761
@SiteCode1850[String] = 6373083897509963358
@SiteCode1851[String] = 6373083900444931227
@SiteCode1852[String] = 6373083829464571372
@SiteCode1853[String] = 6373083833327492328
@SiteCode1854[String] = 6373083841964286321
@SiteCode1855[String] = 6373083844982558950
@SiteCode1856[String] = 6373083847585007801
@SiteCode1857[String] = 6373083856887939900
@SiteCode1858[String] = 6373083859102666584
@SiteCode1859[String] = 6373083864919499284
@FDictionaryCode1860[String] = OrderState
@FDictionaryCode1861[String] = UrgentDegree
@FDictionaryCode1862[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:27:25
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1861) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1862) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1860)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1833) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1834,@SiteCode1835,@SiteCode1836,@SiteCode1837,@SiteCode1838,@SiteCode1839,@SiteCode1840,@SiteCode1841,@SiteCode1842,@SiteCode1843,@SiteCode1844,@SiteCode1845,@SiteCode1846,@SiteCode1847,@SiteCode1848,@SiteCode1849,@SiteCode1850,@SiteCode1851,@SiteCode1852,@SiteCode1853,@SiteCode1854,@SiteCode1855,@SiteCode1856,@SiteCode1857,@SiteCode1858,@SiteCode1859))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1833[String] = 6372912251695766465
@SiteCode1834[String] = 6373083923489249281
@SiteCode1835[String] = 6373083925531366080
@SiteCode1836[String] = 6373083927883400612
@SiteCode1837[String] = 6373083918575368225
@SiteCode1838[String] = 6373083920445075162
@SiteCode1839[String] = 6373083908618598731
@SiteCode1840[String] = 6373083911842783146
@SiteCode1841[String] = 6373083913928202424
@SiteCode1842[String] = 6373083877551621804
@SiteCode1843[String] = 6373083879921857377
@SiteCode1844[String] = 6373083881542550067
@SiteCode1845[String] = 6373083883689772886
@SiteCode1846[String] = 6373083887136270013
@SiteCode1847[String] = 6373083889697116488
@SiteCode1848[String] = 6373083891969846476
@SiteCode1849[String] = 6373083894422586761
@SiteCode1850[String] = 6373083897509963358
@SiteCode1851[String] = 6373083900444931227
@SiteCode1852[String] = 6373083829464571372
@SiteCode1853[String] = 6373083833327492328
@SiteCode1854[String] = 6373083841964286321
@SiteCode1855[String] = 6373083844982558950
@SiteCode1856[String] = 6373083847585007801
@SiteCode1857[String] = 6373083856887939900
@SiteCode1858[String] = 6373083859102666584
@SiteCode1859[String] = 6373083864919499284
@FDictionaryCode1860[String] = OrderState
@FDictionaryCode1861[String] = UrgentDegree
@FDictionaryCode1862[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:27:26
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:27:26
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:27:26
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:27:26
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:27:26
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:27:26
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:27:26
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:27:26
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:28:32
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:29:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:29:11
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1863) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1864)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1865,@CompanyCode1866,@CompanyCode1867,@CompanyCode1868,@CompanyCode1869,@CompanyCode1870,@CompanyCode1871,@CompanyCode1872)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1873))) 	
Parameters:
@Type1863[Int32] = 1
@ProjectId1864[String] = 6372912251695766465
@CompanyCode1865[String] = 6373083923489249281
@CompanyCode1866[String] = 6373083925531366080
@CompanyCode1867[String] = 6373083927883400612
@CompanyCode1868[String] = 6373083918575368225
@CompanyCode1869[String] = 6373083920445075162
@CompanyCode1870[String] = 6373083908618598731
@CompanyCode1871[String] = 6373083911842783146
@CompanyCode1872[String] = 6373083913928202424
@ParentCompanyCode1873[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1874) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1875)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1876,@CompanyCode1877,@CompanyCode1878,@CompanyCode1879,@CompanyCode1880,@CompanyCode1881,@CompanyCode1882,@CompanyCode1883)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1884))) 	
Parameters:
@Type1874[Int32] = 2
@ProjectId1875[String] = 6372912251695766465
@CompanyCode1876[String] = 6373083923489249281
@CompanyCode1877[String] = 6373083925531366080
@CompanyCode1878[String] = 6373083927883400612
@CompanyCode1879[String] = 6373083918575368225
@CompanyCode1880[String] = 6373083920445075162
@CompanyCode1881[String] = 6373083908618598731
@CompanyCode1882[String] = 6373083911842783146
@CompanyCode1883[String] = 6373083913928202424
@ParentCompanyCode1884[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1912)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1885) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1886,@SiteCode1887,@SiteCode1888,@SiteCode1889,@SiteCode1890,@SiteCode1891,@SiteCode1892,@SiteCode1893,@SiteCode1894,@SiteCode1895,@SiteCode1896,@SiteCode1897,@SiteCode1898,@SiteCode1899,@SiteCode1900,@SiteCode1901,@SiteCode1902,@SiteCode1903,@SiteCode1904,@SiteCode1905,@SiteCode1906,@SiteCode1907,@SiteCode1908,@SiteCode1909,@SiteCode1910,@SiteCode1911)))	
Parameters:
@ProjectId1885[String] = 6372912251695766465
@SiteCode1886[String] = 6373083923489249281
@SiteCode1887[String] = 6373083925531366080
@SiteCode1888[String] = 6373083927883400612
@SiteCode1889[String] = 6373083918575368225
@SiteCode1890[String] = 6373083920445075162
@SiteCode1891[String] = 6373083908618598731
@SiteCode1892[String] = 6373083911842783146
@SiteCode1893[String] = 6373083913928202424
@SiteCode1894[String] = 6373083877551621804
@SiteCode1895[String] = 6373083879921857377
@SiteCode1896[String] = 6373083881542550067
@SiteCode1897[String] = 6373083883689772886
@SiteCode1898[String] = 6373083887136270013
@SiteCode1899[String] = 6373083889697116488
@SiteCode1900[String] = 6373083891969846476
@SiteCode1901[String] = 6373083894422586761
@SiteCode1902[String] = 6373083897509963358
@SiteCode1903[String] = 6373083900444931227
@SiteCode1904[String] = 6373083829464571372
@SiteCode1905[String] = 6373083833327492328
@SiteCode1906[String] = 6373083841964286321
@SiteCode1907[String] = 6373083844982558950
@SiteCode1908[String] = 6373083847585007801
@SiteCode1909[String] = 6373083856887939900
@SiteCode1910[String] = 6373083859102666584
@SiteCode1911[String] = 6373083864919499284
@FDictionaryCode1912[String] = OrderState
@FDictionaryCode1913[String] = UrgentDegree
@FDictionaryCode1914[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1913) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1914) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1912)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1885) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1886,@SiteCode1887,@SiteCode1888,@SiteCode1889,@SiteCode1890,@SiteCode1891,@SiteCode1892,@SiteCode1893,@SiteCode1894,@SiteCode1895,@SiteCode1896,@SiteCode1897,@SiteCode1898,@SiteCode1899,@SiteCode1900,@SiteCode1901,@SiteCode1902,@SiteCode1903,@SiteCode1904,@SiteCode1905,@SiteCode1906,@SiteCode1907,@SiteCode1908,@SiteCode1909,@SiteCode1910,@SiteCode1911))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1885[String] = 6372912251695766465
@SiteCode1886[String] = 6373083923489249281
@SiteCode1887[String] = 6373083925531366080
@SiteCode1888[String] = 6373083927883400612
@SiteCode1889[String] = 6373083918575368225
@SiteCode1890[String] = 6373083920445075162
@SiteCode1891[String] = 6373083908618598731
@SiteCode1892[String] = 6373083911842783146
@SiteCode1893[String] = 6373083913928202424
@SiteCode1894[String] = 6373083877551621804
@SiteCode1895[String] = 6373083879921857377
@SiteCode1896[String] = 6373083881542550067
@SiteCode1897[String] = 6373083883689772886
@SiteCode1898[String] = 6373083887136270013
@SiteCode1899[String] = 6373083889697116488
@SiteCode1900[String] = 6373083891969846476
@SiteCode1901[String] = 6373083894422586761
@SiteCode1902[String] = 6373083897509963358
@SiteCode1903[String] = 6373083900444931227
@SiteCode1904[String] = 6373083829464571372
@SiteCode1905[String] = 6373083833327492328
@SiteCode1906[String] = 6373083841964286321
@SiteCode1907[String] = 6373083844982558950
@SiteCode1908[String] = 6373083847585007801
@SiteCode1909[String] = 6373083856887939900
@SiteCode1910[String] = 6373083859102666584
@SiteCode1911[String] = 6373083864919499284
@FDictionaryCode1912[String] = OrderState
@FDictionaryCode1913[String] = UrgentDegree
@FDictionaryCode1914[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:29:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:30:04
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:30:04
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:30:04
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:30:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:30:05
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1915) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1916)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1917,@CompanyCode1918,@CompanyCode1919,@CompanyCode1920,@CompanyCode1921,@CompanyCode1922,@CompanyCode1923,@CompanyCode1924)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1925))) 	
Parameters:
@Type1915[Int32] = 1
@ProjectId1916[String] = 6372912251695766465
@CompanyCode1917[String] = 6373083923489249281
@CompanyCode1918[String] = 6373083925531366080
@CompanyCode1919[String] = 6373083927883400612
@CompanyCode1920[String] = 6373083918575368225
@CompanyCode1921[String] = 6373083920445075162
@CompanyCode1922[String] = 6373083908618598731
@CompanyCode1923[String] = 6373083911842783146
@CompanyCode1924[String] = 6373083913928202424
@ParentCompanyCode1925[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:30:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:30:05
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1926) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1927)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1928,@CompanyCode1929,@CompanyCode1930,@CompanyCode1931,@CompanyCode1932,@CompanyCode1933,@CompanyCode1934,@CompanyCode1935)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1936))) 	
Parameters:
@Type1926[Int32] = 2
@ProjectId1927[String] = 6372912251695766465
@CompanyCode1928[String] = 6373083923489249281
@CompanyCode1929[String] = 6373083925531366080
@CompanyCode1930[String] = 6373083927883400612
@CompanyCode1931[String] = 6373083918575368225
@CompanyCode1932[String] = 6373083920445075162
@CompanyCode1933[String] = 6373083908618598731
@CompanyCode1934[String] = 6373083911842783146
@CompanyCode1935[String] = 6373083913928202424
@ParentCompanyCode1936[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:30:05
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:30:05
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:30:05
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1964)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1937) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1938,@SiteCode1939,@SiteCode1940,@SiteCode1941,@SiteCode1942,@SiteCode1943,@SiteCode1944,@SiteCode1945,@SiteCode1946,@SiteCode1947,@SiteCode1948,@SiteCode1949,@SiteCode1950,@SiteCode1951,@SiteCode1952,@SiteCode1953,@SiteCode1954,@SiteCode1955,@SiteCode1956,@SiteCode1957,@SiteCode1958,@SiteCode1959,@SiteCode1960,@SiteCode1961,@SiteCode1962,@SiteCode1963)))	
Parameters:
@ProjectId1937[String] = 6372912251695766465
@SiteCode1938[String] = 6373083923489249281
@SiteCode1939[String] = 6373083925531366080
@SiteCode1940[String] = 6373083927883400612
@SiteCode1941[String] = 6373083918575368225
@SiteCode1942[String] = 6373083920445075162
@SiteCode1943[String] = 6373083908618598731
@SiteCode1944[String] = 6373083911842783146
@SiteCode1945[String] = 6373083913928202424
@SiteCode1946[String] = 6373083877551621804
@SiteCode1947[String] = 6373083879921857377
@SiteCode1948[String] = 6373083881542550067
@SiteCode1949[String] = 6373083883689772886
@SiteCode1950[String] = 6373083887136270013
@SiteCode1951[String] = 6373083889697116488
@SiteCode1952[String] = 6373083891969846476
@SiteCode1953[String] = 6373083894422586761
@SiteCode1954[String] = 6373083897509963358
@SiteCode1955[String] = 6373083900444931227
@SiteCode1956[String] = 6373083829464571372
@SiteCode1957[String] = 6373083833327492328
@SiteCode1958[String] = 6373083841964286321
@SiteCode1959[String] = 6373083844982558950
@SiteCode1960[String] = 6373083847585007801
@SiteCode1961[String] = 6373083856887939900
@SiteCode1962[String] = 6373083859102666584
@SiteCode1963[String] = 6373083864919499284
@FDictionaryCode1964[String] = OrderState
@FDictionaryCode1965[String] = UrgentDegree
@FDictionaryCode1966[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:30:05
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1965) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1966) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode1964)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1937) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1938,@SiteCode1939,@SiteCode1940,@SiteCode1941,@SiteCode1942,@SiteCode1943,@SiteCode1944,@SiteCode1945,@SiteCode1946,@SiteCode1947,@SiteCode1948,@SiteCode1949,@SiteCode1950,@SiteCode1951,@SiteCode1952,@SiteCode1953,@SiteCode1954,@SiteCode1955,@SiteCode1956,@SiteCode1957,@SiteCode1958,@SiteCode1959,@SiteCode1960,@SiteCode1961,@SiteCode1962,@SiteCode1963))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1937[String] = 6372912251695766465
@SiteCode1938[String] = 6373083923489249281
@SiteCode1939[String] = 6373083925531366080
@SiteCode1940[String] = 6373083927883400612
@SiteCode1941[String] = 6373083918575368225
@SiteCode1942[String] = 6373083920445075162
@SiteCode1943[String] = 6373083908618598731
@SiteCode1944[String] = 6373083911842783146
@SiteCode1945[String] = 6373083913928202424
@SiteCode1946[String] = 6373083877551621804
@SiteCode1947[String] = 6373083879921857377
@SiteCode1948[String] = 6373083881542550067
@SiteCode1949[String] = 6373083883689772886
@SiteCode1950[String] = 6373083887136270013
@SiteCode1951[String] = 6373083889697116488
@SiteCode1952[String] = 6373083891969846476
@SiteCode1953[String] = 6373083894422586761
@SiteCode1954[String] = 6373083897509963358
@SiteCode1955[String] = 6373083900444931227
@SiteCode1956[String] = 6373083829464571372
@SiteCode1957[String] = 6373083833327492328
@SiteCode1958[String] = 6373083841964286321
@SiteCode1959[String] = 6373083844982558950
@SiteCode1960[String] = 6373083847585007801
@SiteCode1961[String] = 6373083856887939900
@SiteCode1962[String] = 6373083859102666584
@SiteCode1963[String] = 6373083864919499284
@FDictionaryCode1964[String] = OrderState
@FDictionaryCode1965[String] = UrgentDegree
@FDictionaryCode1966[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:30:06
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:30:06
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:30:06
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:30:06
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:30:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:30:31
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1967) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1968)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1969,@CompanyCode1970,@CompanyCode1971,@CompanyCode1972,@CompanyCode1973,@CompanyCode1974,@CompanyCode1975,@CompanyCode1976)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1977))) 	
Parameters:
@Type1967[Int32] = 1
@ProjectId1968[String] = 6372912251695766465
@CompanyCode1969[String] = 6373083923489249281
@CompanyCode1970[String] = 6373083925531366080
@CompanyCode1971[String] = 6373083927883400612
@CompanyCode1972[String] = 6373083918575368225
@CompanyCode1973[String] = 6373083920445075162
@CompanyCode1974[String] = 6373083908618598731
@CompanyCode1975[String] = 6373083911842783146
@CompanyCode1976[String] = 6373083913928202424
@ParentCompanyCode1977[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:30:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:30:31
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1978) AND ([TbOrganizationMap].[ProjectId] = @ProjectId1979)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode1980,@CompanyCode1981,@CompanyCode1982,@CompanyCode1983,@CompanyCode1984,@CompanyCode1985,@CompanyCode1986,@CompanyCode1987)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode1988))) 	
Parameters:
@Type1978[Int32] = 2
@ProjectId1979[String] = 6372912251695766465
@CompanyCode1980[String] = 6373083923489249281
@CompanyCode1981[String] = 6373083925531366080
@CompanyCode1982[String] = 6373083927883400612
@CompanyCode1983[String] = 6373083918575368225
@CompanyCode1984[String] = 6373083920445075162
@CompanyCode1985[String] = 6373083908618598731
@CompanyCode1986[String] = 6373083911842783146
@CompanyCode1987[String] = 6373083913928202424
@ParentCompanyCode1988[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:30:31
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:30:31
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:30:31
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:30:31
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:30:31
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2016)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1989) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1990,@SiteCode1991,@SiteCode1992,@SiteCode1993,@SiteCode1994,@SiteCode1995,@SiteCode1996,@SiteCode1997,@SiteCode1998,@SiteCode1999,@SiteCode2000,@SiteCode2001,@SiteCode2002,@SiteCode2003,@SiteCode2004,@SiteCode2005,@SiteCode2006,@SiteCode2007,@SiteCode2008,@SiteCode2009,@SiteCode2010,@SiteCode2011,@SiteCode2012,@SiteCode2013,@SiteCode2014,@SiteCode2015)))	
Parameters:
@ProjectId1989[String] = 6372912251695766465
@SiteCode1990[String] = 6373083923489249281
@SiteCode1991[String] = 6373083925531366080
@SiteCode1992[String] = 6373083927883400612
@SiteCode1993[String] = 6373083918575368225
@SiteCode1994[String] = 6373083920445075162
@SiteCode1995[String] = 6373083908618598731
@SiteCode1996[String] = 6373083911842783146
@SiteCode1997[String] = 6373083913928202424
@SiteCode1998[String] = 6373083877551621804
@SiteCode1999[String] = 6373083879921857377
@SiteCode2000[String] = 6373083881542550067
@SiteCode2001[String] = 6373083883689772886
@SiteCode2002[String] = 6373083887136270013
@SiteCode2003[String] = 6373083889697116488
@SiteCode2004[String] = 6373083891969846476
@SiteCode2005[String] = 6373083894422586761
@SiteCode2006[String] = 6373083897509963358
@SiteCode2007[String] = 6373083900444931227
@SiteCode2008[String] = 6373083829464571372
@SiteCode2009[String] = 6373083833327492328
@SiteCode2010[String] = 6373083841964286321
@SiteCode2011[String] = 6373083844982558950
@SiteCode2012[String] = 6373083847585007801
@SiteCode2013[String] = 6373083856887939900
@SiteCode2014[String] = 6373083859102666584
@SiteCode2015[String] = 6373083864919499284
@FDictionaryCode2016[String] = OrderState
@FDictionaryCode2017[String] = UrgentDegree
@FDictionaryCode2018[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:30:31
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2017) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2018) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2016)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId1989) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode1990,@SiteCode1991,@SiteCode1992,@SiteCode1993,@SiteCode1994,@SiteCode1995,@SiteCode1996,@SiteCode1997,@SiteCode1998,@SiteCode1999,@SiteCode2000,@SiteCode2001,@SiteCode2002,@SiteCode2003,@SiteCode2004,@SiteCode2005,@SiteCode2006,@SiteCode2007,@SiteCode2008,@SiteCode2009,@SiteCode2010,@SiteCode2011,@SiteCode2012,@SiteCode2013,@SiteCode2014,@SiteCode2015))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId1989[String] = 6372912251695766465
@SiteCode1990[String] = 6373083923489249281
@SiteCode1991[String] = 6373083925531366080
@SiteCode1992[String] = 6373083927883400612
@SiteCode1993[String] = 6373083918575368225
@SiteCode1994[String] = 6373083920445075162
@SiteCode1995[String] = 6373083908618598731
@SiteCode1996[String] = 6373083911842783146
@SiteCode1997[String] = 6373083913928202424
@SiteCode1998[String] = 6373083877551621804
@SiteCode1999[String] = 6373083879921857377
@SiteCode2000[String] = 6373083881542550067
@SiteCode2001[String] = 6373083883689772886
@SiteCode2002[String] = 6373083887136270013
@SiteCode2003[String] = 6373083889697116488
@SiteCode2004[String] = 6373083891969846476
@SiteCode2005[String] = 6373083894422586761
@SiteCode2006[String] = 6373083897509963358
@SiteCode2007[String] = 6373083900444931227
@SiteCode2008[String] = 6373083829464571372
@SiteCode2009[String] = 6373083833327492328
@SiteCode2010[String] = 6373083841964286321
@SiteCode2011[String] = 6373083844982558950
@SiteCode2012[String] = 6373083847585007801
@SiteCode2013[String] = 6373083856887939900
@SiteCode2014[String] = 6373083859102666584
@SiteCode2015[String] = 6373083864919499284
@FDictionaryCode2016[String] = OrderState
@FDictionaryCode2017[String] = UrgentDegree
@FDictionaryCode2018[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:30:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:30:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:30:32
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:30:32
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:30:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:30:32
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:30:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:30:32
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2019) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2020)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2021,@CompanyCode2022,@CompanyCode2023,@CompanyCode2024,@CompanyCode2025,@CompanyCode2026,@CompanyCode2027,@CompanyCode2028)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2029))) 	
Parameters:
@Type2019[Int32] = 1
@ProjectId2020[String] = 6372912251695766465
@CompanyCode2021[String] = 6373083923489249281
@CompanyCode2022[String] = 6373083925531366080
@CompanyCode2023[String] = 6373083927883400612
@CompanyCode2024[String] = 6373083918575368225
@CompanyCode2025[String] = 6373083920445075162
@CompanyCode2026[String] = 6373083908618598731
@CompanyCode2027[String] = 6373083911842783146
@CompanyCode2028[String] = 6373083913928202424
@ParentCompanyCode2029[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2030) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2031)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2032,@CompanyCode2033,@CompanyCode2034,@CompanyCode2035,@CompanyCode2036,@CompanyCode2037,@CompanyCode2038,@CompanyCode2039)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2040))) 	
Parameters:
@Type2030[Int32] = 2
@ProjectId2031[String] = 6372912251695766465
@CompanyCode2032[String] = 6373083923489249281
@CompanyCode2033[String] = 6373083925531366080
@CompanyCode2034[String] = 6373083927883400612
@CompanyCode2035[String] = 6373083918575368225
@CompanyCode2036[String] = 6373083920445075162
@CompanyCode2037[String] = 6373083908618598731
@CompanyCode2038[String] = 6373083911842783146
@CompanyCode2039[String] = 6373083913928202424
@ParentCompanyCode2040[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2068)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2041) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2042,@SiteCode2043,@SiteCode2044,@SiteCode2045,@SiteCode2046,@SiteCode2047,@SiteCode2048,@SiteCode2049,@SiteCode2050,@SiteCode2051,@SiteCode2052,@SiteCode2053,@SiteCode2054,@SiteCode2055,@SiteCode2056,@SiteCode2057,@SiteCode2058,@SiteCode2059,@SiteCode2060,@SiteCode2061,@SiteCode2062,@SiteCode2063,@SiteCode2064,@SiteCode2065,@SiteCode2066,@SiteCode2067)))	
Parameters:
@ProjectId2041[String] = 6372912251695766465
@SiteCode2042[String] = 6373083923489249281
@SiteCode2043[String] = 6373083925531366080
@SiteCode2044[String] = 6373083927883400612
@SiteCode2045[String] = 6373083918575368225
@SiteCode2046[String] = 6373083920445075162
@SiteCode2047[String] = 6373083908618598731
@SiteCode2048[String] = 6373083911842783146
@SiteCode2049[String] = 6373083913928202424
@SiteCode2050[String] = 6373083877551621804
@SiteCode2051[String] = 6373083879921857377
@SiteCode2052[String] = 6373083881542550067
@SiteCode2053[String] = 6373083883689772886
@SiteCode2054[String] = 6373083887136270013
@SiteCode2055[String] = 6373083889697116488
@SiteCode2056[String] = 6373083891969846476
@SiteCode2057[String] = 6373083894422586761
@SiteCode2058[String] = 6373083897509963358
@SiteCode2059[String] = 6373083900444931227
@SiteCode2060[String] = 6373083829464571372
@SiteCode2061[String] = 6373083833327492328
@SiteCode2062[String] = 6373083841964286321
@SiteCode2063[String] = 6373083844982558950
@SiteCode2064[String] = 6373083847585007801
@SiteCode2065[String] = 6373083856887939900
@SiteCode2066[String] = 6373083859102666584
@SiteCode2067[String] = 6373083864919499284
@FDictionaryCode2068[String] = OrderState
@FDictionaryCode2069[String] = UrgentDegree
@FDictionaryCode2070[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:31:37
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2069) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2070) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2068)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2041) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2042,@SiteCode2043,@SiteCode2044,@SiteCode2045,@SiteCode2046,@SiteCode2047,@SiteCode2048,@SiteCode2049,@SiteCode2050,@SiteCode2051,@SiteCode2052,@SiteCode2053,@SiteCode2054,@SiteCode2055,@SiteCode2056,@SiteCode2057,@SiteCode2058,@SiteCode2059,@SiteCode2060,@SiteCode2061,@SiteCode2062,@SiteCode2063,@SiteCode2064,@SiteCode2065,@SiteCode2066,@SiteCode2067))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2041[String] = 6372912251695766465
@SiteCode2042[String] = 6373083923489249281
@SiteCode2043[String] = 6373083925531366080
@SiteCode2044[String] = 6373083927883400612
@SiteCode2045[String] = 6373083918575368225
@SiteCode2046[String] = 6373083920445075162
@SiteCode2047[String] = 6373083908618598731
@SiteCode2048[String] = 6373083911842783146
@SiteCode2049[String] = 6373083913928202424
@SiteCode2050[String] = 6373083877551621804
@SiteCode2051[String] = 6373083879921857377
@SiteCode2052[String] = 6373083881542550067
@SiteCode2053[String] = 6373083883689772886
@SiteCode2054[String] = 6373083887136270013
@SiteCode2055[String] = 6373083889697116488
@SiteCode2056[String] = 6373083891969846476
@SiteCode2057[String] = 6373083894422586761
@SiteCode2058[String] = 6373083897509963358
@SiteCode2059[String] = 6373083900444931227
@SiteCode2060[String] = 6373083829464571372
@SiteCode2061[String] = 6373083833327492328
@SiteCode2062[String] = 6373083841964286321
@SiteCode2063[String] = 6373083844982558950
@SiteCode2064[String] = 6373083847585007801
@SiteCode2065[String] = 6373083856887939900
@SiteCode2066[String] = 6373083859102666584
@SiteCode2067[String] = 6373083864919499284
@FDictionaryCode2068[String] = OrderState
@FDictionaryCode2069[String] = UrgentDegree
@FDictionaryCode2070[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:31:38
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:31:38
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:31:38
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:31:38
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2071) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2072)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2073,@CompanyCode2074,@CompanyCode2075,@CompanyCode2076,@CompanyCode2077,@CompanyCode2078,@CompanyCode2079,@CompanyCode2080)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2081))) 	
Parameters:
@Type2071[Int32] = 1
@ProjectId2072[String] = 6372912251695766465
@CompanyCode2073[String] = 6373083923489249281
@CompanyCode2074[String] = 6373083925531366080
@CompanyCode2075[String] = 6373083927883400612
@CompanyCode2076[String] = 6373083918575368225
@CompanyCode2077[String] = 6373083920445075162
@CompanyCode2078[String] = 6373083908618598731
@CompanyCode2079[String] = 6373083911842783146
@CompanyCode2080[String] = 6373083913928202424
@ParentCompanyCode2081[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2082) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2083)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2084,@CompanyCode2085,@CompanyCode2086,@CompanyCode2087,@CompanyCode2088,@CompanyCode2089,@CompanyCode2090,@CompanyCode2091)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2092))) 	
Parameters:
@Type2082[Int32] = 2
@ProjectId2083[String] = 6372912251695766465
@CompanyCode2084[String] = 6373083923489249281
@CompanyCode2085[String] = 6373083925531366080
@CompanyCode2086[String] = 6373083927883400612
@CompanyCode2087[String] = 6373083918575368225
@CompanyCode2088[String] = 6373083920445075162
@CompanyCode2089[String] = 6373083908618598731
@CompanyCode2090[String] = 6373083911842783146
@CompanyCode2091[String] = 6373083913928202424
@ParentCompanyCode2092[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2120)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2093) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2094,@SiteCode2095,@SiteCode2096,@SiteCode2097,@SiteCode2098,@SiteCode2099,@SiteCode2100,@SiteCode2101,@SiteCode2102,@SiteCode2103,@SiteCode2104,@SiteCode2105,@SiteCode2106,@SiteCode2107,@SiteCode2108,@SiteCode2109,@SiteCode2110,@SiteCode2111,@SiteCode2112,@SiteCode2113,@SiteCode2114,@SiteCode2115,@SiteCode2116,@SiteCode2117,@SiteCode2118,@SiteCode2119)))	
Parameters:
@ProjectId2093[String] = 6372912251695766465
@SiteCode2094[String] = 6373083923489249281
@SiteCode2095[String] = 6373083925531366080
@SiteCode2096[String] = 6373083927883400612
@SiteCode2097[String] = 6373083918575368225
@SiteCode2098[String] = 6373083920445075162
@SiteCode2099[String] = 6373083908618598731
@SiteCode2100[String] = 6373083911842783146
@SiteCode2101[String] = 6373083913928202424
@SiteCode2102[String] = 6373083877551621804
@SiteCode2103[String] = 6373083879921857377
@SiteCode2104[String] = 6373083881542550067
@SiteCode2105[String] = 6373083883689772886
@SiteCode2106[String] = 6373083887136270013
@SiteCode2107[String] = 6373083889697116488
@SiteCode2108[String] = 6373083891969846476
@SiteCode2109[String] = 6373083894422586761
@SiteCode2110[String] = 6373083897509963358
@SiteCode2111[String] = 6373083900444931227
@SiteCode2112[String] = 6373083829464571372
@SiteCode2113[String] = 6373083833327492328
@SiteCode2114[String] = 6373083841964286321
@SiteCode2115[String] = 6373083844982558950
@SiteCode2116[String] = 6373083847585007801
@SiteCode2117[String] = 6373083856887939900
@SiteCode2118[String] = 6373083859102666584
@SiteCode2119[String] = 6373083864919499284
@FDictionaryCode2120[String] = OrderState
@FDictionaryCode2121[String] = UrgentDegree
@FDictionaryCode2122[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:32:49
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2121) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2122) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2120)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2093) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2094,@SiteCode2095,@SiteCode2096,@SiteCode2097,@SiteCode2098,@SiteCode2099,@SiteCode2100,@SiteCode2101,@SiteCode2102,@SiteCode2103,@SiteCode2104,@SiteCode2105,@SiteCode2106,@SiteCode2107,@SiteCode2108,@SiteCode2109,@SiteCode2110,@SiteCode2111,@SiteCode2112,@SiteCode2113,@SiteCode2114,@SiteCode2115,@SiteCode2116,@SiteCode2117,@SiteCode2118,@SiteCode2119))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2093[String] = 6372912251695766465
@SiteCode2094[String] = 6373083923489249281
@SiteCode2095[String] = 6373083925531366080
@SiteCode2096[String] = 6373083927883400612
@SiteCode2097[String] = 6373083918575368225
@SiteCode2098[String] = 6373083920445075162
@SiteCode2099[String] = 6373083908618598731
@SiteCode2100[String] = 6373083911842783146
@SiteCode2101[String] = 6373083913928202424
@SiteCode2102[String] = 6373083877551621804
@SiteCode2103[String] = 6373083879921857377
@SiteCode2104[String] = 6373083881542550067
@SiteCode2105[String] = 6373083883689772886
@SiteCode2106[String] = 6373083887136270013
@SiteCode2107[String] = 6373083889697116488
@SiteCode2108[String] = 6373083891969846476
@SiteCode2109[String] = 6373083894422586761
@SiteCode2110[String] = 6373083897509963358
@SiteCode2111[String] = 6373083900444931227
@SiteCode2112[String] = 6373083829464571372
@SiteCode2113[String] = 6373083833327492328
@SiteCode2114[String] = 6373083841964286321
@SiteCode2115[String] = 6373083844982558950
@SiteCode2116[String] = 6373083847585007801
@SiteCode2117[String] = 6373083856887939900
@SiteCode2118[String] = 6373083859102666584
@SiteCode2119[String] = 6373083864919499284
@FDictionaryCode2120[String] = OrderState
@FDictionaryCode2121[String] = UrgentDegree
@FDictionaryCode2122[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:32:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:32:50
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:32:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:32:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:33:16
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:33:17
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:33:17
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:33:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:33:17
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2123) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2124)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2125,@CompanyCode2126,@CompanyCode2127,@CompanyCode2128,@CompanyCode2129,@CompanyCode2130,@CompanyCode2131,@CompanyCode2132)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2133))) 	
Parameters:
@Type2123[Int32] = 1
@ProjectId2124[String] = 6372912251695766465
@CompanyCode2125[String] = 6373083923489249281
@CompanyCode2126[String] = 6373083925531366080
@CompanyCode2127[String] = 6373083927883400612
@CompanyCode2128[String] = 6373083918575368225
@CompanyCode2129[String] = 6373083920445075162
@CompanyCode2130[String] = 6373083908618598731
@CompanyCode2131[String] = 6373083911842783146
@CompanyCode2132[String] = 6373083913928202424
@ParentCompanyCode2133[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:33:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:33:17
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2134) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2135)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2136,@CompanyCode2137,@CompanyCode2138,@CompanyCode2139,@CompanyCode2140,@CompanyCode2141,@CompanyCode2142,@CompanyCode2143)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2144))) 	
Parameters:
@Type2134[Int32] = 2
@ProjectId2135[String] = 6372912251695766465
@CompanyCode2136[String] = 6373083923489249281
@CompanyCode2137[String] = 6373083925531366080
@CompanyCode2138[String] = 6373083927883400612
@CompanyCode2139[String] = 6373083918575368225
@CompanyCode2140[String] = 6373083920445075162
@CompanyCode2141[String] = 6373083908618598731
@CompanyCode2142[String] = 6373083911842783146
@CompanyCode2143[String] = 6373083913928202424
@ParentCompanyCode2144[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:33:17
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:33:17
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:33:17
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2172)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2145) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2146,@SiteCode2147,@SiteCode2148,@SiteCode2149,@SiteCode2150,@SiteCode2151,@SiteCode2152,@SiteCode2153,@SiteCode2154,@SiteCode2155,@SiteCode2156,@SiteCode2157,@SiteCode2158,@SiteCode2159,@SiteCode2160,@SiteCode2161,@SiteCode2162,@SiteCode2163,@SiteCode2164,@SiteCode2165,@SiteCode2166,@SiteCode2167,@SiteCode2168,@SiteCode2169,@SiteCode2170,@SiteCode2171)))	
Parameters:
@ProjectId2145[String] = 6372912251695766465
@SiteCode2146[String] = 6373083923489249281
@SiteCode2147[String] = 6373083925531366080
@SiteCode2148[String] = 6373083927883400612
@SiteCode2149[String] = 6373083918575368225
@SiteCode2150[String] = 6373083920445075162
@SiteCode2151[String] = 6373083908618598731
@SiteCode2152[String] = 6373083911842783146
@SiteCode2153[String] = 6373083913928202424
@SiteCode2154[String] = 6373083877551621804
@SiteCode2155[String] = 6373083879921857377
@SiteCode2156[String] = 6373083881542550067
@SiteCode2157[String] = 6373083883689772886
@SiteCode2158[String] = 6373083887136270013
@SiteCode2159[String] = 6373083889697116488
@SiteCode2160[String] = 6373083891969846476
@SiteCode2161[String] = 6373083894422586761
@SiteCode2162[String] = 6373083897509963358
@SiteCode2163[String] = 6373083900444931227
@SiteCode2164[String] = 6373083829464571372
@SiteCode2165[String] = 6373083833327492328
@SiteCode2166[String] = 6373083841964286321
@SiteCode2167[String] = 6373083844982558950
@SiteCode2168[String] = 6373083847585007801
@SiteCode2169[String] = 6373083856887939900
@SiteCode2170[String] = 6373083859102666584
@SiteCode2171[String] = 6373083864919499284
@FDictionaryCode2172[String] = OrderState
@FDictionaryCode2173[String] = UrgentDegree
@FDictionaryCode2174[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:33:17
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2173) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2174) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2172)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2145) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2146,@SiteCode2147,@SiteCode2148,@SiteCode2149,@SiteCode2150,@SiteCode2151,@SiteCode2152,@SiteCode2153,@SiteCode2154,@SiteCode2155,@SiteCode2156,@SiteCode2157,@SiteCode2158,@SiteCode2159,@SiteCode2160,@SiteCode2161,@SiteCode2162,@SiteCode2163,@SiteCode2164,@SiteCode2165,@SiteCode2166,@SiteCode2167,@SiteCode2168,@SiteCode2169,@SiteCode2170,@SiteCode2171))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2145[String] = 6372912251695766465
@SiteCode2146[String] = 6373083923489249281
@SiteCode2147[String] = 6373083925531366080
@SiteCode2148[String] = 6373083927883400612
@SiteCode2149[String] = 6373083918575368225
@SiteCode2150[String] = 6373083920445075162
@SiteCode2151[String] = 6373083908618598731
@SiteCode2152[String] = 6373083911842783146
@SiteCode2153[String] = 6373083913928202424
@SiteCode2154[String] = 6373083877551621804
@SiteCode2155[String] = 6373083879921857377
@SiteCode2156[String] = 6373083881542550067
@SiteCode2157[String] = 6373083883689772886
@SiteCode2158[String] = 6373083887136270013
@SiteCode2159[String] = 6373083889697116488
@SiteCode2160[String] = 6373083891969846476
@SiteCode2161[String] = 6373083894422586761
@SiteCode2162[String] = 6373083897509963358
@SiteCode2163[String] = 6373083900444931227
@SiteCode2164[String] = 6373083829464571372
@SiteCode2165[String] = 6373083833327492328
@SiteCode2166[String] = 6373083841964286321
@SiteCode2167[String] = 6373083844982558950
@SiteCode2168[String] = 6373083847585007801
@SiteCode2169[String] = 6373083856887939900
@SiteCode2170[String] = 6373083859102666584
@SiteCode2171[String] = 6373083864919499284
@FDictionaryCode2172[String] = OrderState
@FDictionaryCode2173[String] = UrgentDegree
@FDictionaryCode2174[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:33:18
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:33:18
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:33:18
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:33:18
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2175) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2176)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2177,@CompanyCode2178,@CompanyCode2179,@CompanyCode2180,@CompanyCode2181,@CompanyCode2182,@CompanyCode2183,@CompanyCode2184)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2185))) 	
Parameters:
@Type2175[Int32] = 1
@ProjectId2176[String] = 6372912251695766465
@CompanyCode2177[String] = 6373083923489249281
@CompanyCode2178[String] = 6373083925531366080
@CompanyCode2179[String] = 6373083927883400612
@CompanyCode2180[String] = 6373083918575368225
@CompanyCode2181[String] = 6373083920445075162
@CompanyCode2182[String] = 6373083908618598731
@CompanyCode2183[String] = 6373083911842783146
@CompanyCode2184[String] = 6373083913928202424
@ParentCompanyCode2185[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2186) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2187)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2188,@CompanyCode2189,@CompanyCode2190,@CompanyCode2191,@CompanyCode2192,@CompanyCode2193,@CompanyCode2194,@CompanyCode2195)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2196))) 	
Parameters:
@Type2186[Int32] = 2
@ProjectId2187[String] = 6372912251695766465
@CompanyCode2188[String] = 6373083923489249281
@CompanyCode2189[String] = 6373083925531366080
@CompanyCode2190[String] = 6373083927883400612
@CompanyCode2191[String] = 6373083918575368225
@CompanyCode2192[String] = 6373083920445075162
@CompanyCode2193[String] = 6373083908618598731
@CompanyCode2194[String] = 6373083911842783146
@CompanyCode2195[String] = 6373083913928202424
@ParentCompanyCode2196[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2224)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2197) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2198,@SiteCode2199,@SiteCode2200,@SiteCode2201,@SiteCode2202,@SiteCode2203,@SiteCode2204,@SiteCode2205,@SiteCode2206,@SiteCode2207,@SiteCode2208,@SiteCode2209,@SiteCode2210,@SiteCode2211,@SiteCode2212,@SiteCode2213,@SiteCode2214,@SiteCode2215,@SiteCode2216,@SiteCode2217,@SiteCode2218,@SiteCode2219,@SiteCode2220,@SiteCode2221,@SiteCode2222,@SiteCode2223)))	
Parameters:
@ProjectId2197[String] = 6372912251695766465
@SiteCode2198[String] = 6373083923489249281
@SiteCode2199[String] = 6373083925531366080
@SiteCode2200[String] = 6373083927883400612
@SiteCode2201[String] = 6373083918575368225
@SiteCode2202[String] = 6373083920445075162
@SiteCode2203[String] = 6373083908618598731
@SiteCode2204[String] = 6373083911842783146
@SiteCode2205[String] = 6373083913928202424
@SiteCode2206[String] = 6373083877551621804
@SiteCode2207[String] = 6373083879921857377
@SiteCode2208[String] = 6373083881542550067
@SiteCode2209[String] = 6373083883689772886
@SiteCode2210[String] = 6373083887136270013
@SiteCode2211[String] = 6373083889697116488
@SiteCode2212[String] = 6373083891969846476
@SiteCode2213[String] = 6373083894422586761
@SiteCode2214[String] = 6373083897509963358
@SiteCode2215[String] = 6373083900444931227
@SiteCode2216[String] = 6373083829464571372
@SiteCode2217[String] = 6373083833327492328
@SiteCode2218[String] = 6373083841964286321
@SiteCode2219[String] = 6373083844982558950
@SiteCode2220[String] = 6373083847585007801
@SiteCode2221[String] = 6373083856887939900
@SiteCode2222[String] = 6373083859102666584
@SiteCode2223[String] = 6373083864919499284
@FDictionaryCode2224[String] = OrderState
@FDictionaryCode2225[String] = UrgentDegree
@FDictionaryCode2226[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:33:49
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2225) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2226) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2224)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2197) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2198,@SiteCode2199,@SiteCode2200,@SiteCode2201,@SiteCode2202,@SiteCode2203,@SiteCode2204,@SiteCode2205,@SiteCode2206,@SiteCode2207,@SiteCode2208,@SiteCode2209,@SiteCode2210,@SiteCode2211,@SiteCode2212,@SiteCode2213,@SiteCode2214,@SiteCode2215,@SiteCode2216,@SiteCode2217,@SiteCode2218,@SiteCode2219,@SiteCode2220,@SiteCode2221,@SiteCode2222,@SiteCode2223))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2197[String] = 6372912251695766465
@SiteCode2198[String] = 6373083923489249281
@SiteCode2199[String] = 6373083925531366080
@SiteCode2200[String] = 6373083927883400612
@SiteCode2201[String] = 6373083918575368225
@SiteCode2202[String] = 6373083920445075162
@SiteCode2203[String] = 6373083908618598731
@SiteCode2204[String] = 6373083911842783146
@SiteCode2205[String] = 6373083913928202424
@SiteCode2206[String] = 6373083877551621804
@SiteCode2207[String] = 6373083879921857377
@SiteCode2208[String] = 6373083881542550067
@SiteCode2209[String] = 6373083883689772886
@SiteCode2210[String] = 6373083887136270013
@SiteCode2211[String] = 6373083889697116488
@SiteCode2212[String] = 6373083891969846476
@SiteCode2213[String] = 6373083894422586761
@SiteCode2214[String] = 6373083897509963358
@SiteCode2215[String] = 6373083900444931227
@SiteCode2216[String] = 6373083829464571372
@SiteCode2217[String] = 6373083833327492328
@SiteCode2218[String] = 6373083841964286321
@SiteCode2219[String] = 6373083844982558950
@SiteCode2220[String] = 6373083847585007801
@SiteCode2221[String] = 6373083856887939900
@SiteCode2222[String] = 6373083859102666584
@SiteCode2223[String] = 6373083864919499284
@FDictionaryCode2224[String] = OrderState
@FDictionaryCode2225[String] = UrgentDegree
@FDictionaryCode2226[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:33:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:33:50
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:33:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:33:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:36:49
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:38:02
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:38:02
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:38:02
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:38:03
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:38:03
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2227) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2228)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2229,@CompanyCode2230,@CompanyCode2231,@CompanyCode2232,@CompanyCode2233,@CompanyCode2234,@CompanyCode2235,@CompanyCode2236)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2237))) 	
Parameters:
@Type2227[Int32] = 1
@ProjectId2228[String] = 6372912251695766465
@CompanyCode2229[String] = 6373083923489249281
@CompanyCode2230[String] = 6373083925531366080
@CompanyCode2231[String] = 6373083927883400612
@CompanyCode2232[String] = 6373083918575368225
@CompanyCode2233[String] = 6373083920445075162
@CompanyCode2234[String] = 6373083908618598731
@CompanyCode2235[String] = 6373083911842783146
@CompanyCode2236[String] = 6373083913928202424
@ParentCompanyCode2237[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:38:03
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:38:03
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2238) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2239)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2240,@CompanyCode2241,@CompanyCode2242,@CompanyCode2243,@CompanyCode2244,@CompanyCode2245,@CompanyCode2246,@CompanyCode2247)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2248))) 	
Parameters:
@Type2238[Int32] = 2
@ProjectId2239[String] = 6372912251695766465
@CompanyCode2240[String] = 6373083923489249281
@CompanyCode2241[String] = 6373083925531366080
@CompanyCode2242[String] = 6373083927883400612
@CompanyCode2243[String] = 6373083918575368225
@CompanyCode2244[String] = 6373083920445075162
@CompanyCode2245[String] = 6373083908618598731
@CompanyCode2246[String] = 6373083911842783146
@CompanyCode2247[String] = 6373083913928202424
@ParentCompanyCode2248[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:38:03
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:38:03
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:38:03
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2276)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2249) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2250,@SiteCode2251,@SiteCode2252,@SiteCode2253,@SiteCode2254,@SiteCode2255,@SiteCode2256,@SiteCode2257,@SiteCode2258,@SiteCode2259,@SiteCode2260,@SiteCode2261,@SiteCode2262,@SiteCode2263,@SiteCode2264,@SiteCode2265,@SiteCode2266,@SiteCode2267,@SiteCode2268,@SiteCode2269,@SiteCode2270,@SiteCode2271,@SiteCode2272,@SiteCode2273,@SiteCode2274,@SiteCode2275)))	
Parameters:
@ProjectId2249[String] = 6372912251695766465
@SiteCode2250[String] = 6373083923489249281
@SiteCode2251[String] = 6373083925531366080
@SiteCode2252[String] = 6373083927883400612
@SiteCode2253[String] = 6373083918575368225
@SiteCode2254[String] = 6373083920445075162
@SiteCode2255[String] = 6373083908618598731
@SiteCode2256[String] = 6373083911842783146
@SiteCode2257[String] = 6373083913928202424
@SiteCode2258[String] = 6373083877551621804
@SiteCode2259[String] = 6373083879921857377
@SiteCode2260[String] = 6373083881542550067
@SiteCode2261[String] = 6373083883689772886
@SiteCode2262[String] = 6373083887136270013
@SiteCode2263[String] = 6373083889697116488
@SiteCode2264[String] = 6373083891969846476
@SiteCode2265[String] = 6373083894422586761
@SiteCode2266[String] = 6373083897509963358
@SiteCode2267[String] = 6373083900444931227
@SiteCode2268[String] = 6373083829464571372
@SiteCode2269[String] = 6373083833327492328
@SiteCode2270[String] = 6373083841964286321
@SiteCode2271[String] = 6373083844982558950
@SiteCode2272[String] = 6373083847585007801
@SiteCode2273[String] = 6373083856887939900
@SiteCode2274[String] = 6373083859102666584
@SiteCode2275[String] = 6373083864919499284
@FDictionaryCode2276[String] = OrderState
@FDictionaryCode2277[String] = UrgentDegree
@FDictionaryCode2278[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:38:03
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2277) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2278) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2276)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2249) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2250,@SiteCode2251,@SiteCode2252,@SiteCode2253,@SiteCode2254,@SiteCode2255,@SiteCode2256,@SiteCode2257,@SiteCode2258,@SiteCode2259,@SiteCode2260,@SiteCode2261,@SiteCode2262,@SiteCode2263,@SiteCode2264,@SiteCode2265,@SiteCode2266,@SiteCode2267,@SiteCode2268,@SiteCode2269,@SiteCode2270,@SiteCode2271,@SiteCode2272,@SiteCode2273,@SiteCode2274,@SiteCode2275))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2249[String] = 6372912251695766465
@SiteCode2250[String] = 6373083923489249281
@SiteCode2251[String] = 6373083925531366080
@SiteCode2252[String] = 6373083927883400612
@SiteCode2253[String] = 6373083918575368225
@SiteCode2254[String] = 6373083920445075162
@SiteCode2255[String] = 6373083908618598731
@SiteCode2256[String] = 6373083911842783146
@SiteCode2257[String] = 6373083913928202424
@SiteCode2258[String] = 6373083877551621804
@SiteCode2259[String] = 6373083879921857377
@SiteCode2260[String] = 6373083881542550067
@SiteCode2261[String] = 6373083883689772886
@SiteCode2262[String] = 6373083887136270013
@SiteCode2263[String] = 6373083889697116488
@SiteCode2264[String] = 6373083891969846476
@SiteCode2265[String] = 6373083894422586761
@SiteCode2266[String] = 6373083897509963358
@SiteCode2267[String] = 6373083900444931227
@SiteCode2268[String] = 6373083829464571372
@SiteCode2269[String] = 6373083833327492328
@SiteCode2270[String] = 6373083841964286321
@SiteCode2271[String] = 6373083844982558950
@SiteCode2272[String] = 6373083847585007801
@SiteCode2273[String] = 6373083856887939900
@SiteCode2274[String] = 6373083859102666584
@SiteCode2275[String] = 6373083864919499284
@FDictionaryCode2276[String] = OrderState
@FDictionaryCode2277[String] = UrgentDegree
@FDictionaryCode2278[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:38:03
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:38:04
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:38:04
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:38:04
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:39:03
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2279) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2280)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2281,@CompanyCode2282,@CompanyCode2283,@CompanyCode2284,@CompanyCode2285,@CompanyCode2286,@CompanyCode2287,@CompanyCode2288)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2289))) 	
Parameters:
@Type2279[Int32] = 1
@ProjectId2280[String] = 6372912251695766465
@CompanyCode2281[String] = 6373083923489249281
@CompanyCode2282[String] = 6373083925531366080
@CompanyCode2283[String] = 6373083927883400612
@CompanyCode2284[String] = 6373083918575368225
@CompanyCode2285[String] = 6373083920445075162
@CompanyCode2286[String] = 6373083908618598731
@CompanyCode2287[String] = 6373083911842783146
@CompanyCode2288[String] = 6373083913928202424
@ParentCompanyCode2289[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2290) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2291)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2292,@CompanyCode2293,@CompanyCode2294,@CompanyCode2295,@CompanyCode2296,@CompanyCode2297,@CompanyCode2298,@CompanyCode2299)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2300))) 	
Parameters:
@Type2290[Int32] = 2
@ProjectId2291[String] = 6372912251695766465
@CompanyCode2292[String] = 6373083923489249281
@CompanyCode2293[String] = 6373083925531366080
@CompanyCode2294[String] = 6373083927883400612
@CompanyCode2295[String] = 6373083918575368225
@CompanyCode2296[String] = 6373083920445075162
@CompanyCode2297[String] = 6373083908618598731
@CompanyCode2298[String] = 6373083911842783146
@CompanyCode2299[String] = 6373083913928202424
@ParentCompanyCode2300[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2328)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2301) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2302,@SiteCode2303,@SiteCode2304,@SiteCode2305,@SiteCode2306,@SiteCode2307,@SiteCode2308,@SiteCode2309,@SiteCode2310,@SiteCode2311,@SiteCode2312,@SiteCode2313,@SiteCode2314,@SiteCode2315,@SiteCode2316,@SiteCode2317,@SiteCode2318,@SiteCode2319,@SiteCode2320,@SiteCode2321,@SiteCode2322,@SiteCode2323,@SiteCode2324,@SiteCode2325,@SiteCode2326,@SiteCode2327)))	
Parameters:
@ProjectId2301[String] = 6372912251695766465
@SiteCode2302[String] = 6373083923489249281
@SiteCode2303[String] = 6373083925531366080
@SiteCode2304[String] = 6373083927883400612
@SiteCode2305[String] = 6373083918575368225
@SiteCode2306[String] = 6373083920445075162
@SiteCode2307[String] = 6373083908618598731
@SiteCode2308[String] = 6373083911842783146
@SiteCode2309[String] = 6373083913928202424
@SiteCode2310[String] = 6373083877551621804
@SiteCode2311[String] = 6373083879921857377
@SiteCode2312[String] = 6373083881542550067
@SiteCode2313[String] = 6373083883689772886
@SiteCode2314[String] = 6373083887136270013
@SiteCode2315[String] = 6373083889697116488
@SiteCode2316[String] = 6373083891969846476
@SiteCode2317[String] = 6373083894422586761
@SiteCode2318[String] = 6373083897509963358
@SiteCode2319[String] = 6373083900444931227
@SiteCode2320[String] = 6373083829464571372
@SiteCode2321[String] = 6373083833327492328
@SiteCode2322[String] = 6373083841964286321
@SiteCode2323[String] = 6373083844982558950
@SiteCode2324[String] = 6373083847585007801
@SiteCode2325[String] = 6373083856887939900
@SiteCode2326[String] = 6373083859102666584
@SiteCode2327[String] = 6373083864919499284
@FDictionaryCode2328[String] = OrderState
@FDictionaryCode2329[String] = UrgentDegree
@FDictionaryCode2330[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2329) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2330) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2328)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2301) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2302,@SiteCode2303,@SiteCode2304,@SiteCode2305,@SiteCode2306,@SiteCode2307,@SiteCode2308,@SiteCode2309,@SiteCode2310,@SiteCode2311,@SiteCode2312,@SiteCode2313,@SiteCode2314,@SiteCode2315,@SiteCode2316,@SiteCode2317,@SiteCode2318,@SiteCode2319,@SiteCode2320,@SiteCode2321,@SiteCode2322,@SiteCode2323,@SiteCode2324,@SiteCode2325,@SiteCode2326,@SiteCode2327))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2301[String] = 6372912251695766465
@SiteCode2302[String] = 6373083923489249281
@SiteCode2303[String] = 6373083925531366080
@SiteCode2304[String] = 6373083927883400612
@SiteCode2305[String] = 6373083918575368225
@SiteCode2306[String] = 6373083920445075162
@SiteCode2307[String] = 6373083908618598731
@SiteCode2308[String] = 6373083911842783146
@SiteCode2309[String] = 6373083913928202424
@SiteCode2310[String] = 6373083877551621804
@SiteCode2311[String] = 6373083879921857377
@SiteCode2312[String] = 6373083881542550067
@SiteCode2313[String] = 6373083883689772886
@SiteCode2314[String] = 6373083887136270013
@SiteCode2315[String] = 6373083889697116488
@SiteCode2316[String] = 6373083891969846476
@SiteCode2317[String] = 6373083894422586761
@SiteCode2318[String] = 6373083897509963358
@SiteCode2319[String] = 6373083900444931227
@SiteCode2320[String] = 6373083829464571372
@SiteCode2321[String] = 6373083833327492328
@SiteCode2322[String] = 6373083841964286321
@SiteCode2323[String] = 6373083844982558950
@SiteCode2324[String] = 6373083847585007801
@SiteCode2325[String] = 6373083856887939900
@SiteCode2326[String] = 6373083859102666584
@SiteCode2327[String] = 6373083864919499284
@FDictionaryCode2328[String] = OrderState
@FDictionaryCode2329[String] = UrgentDegree
@FDictionaryCode2330[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:39:04
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:39:05
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:39:05
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:39:05
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:40:07
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:40:07
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:40:07
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:40:07
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:40:07
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2331) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2332)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2333,@CompanyCode2334,@CompanyCode2335,@CompanyCode2336,@CompanyCode2337,@CompanyCode2338,@CompanyCode2339,@CompanyCode2340)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2341))) 	
Parameters:
@Type2331[Int32] = 1
@ProjectId2332[String] = 6372912251695766465
@CompanyCode2333[String] = 6373083923489249281
@CompanyCode2334[String] = 6373083925531366080
@CompanyCode2335[String] = 6373083927883400612
@CompanyCode2336[String] = 6373083918575368225
@CompanyCode2337[String] = 6373083920445075162
@CompanyCode2338[String] = 6373083908618598731
@CompanyCode2339[String] = 6373083911842783146
@CompanyCode2340[String] = 6373083913928202424
@ParentCompanyCode2341[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:40:07
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:40:07
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2342) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2343)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2344,@CompanyCode2345,@CompanyCode2346,@CompanyCode2347,@CompanyCode2348,@CompanyCode2349,@CompanyCode2350,@CompanyCode2351)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2352))) 	
Parameters:
@Type2342[Int32] = 2
@ProjectId2343[String] = 6372912251695766465
@CompanyCode2344[String] = 6373083923489249281
@CompanyCode2345[String] = 6373083925531366080
@CompanyCode2346[String] = 6373083927883400612
@CompanyCode2347[String] = 6373083918575368225
@CompanyCode2348[String] = 6373083920445075162
@CompanyCode2349[String] = 6373083908618598731
@CompanyCode2350[String] = 6373083911842783146
@CompanyCode2351[String] = 6373083913928202424
@ParentCompanyCode2352[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:40:07
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:40:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:40:08
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2380)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2353) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2354,@SiteCode2355,@SiteCode2356,@SiteCode2357,@SiteCode2358,@SiteCode2359,@SiteCode2360,@SiteCode2361,@SiteCode2362,@SiteCode2363,@SiteCode2364,@SiteCode2365,@SiteCode2366,@SiteCode2367,@SiteCode2368,@SiteCode2369,@SiteCode2370,@SiteCode2371,@SiteCode2372,@SiteCode2373,@SiteCode2374,@SiteCode2375,@SiteCode2376,@SiteCode2377,@SiteCode2378,@SiteCode2379)))	
Parameters:
@ProjectId2353[String] = 6372912251695766465
@SiteCode2354[String] = 6373083923489249281
@SiteCode2355[String] = 6373083925531366080
@SiteCode2356[String] = 6373083927883400612
@SiteCode2357[String] = 6373083918575368225
@SiteCode2358[String] = 6373083920445075162
@SiteCode2359[String] = 6373083908618598731
@SiteCode2360[String] = 6373083911842783146
@SiteCode2361[String] = 6373083913928202424
@SiteCode2362[String] = 6373083877551621804
@SiteCode2363[String] = 6373083879921857377
@SiteCode2364[String] = 6373083881542550067
@SiteCode2365[String] = 6373083883689772886
@SiteCode2366[String] = 6373083887136270013
@SiteCode2367[String] = 6373083889697116488
@SiteCode2368[String] = 6373083891969846476
@SiteCode2369[String] = 6373083894422586761
@SiteCode2370[String] = 6373083897509963358
@SiteCode2371[String] = 6373083900444931227
@SiteCode2372[String] = 6373083829464571372
@SiteCode2373[String] = 6373083833327492328
@SiteCode2374[String] = 6373083841964286321
@SiteCode2375[String] = 6373083844982558950
@SiteCode2376[String] = 6373083847585007801
@SiteCode2377[String] = 6373083856887939900
@SiteCode2378[String] = 6373083859102666584
@SiteCode2379[String] = 6373083864919499284
@FDictionaryCode2380[String] = OrderState
@FDictionaryCode2381[String] = UrgentDegree
@FDictionaryCode2382[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:40:08
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2381) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2382) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2380)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2353) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2354,@SiteCode2355,@SiteCode2356,@SiteCode2357,@SiteCode2358,@SiteCode2359,@SiteCode2360,@SiteCode2361,@SiteCode2362,@SiteCode2363,@SiteCode2364,@SiteCode2365,@SiteCode2366,@SiteCode2367,@SiteCode2368,@SiteCode2369,@SiteCode2370,@SiteCode2371,@SiteCode2372,@SiteCode2373,@SiteCode2374,@SiteCode2375,@SiteCode2376,@SiteCode2377,@SiteCode2378,@SiteCode2379))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2353[String] = 6372912251695766465
@SiteCode2354[String] = 6373083923489249281
@SiteCode2355[String] = 6373083925531366080
@SiteCode2356[String] = 6373083927883400612
@SiteCode2357[String] = 6373083918575368225
@SiteCode2358[String] = 6373083920445075162
@SiteCode2359[String] = 6373083908618598731
@SiteCode2360[String] = 6373083911842783146
@SiteCode2361[String] = 6373083913928202424
@SiteCode2362[String] = 6373083877551621804
@SiteCode2363[String] = 6373083879921857377
@SiteCode2364[String] = 6373083881542550067
@SiteCode2365[String] = 6373083883689772886
@SiteCode2366[String] = 6373083887136270013
@SiteCode2367[String] = 6373083889697116488
@SiteCode2368[String] = 6373083891969846476
@SiteCode2369[String] = 6373083894422586761
@SiteCode2370[String] = 6373083897509963358
@SiteCode2371[String] = 6373083900444931227
@SiteCode2372[String] = 6373083829464571372
@SiteCode2373[String] = 6373083833327492328
@SiteCode2374[String] = 6373083841964286321
@SiteCode2375[String] = 6373083844982558950
@SiteCode2376[String] = 6373083847585007801
@SiteCode2377[String] = 6373083856887939900
@SiteCode2378[String] = 6373083859102666584
@SiteCode2379[String] = 6373083864919499284
@FDictionaryCode2380[String] = OrderState
@FDictionaryCode2381[String] = UrgentDegree
@FDictionaryCode2382[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:40:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:40:08
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:40:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:40:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:41:08
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:41:09
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:41:09
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2383) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2384)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2385,@CompanyCode2386,@CompanyCode2387,@CompanyCode2388,@CompanyCode2389,@CompanyCode2390,@CompanyCode2391,@CompanyCode2392)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2393))) 	
Parameters:
@Type2383[Int32] = 1
@ProjectId2384[String] = 6372912251695766465
@CompanyCode2385[String] = 6373083923489249281
@CompanyCode2386[String] = 6373083925531366080
@CompanyCode2387[String] = 6373083927883400612
@CompanyCode2388[String] = 6373083918575368225
@CompanyCode2389[String] = 6373083920445075162
@CompanyCode2390[String] = 6373083908618598731
@CompanyCode2391[String] = 6373083911842783146
@CompanyCode2392[String] = 6373083913928202424
@ParentCompanyCode2393[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2394) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2395)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2396,@CompanyCode2397,@CompanyCode2398,@CompanyCode2399,@CompanyCode2400,@CompanyCode2401,@CompanyCode2402,@CompanyCode2403)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2404))) 	
Parameters:
@Type2394[Int32] = 2
@ProjectId2395[String] = 6372912251695766465
@CompanyCode2396[String] = 6373083923489249281
@CompanyCode2397[String] = 6373083925531366080
@CompanyCode2398[String] = 6373083927883400612
@CompanyCode2399[String] = 6373083918575368225
@CompanyCode2400[String] = 6373083920445075162
@CompanyCode2401[String] = 6373083908618598731
@CompanyCode2402[String] = 6373083911842783146
@CompanyCode2403[String] = 6373083913928202424
@ParentCompanyCode2404[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2432)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2405) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2406,@SiteCode2407,@SiteCode2408,@SiteCode2409,@SiteCode2410,@SiteCode2411,@SiteCode2412,@SiteCode2413,@SiteCode2414,@SiteCode2415,@SiteCode2416,@SiteCode2417,@SiteCode2418,@SiteCode2419,@SiteCode2420,@SiteCode2421,@SiteCode2422,@SiteCode2423,@SiteCode2424,@SiteCode2425,@SiteCode2426,@SiteCode2427,@SiteCode2428,@SiteCode2429,@SiteCode2430,@SiteCode2431)))	
Parameters:
@ProjectId2405[String] = 6372912251695766465
@SiteCode2406[String] = 6373083923489249281
@SiteCode2407[String] = 6373083925531366080
@SiteCode2408[String] = 6373083927883400612
@SiteCode2409[String] = 6373083918575368225
@SiteCode2410[String] = 6373083920445075162
@SiteCode2411[String] = 6373083908618598731
@SiteCode2412[String] = 6373083911842783146
@SiteCode2413[String] = 6373083913928202424
@SiteCode2414[String] = 6373083877551621804
@SiteCode2415[String] = 6373083879921857377
@SiteCode2416[String] = 6373083881542550067
@SiteCode2417[String] = 6373083883689772886
@SiteCode2418[String] = 6373083887136270013
@SiteCode2419[String] = 6373083889697116488
@SiteCode2420[String] = 6373083891969846476
@SiteCode2421[String] = 6373083894422586761
@SiteCode2422[String] = 6373083897509963358
@SiteCode2423[String] = 6373083900444931227
@SiteCode2424[String] = 6373083829464571372
@SiteCode2425[String] = 6373083833327492328
@SiteCode2426[String] = 6373083841964286321
@SiteCode2427[String] = 6373083844982558950
@SiteCode2428[String] = 6373083847585007801
@SiteCode2429[String] = 6373083856887939900
@SiteCode2430[String] = 6373083859102666584
@SiteCode2431[String] = 6373083864919499284
@FDictionaryCode2432[String] = OrderState
@FDictionaryCode2433[String] = UrgentDegree
@FDictionaryCode2434[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2433) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2434) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2432)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2405) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2406,@SiteCode2407,@SiteCode2408,@SiteCode2409,@SiteCode2410,@SiteCode2411,@SiteCode2412,@SiteCode2413,@SiteCode2414,@SiteCode2415,@SiteCode2416,@SiteCode2417,@SiteCode2418,@SiteCode2419,@SiteCode2420,@SiteCode2421,@SiteCode2422,@SiteCode2423,@SiteCode2424,@SiteCode2425,@SiteCode2426,@SiteCode2427,@SiteCode2428,@SiteCode2429,@SiteCode2430,@SiteCode2431))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2405[String] = 6372912251695766465
@SiteCode2406[String] = 6373083923489249281
@SiteCode2407[String] = 6373083925531366080
@SiteCode2408[String] = 6373083927883400612
@SiteCode2409[String] = 6373083918575368225
@SiteCode2410[String] = 6373083920445075162
@SiteCode2411[String] = 6373083908618598731
@SiteCode2412[String] = 6373083911842783146
@SiteCode2413[String] = 6373083913928202424
@SiteCode2414[String] = 6373083877551621804
@SiteCode2415[String] = 6373083879921857377
@SiteCode2416[String] = 6373083881542550067
@SiteCode2417[String] = 6373083883689772886
@SiteCode2418[String] = 6373083887136270013
@SiteCode2419[String] = 6373083889697116488
@SiteCode2420[String] = 6373083891969846476
@SiteCode2421[String] = 6373083894422586761
@SiteCode2422[String] = 6373083897509963358
@SiteCode2423[String] = 6373083900444931227
@SiteCode2424[String] = 6373083829464571372
@SiteCode2425[String] = 6373083833327492328
@SiteCode2426[String] = 6373083841964286321
@SiteCode2427[String] = 6373083844982558950
@SiteCode2428[String] = 6373083847585007801
@SiteCode2429[String] = 6373083856887939900
@SiteCode2430[String] = 6373083859102666584
@SiteCode2431[String] = 6373083864919499284
@FDictionaryCode2432[String] = OrderState
@FDictionaryCode2433[String] = UrgentDegree
@FDictionaryCode2434[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:41:10
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:41:26
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:41:26
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:41:26
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:41:26
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:41:26
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2435) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2436)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2437,@CompanyCode2438,@CompanyCode2439,@CompanyCode2440,@CompanyCode2441,@CompanyCode2442,@CompanyCode2443,@CompanyCode2444)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2445))) 	
Parameters:
@Type2435[Int32] = 1
@ProjectId2436[String] = 6372912251695766465
@CompanyCode2437[String] = 6373083923489249281
@CompanyCode2438[String] = 6373083925531366080
@CompanyCode2439[String] = 6373083927883400612
@CompanyCode2440[String] = 6373083918575368225
@CompanyCode2441[String] = 6373083920445075162
@CompanyCode2442[String] = 6373083908618598731
@CompanyCode2443[String] = 6373083911842783146
@CompanyCode2444[String] = 6373083913928202424
@ParentCompanyCode2445[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:41:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:41:27
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2446) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2447)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2448,@CompanyCode2449,@CompanyCode2450,@CompanyCode2451,@CompanyCode2452,@CompanyCode2453,@CompanyCode2454,@CompanyCode2455)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2456))) 	
Parameters:
@Type2446[Int32] = 2
@ProjectId2447[String] = 6372912251695766465
@CompanyCode2448[String] = 6373083923489249281
@CompanyCode2449[String] = 6373083925531366080
@CompanyCode2450[String] = 6373083927883400612
@CompanyCode2451[String] = 6373083918575368225
@CompanyCode2452[String] = 6373083920445075162
@CompanyCode2453[String] = 6373083908618598731
@CompanyCode2454[String] = 6373083911842783146
@CompanyCode2455[String] = 6373083913928202424
@ParentCompanyCode2456[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:41:27
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:41:27
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:41:27
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2484)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2457) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2458,@SiteCode2459,@SiteCode2460,@SiteCode2461,@SiteCode2462,@SiteCode2463,@SiteCode2464,@SiteCode2465,@SiteCode2466,@SiteCode2467,@SiteCode2468,@SiteCode2469,@SiteCode2470,@SiteCode2471,@SiteCode2472,@SiteCode2473,@SiteCode2474,@SiteCode2475,@SiteCode2476,@SiteCode2477,@SiteCode2478,@SiteCode2479,@SiteCode2480,@SiteCode2481,@SiteCode2482,@SiteCode2483)))	
Parameters:
@ProjectId2457[String] = 6372912251695766465
@SiteCode2458[String] = 6373083923489249281
@SiteCode2459[String] = 6373083925531366080
@SiteCode2460[String] = 6373083927883400612
@SiteCode2461[String] = 6373083918575368225
@SiteCode2462[String] = 6373083920445075162
@SiteCode2463[String] = 6373083908618598731
@SiteCode2464[String] = 6373083911842783146
@SiteCode2465[String] = 6373083913928202424
@SiteCode2466[String] = 6373083877551621804
@SiteCode2467[String] = 6373083879921857377
@SiteCode2468[String] = 6373083881542550067
@SiteCode2469[String] = 6373083883689772886
@SiteCode2470[String] = 6373083887136270013
@SiteCode2471[String] = 6373083889697116488
@SiteCode2472[String] = 6373083891969846476
@SiteCode2473[String] = 6373083894422586761
@SiteCode2474[String] = 6373083897509963358
@SiteCode2475[String] = 6373083900444931227
@SiteCode2476[String] = 6373083829464571372
@SiteCode2477[String] = 6373083833327492328
@SiteCode2478[String] = 6373083841964286321
@SiteCode2479[String] = 6373083844982558950
@SiteCode2480[String] = 6373083847585007801
@SiteCode2481[String] = 6373083856887939900
@SiteCode2482[String] = 6373083859102666584
@SiteCode2483[String] = 6373083864919499284
@FDictionaryCode2484[String] = OrderState
@FDictionaryCode2485[String] = UrgentDegree
@FDictionaryCode2486[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:41:27
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2485) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2486) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2484)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2457) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2458,@SiteCode2459,@SiteCode2460,@SiteCode2461,@SiteCode2462,@SiteCode2463,@SiteCode2464,@SiteCode2465,@SiteCode2466,@SiteCode2467,@SiteCode2468,@SiteCode2469,@SiteCode2470,@SiteCode2471,@SiteCode2472,@SiteCode2473,@SiteCode2474,@SiteCode2475,@SiteCode2476,@SiteCode2477,@SiteCode2478,@SiteCode2479,@SiteCode2480,@SiteCode2481,@SiteCode2482,@SiteCode2483))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2457[String] = 6372912251695766465
@SiteCode2458[String] = 6373083923489249281
@SiteCode2459[String] = 6373083925531366080
@SiteCode2460[String] = 6373083927883400612
@SiteCode2461[String] = 6373083918575368225
@SiteCode2462[String] = 6373083920445075162
@SiteCode2463[String] = 6373083908618598731
@SiteCode2464[String] = 6373083911842783146
@SiteCode2465[String] = 6373083913928202424
@SiteCode2466[String] = 6373083877551621804
@SiteCode2467[String] = 6373083879921857377
@SiteCode2468[String] = 6373083881542550067
@SiteCode2469[String] = 6373083883689772886
@SiteCode2470[String] = 6373083887136270013
@SiteCode2471[String] = 6373083889697116488
@SiteCode2472[String] = 6373083891969846476
@SiteCode2473[String] = 6373083894422586761
@SiteCode2474[String] = 6373083897509963358
@SiteCode2475[String] = 6373083900444931227
@SiteCode2476[String] = 6373083829464571372
@SiteCode2477[String] = 6373083833327492328
@SiteCode2478[String] = 6373083841964286321
@SiteCode2479[String] = 6373083844982558950
@SiteCode2480[String] = 6373083847585007801
@SiteCode2481[String] = 6373083856887939900
@SiteCode2482[String] = 6373083859102666584
@SiteCode2483[String] = 6373083864919499284
@FDictionaryCode2484[String] = OrderState
@FDictionaryCode2485[String] = UrgentDegree
@FDictionaryCode2486[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:41:27
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:41:27
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:41:27
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:41:27
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:41:52
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:41:53
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:41:53
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:41:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:41:53
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2487) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2488)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2489,@CompanyCode2490,@CompanyCode2491,@CompanyCode2492,@CompanyCode2493,@CompanyCode2494,@CompanyCode2495,@CompanyCode2496)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2497))) 	
Parameters:
@Type2487[Int32] = 1
@ProjectId2488[String] = 6372912251695766465
@CompanyCode2489[String] = 6373083923489249281
@CompanyCode2490[String] = 6373083925531366080
@CompanyCode2491[String] = 6373083927883400612
@CompanyCode2492[String] = 6373083918575368225
@CompanyCode2493[String] = 6373083920445075162
@CompanyCode2494[String] = 6373083908618598731
@CompanyCode2495[String] = 6373083911842783146
@CompanyCode2496[String] = 6373083913928202424
@ParentCompanyCode2497[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:41:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:41:53
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2498) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2499)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2500,@CompanyCode2501,@CompanyCode2502,@CompanyCode2503,@CompanyCode2504,@CompanyCode2505,@CompanyCode2506,@CompanyCode2507)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2508))) 	
Parameters:
@Type2498[Int32] = 2
@ProjectId2499[String] = 6372912251695766465
@CompanyCode2500[String] = 6373083923489249281
@CompanyCode2501[String] = 6373083925531366080
@CompanyCode2502[String] = 6373083927883400612
@CompanyCode2503[String] = 6373083918575368225
@CompanyCode2504[String] = 6373083920445075162
@CompanyCode2505[String] = 6373083908618598731
@CompanyCode2506[String] = 6373083911842783146
@CompanyCode2507[String] = 6373083913928202424
@ParentCompanyCode2508[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:41:53
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:41:53
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:41:53
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2536)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2509) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2510,@SiteCode2511,@SiteCode2512,@SiteCode2513,@SiteCode2514,@SiteCode2515,@SiteCode2516,@SiteCode2517,@SiteCode2518,@SiteCode2519,@SiteCode2520,@SiteCode2521,@SiteCode2522,@SiteCode2523,@SiteCode2524,@SiteCode2525,@SiteCode2526,@SiteCode2527,@SiteCode2528,@SiteCode2529,@SiteCode2530,@SiteCode2531,@SiteCode2532,@SiteCode2533,@SiteCode2534,@SiteCode2535)))	
Parameters:
@ProjectId2509[String] = 6372912251695766465
@SiteCode2510[String] = 6373083923489249281
@SiteCode2511[String] = 6373083925531366080
@SiteCode2512[String] = 6373083927883400612
@SiteCode2513[String] = 6373083918575368225
@SiteCode2514[String] = 6373083920445075162
@SiteCode2515[String] = 6373083908618598731
@SiteCode2516[String] = 6373083911842783146
@SiteCode2517[String] = 6373083913928202424
@SiteCode2518[String] = 6373083877551621804
@SiteCode2519[String] = 6373083879921857377
@SiteCode2520[String] = 6373083881542550067
@SiteCode2521[String] = 6373083883689772886
@SiteCode2522[String] = 6373083887136270013
@SiteCode2523[String] = 6373083889697116488
@SiteCode2524[String] = 6373083891969846476
@SiteCode2525[String] = 6373083894422586761
@SiteCode2526[String] = 6373083897509963358
@SiteCode2527[String] = 6373083900444931227
@SiteCode2528[String] = 6373083829464571372
@SiteCode2529[String] = 6373083833327492328
@SiteCode2530[String] = 6373083841964286321
@SiteCode2531[String] = 6373083844982558950
@SiteCode2532[String] = 6373083847585007801
@SiteCode2533[String] = 6373083856887939900
@SiteCode2534[String] = 6373083859102666584
@SiteCode2535[String] = 6373083864919499284
@FDictionaryCode2536[String] = OrderState
@FDictionaryCode2537[String] = UrgentDegree
@FDictionaryCode2538[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:41:53
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2537) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2538) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2536)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2509) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2510,@SiteCode2511,@SiteCode2512,@SiteCode2513,@SiteCode2514,@SiteCode2515,@SiteCode2516,@SiteCode2517,@SiteCode2518,@SiteCode2519,@SiteCode2520,@SiteCode2521,@SiteCode2522,@SiteCode2523,@SiteCode2524,@SiteCode2525,@SiteCode2526,@SiteCode2527,@SiteCode2528,@SiteCode2529,@SiteCode2530,@SiteCode2531,@SiteCode2532,@SiteCode2533,@SiteCode2534,@SiteCode2535))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2509[String] = 6372912251695766465
@SiteCode2510[String] = 6373083923489249281
@SiteCode2511[String] = 6373083925531366080
@SiteCode2512[String] = 6373083927883400612
@SiteCode2513[String] = 6373083918575368225
@SiteCode2514[String] = 6373083920445075162
@SiteCode2515[String] = 6373083908618598731
@SiteCode2516[String] = 6373083911842783146
@SiteCode2517[String] = 6373083913928202424
@SiteCode2518[String] = 6373083877551621804
@SiteCode2519[String] = 6373083879921857377
@SiteCode2520[String] = 6373083881542550067
@SiteCode2521[String] = 6373083883689772886
@SiteCode2522[String] = 6373083887136270013
@SiteCode2523[String] = 6373083889697116488
@SiteCode2524[String] = 6373083891969846476
@SiteCode2525[String] = 6373083894422586761
@SiteCode2526[String] = 6373083897509963358
@SiteCode2527[String] = 6373083900444931227
@SiteCode2528[String] = 6373083829464571372
@SiteCode2529[String] = 6373083833327492328
@SiteCode2530[String] = 6373083841964286321
@SiteCode2531[String] = 6373083844982558950
@SiteCode2532[String] = 6373083847585007801
@SiteCode2533[String] = 6373083856887939900
@SiteCode2534[String] = 6373083859102666584
@SiteCode2535[String] = 6373083864919499284
@FDictionaryCode2536[String] = OrderState
@FDictionaryCode2537[String] = UrgentDegree
@FDictionaryCode2538[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:41:54
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:41:54
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:41:54
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:41:54
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2539) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2540)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2541,@CompanyCode2542,@CompanyCode2543,@CompanyCode2544,@CompanyCode2545,@CompanyCode2546,@CompanyCode2547,@CompanyCode2548)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2549))) 	
Parameters:
@Type2539[Int32] = 1
@ProjectId2540[String] = 6372912251695766465
@CompanyCode2541[String] = 6373083923489249281
@CompanyCode2542[String] = 6373083925531366080
@CompanyCode2543[String] = 6373083927883400612
@CompanyCode2544[String] = 6373083918575368225
@CompanyCode2545[String] = 6373083920445075162
@CompanyCode2546[String] = 6373083908618598731
@CompanyCode2547[String] = 6373083911842783146
@CompanyCode2548[String] = 6373083913928202424
@ParentCompanyCode2549[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2550) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2551)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2552,@CompanyCode2553,@CompanyCode2554,@CompanyCode2555,@CompanyCode2556,@CompanyCode2557,@CompanyCode2558,@CompanyCode2559)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2560))) 	
Parameters:
@Type2550[Int32] = 2
@ProjectId2551[String] = 6372912251695766465
@CompanyCode2552[String] = 6373083923489249281
@CompanyCode2553[String] = 6373083925531366080
@CompanyCode2554[String] = 6373083927883400612
@CompanyCode2555[String] = 6373083918575368225
@CompanyCode2556[String] = 6373083920445075162
@CompanyCode2557[String] = 6373083908618598731
@CompanyCode2558[String] = 6373083911842783146
@CompanyCode2559[String] = 6373083913928202424
@ParentCompanyCode2560[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2588)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2561) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2562,@SiteCode2563,@SiteCode2564,@SiteCode2565,@SiteCode2566,@SiteCode2567,@SiteCode2568,@SiteCode2569,@SiteCode2570,@SiteCode2571,@SiteCode2572,@SiteCode2573,@SiteCode2574,@SiteCode2575,@SiteCode2576,@SiteCode2577,@SiteCode2578,@SiteCode2579,@SiteCode2580,@SiteCode2581,@SiteCode2582,@SiteCode2583,@SiteCode2584,@SiteCode2585,@SiteCode2586,@SiteCode2587)))	
Parameters:
@ProjectId2561[String] = 6372912251695766465
@SiteCode2562[String] = 6373083923489249281
@SiteCode2563[String] = 6373083925531366080
@SiteCode2564[String] = 6373083927883400612
@SiteCode2565[String] = 6373083918575368225
@SiteCode2566[String] = 6373083920445075162
@SiteCode2567[String] = 6373083908618598731
@SiteCode2568[String] = 6373083911842783146
@SiteCode2569[String] = 6373083913928202424
@SiteCode2570[String] = 6373083877551621804
@SiteCode2571[String] = 6373083879921857377
@SiteCode2572[String] = 6373083881542550067
@SiteCode2573[String] = 6373083883689772886
@SiteCode2574[String] = 6373083887136270013
@SiteCode2575[String] = 6373083889697116488
@SiteCode2576[String] = 6373083891969846476
@SiteCode2577[String] = 6373083894422586761
@SiteCode2578[String] = 6373083897509963358
@SiteCode2579[String] = 6373083900444931227
@SiteCode2580[String] = 6373083829464571372
@SiteCode2581[String] = 6373083833327492328
@SiteCode2582[String] = 6373083841964286321
@SiteCode2583[String] = 6373083844982558950
@SiteCode2584[String] = 6373083847585007801
@SiteCode2585[String] = 6373083856887939900
@SiteCode2586[String] = 6373083859102666584
@SiteCode2587[String] = 6373083864919499284
@FDictionaryCode2588[String] = OrderState
@FDictionaryCode2589[String] = UrgentDegree
@FDictionaryCode2590[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2589) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2590) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2588)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2561) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2562,@SiteCode2563,@SiteCode2564,@SiteCode2565,@SiteCode2566,@SiteCode2567,@SiteCode2568,@SiteCode2569,@SiteCode2570,@SiteCode2571,@SiteCode2572,@SiteCode2573,@SiteCode2574,@SiteCode2575,@SiteCode2576,@SiteCode2577,@SiteCode2578,@SiteCode2579,@SiteCode2580,@SiteCode2581,@SiteCode2582,@SiteCode2583,@SiteCode2584,@SiteCode2585,@SiteCode2586,@SiteCode2587))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2561[String] = 6372912251695766465
@SiteCode2562[String] = 6373083923489249281
@SiteCode2563[String] = 6373083925531366080
@SiteCode2564[String] = 6373083927883400612
@SiteCode2565[String] = 6373083918575368225
@SiteCode2566[String] = 6373083920445075162
@SiteCode2567[String] = 6373083908618598731
@SiteCode2568[String] = 6373083911842783146
@SiteCode2569[String] = 6373083913928202424
@SiteCode2570[String] = 6373083877551621804
@SiteCode2571[String] = 6373083879921857377
@SiteCode2572[String] = 6373083881542550067
@SiteCode2573[String] = 6373083883689772886
@SiteCode2574[String] = 6373083887136270013
@SiteCode2575[String] = 6373083889697116488
@SiteCode2576[String] = 6373083891969846476
@SiteCode2577[String] = 6373083894422586761
@SiteCode2578[String] = 6373083897509963358
@SiteCode2579[String] = 6373083900444931227
@SiteCode2580[String] = 6373083829464571372
@SiteCode2581[String] = 6373083833327492328
@SiteCode2582[String] = 6373083841964286321
@SiteCode2583[String] = 6373083844982558950
@SiteCode2584[String] = 6373083847585007801
@SiteCode2585[String] = 6373083856887939900
@SiteCode2586[String] = 6373083859102666584
@SiteCode2587[String] = 6373083864919499284
@FDictionaryCode2588[String] = OrderState
@FDictionaryCode2589[String] = UrgentDegree
@FDictionaryCode2590[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:42:15
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:42:16
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:42:16
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:42:16
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2591) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2592)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2593,@CompanyCode2594,@CompanyCode2595,@CompanyCode2596,@CompanyCode2597,@CompanyCode2598,@CompanyCode2599,@CompanyCode2600)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2601))) 	
Parameters:
@Type2591[Int32] = 1
@ProjectId2592[String] = 6372912251695766465
@CompanyCode2593[String] = 6373083923489249281
@CompanyCode2594[String] = 6373083925531366080
@CompanyCode2595[String] = 6373083927883400612
@CompanyCode2596[String] = 6373083918575368225
@CompanyCode2597[String] = 6373083920445075162
@CompanyCode2598[String] = 6373083908618598731
@CompanyCode2599[String] = 6373083911842783146
@CompanyCode2600[String] = 6373083913928202424
@ParentCompanyCode2601[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2602) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2603)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2604,@CompanyCode2605,@CompanyCode2606,@CompanyCode2607,@CompanyCode2608,@CompanyCode2609,@CompanyCode2610,@CompanyCode2611)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2612))) 	
Parameters:
@Type2602[Int32] = 2
@ProjectId2603[String] = 6372912251695766465
@CompanyCode2604[String] = 6373083923489249281
@CompanyCode2605[String] = 6373083925531366080
@CompanyCode2606[String] = 6373083927883400612
@CompanyCode2607[String] = 6373083918575368225
@CompanyCode2608[String] = 6373083920445075162
@CompanyCode2609[String] = 6373083908618598731
@CompanyCode2610[String] = 6373083911842783146
@CompanyCode2611[String] = 6373083913928202424
@ParentCompanyCode2612[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2640)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2613) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2614,@SiteCode2615,@SiteCode2616,@SiteCode2617,@SiteCode2618,@SiteCode2619,@SiteCode2620,@SiteCode2621,@SiteCode2622,@SiteCode2623,@SiteCode2624,@SiteCode2625,@SiteCode2626,@SiteCode2627,@SiteCode2628,@SiteCode2629,@SiteCode2630,@SiteCode2631,@SiteCode2632,@SiteCode2633,@SiteCode2634,@SiteCode2635,@SiteCode2636,@SiteCode2637,@SiteCode2638,@SiteCode2639)))	
Parameters:
@ProjectId2613[String] = 6372912251695766465
@SiteCode2614[String] = 6373083923489249281
@SiteCode2615[String] = 6373083925531366080
@SiteCode2616[String] = 6373083927883400612
@SiteCode2617[String] = 6373083918575368225
@SiteCode2618[String] = 6373083920445075162
@SiteCode2619[String] = 6373083908618598731
@SiteCode2620[String] = 6373083911842783146
@SiteCode2621[String] = 6373083913928202424
@SiteCode2622[String] = 6373083877551621804
@SiteCode2623[String] = 6373083879921857377
@SiteCode2624[String] = 6373083881542550067
@SiteCode2625[String] = 6373083883689772886
@SiteCode2626[String] = 6373083887136270013
@SiteCode2627[String] = 6373083889697116488
@SiteCode2628[String] = 6373083891969846476
@SiteCode2629[String] = 6373083894422586761
@SiteCode2630[String] = 6373083897509963358
@SiteCode2631[String] = 6373083900444931227
@SiteCode2632[String] = 6373083829464571372
@SiteCode2633[String] = 6373083833327492328
@SiteCode2634[String] = 6373083841964286321
@SiteCode2635[String] = 6373083844982558950
@SiteCode2636[String] = 6373083847585007801
@SiteCode2637[String] = 6373083856887939900
@SiteCode2638[String] = 6373083859102666584
@SiteCode2639[String] = 6373083864919499284
@FDictionaryCode2640[String] = OrderState
@FDictionaryCode2641[String] = UrgentDegree
@FDictionaryCode2642[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:43:02
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2641) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2642) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2640)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2613) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2614,@SiteCode2615,@SiteCode2616,@SiteCode2617,@SiteCode2618,@SiteCode2619,@SiteCode2620,@SiteCode2621,@SiteCode2622,@SiteCode2623,@SiteCode2624,@SiteCode2625,@SiteCode2626,@SiteCode2627,@SiteCode2628,@SiteCode2629,@SiteCode2630,@SiteCode2631,@SiteCode2632,@SiteCode2633,@SiteCode2634,@SiteCode2635,@SiteCode2636,@SiteCode2637,@SiteCode2638,@SiteCode2639))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2613[String] = 6372912251695766465
@SiteCode2614[String] = 6373083923489249281
@SiteCode2615[String] = 6373083925531366080
@SiteCode2616[String] = 6373083927883400612
@SiteCode2617[String] = 6373083918575368225
@SiteCode2618[String] = 6373083920445075162
@SiteCode2619[String] = 6373083908618598731
@SiteCode2620[String] = 6373083911842783146
@SiteCode2621[String] = 6373083913928202424
@SiteCode2622[String] = 6373083877551621804
@SiteCode2623[String] = 6373083879921857377
@SiteCode2624[String] = 6373083881542550067
@SiteCode2625[String] = 6373083883689772886
@SiteCode2626[String] = 6373083887136270013
@SiteCode2627[String] = 6373083889697116488
@SiteCode2628[String] = 6373083891969846476
@SiteCode2629[String] = 6373083894422586761
@SiteCode2630[String] = 6373083897509963358
@SiteCode2631[String] = 6373083900444931227
@SiteCode2632[String] = 6373083829464571372
@SiteCode2633[String] = 6373083833327492328
@SiteCode2634[String] = 6373083841964286321
@SiteCode2635[String] = 6373083844982558950
@SiteCode2636[String] = 6373083847585007801
@SiteCode2637[String] = 6373083856887939900
@SiteCode2638[String] = 6373083859102666584
@SiteCode2639[String] = 6373083864919499284
@FDictionaryCode2640[String] = OrderState
@FDictionaryCode2641[String] = UrgentDegree
@FDictionaryCode2642[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:43:03
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:43:03
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:43:03
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:43:03
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2643) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2644)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2645,@CompanyCode2646,@CompanyCode2647,@CompanyCode2648,@CompanyCode2649,@CompanyCode2650,@CompanyCode2651,@CompanyCode2652)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2653))) 	
Parameters:
@Type2643[Int32] = 1
@ProjectId2644[String] = 6372912251695766465
@CompanyCode2645[String] = 6373083923489249281
@CompanyCode2646[String] = 6373083925531366080
@CompanyCode2647[String] = 6373083927883400612
@CompanyCode2648[String] = 6373083918575368225
@CompanyCode2649[String] = 6373083920445075162
@CompanyCode2650[String] = 6373083908618598731
@CompanyCode2651[String] = 6373083911842783146
@CompanyCode2652[String] = 6373083913928202424
@ParentCompanyCode2653[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2654) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2655)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2656,@CompanyCode2657,@CompanyCode2658,@CompanyCode2659,@CompanyCode2660,@CompanyCode2661,@CompanyCode2662,@CompanyCode2663)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2664))) 	
Parameters:
@Type2654[Int32] = 2
@ProjectId2655[String] = 6372912251695766465
@CompanyCode2656[String] = 6373083923489249281
@CompanyCode2657[String] = 6373083925531366080
@CompanyCode2658[String] = 6373083927883400612
@CompanyCode2659[String] = 6373083918575368225
@CompanyCode2660[String] = 6373083920445075162
@CompanyCode2661[String] = 6373083908618598731
@CompanyCode2662[String] = 6373083911842783146
@CompanyCode2663[String] = 6373083913928202424
@ParentCompanyCode2664[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2692)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2665) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2666,@SiteCode2667,@SiteCode2668,@SiteCode2669,@SiteCode2670,@SiteCode2671,@SiteCode2672,@SiteCode2673,@SiteCode2674,@SiteCode2675,@SiteCode2676,@SiteCode2677,@SiteCode2678,@SiteCode2679,@SiteCode2680,@SiteCode2681,@SiteCode2682,@SiteCode2683,@SiteCode2684,@SiteCode2685,@SiteCode2686,@SiteCode2687,@SiteCode2688,@SiteCode2689,@SiteCode2690,@SiteCode2691)))	
Parameters:
@ProjectId2665[String] = 6372912251695766465
@SiteCode2666[String] = 6373083923489249281
@SiteCode2667[String] = 6373083925531366080
@SiteCode2668[String] = 6373083927883400612
@SiteCode2669[String] = 6373083918575368225
@SiteCode2670[String] = 6373083920445075162
@SiteCode2671[String] = 6373083908618598731
@SiteCode2672[String] = 6373083911842783146
@SiteCode2673[String] = 6373083913928202424
@SiteCode2674[String] = 6373083877551621804
@SiteCode2675[String] = 6373083879921857377
@SiteCode2676[String] = 6373083881542550067
@SiteCode2677[String] = 6373083883689772886
@SiteCode2678[String] = 6373083887136270013
@SiteCode2679[String] = 6373083889697116488
@SiteCode2680[String] = 6373083891969846476
@SiteCode2681[String] = 6373083894422586761
@SiteCode2682[String] = 6373083897509963358
@SiteCode2683[String] = 6373083900444931227
@SiteCode2684[String] = 6373083829464571372
@SiteCode2685[String] = 6373083833327492328
@SiteCode2686[String] = 6373083841964286321
@SiteCode2687[String] = 6373083844982558950
@SiteCode2688[String] = 6373083847585007801
@SiteCode2689[String] = 6373083856887939900
@SiteCode2690[String] = 6373083859102666584
@SiteCode2691[String] = 6373083864919499284
@FDictionaryCode2692[String] = OrderState
@FDictionaryCode2693[String] = UrgentDegree
@FDictionaryCode2694[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2693) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2694) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2692)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2665) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2666,@SiteCode2667,@SiteCode2668,@SiteCode2669,@SiteCode2670,@SiteCode2671,@SiteCode2672,@SiteCode2673,@SiteCode2674,@SiteCode2675,@SiteCode2676,@SiteCode2677,@SiteCode2678,@SiteCode2679,@SiteCode2680,@SiteCode2681,@SiteCode2682,@SiteCode2683,@SiteCode2684,@SiteCode2685,@SiteCode2686,@SiteCode2687,@SiteCode2688,@SiteCode2689,@SiteCode2690,@SiteCode2691))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2665[String] = 6372912251695766465
@SiteCode2666[String] = 6373083923489249281
@SiteCode2667[String] = 6373083925531366080
@SiteCode2668[String] = 6373083927883400612
@SiteCode2669[String] = 6373083918575368225
@SiteCode2670[String] = 6373083920445075162
@SiteCode2671[String] = 6373083908618598731
@SiteCode2672[String] = 6373083911842783146
@SiteCode2673[String] = 6373083913928202424
@SiteCode2674[String] = 6373083877551621804
@SiteCode2675[String] = 6373083879921857377
@SiteCode2676[String] = 6373083881542550067
@SiteCode2677[String] = 6373083883689772886
@SiteCode2678[String] = 6373083887136270013
@SiteCode2679[String] = 6373083889697116488
@SiteCode2680[String] = 6373083891969846476
@SiteCode2681[String] = 6373083894422586761
@SiteCode2682[String] = 6373083897509963358
@SiteCode2683[String] = 6373083900444931227
@SiteCode2684[String] = 6373083829464571372
@SiteCode2685[String] = 6373083833327492328
@SiteCode2686[String] = 6373083841964286321
@SiteCode2687[String] = 6373083844982558950
@SiteCode2688[String] = 6373083847585007801
@SiteCode2689[String] = 6373083856887939900
@SiteCode2690[String] = 6373083859102666584
@SiteCode2691[String] = 6373083864919499284
@FDictionaryCode2692[String] = OrderState
@FDictionaryCode2693[String] = UrgentDegree
@FDictionaryCode2694[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:43:40
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:43:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:43:41
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:43:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:43:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2695) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2696)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2697,@CompanyCode2698,@CompanyCode2699,@CompanyCode2700,@CompanyCode2701,@CompanyCode2702,@CompanyCode2703,@CompanyCode2704)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2705))) 	
Parameters:
@Type2695[Int32] = 1
@ProjectId2696[String] = 6372912251695766465
@CompanyCode2697[String] = 6373083923489249281
@CompanyCode2698[String] = 6373083925531366080
@CompanyCode2699[String] = 6373083927883400612
@CompanyCode2700[String] = 6373083918575368225
@CompanyCode2701[String] = 6373083920445075162
@CompanyCode2702[String] = 6373083908618598731
@CompanyCode2703[String] = 6373083911842783146
@CompanyCode2704[String] = 6373083913928202424
@ParentCompanyCode2705[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2706) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2707)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2708,@CompanyCode2709,@CompanyCode2710,@CompanyCode2711,@CompanyCode2712,@CompanyCode2713,@CompanyCode2714,@CompanyCode2715)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2716))) 	
Parameters:
@Type2706[Int32] = 2
@ProjectId2707[String] = 6372912251695766465
@CompanyCode2708[String] = 6373083923489249281
@CompanyCode2709[String] = 6373083925531366080
@CompanyCode2710[String] = 6373083927883400612
@CompanyCode2711[String] = 6373083918575368225
@CompanyCode2712[String] = 6373083920445075162
@CompanyCode2713[String] = 6373083908618598731
@CompanyCode2714[String] = 6373083911842783146
@CompanyCode2715[String] = 6373083913928202424
@ParentCompanyCode2716[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2744)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2717) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2718,@SiteCode2719,@SiteCode2720,@SiteCode2721,@SiteCode2722,@SiteCode2723,@SiteCode2724,@SiteCode2725,@SiteCode2726,@SiteCode2727,@SiteCode2728,@SiteCode2729,@SiteCode2730,@SiteCode2731,@SiteCode2732,@SiteCode2733,@SiteCode2734,@SiteCode2735,@SiteCode2736,@SiteCode2737,@SiteCode2738,@SiteCode2739,@SiteCode2740,@SiteCode2741,@SiteCode2742,@SiteCode2743)))	
Parameters:
@ProjectId2717[String] = 6372912251695766465
@SiteCode2718[String] = 6373083923489249281
@SiteCode2719[String] = 6373083925531366080
@SiteCode2720[String] = 6373083927883400612
@SiteCode2721[String] = 6373083918575368225
@SiteCode2722[String] = 6373083920445075162
@SiteCode2723[String] = 6373083908618598731
@SiteCode2724[String] = 6373083911842783146
@SiteCode2725[String] = 6373083913928202424
@SiteCode2726[String] = 6373083877551621804
@SiteCode2727[String] = 6373083879921857377
@SiteCode2728[String] = 6373083881542550067
@SiteCode2729[String] = 6373083883689772886
@SiteCode2730[String] = 6373083887136270013
@SiteCode2731[String] = 6373083889697116488
@SiteCode2732[String] = 6373083891969846476
@SiteCode2733[String] = 6373083894422586761
@SiteCode2734[String] = 6373083897509963358
@SiteCode2735[String] = 6373083900444931227
@SiteCode2736[String] = 6373083829464571372
@SiteCode2737[String] = 6373083833327492328
@SiteCode2738[String] = 6373083841964286321
@SiteCode2739[String] = 6373083844982558950
@SiteCode2740[String] = 6373083847585007801
@SiteCode2741[String] = 6373083856887939900
@SiteCode2742[String] = 6373083859102666584
@SiteCode2743[String] = 6373083864919499284
@FDictionaryCode2744[String] = OrderState
@FDictionaryCode2745[String] = UrgentDegree
@FDictionaryCode2746[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:44:35
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2745) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2746) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2744)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2717) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2718,@SiteCode2719,@SiteCode2720,@SiteCode2721,@SiteCode2722,@SiteCode2723,@SiteCode2724,@SiteCode2725,@SiteCode2726,@SiteCode2727,@SiteCode2728,@SiteCode2729,@SiteCode2730,@SiteCode2731,@SiteCode2732,@SiteCode2733,@SiteCode2734,@SiteCode2735,@SiteCode2736,@SiteCode2737,@SiteCode2738,@SiteCode2739,@SiteCode2740,@SiteCode2741,@SiteCode2742,@SiteCode2743))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2717[String] = 6372912251695766465
@SiteCode2718[String] = 6373083923489249281
@SiteCode2719[String] = 6373083925531366080
@SiteCode2720[String] = 6373083927883400612
@SiteCode2721[String] = 6373083918575368225
@SiteCode2722[String] = 6373083920445075162
@SiteCode2723[String] = 6373083908618598731
@SiteCode2724[String] = 6373083911842783146
@SiteCode2725[String] = 6373083913928202424
@SiteCode2726[String] = 6373083877551621804
@SiteCode2727[String] = 6373083879921857377
@SiteCode2728[String] = 6373083881542550067
@SiteCode2729[String] = 6373083883689772886
@SiteCode2730[String] = 6373083887136270013
@SiteCode2731[String] = 6373083889697116488
@SiteCode2732[String] = 6373083891969846476
@SiteCode2733[String] = 6373083894422586761
@SiteCode2734[String] = 6373083897509963358
@SiteCode2735[String] = 6373083900444931227
@SiteCode2736[String] = 6373083829464571372
@SiteCode2737[String] = 6373083833327492328
@SiteCode2738[String] = 6373083841964286321
@SiteCode2739[String] = 6373083844982558950
@SiteCode2740[String] = 6373083847585007801
@SiteCode2741[String] = 6373083856887939900
@SiteCode2742[String] = 6373083859102666584
@SiteCode2743[String] = 6373083864919499284
@FDictionaryCode2744[String] = OrderState
@FDictionaryCode2745[String] = UrgentDegree
@FDictionaryCode2746[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:44:36
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:44:36
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:44:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:44:36
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2747) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2748)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2749,@CompanyCode2750,@CompanyCode2751,@CompanyCode2752,@CompanyCode2753,@CompanyCode2754,@CompanyCode2755,@CompanyCode2756)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2757))) 	
Parameters:
@Type2747[Int32] = 1
@ProjectId2748[String] = 6372912251695766465
@CompanyCode2749[String] = 6373083923489249281
@CompanyCode2750[String] = 6373083925531366080
@CompanyCode2751[String] = 6373083927883400612
@CompanyCode2752[String] = 6373083918575368225
@CompanyCode2753[String] = 6373083920445075162
@CompanyCode2754[String] = 6373083908618598731
@CompanyCode2755[String] = 6373083911842783146
@CompanyCode2756[String] = 6373083913928202424
@ParentCompanyCode2757[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2758) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2759)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2760,@CompanyCode2761,@CompanyCode2762,@CompanyCode2763,@CompanyCode2764,@CompanyCode2765,@CompanyCode2766,@CompanyCode2767)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2768))) 	
Parameters:
@Type2758[Int32] = 2
@ProjectId2759[String] = 6372912251695766465
@CompanyCode2760[String] = 6373083923489249281
@CompanyCode2761[String] = 6373083925531366080
@CompanyCode2762[String] = 6373083927883400612
@CompanyCode2763[String] = 6373083918575368225
@CompanyCode2764[String] = 6373083920445075162
@CompanyCode2765[String] = 6373083908618598731
@CompanyCode2766[String] = 6373083911842783146
@CompanyCode2767[String] = 6373083913928202424
@ParentCompanyCode2768[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2796)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2769) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2770,@SiteCode2771,@SiteCode2772,@SiteCode2773,@SiteCode2774,@SiteCode2775,@SiteCode2776,@SiteCode2777,@SiteCode2778,@SiteCode2779,@SiteCode2780,@SiteCode2781,@SiteCode2782,@SiteCode2783,@SiteCode2784,@SiteCode2785,@SiteCode2786,@SiteCode2787,@SiteCode2788,@SiteCode2789,@SiteCode2790,@SiteCode2791,@SiteCode2792,@SiteCode2793,@SiteCode2794,@SiteCode2795)))	
Parameters:
@ProjectId2769[String] = 6372912251695766465
@SiteCode2770[String] = 6373083923489249281
@SiteCode2771[String] = 6373083925531366080
@SiteCode2772[String] = 6373083927883400612
@SiteCode2773[String] = 6373083918575368225
@SiteCode2774[String] = 6373083920445075162
@SiteCode2775[String] = 6373083908618598731
@SiteCode2776[String] = 6373083911842783146
@SiteCode2777[String] = 6373083913928202424
@SiteCode2778[String] = 6373083877551621804
@SiteCode2779[String] = 6373083879921857377
@SiteCode2780[String] = 6373083881542550067
@SiteCode2781[String] = 6373083883689772886
@SiteCode2782[String] = 6373083887136270013
@SiteCode2783[String] = 6373083889697116488
@SiteCode2784[String] = 6373083891969846476
@SiteCode2785[String] = 6373083894422586761
@SiteCode2786[String] = 6373083897509963358
@SiteCode2787[String] = 6373083900444931227
@SiteCode2788[String] = 6373083829464571372
@SiteCode2789[String] = 6373083833327492328
@SiteCode2790[String] = 6373083841964286321
@SiteCode2791[String] = 6373083844982558950
@SiteCode2792[String] = 6373083847585007801
@SiteCode2793[String] = 6373083856887939900
@SiteCode2794[String] = 6373083859102666584
@SiteCode2795[String] = 6373083864919499284
@FDictionaryCode2796[String] = OrderState
@FDictionaryCode2797[String] = UrgentDegree
@FDictionaryCode2798[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2797) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2798) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2796)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2769) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2770,@SiteCode2771,@SiteCode2772,@SiteCode2773,@SiteCode2774,@SiteCode2775,@SiteCode2776,@SiteCode2777,@SiteCode2778,@SiteCode2779,@SiteCode2780,@SiteCode2781,@SiteCode2782,@SiteCode2783,@SiteCode2784,@SiteCode2785,@SiteCode2786,@SiteCode2787,@SiteCode2788,@SiteCode2789,@SiteCode2790,@SiteCode2791,@SiteCode2792,@SiteCode2793,@SiteCode2794,@SiteCode2795))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2769[String] = 6372912251695766465
@SiteCode2770[String] = 6373083923489249281
@SiteCode2771[String] = 6373083925531366080
@SiteCode2772[String] = 6373083927883400612
@SiteCode2773[String] = 6373083918575368225
@SiteCode2774[String] = 6373083920445075162
@SiteCode2775[String] = 6373083908618598731
@SiteCode2776[String] = 6373083911842783146
@SiteCode2777[String] = 6373083913928202424
@SiteCode2778[String] = 6373083877551621804
@SiteCode2779[String] = 6373083879921857377
@SiteCode2780[String] = 6373083881542550067
@SiteCode2781[String] = 6373083883689772886
@SiteCode2782[String] = 6373083887136270013
@SiteCode2783[String] = 6373083889697116488
@SiteCode2784[String] = 6373083891969846476
@SiteCode2785[String] = 6373083894422586761
@SiteCode2786[String] = 6373083897509963358
@SiteCode2787[String] = 6373083900444931227
@SiteCode2788[String] = 6373083829464571372
@SiteCode2789[String] = 6373083833327492328
@SiteCode2790[String] = 6373083841964286321
@SiteCode2791[String] = 6373083844982558950
@SiteCode2792[String] = 6373083847585007801
@SiteCode2793[String] = 6373083856887939900
@SiteCode2794[String] = 6373083859102666584
@SiteCode2795[String] = 6373083864919499284
@FDictionaryCode2796[String] = OrderState
@FDictionaryCode2797[String] = UrgentDegree
@FDictionaryCode2798[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:44:40
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:44:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:44:41
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:44:41
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:44:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:44:41
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:44:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:44:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:45:17
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:45:17
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:45:19
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:45:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:45:19
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2799) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2800)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2801,@CompanyCode2802,@CompanyCode2803,@CompanyCode2804,@CompanyCode2805,@CompanyCode2806,@CompanyCode2807,@CompanyCode2808)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2809))) 	
Parameters:
@Type2799[Int32] = 1
@ProjectId2800[String] = 6372912251695766465
@CompanyCode2801[String] = 6373083923489249281
@CompanyCode2802[String] = 6373083925531366080
@CompanyCode2803[String] = 6373083927883400612
@CompanyCode2804[String] = 6373083918575368225
@CompanyCode2805[String] = 6373083920445075162
@CompanyCode2806[String] = 6373083908618598731
@CompanyCode2807[String] = 6373083911842783146
@CompanyCode2808[String] = 6373083913928202424
@ParentCompanyCode2809[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:45:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:45:19
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2810) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2811)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2812,@CompanyCode2813,@CompanyCode2814,@CompanyCode2815,@CompanyCode2816,@CompanyCode2817,@CompanyCode2818,@CompanyCode2819)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2820))) 	
Parameters:
@Type2810[Int32] = 2
@ProjectId2811[String] = 6372912251695766465
@CompanyCode2812[String] = 6373083923489249281
@CompanyCode2813[String] = 6373083925531366080
@CompanyCode2814[String] = 6373083927883400612
@CompanyCode2815[String] = 6373083918575368225
@CompanyCode2816[String] = 6373083920445075162
@CompanyCode2817[String] = 6373083908618598731
@CompanyCode2818[String] = 6373083911842783146
@CompanyCode2819[String] = 6373083913928202424
@ParentCompanyCode2820[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:45:19
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:45:19
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:45:19
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2848)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2821) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2822,@SiteCode2823,@SiteCode2824,@SiteCode2825,@SiteCode2826,@SiteCode2827,@SiteCode2828,@SiteCode2829,@SiteCode2830,@SiteCode2831,@SiteCode2832,@SiteCode2833,@SiteCode2834,@SiteCode2835,@SiteCode2836,@SiteCode2837,@SiteCode2838,@SiteCode2839,@SiteCode2840,@SiteCode2841,@SiteCode2842,@SiteCode2843,@SiteCode2844,@SiteCode2845,@SiteCode2846,@SiteCode2847)))	
Parameters:
@ProjectId2821[String] = 6372912251695766465
@SiteCode2822[String] = 6373083923489249281
@SiteCode2823[String] = 6373083925531366080
@SiteCode2824[String] = 6373083927883400612
@SiteCode2825[String] = 6373083918575368225
@SiteCode2826[String] = 6373083920445075162
@SiteCode2827[String] = 6373083908618598731
@SiteCode2828[String] = 6373083911842783146
@SiteCode2829[String] = 6373083913928202424
@SiteCode2830[String] = 6373083877551621804
@SiteCode2831[String] = 6373083879921857377
@SiteCode2832[String] = 6373083881542550067
@SiteCode2833[String] = 6373083883689772886
@SiteCode2834[String] = 6373083887136270013
@SiteCode2835[String] = 6373083889697116488
@SiteCode2836[String] = 6373083891969846476
@SiteCode2837[String] = 6373083894422586761
@SiteCode2838[String] = 6373083897509963358
@SiteCode2839[String] = 6373083900444931227
@SiteCode2840[String] = 6373083829464571372
@SiteCode2841[String] = 6373083833327492328
@SiteCode2842[String] = 6373083841964286321
@SiteCode2843[String] = 6373083844982558950
@SiteCode2844[String] = 6373083847585007801
@SiteCode2845[String] = 6373083856887939900
@SiteCode2846[String] = 6373083859102666584
@SiteCode2847[String] = 6373083864919499284
@FDictionaryCode2848[String] = OrderState
@FDictionaryCode2849[String] = UrgentDegree
@FDictionaryCode2850[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:45:19
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2849) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2850) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2848)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2821) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2822,@SiteCode2823,@SiteCode2824,@SiteCode2825,@SiteCode2826,@SiteCode2827,@SiteCode2828,@SiteCode2829,@SiteCode2830,@SiteCode2831,@SiteCode2832,@SiteCode2833,@SiteCode2834,@SiteCode2835,@SiteCode2836,@SiteCode2837,@SiteCode2838,@SiteCode2839,@SiteCode2840,@SiteCode2841,@SiteCode2842,@SiteCode2843,@SiteCode2844,@SiteCode2845,@SiteCode2846,@SiteCode2847))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2821[String] = 6372912251695766465
@SiteCode2822[String] = 6373083923489249281
@SiteCode2823[String] = 6373083925531366080
@SiteCode2824[String] = 6373083927883400612
@SiteCode2825[String] = 6373083918575368225
@SiteCode2826[String] = 6373083920445075162
@SiteCode2827[String] = 6373083908618598731
@SiteCode2828[String] = 6373083911842783146
@SiteCode2829[String] = 6373083913928202424
@SiteCode2830[String] = 6373083877551621804
@SiteCode2831[String] = 6373083879921857377
@SiteCode2832[String] = 6373083881542550067
@SiteCode2833[String] = 6373083883689772886
@SiteCode2834[String] = 6373083887136270013
@SiteCode2835[String] = 6373083889697116488
@SiteCode2836[String] = 6373083891969846476
@SiteCode2837[String] = 6373083894422586761
@SiteCode2838[String] = 6373083897509963358
@SiteCode2839[String] = 6373083900444931227
@SiteCode2840[String] = 6373083829464571372
@SiteCode2841[String] = 6373083833327492328
@SiteCode2842[String] = 6373083841964286321
@SiteCode2843[String] = 6373083844982558950
@SiteCode2844[String] = 6373083847585007801
@SiteCode2845[String] = 6373083856887939900
@SiteCode2846[String] = 6373083859102666584
@SiteCode2847[String] = 6373083864919499284
@FDictionaryCode2848[String] = OrderState
@FDictionaryCode2849[String] = UrgentDegree
@FDictionaryCode2850[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:45:20
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:45:20
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:45:20
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:45:20
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:45:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:45:23
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2851) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2852)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2853,@CompanyCode2854,@CompanyCode2855,@CompanyCode2856,@CompanyCode2857,@CompanyCode2858,@CompanyCode2859,@CompanyCode2860)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2861))) 	
Parameters:
@Type2851[Int32] = 1
@ProjectId2852[String] = 6372912251695766465
@CompanyCode2853[String] = 6373083923489249281
@CompanyCode2854[String] = 6373083925531366080
@CompanyCode2855[String] = 6373083927883400612
@CompanyCode2856[String] = 6373083918575368225
@CompanyCode2857[String] = 6373083920445075162
@CompanyCode2858[String] = 6373083908618598731
@CompanyCode2859[String] = 6373083911842783146
@CompanyCode2860[String] = 6373083913928202424
@ParentCompanyCode2861[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:45:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:45:23
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2862) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2863)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2864,@CompanyCode2865,@CompanyCode2866,@CompanyCode2867,@CompanyCode2868,@CompanyCode2869,@CompanyCode2870,@CompanyCode2871)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2872))) 	
Parameters:
@Type2862[Int32] = 2
@ProjectId2863[String] = 6372912251695766465
@CompanyCode2864[String] = 6373083923489249281
@CompanyCode2865[String] = 6373083925531366080
@CompanyCode2866[String] = 6373083927883400612
@CompanyCode2867[String] = 6373083918575368225
@CompanyCode2868[String] = 6373083920445075162
@CompanyCode2869[String] = 6373083908618598731
@CompanyCode2870[String] = 6373083911842783146
@CompanyCode2871[String] = 6373083913928202424
@ParentCompanyCode2872[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:45:23
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:45:23
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:45:23
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:45:23
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:45:23
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2900)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2873) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2874,@SiteCode2875,@SiteCode2876,@SiteCode2877,@SiteCode2878,@SiteCode2879,@SiteCode2880,@SiteCode2881,@SiteCode2882,@SiteCode2883,@SiteCode2884,@SiteCode2885,@SiteCode2886,@SiteCode2887,@SiteCode2888,@SiteCode2889,@SiteCode2890,@SiteCode2891,@SiteCode2892,@SiteCode2893,@SiteCode2894,@SiteCode2895,@SiteCode2896,@SiteCode2897,@SiteCode2898,@SiteCode2899)))	
Parameters:
@ProjectId2873[String] = 6372912251695766465
@SiteCode2874[String] = 6373083923489249281
@SiteCode2875[String] = 6373083925531366080
@SiteCode2876[String] = 6373083927883400612
@SiteCode2877[String] = 6373083918575368225
@SiteCode2878[String] = 6373083920445075162
@SiteCode2879[String] = 6373083908618598731
@SiteCode2880[String] = 6373083911842783146
@SiteCode2881[String] = 6373083913928202424
@SiteCode2882[String] = 6373083877551621804
@SiteCode2883[String] = 6373083879921857377
@SiteCode2884[String] = 6373083881542550067
@SiteCode2885[String] = 6373083883689772886
@SiteCode2886[String] = 6373083887136270013
@SiteCode2887[String] = 6373083889697116488
@SiteCode2888[String] = 6373083891969846476
@SiteCode2889[String] = 6373083894422586761
@SiteCode2890[String] = 6373083897509963358
@SiteCode2891[String] = 6373083900444931227
@SiteCode2892[String] = 6373083829464571372
@SiteCode2893[String] = 6373083833327492328
@SiteCode2894[String] = 6373083841964286321
@SiteCode2895[String] = 6373083844982558950
@SiteCode2896[String] = 6373083847585007801
@SiteCode2897[String] = 6373083856887939900
@SiteCode2898[String] = 6373083859102666584
@SiteCode2899[String] = 6373083864919499284
@FDictionaryCode2900[String] = OrderState
@FDictionaryCode2901[String] = UrgentDegree
@FDictionaryCode2902[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:45:23
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2901) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2902) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2900)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2873) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2874,@SiteCode2875,@SiteCode2876,@SiteCode2877,@SiteCode2878,@SiteCode2879,@SiteCode2880,@SiteCode2881,@SiteCode2882,@SiteCode2883,@SiteCode2884,@SiteCode2885,@SiteCode2886,@SiteCode2887,@SiteCode2888,@SiteCode2889,@SiteCode2890,@SiteCode2891,@SiteCode2892,@SiteCode2893,@SiteCode2894,@SiteCode2895,@SiteCode2896,@SiteCode2897,@SiteCode2898,@SiteCode2899))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2873[String] = 6372912251695766465
@SiteCode2874[String] = 6373083923489249281
@SiteCode2875[String] = 6373083925531366080
@SiteCode2876[String] = 6373083927883400612
@SiteCode2877[String] = 6373083918575368225
@SiteCode2878[String] = 6373083920445075162
@SiteCode2879[String] = 6373083908618598731
@SiteCode2880[String] = 6373083911842783146
@SiteCode2881[String] = 6373083913928202424
@SiteCode2882[String] = 6373083877551621804
@SiteCode2883[String] = 6373083879921857377
@SiteCode2884[String] = 6373083881542550067
@SiteCode2885[String] = 6373083883689772886
@SiteCode2886[String] = 6373083887136270013
@SiteCode2887[String] = 6373083889697116488
@SiteCode2888[String] = 6373083891969846476
@SiteCode2889[String] = 6373083894422586761
@SiteCode2890[String] = 6373083897509963358
@SiteCode2891[String] = 6373083900444931227
@SiteCode2892[String] = 6373083829464571372
@SiteCode2893[String] = 6373083833327492328
@SiteCode2894[String] = 6373083841964286321
@SiteCode2895[String] = 6373083844982558950
@SiteCode2896[String] = 6373083847585007801
@SiteCode2897[String] = 6373083856887939900
@SiteCode2898[String] = 6373083859102666584
@SiteCode2899[String] = 6373083864919499284
@FDictionaryCode2900[String] = OrderState
@FDictionaryCode2901[String] = UrgentDegree
@FDictionaryCode2902[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:45:24
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:45:24
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:45:24
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:45:24
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:45:24
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:45:24
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:45:24
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:45:24
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2903) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2904)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2905,@CompanyCode2906,@CompanyCode2907,@CompanyCode2908,@CompanyCode2909,@CompanyCode2910,@CompanyCode2911,@CompanyCode2912)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2913))) 	
Parameters:
@Type2903[Int32] = 1
@ProjectId2904[String] = 6372912251695766465
@CompanyCode2905[String] = 6373083923489249281
@CompanyCode2906[String] = 6373083925531366080
@CompanyCode2907[String] = 6373083927883400612
@CompanyCode2908[String] = 6373083918575368225
@CompanyCode2909[String] = 6373083920445075162
@CompanyCode2910[String] = 6373083908618598731
@CompanyCode2911[String] = 6373083911842783146
@CompanyCode2912[String] = 6373083913928202424
@ParentCompanyCode2913[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2914) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2915)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2916,@CompanyCode2917,@CompanyCode2918,@CompanyCode2919,@CompanyCode2920,@CompanyCode2921,@CompanyCode2922,@CompanyCode2923)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2924))) 	
Parameters:
@Type2914[Int32] = 2
@ProjectId2915[String] = 6372912251695766465
@CompanyCode2916[String] = 6373083923489249281
@CompanyCode2917[String] = 6373083925531366080
@CompanyCode2918[String] = 6373083927883400612
@CompanyCode2919[String] = 6373083918575368225
@CompanyCode2920[String] = 6373083920445075162
@CompanyCode2921[String] = 6373083908618598731
@CompanyCode2922[String] = 6373083911842783146
@CompanyCode2923[String] = 6373083913928202424
@ParentCompanyCode2924[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2952)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2925) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2926,@SiteCode2927,@SiteCode2928,@SiteCode2929,@SiteCode2930,@SiteCode2931,@SiteCode2932,@SiteCode2933,@SiteCode2934,@SiteCode2935,@SiteCode2936,@SiteCode2937,@SiteCode2938,@SiteCode2939,@SiteCode2940,@SiteCode2941,@SiteCode2942,@SiteCode2943,@SiteCode2944,@SiteCode2945,@SiteCode2946,@SiteCode2947,@SiteCode2948,@SiteCode2949,@SiteCode2950,@SiteCode2951)))	
Parameters:
@ProjectId2925[String] = 6372912251695766465
@SiteCode2926[String] = 6373083923489249281
@SiteCode2927[String] = 6373083925531366080
@SiteCode2928[String] = 6373083927883400612
@SiteCode2929[String] = 6373083918575368225
@SiteCode2930[String] = 6373083920445075162
@SiteCode2931[String] = 6373083908618598731
@SiteCode2932[String] = 6373083911842783146
@SiteCode2933[String] = 6373083913928202424
@SiteCode2934[String] = 6373083877551621804
@SiteCode2935[String] = 6373083879921857377
@SiteCode2936[String] = 6373083881542550067
@SiteCode2937[String] = 6373083883689772886
@SiteCode2938[String] = 6373083887136270013
@SiteCode2939[String] = 6373083889697116488
@SiteCode2940[String] = 6373083891969846476
@SiteCode2941[String] = 6373083894422586761
@SiteCode2942[String] = 6373083897509963358
@SiteCode2943[String] = 6373083900444931227
@SiteCode2944[String] = 6373083829464571372
@SiteCode2945[String] = 6373083833327492328
@SiteCode2946[String] = 6373083841964286321
@SiteCode2947[String] = 6373083844982558950
@SiteCode2948[String] = 6373083847585007801
@SiteCode2949[String] = 6373083856887939900
@SiteCode2950[String] = 6373083859102666584
@SiteCode2951[String] = 6373083864919499284
@FDictionaryCode2952[String] = OrderState
@FDictionaryCode2953[String] = UrgentDegree
@FDictionaryCode2954[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:46:32
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2953) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2954) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode2952)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2925) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2926,@SiteCode2927,@SiteCode2928,@SiteCode2929,@SiteCode2930,@SiteCode2931,@SiteCode2932,@SiteCode2933,@SiteCode2934,@SiteCode2935,@SiteCode2936,@SiteCode2937,@SiteCode2938,@SiteCode2939,@SiteCode2940,@SiteCode2941,@SiteCode2942,@SiteCode2943,@SiteCode2944,@SiteCode2945,@SiteCode2946,@SiteCode2947,@SiteCode2948,@SiteCode2949,@SiteCode2950,@SiteCode2951))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2925[String] = 6372912251695766465
@SiteCode2926[String] = 6373083923489249281
@SiteCode2927[String] = 6373083925531366080
@SiteCode2928[String] = 6373083927883400612
@SiteCode2929[String] = 6373083918575368225
@SiteCode2930[String] = 6373083920445075162
@SiteCode2931[String] = 6373083908618598731
@SiteCode2932[String] = 6373083911842783146
@SiteCode2933[String] = 6373083913928202424
@SiteCode2934[String] = 6373083877551621804
@SiteCode2935[String] = 6373083879921857377
@SiteCode2936[String] = 6373083881542550067
@SiteCode2937[String] = 6373083883689772886
@SiteCode2938[String] = 6373083887136270013
@SiteCode2939[String] = 6373083889697116488
@SiteCode2940[String] = 6373083891969846476
@SiteCode2941[String] = 6373083894422586761
@SiteCode2942[String] = 6373083897509963358
@SiteCode2943[String] = 6373083900444931227
@SiteCode2944[String] = 6373083829464571372
@SiteCode2945[String] = 6373083833327492328
@SiteCode2946[String] = 6373083841964286321
@SiteCode2947[String] = 6373083844982558950
@SiteCode2948[String] = 6373083847585007801
@SiteCode2949[String] = 6373083856887939900
@SiteCode2950[String] = 6373083859102666584
@SiteCode2951[String] = 6373083864919499284
@FDictionaryCode2952[String] = OrderState
@FDictionaryCode2953[String] = UrgentDegree
@FDictionaryCode2954[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:46:33
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:46:33
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:46:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:46:33
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2955) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2956)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2957,@CompanyCode2958,@CompanyCode2959,@CompanyCode2960,@CompanyCode2961,@CompanyCode2962,@CompanyCode2963,@CompanyCode2964)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2965))) 	
Parameters:
@Type2955[Int32] = 1
@ProjectId2956[String] = 6372912251695766465
@CompanyCode2957[String] = 6373083923489249281
@CompanyCode2958[String] = 6373083925531366080
@CompanyCode2959[String] = 6373083927883400612
@CompanyCode2960[String] = 6373083918575368225
@CompanyCode2961[String] = 6373083920445075162
@CompanyCode2962[String] = 6373083908618598731
@CompanyCode2963[String] = 6373083911842783146
@CompanyCode2964[String] = 6373083913928202424
@ParentCompanyCode2965[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type2966) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2967)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode2968,@CompanyCode2969,@CompanyCode2970,@CompanyCode2971,@CompanyCode2972,@CompanyCode2973,@CompanyCode2974,@CompanyCode2975)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode2976))) 	
Parameters:
@Type2966[Int32] = 2
@ProjectId2967[String] = 6372912251695766465
@CompanyCode2968[String] = 6373083923489249281
@CompanyCode2969[String] = 6373083925531366080
@CompanyCode2970[String] = 6373083927883400612
@CompanyCode2971[String] = 6373083918575368225
@CompanyCode2972[String] = 6373083920445075162
@CompanyCode2973[String] = 6373083908618598731
@CompanyCode2974[String] = 6373083911842783146
@CompanyCode2975[String] = 6373083913928202424
@ParentCompanyCode2976[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3004)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2977) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2978,@SiteCode2979,@SiteCode2980,@SiteCode2981,@SiteCode2982,@SiteCode2983,@SiteCode2984,@SiteCode2985,@SiteCode2986,@SiteCode2987,@SiteCode2988,@SiteCode2989,@SiteCode2990,@SiteCode2991,@SiteCode2992,@SiteCode2993,@SiteCode2994,@SiteCode2995,@SiteCode2996,@SiteCode2997,@SiteCode2998,@SiteCode2999,@SiteCode3000,@SiteCode3001,@SiteCode3002,@SiteCode3003)))	
Parameters:
@ProjectId2977[String] = 6372912251695766465
@SiteCode2978[String] = 6373083923489249281
@SiteCode2979[String] = 6373083925531366080
@SiteCode2980[String] = 6373083927883400612
@SiteCode2981[String] = 6373083918575368225
@SiteCode2982[String] = 6373083920445075162
@SiteCode2983[String] = 6373083908618598731
@SiteCode2984[String] = 6373083911842783146
@SiteCode2985[String] = 6373083913928202424
@SiteCode2986[String] = 6373083877551621804
@SiteCode2987[String] = 6373083879921857377
@SiteCode2988[String] = 6373083881542550067
@SiteCode2989[String] = 6373083883689772886
@SiteCode2990[String] = 6373083887136270013
@SiteCode2991[String] = 6373083889697116488
@SiteCode2992[String] = 6373083891969846476
@SiteCode2993[String] = 6373083894422586761
@SiteCode2994[String] = 6373083897509963358
@SiteCode2995[String] = 6373083900444931227
@SiteCode2996[String] = 6373083829464571372
@SiteCode2997[String] = 6373083833327492328
@SiteCode2998[String] = 6373083841964286321
@SiteCode2999[String] = 6373083844982558950
@SiteCode3000[String] = 6373083847585007801
@SiteCode3001[String] = 6373083856887939900
@SiteCode3002[String] = 6373083859102666584
@SiteCode3003[String] = 6373083864919499284
@FDictionaryCode3004[String] = OrderState
@FDictionaryCode3005[String] = UrgentDegree
@FDictionaryCode3006[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3005) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3006) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3004)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId2977) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode2978,@SiteCode2979,@SiteCode2980,@SiteCode2981,@SiteCode2982,@SiteCode2983,@SiteCode2984,@SiteCode2985,@SiteCode2986,@SiteCode2987,@SiteCode2988,@SiteCode2989,@SiteCode2990,@SiteCode2991,@SiteCode2992,@SiteCode2993,@SiteCode2994,@SiteCode2995,@SiteCode2996,@SiteCode2997,@SiteCode2998,@SiteCode2999,@SiteCode3000,@SiteCode3001,@SiteCode3002,@SiteCode3003))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId2977[String] = 6372912251695766465
@SiteCode2978[String] = 6373083923489249281
@SiteCode2979[String] = 6373083925531366080
@SiteCode2980[String] = 6373083927883400612
@SiteCode2981[String] = 6373083918575368225
@SiteCode2982[String] = 6373083920445075162
@SiteCode2983[String] = 6373083908618598731
@SiteCode2984[String] = 6373083911842783146
@SiteCode2985[String] = 6373083913928202424
@SiteCode2986[String] = 6373083877551621804
@SiteCode2987[String] = 6373083879921857377
@SiteCode2988[String] = 6373083881542550067
@SiteCode2989[String] = 6373083883689772886
@SiteCode2990[String] = 6373083887136270013
@SiteCode2991[String] = 6373083889697116488
@SiteCode2992[String] = 6373083891969846476
@SiteCode2993[String] = 6373083894422586761
@SiteCode2994[String] = 6373083897509963358
@SiteCode2995[String] = 6373083900444931227
@SiteCode2996[String] = 6373083829464571372
@SiteCode2997[String] = 6373083833327492328
@SiteCode2998[String] = 6373083841964286321
@SiteCode2999[String] = 6373083844982558950
@SiteCode3000[String] = 6373083847585007801
@SiteCode3001[String] = 6373083856887939900
@SiteCode3002[String] = 6373083859102666584
@SiteCode3003[String] = 6373083864919499284
@FDictionaryCode3004[String] = OrderState
@FDictionaryCode3005[String] = UrgentDegree
@FDictionaryCode3006[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:46:43
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:46:44
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:46:44
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:46:44
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:46:44
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:46:44
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:46:44
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:46:44
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:46:56
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:46:56
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:46:56
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3007) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3008)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3009,@CompanyCode3010,@CompanyCode3011,@CompanyCode3012,@CompanyCode3013,@CompanyCode3014,@CompanyCode3015,@CompanyCode3016)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3017))) 	
Parameters:
@Type3007[Int32] = 1
@ProjectId3008[String] = 6372912251695766465
@CompanyCode3009[String] = 6373083923489249281
@CompanyCode3010[String] = 6373083925531366080
@CompanyCode3011[String] = 6373083927883400612
@CompanyCode3012[String] = 6373083918575368225
@CompanyCode3013[String] = 6373083920445075162
@CompanyCode3014[String] = 6373083908618598731
@CompanyCode3015[String] = 6373083911842783146
@CompanyCode3016[String] = 6373083913928202424
@ParentCompanyCode3017[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3018) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3019)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3020,@CompanyCode3021,@CompanyCode3022,@CompanyCode3023,@CompanyCode3024,@CompanyCode3025,@CompanyCode3026,@CompanyCode3027)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3028))) 	
Parameters:
@Type3018[Int32] = 2
@ProjectId3019[String] = 6372912251695766465
@CompanyCode3020[String] = 6373083923489249281
@CompanyCode3021[String] = 6373083925531366080
@CompanyCode3022[String] = 6373083927883400612
@CompanyCode3023[String] = 6373083918575368225
@CompanyCode3024[String] = 6373083920445075162
@CompanyCode3025[String] = 6373083908618598731
@CompanyCode3026[String] = 6373083911842783146
@CompanyCode3027[String] = 6373083913928202424
@ParentCompanyCode3028[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3056)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3029) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3030,@SiteCode3031,@SiteCode3032,@SiteCode3033,@SiteCode3034,@SiteCode3035,@SiteCode3036,@SiteCode3037,@SiteCode3038,@SiteCode3039,@SiteCode3040,@SiteCode3041,@SiteCode3042,@SiteCode3043,@SiteCode3044,@SiteCode3045,@SiteCode3046,@SiteCode3047,@SiteCode3048,@SiteCode3049,@SiteCode3050,@SiteCode3051,@SiteCode3052,@SiteCode3053,@SiteCode3054,@SiteCode3055)))	
Parameters:
@ProjectId3029[String] = 6372912251695766465
@SiteCode3030[String] = 6373083923489249281
@SiteCode3031[String] = 6373083925531366080
@SiteCode3032[String] = 6373083927883400612
@SiteCode3033[String] = 6373083918575368225
@SiteCode3034[String] = 6373083920445075162
@SiteCode3035[String] = 6373083908618598731
@SiteCode3036[String] = 6373083911842783146
@SiteCode3037[String] = 6373083913928202424
@SiteCode3038[String] = 6373083877551621804
@SiteCode3039[String] = 6373083879921857377
@SiteCode3040[String] = 6373083881542550067
@SiteCode3041[String] = 6373083883689772886
@SiteCode3042[String] = 6373083887136270013
@SiteCode3043[String] = 6373083889697116488
@SiteCode3044[String] = 6373083891969846476
@SiteCode3045[String] = 6373083894422586761
@SiteCode3046[String] = 6373083897509963358
@SiteCode3047[String] = 6373083900444931227
@SiteCode3048[String] = 6373083829464571372
@SiteCode3049[String] = 6373083833327492328
@SiteCode3050[String] = 6373083841964286321
@SiteCode3051[String] = 6373083844982558950
@SiteCode3052[String] = 6373083847585007801
@SiteCode3053[String] = 6373083856887939900
@SiteCode3054[String] = 6373083859102666584
@SiteCode3055[String] = 6373083864919499284
@FDictionaryCode3056[String] = OrderState
@FDictionaryCode3057[String] = UrgentDegree
@FDictionaryCode3058[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3057) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3058) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3056)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3029) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3030,@SiteCode3031,@SiteCode3032,@SiteCode3033,@SiteCode3034,@SiteCode3035,@SiteCode3036,@SiteCode3037,@SiteCode3038,@SiteCode3039,@SiteCode3040,@SiteCode3041,@SiteCode3042,@SiteCode3043,@SiteCode3044,@SiteCode3045,@SiteCode3046,@SiteCode3047,@SiteCode3048,@SiteCode3049,@SiteCode3050,@SiteCode3051,@SiteCode3052,@SiteCode3053,@SiteCode3054,@SiteCode3055))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3029[String] = 6372912251695766465
@SiteCode3030[String] = 6373083923489249281
@SiteCode3031[String] = 6373083925531366080
@SiteCode3032[String] = 6373083927883400612
@SiteCode3033[String] = 6373083918575368225
@SiteCode3034[String] = 6373083920445075162
@SiteCode3035[String] = 6373083908618598731
@SiteCode3036[String] = 6373083911842783146
@SiteCode3037[String] = 6373083913928202424
@SiteCode3038[String] = 6373083877551621804
@SiteCode3039[String] = 6373083879921857377
@SiteCode3040[String] = 6373083881542550067
@SiteCode3041[String] = 6373083883689772886
@SiteCode3042[String] = 6373083887136270013
@SiteCode3043[String] = 6373083889697116488
@SiteCode3044[String] = 6373083891969846476
@SiteCode3045[String] = 6373083894422586761
@SiteCode3046[String] = 6373083897509963358
@SiteCode3047[String] = 6373083900444931227
@SiteCode3048[String] = 6373083829464571372
@SiteCode3049[String] = 6373083833327492328
@SiteCode3050[String] = 6373083841964286321
@SiteCode3051[String] = 6373083844982558950
@SiteCode3052[String] = 6373083847585007801
@SiteCode3053[String] = 6373083856887939900
@SiteCode3054[String] = 6373083859102666584
@SiteCode3055[String] = 6373083864919499284
@FDictionaryCode3056[String] = OrderState
@FDictionaryCode3057[String] = UrgentDegree
@FDictionaryCode3058[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:46:57
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:47:12
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:47:12
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3059) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3060)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3061,@CompanyCode3062,@CompanyCode3063,@CompanyCode3064,@CompanyCode3065,@CompanyCode3066,@CompanyCode3067,@CompanyCode3068)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3069))) 	
Parameters:
@Type3059[Int32] = 1
@ProjectId3060[String] = 6372912251695766465
@CompanyCode3061[String] = 6373083923489249281
@CompanyCode3062[String] = 6373083925531366080
@CompanyCode3063[String] = 6373083927883400612
@CompanyCode3064[String] = 6373083918575368225
@CompanyCode3065[String] = 6373083920445075162
@CompanyCode3066[String] = 6373083908618598731
@CompanyCode3067[String] = 6373083911842783146
@CompanyCode3068[String] = 6373083913928202424
@ParentCompanyCode3069[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:47:12
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:47:12
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3070) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3071)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3072,@CompanyCode3073,@CompanyCode3074,@CompanyCode3075,@CompanyCode3076,@CompanyCode3077,@CompanyCode3078,@CompanyCode3079)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3080))) 	
Parameters:
@Type3070[Int32] = 2
@ProjectId3071[String] = 6372912251695766465
@CompanyCode3072[String] = 6373083923489249281
@CompanyCode3073[String] = 6373083925531366080
@CompanyCode3074[String] = 6373083927883400612
@CompanyCode3075[String] = 6373083918575368225
@CompanyCode3076[String] = 6373083920445075162
@CompanyCode3077[String] = 6373083908618598731
@CompanyCode3078[String] = 6373083911842783146
@CompanyCode3079[String] = 6373083913928202424
@ParentCompanyCode3080[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3108)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3081) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3082,@SiteCode3083,@SiteCode3084,@SiteCode3085,@SiteCode3086,@SiteCode3087,@SiteCode3088,@SiteCode3089,@SiteCode3090,@SiteCode3091,@SiteCode3092,@SiteCode3093,@SiteCode3094,@SiteCode3095,@SiteCode3096,@SiteCode3097,@SiteCode3098,@SiteCode3099,@SiteCode3100,@SiteCode3101,@SiteCode3102,@SiteCode3103,@SiteCode3104,@SiteCode3105,@SiteCode3106,@SiteCode3107)))	
Parameters:
@ProjectId3081[String] = 6372912251695766465
@SiteCode3082[String] = 6373083923489249281
@SiteCode3083[String] = 6373083925531366080
@SiteCode3084[String] = 6373083927883400612
@SiteCode3085[String] = 6373083918575368225
@SiteCode3086[String] = 6373083920445075162
@SiteCode3087[String] = 6373083908618598731
@SiteCode3088[String] = 6373083911842783146
@SiteCode3089[String] = 6373083913928202424
@SiteCode3090[String] = 6373083877551621804
@SiteCode3091[String] = 6373083879921857377
@SiteCode3092[String] = 6373083881542550067
@SiteCode3093[String] = 6373083883689772886
@SiteCode3094[String] = 6373083887136270013
@SiteCode3095[String] = 6373083889697116488
@SiteCode3096[String] = 6373083891969846476
@SiteCode3097[String] = 6373083894422586761
@SiteCode3098[String] = 6373083897509963358
@SiteCode3099[String] = 6373083900444931227
@SiteCode3100[String] = 6373083829464571372
@SiteCode3101[String] = 6373083833327492328
@SiteCode3102[String] = 6373083841964286321
@SiteCode3103[String] = 6373083844982558950
@SiteCode3104[String] = 6373083847585007801
@SiteCode3105[String] = 6373083856887939900
@SiteCode3106[String] = 6373083859102666584
@SiteCode3107[String] = 6373083864919499284
@FDictionaryCode3108[String] = OrderState
@FDictionaryCode3109[String] = UrgentDegree
@FDictionaryCode3110[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3109) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3110) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3108)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3081) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3082,@SiteCode3083,@SiteCode3084,@SiteCode3085,@SiteCode3086,@SiteCode3087,@SiteCode3088,@SiteCode3089,@SiteCode3090,@SiteCode3091,@SiteCode3092,@SiteCode3093,@SiteCode3094,@SiteCode3095,@SiteCode3096,@SiteCode3097,@SiteCode3098,@SiteCode3099,@SiteCode3100,@SiteCode3101,@SiteCode3102,@SiteCode3103,@SiteCode3104,@SiteCode3105,@SiteCode3106,@SiteCode3107))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3081[String] = 6372912251695766465
@SiteCode3082[String] = 6373083923489249281
@SiteCode3083[String] = 6373083925531366080
@SiteCode3084[String] = 6373083927883400612
@SiteCode3085[String] = 6373083918575368225
@SiteCode3086[String] = 6373083920445075162
@SiteCode3087[String] = 6373083908618598731
@SiteCode3088[String] = 6373083911842783146
@SiteCode3089[String] = 6373083913928202424
@SiteCode3090[String] = 6373083877551621804
@SiteCode3091[String] = 6373083879921857377
@SiteCode3092[String] = 6373083881542550067
@SiteCode3093[String] = 6373083883689772886
@SiteCode3094[String] = 6373083887136270013
@SiteCode3095[String] = 6373083889697116488
@SiteCode3096[String] = 6373083891969846476
@SiteCode3097[String] = 6373083894422586761
@SiteCode3098[String] = 6373083897509963358
@SiteCode3099[String] = 6373083900444931227
@SiteCode3100[String] = 6373083829464571372
@SiteCode3101[String] = 6373083833327492328
@SiteCode3102[String] = 6373083841964286321
@SiteCode3103[String] = 6373083844982558950
@SiteCode3104[String] = 6373083847585007801
@SiteCode3105[String] = 6373083856887939900
@SiteCode3106[String] = 6373083859102666584
@SiteCode3107[String] = 6373083864919499284
@FDictionaryCode3108[String] = OrderState
@FDictionaryCode3109[String] = UrgentDegree
@FDictionaryCode3110[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:47:13
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:47:56
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:47:56
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:47:56
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3111) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3112)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3113,@CompanyCode3114,@CompanyCode3115,@CompanyCode3116,@CompanyCode3117,@CompanyCode3118,@CompanyCode3119,@CompanyCode3120)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3121))) 	
Parameters:
@Type3111[Int32] = 1
@ProjectId3112[String] = 6372912251695766465
@CompanyCode3113[String] = 6373083923489249281
@CompanyCode3114[String] = 6373083925531366080
@CompanyCode3115[String] = 6373083927883400612
@CompanyCode3116[String] = 6373083918575368225
@CompanyCode3117[String] = 6373083920445075162
@CompanyCode3118[String] = 6373083908618598731
@CompanyCode3119[String] = 6373083911842783146
@CompanyCode3120[String] = 6373083913928202424
@ParentCompanyCode3121[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3122) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3123)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3124,@CompanyCode3125,@CompanyCode3126,@CompanyCode3127,@CompanyCode3128,@CompanyCode3129,@CompanyCode3130,@CompanyCode3131)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3132))) 	
Parameters:
@Type3122[Int32] = 2
@ProjectId3123[String] = 6372912251695766465
@CompanyCode3124[String] = 6373083923489249281
@CompanyCode3125[String] = 6373083925531366080
@CompanyCode3126[String] = 6373083927883400612
@CompanyCode3127[String] = 6373083918575368225
@CompanyCode3128[String] = 6373083920445075162
@CompanyCode3129[String] = 6373083908618598731
@CompanyCode3130[String] = 6373083911842783146
@CompanyCode3131[String] = 6373083913928202424
@ParentCompanyCode3132[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3160)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3133) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3134,@SiteCode3135,@SiteCode3136,@SiteCode3137,@SiteCode3138,@SiteCode3139,@SiteCode3140,@SiteCode3141,@SiteCode3142,@SiteCode3143,@SiteCode3144,@SiteCode3145,@SiteCode3146,@SiteCode3147,@SiteCode3148,@SiteCode3149,@SiteCode3150,@SiteCode3151,@SiteCode3152,@SiteCode3153,@SiteCode3154,@SiteCode3155,@SiteCode3156,@SiteCode3157,@SiteCode3158,@SiteCode3159)))	
Parameters:
@ProjectId3133[String] = 6372912251695766465
@SiteCode3134[String] = 6373083923489249281
@SiteCode3135[String] = 6373083925531366080
@SiteCode3136[String] = 6373083927883400612
@SiteCode3137[String] = 6373083918575368225
@SiteCode3138[String] = 6373083920445075162
@SiteCode3139[String] = 6373083908618598731
@SiteCode3140[String] = 6373083911842783146
@SiteCode3141[String] = 6373083913928202424
@SiteCode3142[String] = 6373083877551621804
@SiteCode3143[String] = 6373083879921857377
@SiteCode3144[String] = 6373083881542550067
@SiteCode3145[String] = 6373083883689772886
@SiteCode3146[String] = 6373083887136270013
@SiteCode3147[String] = 6373083889697116488
@SiteCode3148[String] = 6373083891969846476
@SiteCode3149[String] = 6373083894422586761
@SiteCode3150[String] = 6373083897509963358
@SiteCode3151[String] = 6373083900444931227
@SiteCode3152[String] = 6373083829464571372
@SiteCode3153[String] = 6373083833327492328
@SiteCode3154[String] = 6373083841964286321
@SiteCode3155[String] = 6373083844982558950
@SiteCode3156[String] = 6373083847585007801
@SiteCode3157[String] = 6373083856887939900
@SiteCode3158[String] = 6373083859102666584
@SiteCode3159[String] = 6373083864919499284
@FDictionaryCode3160[String] = OrderState
@FDictionaryCode3161[String] = UrgentDegree
@FDictionaryCode3162[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3161) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3162) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3160)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3133) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3134,@SiteCode3135,@SiteCode3136,@SiteCode3137,@SiteCode3138,@SiteCode3139,@SiteCode3140,@SiteCode3141,@SiteCode3142,@SiteCode3143,@SiteCode3144,@SiteCode3145,@SiteCode3146,@SiteCode3147,@SiteCode3148,@SiteCode3149,@SiteCode3150,@SiteCode3151,@SiteCode3152,@SiteCode3153,@SiteCode3154,@SiteCode3155,@SiteCode3156,@SiteCode3157,@SiteCode3158,@SiteCode3159))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3133[String] = 6372912251695766465
@SiteCode3134[String] = 6373083923489249281
@SiteCode3135[String] = 6373083925531366080
@SiteCode3136[String] = 6373083927883400612
@SiteCode3137[String] = 6373083918575368225
@SiteCode3138[String] = 6373083920445075162
@SiteCode3139[String] = 6373083908618598731
@SiteCode3140[String] = 6373083911842783146
@SiteCode3141[String] = 6373083913928202424
@SiteCode3142[String] = 6373083877551621804
@SiteCode3143[String] = 6373083879921857377
@SiteCode3144[String] = 6373083881542550067
@SiteCode3145[String] = 6373083883689772886
@SiteCode3146[String] = 6373083887136270013
@SiteCode3147[String] = 6373083889697116488
@SiteCode3148[String] = 6373083891969846476
@SiteCode3149[String] = 6373083894422586761
@SiteCode3150[String] = 6373083897509963358
@SiteCode3151[String] = 6373083900444931227
@SiteCode3152[String] = 6373083829464571372
@SiteCode3153[String] = 6373083833327492328
@SiteCode3154[String] = 6373083841964286321
@SiteCode3155[String] = 6373083844982558950
@SiteCode3156[String] = 6373083847585007801
@SiteCode3157[String] = 6373083856887939900
@SiteCode3158[String] = 6373083859102666584
@SiteCode3159[String] = 6373083864919499284
@FDictionaryCode3160[String] = OrderState
@FDictionaryCode3161[String] = UrgentDegree
@FDictionaryCode3162[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:47:57
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3163) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3164)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3165,@CompanyCode3166,@CompanyCode3167,@CompanyCode3168,@CompanyCode3169,@CompanyCode3170,@CompanyCode3171,@CompanyCode3172)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3173))) 	
Parameters:
@Type3163[Int32] = 1
@ProjectId3164[String] = 6372912251695766465
@CompanyCode3165[String] = 6373083923489249281
@CompanyCode3166[String] = 6373083925531366080
@CompanyCode3167[String] = 6373083927883400612
@CompanyCode3168[String] = 6373083918575368225
@CompanyCode3169[String] = 6373083920445075162
@CompanyCode3170[String] = 6373083908618598731
@CompanyCode3171[String] = 6373083911842783146
@CompanyCode3172[String] = 6373083913928202424
@ParentCompanyCode3173[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3174) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3175)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3176,@CompanyCode3177,@CompanyCode3178,@CompanyCode3179,@CompanyCode3180,@CompanyCode3181,@CompanyCode3182,@CompanyCode3183)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3184))) 	
Parameters:
@Type3174[Int32] = 2
@ProjectId3175[String] = 6372912251695766465
@CompanyCode3176[String] = 6373083923489249281
@CompanyCode3177[String] = 6373083925531366080
@CompanyCode3178[String] = 6373083927883400612
@CompanyCode3179[String] = 6373083918575368225
@CompanyCode3180[String] = 6373083920445075162
@CompanyCode3181[String] = 6373083908618598731
@CompanyCode3182[String] = 6373083911842783146
@CompanyCode3183[String] = 6373083913928202424
@ParentCompanyCode3184[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3212)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3185) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3186,@SiteCode3187,@SiteCode3188,@SiteCode3189,@SiteCode3190,@SiteCode3191,@SiteCode3192,@SiteCode3193,@SiteCode3194,@SiteCode3195,@SiteCode3196,@SiteCode3197,@SiteCode3198,@SiteCode3199,@SiteCode3200,@SiteCode3201,@SiteCode3202,@SiteCode3203,@SiteCode3204,@SiteCode3205,@SiteCode3206,@SiteCode3207,@SiteCode3208,@SiteCode3209,@SiteCode3210,@SiteCode3211)))	
Parameters:
@ProjectId3185[String] = 6372912251695766465
@SiteCode3186[String] = 6373083923489249281
@SiteCode3187[String] = 6373083925531366080
@SiteCode3188[String] = 6373083927883400612
@SiteCode3189[String] = 6373083918575368225
@SiteCode3190[String] = 6373083920445075162
@SiteCode3191[String] = 6373083908618598731
@SiteCode3192[String] = 6373083911842783146
@SiteCode3193[String] = 6373083913928202424
@SiteCode3194[String] = 6373083877551621804
@SiteCode3195[String] = 6373083879921857377
@SiteCode3196[String] = 6373083881542550067
@SiteCode3197[String] = 6373083883689772886
@SiteCode3198[String] = 6373083887136270013
@SiteCode3199[String] = 6373083889697116488
@SiteCode3200[String] = 6373083891969846476
@SiteCode3201[String] = 6373083894422586761
@SiteCode3202[String] = 6373083897509963358
@SiteCode3203[String] = 6373083900444931227
@SiteCode3204[String] = 6373083829464571372
@SiteCode3205[String] = 6373083833327492328
@SiteCode3206[String] = 6373083841964286321
@SiteCode3207[String] = 6373083844982558950
@SiteCode3208[String] = 6373083847585007801
@SiteCode3209[String] = 6373083856887939900
@SiteCode3210[String] = 6373083859102666584
@SiteCode3211[String] = 6373083864919499284
@FDictionaryCode3212[String] = OrderState
@FDictionaryCode3213[String] = UrgentDegree
@FDictionaryCode3214[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3213) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3214) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3212)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3185) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3186,@SiteCode3187,@SiteCode3188,@SiteCode3189,@SiteCode3190,@SiteCode3191,@SiteCode3192,@SiteCode3193,@SiteCode3194,@SiteCode3195,@SiteCode3196,@SiteCode3197,@SiteCode3198,@SiteCode3199,@SiteCode3200,@SiteCode3201,@SiteCode3202,@SiteCode3203,@SiteCode3204,@SiteCode3205,@SiteCode3206,@SiteCode3207,@SiteCode3208,@SiteCode3209,@SiteCode3210,@SiteCode3211))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3185[String] = 6372912251695766465
@SiteCode3186[String] = 6373083923489249281
@SiteCode3187[String] = 6373083925531366080
@SiteCode3188[String] = 6373083927883400612
@SiteCode3189[String] = 6373083918575368225
@SiteCode3190[String] = 6373083920445075162
@SiteCode3191[String] = 6373083908618598731
@SiteCode3192[String] = 6373083911842783146
@SiteCode3193[String] = 6373083913928202424
@SiteCode3194[String] = 6373083877551621804
@SiteCode3195[String] = 6373083879921857377
@SiteCode3196[String] = 6373083881542550067
@SiteCode3197[String] = 6373083883689772886
@SiteCode3198[String] = 6373083887136270013
@SiteCode3199[String] = 6373083889697116488
@SiteCode3200[String] = 6373083891969846476
@SiteCode3201[String] = 6373083894422586761
@SiteCode3202[String] = 6373083897509963358
@SiteCode3203[String] = 6373083900444931227
@SiteCode3204[String] = 6373083829464571372
@SiteCode3205[String] = 6373083833327492328
@SiteCode3206[String] = 6373083841964286321
@SiteCode3207[String] = 6373083844982558950
@SiteCode3208[String] = 6373083847585007801
@SiteCode3209[String] = 6373083856887939900
@SiteCode3210[String] = 6373083859102666584
@SiteCode3211[String] = 6373083864919499284
@FDictionaryCode3212[String] = OrderState
@FDictionaryCode3213[String] = UrgentDegree
@FDictionaryCode3214[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:48:16
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:48:17
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:48:17
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:48:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:48:17
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:50:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:50:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3215) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3216)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3217,@CompanyCode3218,@CompanyCode3219,@CompanyCode3220,@CompanyCode3221,@CompanyCode3222,@CompanyCode3223,@CompanyCode3224)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3225))) 	
Parameters:
@Type3215[Int32] = 1
@ProjectId3216[String] = 6372912251695766465
@CompanyCode3217[String] = 6373083923489249281
@CompanyCode3218[String] = 6373083925531366080
@CompanyCode3219[String] = 6373083927883400612
@CompanyCode3220[String] = 6373083918575368225
@CompanyCode3221[String] = 6373083920445075162
@CompanyCode3222[String] = 6373083908618598731
@CompanyCode3223[String] = 6373083911842783146
@CompanyCode3224[String] = 6373083913928202424
@ParentCompanyCode3225[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:50:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:50:13
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3226) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3227)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3228,@CompanyCode3229,@CompanyCode3230,@CompanyCode3231,@CompanyCode3232,@CompanyCode3233,@CompanyCode3234,@CompanyCode3235)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3236))) 	
Parameters:
@Type3226[Int32] = 2
@ProjectId3227[String] = 6372912251695766465
@CompanyCode3228[String] = 6373083923489249281
@CompanyCode3229[String] = 6373083925531366080
@CompanyCode3230[String] = 6373083927883400612
@CompanyCode3231[String] = 6373083918575368225
@CompanyCode3232[String] = 6373083920445075162
@CompanyCode3233[String] = 6373083908618598731
@CompanyCode3234[String] = 6373083911842783146
@CompanyCode3235[String] = 6373083913928202424
@ParentCompanyCode3236[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:50:13
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:50:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:50:13
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:50:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:50:13
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3264)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3237) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3238,@SiteCode3239,@SiteCode3240,@SiteCode3241,@SiteCode3242,@SiteCode3243,@SiteCode3244,@SiteCode3245,@SiteCode3246,@SiteCode3247,@SiteCode3248,@SiteCode3249,@SiteCode3250,@SiteCode3251,@SiteCode3252,@SiteCode3253,@SiteCode3254,@SiteCode3255,@SiteCode3256,@SiteCode3257,@SiteCode3258,@SiteCode3259,@SiteCode3260,@SiteCode3261,@SiteCode3262,@SiteCode3263)))	
Parameters:
@ProjectId3237[String] = 6372912251695766465
@SiteCode3238[String] = 6373083923489249281
@SiteCode3239[String] = 6373083925531366080
@SiteCode3240[String] = 6373083927883400612
@SiteCode3241[String] = 6373083918575368225
@SiteCode3242[String] = 6373083920445075162
@SiteCode3243[String] = 6373083908618598731
@SiteCode3244[String] = 6373083911842783146
@SiteCode3245[String] = 6373083913928202424
@SiteCode3246[String] = 6373083877551621804
@SiteCode3247[String] = 6373083879921857377
@SiteCode3248[String] = 6373083881542550067
@SiteCode3249[String] = 6373083883689772886
@SiteCode3250[String] = 6373083887136270013
@SiteCode3251[String] = 6373083889697116488
@SiteCode3252[String] = 6373083891969846476
@SiteCode3253[String] = 6373083894422586761
@SiteCode3254[String] = 6373083897509963358
@SiteCode3255[String] = 6373083900444931227
@SiteCode3256[String] = 6373083829464571372
@SiteCode3257[String] = 6373083833327492328
@SiteCode3258[String] = 6373083841964286321
@SiteCode3259[String] = 6373083844982558950
@SiteCode3260[String] = 6373083847585007801
@SiteCode3261[String] = 6373083856887939900
@SiteCode3262[String] = 6373083859102666584
@SiteCode3263[String] = 6373083864919499284
@FDictionaryCode3264[String] = OrderState
@FDictionaryCode3265[String] = UrgentDegree
@FDictionaryCode3266[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:50:13
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3265) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3266) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3264)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3237) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3238,@SiteCode3239,@SiteCode3240,@SiteCode3241,@SiteCode3242,@SiteCode3243,@SiteCode3244,@SiteCode3245,@SiteCode3246,@SiteCode3247,@SiteCode3248,@SiteCode3249,@SiteCode3250,@SiteCode3251,@SiteCode3252,@SiteCode3253,@SiteCode3254,@SiteCode3255,@SiteCode3256,@SiteCode3257,@SiteCode3258,@SiteCode3259,@SiteCode3260,@SiteCode3261,@SiteCode3262,@SiteCode3263))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3237[String] = 6372912251695766465
@SiteCode3238[String] = 6373083923489249281
@SiteCode3239[String] = 6373083925531366080
@SiteCode3240[String] = 6373083927883400612
@SiteCode3241[String] = 6373083918575368225
@SiteCode3242[String] = 6373083920445075162
@SiteCode3243[String] = 6373083908618598731
@SiteCode3244[String] = 6373083911842783146
@SiteCode3245[String] = 6373083913928202424
@SiteCode3246[String] = 6373083877551621804
@SiteCode3247[String] = 6373083879921857377
@SiteCode3248[String] = 6373083881542550067
@SiteCode3249[String] = 6373083883689772886
@SiteCode3250[String] = 6373083887136270013
@SiteCode3251[String] = 6373083889697116488
@SiteCode3252[String] = 6373083891969846476
@SiteCode3253[String] = 6373083894422586761
@SiteCode3254[String] = 6373083897509963358
@SiteCode3255[String] = 6373083900444931227
@SiteCode3256[String] = 6373083829464571372
@SiteCode3257[String] = 6373083833327492328
@SiteCode3258[String] = 6373083841964286321
@SiteCode3259[String] = 6373083844982558950
@SiteCode3260[String] = 6373083847585007801
@SiteCode3261[String] = 6373083856887939900
@SiteCode3262[String] = 6373083859102666584
@SiteCode3263[String] = 6373083864919499284
@FDictionaryCode3264[String] = OrderState
@FDictionaryCode3265[String] = UrgentDegree
@FDictionaryCode3266[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:50:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:50:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:50:14
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:50:14
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:50:14
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:50:14
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:50:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:50:14
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:50:56
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:53:56
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:56:10
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:56:10
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:56:10
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:56:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:11
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3267) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3268)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3269,@CompanyCode3270,@CompanyCode3271,@CompanyCode3272,@CompanyCode3273,@CompanyCode3274,@CompanyCode3275,@CompanyCode3276)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3277))) 	
Parameters:
@Type3267[Int32] = 1
@ProjectId3268[String] = 6372912251695766465
@CompanyCode3269[String] = 6373083923489249281
@CompanyCode3270[String] = 6373083925531366080
@CompanyCode3271[String] = 6373083927883400612
@CompanyCode3272[String] = 6373083918575368225
@CompanyCode3273[String] = 6373083920445075162
@CompanyCode3274[String] = 6373083908618598731
@CompanyCode3275[String] = 6373083911842783146
@CompanyCode3276[String] = 6373083913928202424
@ParentCompanyCode3277[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:56:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:11
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3278) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3279)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3280,@CompanyCode3281,@CompanyCode3282,@CompanyCode3283,@CompanyCode3284,@CompanyCode3285,@CompanyCode3286,@CompanyCode3287)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3288))) 	
Parameters:
@Type3278[Int32] = 2
@ProjectId3279[String] = 6372912251695766465
@CompanyCode3280[String] = 6373083923489249281
@CompanyCode3281[String] = 6373083925531366080
@CompanyCode3282[String] = 6373083927883400612
@CompanyCode3283[String] = 6373083918575368225
@CompanyCode3284[String] = 6373083920445075162
@CompanyCode3285[String] = 6373083908618598731
@CompanyCode3286[String] = 6373083911842783146
@CompanyCode3287[String] = 6373083913928202424
@ParentCompanyCode3288[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:56:11
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:56:11
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:11
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3316)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3289) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3290,@SiteCode3291,@SiteCode3292,@SiteCode3293,@SiteCode3294,@SiteCode3295,@SiteCode3296,@SiteCode3297,@SiteCode3298,@SiteCode3299,@SiteCode3300,@SiteCode3301,@SiteCode3302,@SiteCode3303,@SiteCode3304,@SiteCode3305,@SiteCode3306,@SiteCode3307,@SiteCode3308,@SiteCode3309,@SiteCode3310,@SiteCode3311,@SiteCode3312,@SiteCode3313,@SiteCode3314,@SiteCode3315)))	
Parameters:
@ProjectId3289[String] = 6372912251695766465
@SiteCode3290[String] = 6373083923489249281
@SiteCode3291[String] = 6373083925531366080
@SiteCode3292[String] = 6373083927883400612
@SiteCode3293[String] = 6373083918575368225
@SiteCode3294[String] = 6373083920445075162
@SiteCode3295[String] = 6373083908618598731
@SiteCode3296[String] = 6373083911842783146
@SiteCode3297[String] = 6373083913928202424
@SiteCode3298[String] = 6373083877551621804
@SiteCode3299[String] = 6373083879921857377
@SiteCode3300[String] = 6373083881542550067
@SiteCode3301[String] = 6373083883689772886
@SiteCode3302[String] = 6373083887136270013
@SiteCode3303[String] = 6373083889697116488
@SiteCode3304[String] = 6373083891969846476
@SiteCode3305[String] = 6373083894422586761
@SiteCode3306[String] = 6373083897509963358
@SiteCode3307[String] = 6373083900444931227
@SiteCode3308[String] = 6373083829464571372
@SiteCode3309[String] = 6373083833327492328
@SiteCode3310[String] = 6373083841964286321
@SiteCode3311[String] = 6373083844982558950
@SiteCode3312[String] = 6373083847585007801
@SiteCode3313[String] = 6373083856887939900
@SiteCode3314[String] = 6373083859102666584
@SiteCode3315[String] = 6373083864919499284
@FDictionaryCode3316[String] = OrderState
@FDictionaryCode3317[String] = UrgentDegree
@FDictionaryCode3318[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:56:11
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3317) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3318) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3316)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3289) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3290,@SiteCode3291,@SiteCode3292,@SiteCode3293,@SiteCode3294,@SiteCode3295,@SiteCode3296,@SiteCode3297,@SiteCode3298,@SiteCode3299,@SiteCode3300,@SiteCode3301,@SiteCode3302,@SiteCode3303,@SiteCode3304,@SiteCode3305,@SiteCode3306,@SiteCode3307,@SiteCode3308,@SiteCode3309,@SiteCode3310,@SiteCode3311,@SiteCode3312,@SiteCode3313,@SiteCode3314,@SiteCode3315))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3289[String] = 6372912251695766465
@SiteCode3290[String] = 6373083923489249281
@SiteCode3291[String] = 6373083925531366080
@SiteCode3292[String] = 6373083927883400612
@SiteCode3293[String] = 6373083918575368225
@SiteCode3294[String] = 6373083920445075162
@SiteCode3295[String] = 6373083908618598731
@SiteCode3296[String] = 6373083911842783146
@SiteCode3297[String] = 6373083913928202424
@SiteCode3298[String] = 6373083877551621804
@SiteCode3299[String] = 6373083879921857377
@SiteCode3300[String] = 6373083881542550067
@SiteCode3301[String] = 6373083883689772886
@SiteCode3302[String] = 6373083887136270013
@SiteCode3303[String] = 6373083889697116488
@SiteCode3304[String] = 6373083891969846476
@SiteCode3305[String] = 6373083894422586761
@SiteCode3306[String] = 6373083897509963358
@SiteCode3307[String] = 6373083900444931227
@SiteCode3308[String] = 6373083829464571372
@SiteCode3309[String] = 6373083833327492328
@SiteCode3310[String] = 6373083841964286321
@SiteCode3311[String] = 6373083844982558950
@SiteCode3312[String] = 6373083847585007801
@SiteCode3313[String] = 6373083856887939900
@SiteCode3314[String] = 6373083859102666584
@SiteCode3315[String] = 6373083864919499284
@FDictionaryCode3316[String] = OrderState
@FDictionaryCode3317[String] = UrgentDegree
@FDictionaryCode3318[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:56:12
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:56:12
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:56:12
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:56:12
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:56:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3319) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3320)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3321,@CompanyCode3322,@CompanyCode3323,@CompanyCode3324,@CompanyCode3325,@CompanyCode3326,@CompanyCode3327,@CompanyCode3328)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3329))) 	
Parameters:
@Type3319[Int32] = 1
@ProjectId3320[String] = 6372912251695766465
@CompanyCode3321[String] = 6373083923489249281
@CompanyCode3322[String] = 6373083925531366080
@CompanyCode3323[String] = 6373083927883400612
@CompanyCode3324[String] = 6373083918575368225
@CompanyCode3325[String] = 6373083920445075162
@CompanyCode3326[String] = 6373083908618598731
@CompanyCode3327[String] = 6373083911842783146
@CompanyCode3328[String] = 6373083913928202424
@ParentCompanyCode3329[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:56:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3330) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3331)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3332,@CompanyCode3333,@CompanyCode3334,@CompanyCode3335,@CompanyCode3336,@CompanyCode3337,@CompanyCode3338,@CompanyCode3339)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3340))) 	
Parameters:
@Type3330[Int32] = 2
@ProjectId3331[String] = 6372912251695766465
@CompanyCode3332[String] = 6373083923489249281
@CompanyCode3333[String] = 6373083925531366080
@CompanyCode3334[String] = 6373083927883400612
@CompanyCode3335[String] = 6373083918575368225
@CompanyCode3336[String] = 6373083920445075162
@CompanyCode3337[String] = 6373083908618598731
@CompanyCode3338[String] = 6373083911842783146
@CompanyCode3339[String] = 6373083913928202424
@ParentCompanyCode3340[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:56:15
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:56:15
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:56:15
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:56:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:15
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3368)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3341) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3342,@SiteCode3343,@SiteCode3344,@SiteCode3345,@SiteCode3346,@SiteCode3347,@SiteCode3348,@SiteCode3349,@SiteCode3350,@SiteCode3351,@SiteCode3352,@SiteCode3353,@SiteCode3354,@SiteCode3355,@SiteCode3356,@SiteCode3357,@SiteCode3358,@SiteCode3359,@SiteCode3360,@SiteCode3361,@SiteCode3362,@SiteCode3363,@SiteCode3364,@SiteCode3365,@SiteCode3366,@SiteCode3367)))	
Parameters:
@ProjectId3341[String] = 6372912251695766465
@SiteCode3342[String] = 6373083923489249281
@SiteCode3343[String] = 6373083925531366080
@SiteCode3344[String] = 6373083927883400612
@SiteCode3345[String] = 6373083918575368225
@SiteCode3346[String] = 6373083920445075162
@SiteCode3347[String] = 6373083908618598731
@SiteCode3348[String] = 6373083911842783146
@SiteCode3349[String] = 6373083913928202424
@SiteCode3350[String] = 6373083877551621804
@SiteCode3351[String] = 6373083879921857377
@SiteCode3352[String] = 6373083881542550067
@SiteCode3353[String] = 6373083883689772886
@SiteCode3354[String] = 6373083887136270013
@SiteCode3355[String] = 6373083889697116488
@SiteCode3356[String] = 6373083891969846476
@SiteCode3357[String] = 6373083894422586761
@SiteCode3358[String] = 6373083897509963358
@SiteCode3359[String] = 6373083900444931227
@SiteCode3360[String] = 6373083829464571372
@SiteCode3361[String] = 6373083833327492328
@SiteCode3362[String] = 6373083841964286321
@SiteCode3363[String] = 6373083844982558950
@SiteCode3364[String] = 6373083847585007801
@SiteCode3365[String] = 6373083856887939900
@SiteCode3366[String] = 6373083859102666584
@SiteCode3367[String] = 6373083864919499284
@FDictionaryCode3368[String] = OrderState
@FDictionaryCode3369[String] = UrgentDegree
@FDictionaryCode3370[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:56:15
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3369) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3370) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3368)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3341) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3342,@SiteCode3343,@SiteCode3344,@SiteCode3345,@SiteCode3346,@SiteCode3347,@SiteCode3348,@SiteCode3349,@SiteCode3350,@SiteCode3351,@SiteCode3352,@SiteCode3353,@SiteCode3354,@SiteCode3355,@SiteCode3356,@SiteCode3357,@SiteCode3358,@SiteCode3359,@SiteCode3360,@SiteCode3361,@SiteCode3362,@SiteCode3363,@SiteCode3364,@SiteCode3365,@SiteCode3366,@SiteCode3367))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3341[String] = 6372912251695766465
@SiteCode3342[String] = 6373083923489249281
@SiteCode3343[String] = 6373083925531366080
@SiteCode3344[String] = 6373083927883400612
@SiteCode3345[String] = 6373083918575368225
@SiteCode3346[String] = 6373083920445075162
@SiteCode3347[String] = 6373083908618598731
@SiteCode3348[String] = 6373083911842783146
@SiteCode3349[String] = 6373083913928202424
@SiteCode3350[String] = 6373083877551621804
@SiteCode3351[String] = 6373083879921857377
@SiteCode3352[String] = 6373083881542550067
@SiteCode3353[String] = 6373083883689772886
@SiteCode3354[String] = 6373083887136270013
@SiteCode3355[String] = 6373083889697116488
@SiteCode3356[String] = 6373083891969846476
@SiteCode3357[String] = 6373083894422586761
@SiteCode3358[String] = 6373083897509963358
@SiteCode3359[String] = 6373083900444931227
@SiteCode3360[String] = 6373083829464571372
@SiteCode3361[String] = 6373083833327492328
@SiteCode3362[String] = 6373083841964286321
@SiteCode3363[String] = 6373083844982558950
@SiteCode3364[String] = 6373083847585007801
@SiteCode3365[String] = 6373083856887939900
@SiteCode3366[String] = 6373083859102666584
@SiteCode3367[String] = 6373083864919499284
@FDictionaryCode3368[String] = OrderState
@FDictionaryCode3369[String] = UrgentDegree
@FDictionaryCode3370[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:56:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:56:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:56:16
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:56:16
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:56:16
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:56:16
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:56:16
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:56:16
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:56:49
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 17:56:49
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 17:56:49
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 17:56:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3371) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3372)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3373,@CompanyCode3374,@CompanyCode3375,@CompanyCode3376,@CompanyCode3377,@CompanyCode3378,@CompanyCode3379,@CompanyCode3380)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3381))) 	
Parameters:
@Type3371[Int32] = 1
@ProjectId3372[String] = 6372912251695766465
@CompanyCode3373[String] = 6373083923489249281
@CompanyCode3374[String] = 6373083925531366080
@CompanyCode3375[String] = 6373083927883400612
@CompanyCode3376[String] = 6373083918575368225
@CompanyCode3377[String] = 6373083920445075162
@CompanyCode3378[String] = 6373083908618598731
@CompanyCode3379[String] = 6373083911842783146
@CompanyCode3380[String] = 6373083913928202424
@ParentCompanyCode3381[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:56:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3382) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3383)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3384,@CompanyCode3385,@CompanyCode3386,@CompanyCode3387,@CompanyCode3388,@CompanyCode3389,@CompanyCode3390,@CompanyCode3391)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3392))) 	
Parameters:
@Type3382[Int32] = 2
@ProjectId3383[String] = 6372912251695766465
@CompanyCode3384[String] = 6373083923489249281
@CompanyCode3385[String] = 6373083925531366080
@CompanyCode3386[String] = 6373083927883400612
@CompanyCode3387[String] = 6373083918575368225
@CompanyCode3388[String] = 6373083920445075162
@CompanyCode3389[String] = 6373083908618598731
@CompanyCode3390[String] = 6373083911842783146
@CompanyCode3391[String] = 6373083913928202424
@ParentCompanyCode3392[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:56:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 17:56:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:49
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3420)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3393) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3394,@SiteCode3395,@SiteCode3396,@SiteCode3397,@SiteCode3398,@SiteCode3399,@SiteCode3400,@SiteCode3401,@SiteCode3402,@SiteCode3403,@SiteCode3404,@SiteCode3405,@SiteCode3406,@SiteCode3407,@SiteCode3408,@SiteCode3409,@SiteCode3410,@SiteCode3411,@SiteCode3412,@SiteCode3413,@SiteCode3414,@SiteCode3415,@SiteCode3416,@SiteCode3417,@SiteCode3418,@SiteCode3419)))	
Parameters:
@ProjectId3393[String] = 6372912251695766465
@SiteCode3394[String] = 6373083923489249281
@SiteCode3395[String] = 6373083925531366080
@SiteCode3396[String] = 6373083927883400612
@SiteCode3397[String] = 6373083918575368225
@SiteCode3398[String] = 6373083920445075162
@SiteCode3399[String] = 6373083908618598731
@SiteCode3400[String] = 6373083911842783146
@SiteCode3401[String] = 6373083913928202424
@SiteCode3402[String] = 6373083877551621804
@SiteCode3403[String] = 6373083879921857377
@SiteCode3404[String] = 6373083881542550067
@SiteCode3405[String] = 6373083883689772886
@SiteCode3406[String] = 6373083887136270013
@SiteCode3407[String] = 6373083889697116488
@SiteCode3408[String] = 6373083891969846476
@SiteCode3409[String] = 6373083894422586761
@SiteCode3410[String] = 6373083897509963358
@SiteCode3411[String] = 6373083900444931227
@SiteCode3412[String] = 6373083829464571372
@SiteCode3413[String] = 6373083833327492328
@SiteCode3414[String] = 6373083841964286321
@SiteCode3415[String] = 6373083844982558950
@SiteCode3416[String] = 6373083847585007801
@SiteCode3417[String] = 6373083856887939900
@SiteCode3418[String] = 6373083859102666584
@SiteCode3419[String] = 6373083864919499284
@FDictionaryCode3420[String] = OrderState
@FDictionaryCode3421[String] = UrgentDegree
@FDictionaryCode3422[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:56:50
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3421) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3422) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3420)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3393) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3394,@SiteCode3395,@SiteCode3396,@SiteCode3397,@SiteCode3398,@SiteCode3399,@SiteCode3400,@SiteCode3401,@SiteCode3402,@SiteCode3403,@SiteCode3404,@SiteCode3405,@SiteCode3406,@SiteCode3407,@SiteCode3408,@SiteCode3409,@SiteCode3410,@SiteCode3411,@SiteCode3412,@SiteCode3413,@SiteCode3414,@SiteCode3415,@SiteCode3416,@SiteCode3417,@SiteCode3418,@SiteCode3419))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3393[String] = 6372912251695766465
@SiteCode3394[String] = 6373083923489249281
@SiteCode3395[String] = 6373083925531366080
@SiteCode3396[String] = 6373083927883400612
@SiteCode3397[String] = 6373083918575368225
@SiteCode3398[String] = 6373083920445075162
@SiteCode3399[String] = 6373083908618598731
@SiteCode3400[String] = 6373083911842783146
@SiteCode3401[String] = 6373083913928202424
@SiteCode3402[String] = 6373083877551621804
@SiteCode3403[String] = 6373083879921857377
@SiteCode3404[String] = 6373083881542550067
@SiteCode3405[String] = 6373083883689772886
@SiteCode3406[String] = 6373083887136270013
@SiteCode3407[String] = 6373083889697116488
@SiteCode3408[String] = 6373083891969846476
@SiteCode3409[String] = 6373083894422586761
@SiteCode3410[String] = 6373083897509963358
@SiteCode3411[String] = 6373083900444931227
@SiteCode3412[String] = 6373083829464571372
@SiteCode3413[String] = 6373083833327492328
@SiteCode3414[String] = 6373083841964286321
@SiteCode3415[String] = 6373083844982558950
@SiteCode3416[String] = 6373083847585007801
@SiteCode3417[String] = 6373083856887939900
@SiteCode3418[String] = 6373083859102666584
@SiteCode3419[String] = 6373083864919499284
@FDictionaryCode3420[String] = OrderState
@FDictionaryCode3421[String] = UrgentDegree
@FDictionaryCode3422[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:56:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:56:50
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:56:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:56:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3423) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3424)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3425,@CompanyCode3426,@CompanyCode3427,@CompanyCode3428,@CompanyCode3429,@CompanyCode3430,@CompanyCode3431,@CompanyCode3432)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3433))) 	
Parameters:
@Type3423[Int32] = 1
@ProjectId3424[String] = 6372912251695766465
@CompanyCode3425[String] = 6373083923489249281
@CompanyCode3426[String] = 6373083925531366080
@CompanyCode3427[String] = 6373083927883400612
@CompanyCode3428[String] = 6373083918575368225
@CompanyCode3429[String] = 6373083920445075162
@CompanyCode3430[String] = 6373083908618598731
@CompanyCode3431[String] = 6373083911842783146
@CompanyCode3432[String] = 6373083913928202424
@ParentCompanyCode3433[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3434) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3435)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3436,@CompanyCode3437,@CompanyCode3438,@CompanyCode3439,@CompanyCode3440,@CompanyCode3441,@CompanyCode3442,@CompanyCode3443)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3444))) 	
Parameters:
@Type3434[Int32] = 2
@ProjectId3435[String] = 6372912251695766465
@CompanyCode3436[String] = 6373083923489249281
@CompanyCode3437[String] = 6373083925531366080
@CompanyCode3438[String] = 6373083927883400612
@CompanyCode3439[String] = 6373083918575368225
@CompanyCode3440[String] = 6373083920445075162
@CompanyCode3441[String] = 6373083908618598731
@CompanyCode3442[String] = 6373083911842783146
@CompanyCode3443[String] = 6373083913928202424
@ParentCompanyCode3444[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = ProcessingState


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	select * from TbSysDictionaryData where 1=1 and FDictionaryCode=@name order by DictionaryOrder asc	
Parameters:
@name[String] = UrgentDegree


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3472)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3445) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3446,@SiteCode3447,@SiteCode3448,@SiteCode3449,@SiteCode3450,@SiteCode3451,@SiteCode3452,@SiteCode3453,@SiteCode3454,@SiteCode3455,@SiteCode3456,@SiteCode3457,@SiteCode3458,@SiteCode3459,@SiteCode3460,@SiteCode3461,@SiteCode3462,@SiteCode3463,@SiteCode3464,@SiteCode3465,@SiteCode3466,@SiteCode3467,@SiteCode3468,@SiteCode3469,@SiteCode3470,@SiteCode3471)))	
Parameters:
@ProjectId3445[String] = 6372912251695766465
@SiteCode3446[String] = 6373083923489249281
@SiteCode3447[String] = 6373083925531366080
@SiteCode3448[String] = 6373083927883400612
@SiteCode3449[String] = 6373083918575368225
@SiteCode3450[String] = 6373083920445075162
@SiteCode3451[String] = 6373083908618598731
@SiteCode3452[String] = 6373083911842783146
@SiteCode3453[String] = 6373083913928202424
@SiteCode3454[String] = 6373083877551621804
@SiteCode3455[String] = 6373083879921857377
@SiteCode3456[String] = 6373083881542550067
@SiteCode3457[String] = 6373083883689772886
@SiteCode3458[String] = 6373083887136270013
@SiteCode3459[String] = 6373083889697116488
@SiteCode3460[String] = 6373083891969846476
@SiteCode3461[String] = 6373083894422586761
@SiteCode3462[String] = 6373083897509963358
@SiteCode3463[String] = 6373083900444931227
@SiteCode3464[String] = 6373083829464571372
@SiteCode3465[String] = 6373083833327492328
@SiteCode3466[String] = 6373083841964286321
@SiteCode3467[String] = 6373083844982558950
@SiteCode3468[String] = 6373083847585007801
@SiteCode3469[String] = 6373083856887939900
@SiteCode3470[String] = 6373083859102666584
@SiteCode3471[String] = 6373083864919499284
@FDictionaryCode3472[String] = OrderState
@FDictionaryCode3473[String] = UrgentDegree
@FDictionaryCode3474[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3473) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3474) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3472)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3445) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3446,@SiteCode3447,@SiteCode3448,@SiteCode3449,@SiteCode3450,@SiteCode3451,@SiteCode3452,@SiteCode3453,@SiteCode3454,@SiteCode3455,@SiteCode3456,@SiteCode3457,@SiteCode3458,@SiteCode3459,@SiteCode3460,@SiteCode3461,@SiteCode3462,@SiteCode3463,@SiteCode3464,@SiteCode3465,@SiteCode3466,@SiteCode3467,@SiteCode3468,@SiteCode3469,@SiteCode3470,@SiteCode3471))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3445[String] = 6372912251695766465
@SiteCode3446[String] = 6373083923489249281
@SiteCode3447[String] = 6373083925531366080
@SiteCode3448[String] = 6373083927883400612
@SiteCode3449[String] = 6373083918575368225
@SiteCode3450[String] = 6373083920445075162
@SiteCode3451[String] = 6373083908618598731
@SiteCode3452[String] = 6373083911842783146
@SiteCode3453[String] = 6373083913928202424
@SiteCode3454[String] = 6373083877551621804
@SiteCode3455[String] = 6373083879921857377
@SiteCode3456[String] = 6373083881542550067
@SiteCode3457[String] = 6373083883689772886
@SiteCode3458[String] = 6373083887136270013
@SiteCode3459[String] = 6373083889697116488
@SiteCode3460[String] = 6373083891969846476
@SiteCode3461[String] = 6373083894422586761
@SiteCode3462[String] = 6373083897509963358
@SiteCode3463[String] = 6373083900444931227
@SiteCode3464[String] = 6373083829464571372
@SiteCode3465[String] = 6373083833327492328
@SiteCode3466[String] = 6373083841964286321
@SiteCode3467[String] = 6373083844982558950
@SiteCode3468[String] = 6373083847585007801
@SiteCode3469[String] = 6373083856887939900
@SiteCode3470[String] = 6373083859102666584
@SiteCode3471[String] = 6373083864919499284
@FDictionaryCode3472[String] = OrderState
@FDictionaryCode3473[String] = UrgentDegree
@FDictionaryCode3474[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/ProblemOrder/Index


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /Production/WorkOrder/OrderPackIndex


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465'	


-----------------------------------------------------------------------------
2020-08-12 17:56:55
Text:	with temptbl as (SELECT ROW_NUMBER() OVER (order by PackCode desc)AS Row, * from (select b.*,a.DistributionTime,a.SumNumber,a.Major,c.CompanyFullName as SiteName,a.SignForState from TbWorkOrder a
left join TbWorkOrderPack b on a.OrderCode=b.OrderCode
left join TbCompany c on a.SiteCode=c.CompanyCode  where 1=1 and b.ID is not null  and a.ProjectId='6372912251695766465') as a)  SELECT * FROM temptbl where Row between 1 and 50	


-----------------------------------------------------------------------------
2020-08-12 17:56:56
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 17:56:56
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 17:56:56
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 17:56:56
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 17:59:03
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:59:03
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3477)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3475) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3476)))	
Parameters:
@ProjectId3475[String] = 6372912251695766465
@SiteCode3476[String] = 6373083847585007801
@FDictionaryCode3477[String] = OrderState
@FDictionaryCode3478[String] = UrgentDegree
@FDictionaryCode3479[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:59:03
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3478) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3479) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3477)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3475) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3476))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3475[String] = 6372912251695766465
@SiteCode3476[String] = 6373083847585007801
@FDictionaryCode3477[String] = OrderState
@FDictionaryCode3478[String] = UrgentDegree
@FDictionaryCode3479[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 17:59:04
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 17:59:04
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId3480) AND ([TbModelOrg].[SiteCode] IN (@SiteCode3481))) 	
Parameters:
@ProjectId3480[String] = 6372912251695766465
@SiteCode3481[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 17:59:12
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm3482,@MxGjBm3483,@MxGjBm3484,@MxGjBm3485,@MxGjBm3486) 	
Parameters:
@MxGjBm3482[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm3483[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm3484[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm3485[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm3486[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 17:59:12
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode3487,@ComponentCode3488,@ComponentCode3489,@ComponentCode3490,@ComponentCode3491)) AND ([TbModelOtherInfo].[Type] = @Type3492) 	
Parameters:
@ComponentCode3487[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode3488[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode3489[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode3490[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode3491[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type3492[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 17:59:49
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:00:14
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:00:14
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:00:14
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3493) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3494)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3495,@CompanyCode3496,@CompanyCode3497,@CompanyCode3498,@CompanyCode3499,@CompanyCode3500,@CompanyCode3501,@CompanyCode3502)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3503))) 	
Parameters:
@Type3493[Int32] = 1
@ProjectId3494[String] = 6372912251695766465
@CompanyCode3495[String] = 6373083923489249281
@CompanyCode3496[String] = 6373083925531366080
@CompanyCode3497[String] = 6373083927883400612
@CompanyCode3498[String] = 6373083918575368225
@CompanyCode3499[String] = 6373083920445075162
@CompanyCode3500[String] = 6373083908618598731
@CompanyCode3501[String] = 6373083911842783146
@CompanyCode3502[String] = 6373083913928202424
@ParentCompanyCode3503[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3504) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3505)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3506,@CompanyCode3507,@CompanyCode3508,@CompanyCode3509,@CompanyCode3510,@CompanyCode3511,@CompanyCode3512,@CompanyCode3513)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3514))) 	
Parameters:
@Type3504[Int32] = 2
@ProjectId3505[String] = 6372912251695766465
@CompanyCode3506[String] = 6373083923489249281
@CompanyCode3507[String] = 6373083925531366080
@CompanyCode3508[String] = 6373083927883400612
@CompanyCode3509[String] = 6373083918575368225
@CompanyCode3510[String] = 6373083920445075162
@CompanyCode3511[String] = 6373083908618598731
@CompanyCode3512[String] = 6373083911842783146
@CompanyCode3513[String] = 6373083913928202424
@ParentCompanyCode3514[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3542)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3515) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3516,@SiteCode3517,@SiteCode3518,@SiteCode3519,@SiteCode3520,@SiteCode3521,@SiteCode3522,@SiteCode3523,@SiteCode3524,@SiteCode3525,@SiteCode3526,@SiteCode3527,@SiteCode3528,@SiteCode3529,@SiteCode3530,@SiteCode3531,@SiteCode3532,@SiteCode3533,@SiteCode3534,@SiteCode3535,@SiteCode3536,@SiteCode3537,@SiteCode3538,@SiteCode3539,@SiteCode3540,@SiteCode3541)))	
Parameters:
@ProjectId3515[String] = 6372912251695766465
@SiteCode3516[String] = 6373083923489249281
@SiteCode3517[String] = 6373083925531366080
@SiteCode3518[String] = 6373083927883400612
@SiteCode3519[String] = 6373083918575368225
@SiteCode3520[String] = 6373083920445075162
@SiteCode3521[String] = 6373083908618598731
@SiteCode3522[String] = 6373083911842783146
@SiteCode3523[String] = 6373083913928202424
@SiteCode3524[String] = 6373083877551621804
@SiteCode3525[String] = 6373083879921857377
@SiteCode3526[String] = 6373083881542550067
@SiteCode3527[String] = 6373083883689772886
@SiteCode3528[String] = 6373083887136270013
@SiteCode3529[String] = 6373083889697116488
@SiteCode3530[String] = 6373083891969846476
@SiteCode3531[String] = 6373083894422586761
@SiteCode3532[String] = 6373083897509963358
@SiteCode3533[String] = 6373083900444931227
@SiteCode3534[String] = 6373083829464571372
@SiteCode3535[String] = 6373083833327492328
@SiteCode3536[String] = 6373083841964286321
@SiteCode3537[String] = 6373083844982558950
@SiteCode3538[String] = 6373083847585007801
@SiteCode3539[String] = 6373083856887939900
@SiteCode3540[String] = 6373083859102666584
@SiteCode3541[String] = 6373083864919499284
@FDictionaryCode3542[String] = OrderState
@FDictionaryCode3543[String] = UrgentDegree
@FDictionaryCode3544[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3543) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3544) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3542)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3515) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3516,@SiteCode3517,@SiteCode3518,@SiteCode3519,@SiteCode3520,@SiteCode3521,@SiteCode3522,@SiteCode3523,@SiteCode3524,@SiteCode3525,@SiteCode3526,@SiteCode3527,@SiteCode3528,@SiteCode3529,@SiteCode3530,@SiteCode3531,@SiteCode3532,@SiteCode3533,@SiteCode3534,@SiteCode3535,@SiteCode3536,@SiteCode3537,@SiteCode3538,@SiteCode3539,@SiteCode3540,@SiteCode3541))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3515[String] = 6372912251695766465
@SiteCode3516[String] = 6373083923489249281
@SiteCode3517[String] = 6373083925531366080
@SiteCode3518[String] = 6373083927883400612
@SiteCode3519[String] = 6373083918575368225
@SiteCode3520[String] = 6373083920445075162
@SiteCode3521[String] = 6373083908618598731
@SiteCode3522[String] = 6373083911842783146
@SiteCode3523[String] = 6373083913928202424
@SiteCode3524[String] = 6373083877551621804
@SiteCode3525[String] = 6373083879921857377
@SiteCode3526[String] = 6373083881542550067
@SiteCode3527[String] = 6373083883689772886
@SiteCode3528[String] = 6373083887136270013
@SiteCode3529[String] = 6373083889697116488
@SiteCode3530[String] = 6373083891969846476
@SiteCode3531[String] = 6373083894422586761
@SiteCode3532[String] = 6373083897509963358
@SiteCode3533[String] = 6373083900444931227
@SiteCode3534[String] = 6373083829464571372
@SiteCode3535[String] = 6373083833327492328
@SiteCode3536[String] = 6373083841964286321
@SiteCode3537[String] = 6373083844982558950
@SiteCode3538[String] = 6373083847585007801
@SiteCode3539[String] = 6373083856887939900
@SiteCode3540[String] = 6373083859102666584
@SiteCode3541[String] = 6373083864919499284
@FDictionaryCode3542[String] = OrderState
@FDictionaryCode3543[String] = UrgentDegree
@FDictionaryCode3544[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:00:15
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 18:00:22
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:00:22
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId3545) AND ([TbModelOrg].[SiteCode] IN (@SiteCode3546))) 	
Parameters:
@ProjectId3545[String] = 6372912251695766465
@SiteCode3546[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 18:00:28
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm3547,@MxGjBm3548,@MxGjBm3549,@MxGjBm3550,@MxGjBm3551) 	
Parameters:
@MxGjBm3547[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm3548[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm3549[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm3550[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm3551[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 18:00:28
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode3552,@ComponentCode3553,@ComponentCode3554,@ComponentCode3555,@ComponentCode3556)) AND ([TbModelOtherInfo].[Type] = @Type3557) 	
Parameters:
@ComponentCode3552[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode3553[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode3554[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode3555[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode3556[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type3557[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3558) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3559)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3560,@CompanyCode3561,@CompanyCode3562,@CompanyCode3563,@CompanyCode3564,@CompanyCode3565,@CompanyCode3566,@CompanyCode3567)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3568))) 	
Parameters:
@Type3558[Int32] = 1
@ProjectId3559[String] = 6372912251695766465
@CompanyCode3560[String] = 6373083923489249281
@CompanyCode3561[String] = 6373083925531366080
@CompanyCode3562[String] = 6373083927883400612
@CompanyCode3563[String] = 6373083918575368225
@CompanyCode3564[String] = 6373083920445075162
@CompanyCode3565[String] = 6373083908618598731
@CompanyCode3566[String] = 6373083911842783146
@CompanyCode3567[String] = 6373083913928202424
@ParentCompanyCode3568[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3569) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3570)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3571,@CompanyCode3572,@CompanyCode3573,@CompanyCode3574,@CompanyCode3575,@CompanyCode3576,@CompanyCode3577,@CompanyCode3578)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3579))) 	
Parameters:
@Type3569[Int32] = 2
@ProjectId3570[String] = 6372912251695766465
@CompanyCode3571[String] = 6373083923489249281
@CompanyCode3572[String] = 6373083925531366080
@CompanyCode3573[String] = 6373083927883400612
@CompanyCode3574[String] = 6373083918575368225
@CompanyCode3575[String] = 6373083920445075162
@CompanyCode3576[String] = 6373083908618598731
@CompanyCode3577[String] = 6373083911842783146
@CompanyCode3578[String] = 6373083913928202424
@ParentCompanyCode3579[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3607)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3580) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3581,@SiteCode3582,@SiteCode3583,@SiteCode3584,@SiteCode3585,@SiteCode3586,@SiteCode3587,@SiteCode3588,@SiteCode3589,@SiteCode3590,@SiteCode3591,@SiteCode3592,@SiteCode3593,@SiteCode3594,@SiteCode3595,@SiteCode3596,@SiteCode3597,@SiteCode3598,@SiteCode3599,@SiteCode3600,@SiteCode3601,@SiteCode3602,@SiteCode3603,@SiteCode3604,@SiteCode3605,@SiteCode3606)))	
Parameters:
@ProjectId3580[String] = 6372912251695766465
@SiteCode3581[String] = 6373083923489249281
@SiteCode3582[String] = 6373083925531366080
@SiteCode3583[String] = 6373083927883400612
@SiteCode3584[String] = 6373083918575368225
@SiteCode3585[String] = 6373083920445075162
@SiteCode3586[String] = 6373083908618598731
@SiteCode3587[String] = 6373083911842783146
@SiteCode3588[String] = 6373083913928202424
@SiteCode3589[String] = 6373083877551621804
@SiteCode3590[String] = 6373083879921857377
@SiteCode3591[String] = 6373083881542550067
@SiteCode3592[String] = 6373083883689772886
@SiteCode3593[String] = 6373083887136270013
@SiteCode3594[String] = 6373083889697116488
@SiteCode3595[String] = 6373083891969846476
@SiteCode3596[String] = 6373083894422586761
@SiteCode3597[String] = 6373083897509963358
@SiteCode3598[String] = 6373083900444931227
@SiteCode3599[String] = 6373083829464571372
@SiteCode3600[String] = 6373083833327492328
@SiteCode3601[String] = 6373083841964286321
@SiteCode3602[String] = 6373083844982558950
@SiteCode3603[String] = 6373083847585007801
@SiteCode3604[String] = 6373083856887939900
@SiteCode3605[String] = 6373083859102666584
@SiteCode3606[String] = 6373083864919499284
@FDictionaryCode3607[String] = OrderState
@FDictionaryCode3608[String] = UrgentDegree
@FDictionaryCode3609[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:01:49
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3608) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3609) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3607)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3580) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3581,@SiteCode3582,@SiteCode3583,@SiteCode3584,@SiteCode3585,@SiteCode3586,@SiteCode3587,@SiteCode3588,@SiteCode3589,@SiteCode3590,@SiteCode3591,@SiteCode3592,@SiteCode3593,@SiteCode3594,@SiteCode3595,@SiteCode3596,@SiteCode3597,@SiteCode3598,@SiteCode3599,@SiteCode3600,@SiteCode3601,@SiteCode3602,@SiteCode3603,@SiteCode3604,@SiteCode3605,@SiteCode3606))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3580[String] = 6372912251695766465
@SiteCode3581[String] = 6373083923489249281
@SiteCode3582[String] = 6373083925531366080
@SiteCode3583[String] = 6373083927883400612
@SiteCode3584[String] = 6373083918575368225
@SiteCode3585[String] = 6373083920445075162
@SiteCode3586[String] = 6373083908618598731
@SiteCode3587[String] = 6373083911842783146
@SiteCode3588[String] = 6373083913928202424
@SiteCode3589[String] = 6373083877551621804
@SiteCode3590[String] = 6373083879921857377
@SiteCode3591[String] = 6373083881542550067
@SiteCode3592[String] = 6373083883689772886
@SiteCode3593[String] = 6373083887136270013
@SiteCode3594[String] = 6373083889697116488
@SiteCode3595[String] = 6373083891969846476
@SiteCode3596[String] = 6373083894422586761
@SiteCode3597[String] = 6373083897509963358
@SiteCode3598[String] = 6373083900444931227
@SiteCode3599[String] = 6373083829464571372
@SiteCode3600[String] = 6373083833327492328
@SiteCode3601[String] = 6373083841964286321
@SiteCode3602[String] = 6373083844982558950
@SiteCode3603[String] = 6373083847585007801
@SiteCode3604[String] = 6373083856887939900
@SiteCode3605[String] = 6373083859102666584
@SiteCode3606[String] = 6373083864919499284
@FDictionaryCode3607[String] = OrderState
@FDictionaryCode3608[String] = UrgentDegree
@FDictionaryCode3609[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:01:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:01:50
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:01:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:01:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 18:01:56
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:01:56
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId3610) AND ([TbModelOrg].[SiteCode] IN (@SiteCode3611))) 	
Parameters:
@ProjectId3610[String] = 6372912251695766465
@SiteCode3611[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 18:02:03
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm3612,@MxGjBm3613,@MxGjBm3614,@MxGjBm3615,@MxGjBm3616) 	
Parameters:
@MxGjBm3612[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm3613[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm3614[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm3615[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm3616[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 18:02:03
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode3617,@ComponentCode3618,@ComponentCode3619,@ComponentCode3620,@ComponentCode3621)) AND ([TbModelOtherInfo].[Type] = @Type3622) 	
Parameters:
@ComponentCode3617[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode3618[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode3619[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode3620[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode3621[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type3622[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 18:02:51
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:02:51
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:02:51
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:02:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:02:51
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3623) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3624)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3625,@CompanyCode3626,@CompanyCode3627,@CompanyCode3628,@CompanyCode3629,@CompanyCode3630,@CompanyCode3631,@CompanyCode3632)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3633))) 	
Parameters:
@Type3623[Int32] = 1
@ProjectId3624[String] = 6372912251695766465
@CompanyCode3625[String] = 6373083923489249281
@CompanyCode3626[String] = 6373083925531366080
@CompanyCode3627[String] = 6373083927883400612
@CompanyCode3628[String] = 6373083918575368225
@CompanyCode3629[String] = 6373083920445075162
@CompanyCode3630[String] = 6373083908618598731
@CompanyCode3631[String] = 6373083911842783146
@CompanyCode3632[String] = 6373083913928202424
@ParentCompanyCode3633[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:02:51
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:02:51
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type3634) AND ([TbOrganizationMap].[ProjectId] = @ProjectId3635)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3636,@CompanyCode3637,@CompanyCode3638,@CompanyCode3639,@CompanyCode3640,@CompanyCode3641,@CompanyCode3642,@CompanyCode3643)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode3644))) 	
Parameters:
@Type3634[Int32] = 2
@ProjectId3635[String] = 6372912251695766465
@CompanyCode3636[String] = 6373083923489249281
@CompanyCode3637[String] = 6373083925531366080
@CompanyCode3638[String] = 6373083927883400612
@CompanyCode3639[String] = 6373083918575368225
@CompanyCode3640[String] = 6373083920445075162
@CompanyCode3641[String] = 6373083908618598731
@CompanyCode3642[String] = 6373083911842783146
@CompanyCode3643[String] = 6373083913928202424
@ParentCompanyCode3644[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:02:51
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:02:52
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:02:52
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3672)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3645) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3646,@SiteCode3647,@SiteCode3648,@SiteCode3649,@SiteCode3650,@SiteCode3651,@SiteCode3652,@SiteCode3653,@SiteCode3654,@SiteCode3655,@SiteCode3656,@SiteCode3657,@SiteCode3658,@SiteCode3659,@SiteCode3660,@SiteCode3661,@SiteCode3662,@SiteCode3663,@SiteCode3664,@SiteCode3665,@SiteCode3666,@SiteCode3667,@SiteCode3668,@SiteCode3669,@SiteCode3670,@SiteCode3671)))	
Parameters:
@ProjectId3645[String] = 6372912251695766465
@SiteCode3646[String] = 6373083923489249281
@SiteCode3647[String] = 6373083925531366080
@SiteCode3648[String] = 6373083927883400612
@SiteCode3649[String] = 6373083918575368225
@SiteCode3650[String] = 6373083920445075162
@SiteCode3651[String] = 6373083908618598731
@SiteCode3652[String] = 6373083911842783146
@SiteCode3653[String] = 6373083913928202424
@SiteCode3654[String] = 6373083877551621804
@SiteCode3655[String] = 6373083879921857377
@SiteCode3656[String] = 6373083881542550067
@SiteCode3657[String] = 6373083883689772886
@SiteCode3658[String] = 6373083887136270013
@SiteCode3659[String] = 6373083889697116488
@SiteCode3660[String] = 6373083891969846476
@SiteCode3661[String] = 6373083894422586761
@SiteCode3662[String] = 6373083897509963358
@SiteCode3663[String] = 6373083900444931227
@SiteCode3664[String] = 6373083829464571372
@SiteCode3665[String] = 6373083833327492328
@SiteCode3666[String] = 6373083841964286321
@SiteCode3667[String] = 6373083844982558950
@SiteCode3668[String] = 6373083847585007801
@SiteCode3669[String] = 6373083856887939900
@SiteCode3670[String] = 6373083859102666584
@SiteCode3671[String] = 6373083864919499284
@FDictionaryCode3672[String] = OrderState
@FDictionaryCode3673[String] = UrgentDegree
@FDictionaryCode3674[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:02:52
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3673) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3674) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode3672)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId3645) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode3646,@SiteCode3647,@SiteCode3648,@SiteCode3649,@SiteCode3650,@SiteCode3651,@SiteCode3652,@SiteCode3653,@SiteCode3654,@SiteCode3655,@SiteCode3656,@SiteCode3657,@SiteCode3658,@SiteCode3659,@SiteCode3660,@SiteCode3661,@SiteCode3662,@SiteCode3663,@SiteCode3664,@SiteCode3665,@SiteCode3666,@SiteCode3667,@SiteCode3668,@SiteCode3669,@SiteCode3670,@SiteCode3671))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId3645[String] = 6372912251695766465
@SiteCode3646[String] = 6373083923489249281
@SiteCode3647[String] = 6373083925531366080
@SiteCode3648[String] = 6373083927883400612
@SiteCode3649[String] = 6373083918575368225
@SiteCode3650[String] = 6373083920445075162
@SiteCode3651[String] = 6373083908618598731
@SiteCode3652[String] = 6373083911842783146
@SiteCode3653[String] = 6373083913928202424
@SiteCode3654[String] = 6373083877551621804
@SiteCode3655[String] = 6373083879921857377
@SiteCode3656[String] = 6373083881542550067
@SiteCode3657[String] = 6373083883689772886
@SiteCode3658[String] = 6373083887136270013
@SiteCode3659[String] = 6373083889697116488
@SiteCode3660[String] = 6373083891969846476
@SiteCode3661[String] = 6373083894422586761
@SiteCode3662[String] = 6373083897509963358
@SiteCode3663[String] = 6373083900444931227
@SiteCode3664[String] = 6373083829464571372
@SiteCode3665[String] = 6373083833327492328
@SiteCode3666[String] = 6373083841964286321
@SiteCode3667[String] = 6373083844982558950
@SiteCode3668[String] = 6373083847585007801
@SiteCode3669[String] = 6373083856887939900
@SiteCode3670[String] = 6373083859102666584
@SiteCode3671[String] = 6373083864919499284
@FDictionaryCode3672[String] = OrderState
@FDictionaryCode3673[String] = UrgentDegree
@FDictionaryCode3674[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:02:52
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:02:52
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:02:52
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:02:52
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 18:02:58
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:02:58
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId3675) AND ([TbModelOrg].[SiteCode] IN (@SiteCode3676))) 	
Parameters:
@ProjectId3675[String] = 6372912251695766465
@SiteCode3676[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 18:03:04
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm3677,@MxGjBm3678,@MxGjBm3679,@MxGjBm3680,@MxGjBm3681) 	
Parameters:
@MxGjBm3677[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm3678[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm3679[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm3680[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm3681[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 18:03:04
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode3682,@ComponentCode3683,@ComponentCode3684,@ComponentCode3685,@ComponentCode3686)) AND ([TbModelOtherInfo].[Type] = @Type3687) 	
Parameters:
@ComponentCode3682[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode3683[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode3684[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode3685[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode3686[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type3687[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 18:05:00
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:05:00
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:05:00
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type1) AND ([TbOrganizationMap].[ProjectId] = @ProjectId2)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode3,@CompanyCode4,@CompanyCode5,@CompanyCode6,@CompanyCode7,@CompanyCode8,@CompanyCode9,@CompanyCode10)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode11))) 	
Parameters:
@Type1[Int32] = 1
@ProjectId2[String] = 6372912251695766465
@CompanyCode3[String] = 6373083923489249281
@CompanyCode4[String] = 6373083925531366080
@CompanyCode5[String] = 6373083927883400612
@CompanyCode6[String] = 6373083918575368225
@CompanyCode7[String] = 6373083920445075162
@CompanyCode8[String] = 6373083908618598731
@CompanyCode9[String] = 6373083911842783146
@CompanyCode10[String] = 6373083913928202424
@ParentCompanyCode11[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type12) AND ([TbOrganizationMap].[ProjectId] = @ProjectId13)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode14,@CompanyCode15,@CompanyCode16,@CompanyCode17,@CompanyCode18,@CompanyCode19,@CompanyCode20,@CompanyCode21)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode22))) 	
Parameters:
@Type12[Int32] = 2
@ProjectId13[String] = 6372912251695766465
@CompanyCode14[String] = 6373083923489249281
@CompanyCode15[String] = 6373083925531366080
@CompanyCode16[String] = 6373083927883400612
@CompanyCode17[String] = 6373083918575368225
@CompanyCode18[String] = 6373083920445075162
@CompanyCode19[String] = 6373083908618598731
@CompanyCode20[String] = 6373083911842783146
@CompanyCode21[String] = 6373083913928202424
@ParentCompanyCode22[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49)))	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode51) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode52) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode50)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId23) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode24,@SiteCode25,@SiteCode26,@SiteCode27,@SiteCode28,@SiteCode29,@SiteCode30,@SiteCode31,@SiteCode32,@SiteCode33,@SiteCode34,@SiteCode35,@SiteCode36,@SiteCode37,@SiteCode38,@SiteCode39,@SiteCode40,@SiteCode41,@SiteCode42,@SiteCode43,@SiteCode44,@SiteCode45,@SiteCode46,@SiteCode47,@SiteCode48,@SiteCode49))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId23[String] = 6372912251695766465
@SiteCode24[String] = 6373083923489249281
@SiteCode25[String] = 6373083925531366080
@SiteCode26[String] = 6373083927883400612
@SiteCode27[String] = 6373083918575368225
@SiteCode28[String] = 6373083920445075162
@SiteCode29[String] = 6373083908618598731
@SiteCode30[String] = 6373083911842783146
@SiteCode31[String] = 6373083913928202424
@SiteCode32[String] = 6373083877551621804
@SiteCode33[String] = 6373083879921857377
@SiteCode34[String] = 6373083881542550067
@SiteCode35[String] = 6373083883689772886
@SiteCode36[String] = 6373083887136270013
@SiteCode37[String] = 6373083889697116488
@SiteCode38[String] = 6373083891969846476
@SiteCode39[String] = 6373083894422586761
@SiteCode40[String] = 6373083897509963358
@SiteCode41[String] = 6373083900444931227
@SiteCode42[String] = 6373083829464571372
@SiteCode43[String] = 6373083833327492328
@SiteCode44[String] = 6373083841964286321
@SiteCode45[String] = 6373083844982558950
@SiteCode46[String] = 6373083847585007801
@SiteCode47[String] = 6373083856887939900
@SiteCode48[String] = 6373083859102666584
@SiteCode49[String] = 6373083864919499284
@FDictionaryCode50[String] = OrderState
@FDictionaryCode51[String] = UrgentDegree
@FDictionaryCode52[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:05:08
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 18:05:18
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:05:18
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId53) AND ([TbModelOrg].[SiteCode] IN (@SiteCode54))) 	
Parameters:
@ProjectId53[String] = 6372912251695766465
@SiteCode54[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 18:05:28
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm55,@MxGjBm56,@MxGjBm57,@MxGjBm58,@MxGjBm59) 	
Parameters:
@MxGjBm55[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm56[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm57[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm58[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm59[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 18:05:28
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode60,@ComponentCode61,@ComponentCode62,@ComponentCode63,@ComponentCode64)) AND ([TbModelOtherInfo].[Type] = @Type65) 	
Parameters:
@ComponentCode60[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode61[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode62[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode63[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode64[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type65[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 18:06:32
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:06:32
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:06:32
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type66) AND ([TbOrganizationMap].[ProjectId] = @ProjectId67)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode68,@CompanyCode69,@CompanyCode70,@CompanyCode71,@CompanyCode72,@CompanyCode73,@CompanyCode74,@CompanyCode75)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode76))) 	
Parameters:
@Type66[Int32] = 1
@ProjectId67[String] = 6372912251695766465
@CompanyCode68[String] = 6373083923489249281
@CompanyCode69[String] = 6373083925531366080
@CompanyCode70[String] = 6373083927883400612
@CompanyCode71[String] = 6373083918575368225
@CompanyCode72[String] = 6373083920445075162
@CompanyCode73[String] = 6373083908618598731
@CompanyCode74[String] = 6373083911842783146
@CompanyCode75[String] = 6373083913928202424
@ParentCompanyCode76[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type77) AND ([TbOrganizationMap].[ProjectId] = @ProjectId78)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode79,@CompanyCode80,@CompanyCode81,@CompanyCode82,@CompanyCode83,@CompanyCode84,@CompanyCode85,@CompanyCode86)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode87))) 	
Parameters:
@Type77[Int32] = 2
@ProjectId78[String] = 6372912251695766465
@CompanyCode79[String] = 6373083923489249281
@CompanyCode80[String] = 6373083925531366080
@CompanyCode81[String] = 6373083927883400612
@CompanyCode82[String] = 6373083918575368225
@CompanyCode83[String] = 6373083920445075162
@CompanyCode84[String] = 6373083908618598731
@CompanyCode85[String] = 6373083911842783146
@CompanyCode86[String] = 6373083913928202424
@ParentCompanyCode87[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode115)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId88) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114)))	
Parameters:
@ProjectId88[String] = 6372912251695766465
@SiteCode89[String] = 6373083923489249281
@SiteCode90[String] = 6373083925531366080
@SiteCode91[String] = 6373083927883400612
@SiteCode92[String] = 6373083918575368225
@SiteCode93[String] = 6373083920445075162
@SiteCode94[String] = 6373083908618598731
@SiteCode95[String] = 6373083911842783146
@SiteCode96[String] = 6373083913928202424
@SiteCode97[String] = 6373083877551621804
@SiteCode98[String] = 6373083879921857377
@SiteCode99[String] = 6373083881542550067
@SiteCode100[String] = 6373083883689772886
@SiteCode101[String] = 6373083887136270013
@SiteCode102[String] = 6373083889697116488
@SiteCode103[String] = 6373083891969846476
@SiteCode104[String] = 6373083894422586761
@SiteCode105[String] = 6373083897509963358
@SiteCode106[String] = 6373083900444931227
@SiteCode107[String] = 6373083829464571372
@SiteCode108[String] = 6373083833327492328
@SiteCode109[String] = 6373083841964286321
@SiteCode110[String] = 6373083844982558950
@SiteCode111[String] = 6373083847585007801
@SiteCode112[String] = 6373083856887939900
@SiteCode113[String] = 6373083859102666584
@SiteCode114[String] = 6373083864919499284
@FDictionaryCode115[String] = OrderState
@FDictionaryCode116[String] = UrgentDegree
@FDictionaryCode117[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode116) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode117) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode115)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId88) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode89,@SiteCode90,@SiteCode91,@SiteCode92,@SiteCode93,@SiteCode94,@SiteCode95,@SiteCode96,@SiteCode97,@SiteCode98,@SiteCode99,@SiteCode100,@SiteCode101,@SiteCode102,@SiteCode103,@SiteCode104,@SiteCode105,@SiteCode106,@SiteCode107,@SiteCode108,@SiteCode109,@SiteCode110,@SiteCode111,@SiteCode112,@SiteCode113,@SiteCode114))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId88[String] = 6372912251695766465
@SiteCode89[String] = 6373083923489249281
@SiteCode90[String] = 6373083925531366080
@SiteCode91[String] = 6373083927883400612
@SiteCode92[String] = 6373083918575368225
@SiteCode93[String] = 6373083920445075162
@SiteCode94[String] = 6373083908618598731
@SiteCode95[String] = 6373083911842783146
@SiteCode96[String] = 6373083913928202424
@SiteCode97[String] = 6373083877551621804
@SiteCode98[String] = 6373083879921857377
@SiteCode99[String] = 6373083881542550067
@SiteCode100[String] = 6373083883689772886
@SiteCode101[String] = 6373083887136270013
@SiteCode102[String] = 6373083889697116488
@SiteCode103[String] = 6373083891969846476
@SiteCode104[String] = 6373083894422586761
@SiteCode105[String] = 6373083897509963358
@SiteCode106[String] = 6373083900444931227
@SiteCode107[String] = 6373083829464571372
@SiteCode108[String] = 6373083833327492328
@SiteCode109[String] = 6373083841964286321
@SiteCode110[String] = 6373083844982558950
@SiteCode111[String] = 6373083847585007801
@SiteCode112[String] = 6373083856887939900
@SiteCode113[String] = 6373083859102666584
@SiteCode114[String] = 6373083864919499284
@FDictionaryCode115[String] = OrderState
@FDictionaryCode116[String] = UrgentDegree
@FDictionaryCode117[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:06:43
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 18:06:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:06:50
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId118) AND ([TbModelOrg].[SiteCode] IN (@SiteCode119))) 	
Parameters:
@ProjectId118[String] = 6372912251695766465
@SiteCode119[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 18:06:58
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm120,@MxGjBm121,@MxGjBm122,@MxGjBm123,@MxGjBm124) 	
Parameters:
@MxGjBm120[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm121[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm122[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm123[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm124[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 18:06:58
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode125,@ComponentCode126,@ComponentCode127,@ComponentCode128,@ComponentCode129)) AND ([TbModelOtherInfo].[Type] = @Type130) 	
Parameters:
@ComponentCode125[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode126[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode127[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode128[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode129[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type130[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 18:07:44
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId131) 	
Parameters:
@MxGjId131[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 18:07:44
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode132)) AND ([TbModelOtherInfo].[Type] = @Type133) 	
Parameters:
@ComponentCode132[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type133[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:07:48
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId134,@MxGjId135,@MxGjId136,@MxGjId137) 	
Parameters:
@MxGjId134[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId135[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId136[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId137[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 18:07:48
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode138,@ComponentCode139,@ComponentCode140,@ComponentCode141)) AND ([TbModelOtherInfo].[Type] = @Type142) 	
Parameters:
@ComponentCode138[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode139[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode140[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode141[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type142[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:08:09
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId143,@MxGjId144,@MxGjId145,@MxGjId146) 	
Parameters:
@MxGjId143[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId144[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId145[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId146[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 18:08:09
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode147,@ComponentCode148,@ComponentCode149,@ComponentCode150)) AND ([TbModelOtherInfo].[Type] = @Type151) 	
Parameters:
@ComponentCode147[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode148[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode149[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode150[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type151[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type152) AND ([TbOrganizationMap].[ProjectId] = @ProjectId153)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode154,@CompanyCode155,@CompanyCode156,@CompanyCode157,@CompanyCode158,@CompanyCode159,@CompanyCode160,@CompanyCode161)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode162))) 	
Parameters:
@Type152[Int32] = 1
@ProjectId153[String] = 6372912251695766465
@CompanyCode154[String] = 6373083923489249281
@CompanyCode155[String] = 6373083925531366080
@CompanyCode156[String] = 6373083927883400612
@CompanyCode157[String] = 6373083918575368225
@CompanyCode158[String] = 6373083920445075162
@CompanyCode159[String] = 6373083908618598731
@CompanyCode160[String] = 6373083911842783146
@CompanyCode161[String] = 6373083913928202424
@ParentCompanyCode162[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type163) AND ([TbOrganizationMap].[ProjectId] = @ProjectId164)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode165,@CompanyCode166,@CompanyCode167,@CompanyCode168,@CompanyCode169,@CompanyCode170,@CompanyCode171,@CompanyCode172)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode173))) 	
Parameters:
@Type163[Int32] = 2
@ProjectId164[String] = 6372912251695766465
@CompanyCode165[String] = 6373083923489249281
@CompanyCode166[String] = 6373083925531366080
@CompanyCode167[String] = 6373083927883400612
@CompanyCode168[String] = 6373083918575368225
@CompanyCode169[String] = 6373083920445075162
@CompanyCode170[String] = 6373083908618598731
@CompanyCode171[String] = 6373083911842783146
@CompanyCode172[String] = 6373083913928202424
@ParentCompanyCode173[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode201)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId174) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200)))	
Parameters:
@ProjectId174[String] = 6372912251695766465
@SiteCode175[String] = 6373083923489249281
@SiteCode176[String] = 6373083925531366080
@SiteCode177[String] = 6373083927883400612
@SiteCode178[String] = 6373083918575368225
@SiteCode179[String] = 6373083920445075162
@SiteCode180[String] = 6373083908618598731
@SiteCode181[String] = 6373083911842783146
@SiteCode182[String] = 6373083913928202424
@SiteCode183[String] = 6373083877551621804
@SiteCode184[String] = 6373083879921857377
@SiteCode185[String] = 6373083881542550067
@SiteCode186[String] = 6373083883689772886
@SiteCode187[String] = 6373083887136270013
@SiteCode188[String] = 6373083889697116488
@SiteCode189[String] = 6373083891969846476
@SiteCode190[String] = 6373083894422586761
@SiteCode191[String] = 6373083897509963358
@SiteCode192[String] = 6373083900444931227
@SiteCode193[String] = 6373083829464571372
@SiteCode194[String] = 6373083833327492328
@SiteCode195[String] = 6373083841964286321
@SiteCode196[String] = 6373083844982558950
@SiteCode197[String] = 6373083847585007801
@SiteCode198[String] = 6373083856887939900
@SiteCode199[String] = 6373083859102666584
@SiteCode200[String] = 6373083864919499284
@FDictionaryCode201[String] = OrderState
@FDictionaryCode202[String] = UrgentDegree
@FDictionaryCode203[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode202) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode203) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode201)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId174) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode175,@SiteCode176,@SiteCode177,@SiteCode178,@SiteCode179,@SiteCode180,@SiteCode181,@SiteCode182,@SiteCode183,@SiteCode184,@SiteCode185,@SiteCode186,@SiteCode187,@SiteCode188,@SiteCode189,@SiteCode190,@SiteCode191,@SiteCode192,@SiteCode193,@SiteCode194,@SiteCode195,@SiteCode196,@SiteCode197,@SiteCode198,@SiteCode199,@SiteCode200))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId174[String] = 6372912251695766465
@SiteCode175[String] = 6373083923489249281
@SiteCode176[String] = 6373083925531366080
@SiteCode177[String] = 6373083927883400612
@SiteCode178[String] = 6373083918575368225
@SiteCode179[String] = 6373083920445075162
@SiteCode180[String] = 6373083908618598731
@SiteCode181[String] = 6373083911842783146
@SiteCode182[String] = 6373083913928202424
@SiteCode183[String] = 6373083877551621804
@SiteCode184[String] = 6373083879921857377
@SiteCode185[String] = 6373083881542550067
@SiteCode186[String] = 6373083883689772886
@SiteCode187[String] = 6373083887136270013
@SiteCode188[String] = 6373083889697116488
@SiteCode189[String] = 6373083891969846476
@SiteCode190[String] = 6373083894422586761
@SiteCode191[String] = 6373083897509963358
@SiteCode192[String] = 6373083900444931227
@SiteCode193[String] = 6373083829464571372
@SiteCode194[String] = 6373083833327492328
@SiteCode195[String] = 6373083841964286321
@SiteCode196[String] = 6373083844982558950
@SiteCode197[String] = 6373083847585007801
@SiteCode198[String] = 6373083856887939900
@SiteCode199[String] = 6373083859102666584
@SiteCode200[String] = 6373083864919499284
@FDictionaryCode201[String] = OrderState
@FDictionaryCode202[String] = UrgentDegree
@FDictionaryCode203[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:08:25
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 18:08:33
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:08:33
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId204) AND ([TbModelOrg].[SiteCode] IN (@SiteCode205))) 	
Parameters:
@ProjectId204[String] = 6372912251695766465
@SiteCode205[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 18:08:40
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm206,@MxGjBm207,@MxGjBm208,@MxGjBm209,@MxGjBm210) 	
Parameters:
@MxGjBm206[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm207[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm208[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm209[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm210[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 18:08:40
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode211,@ComponentCode212,@ComponentCode213,@ComponentCode214,@ComponentCode215)) AND ([TbModelOtherInfo].[Type] = @Type216) 	
Parameters:
@ComponentCode211[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode212[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode213[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode214[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode215[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type216[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 18:09:08
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId217) 	
Parameters:
@MxGjId217[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 18:09:08
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode218)) AND ([TbModelOtherInfo].[Type] = @Type219) 	
Parameters:
@ComponentCode218[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type219[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:09:11
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId220) 	
Parameters:
@MxGjId220[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 18:09:11
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode221)) AND ([TbModelOtherInfo].[Type] = @Type222) 	
Parameters:
@ComponentCode221[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type222[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:09:12
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId223,@MxGjId224,@MxGjId225,@MxGjId226) 	
Parameters:
@MxGjId223[String] = b061eae4-d498-477b-b405-5a13a80622bb
@MxGjId224[String] = b061eae4-d498-477b-b405-5a13a80622f8
@MxGjId225[String] = b061eae4-d498-477b-b405-5a13a80623e7
@MxGjId226[String] = e330844c-9b49-4c9a-b534-285153991ea3


-----------------------------------------------------------------------------
2020-08-12 18:09:13
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode227,@ComponentCode228,@ComponentCode229,@ComponentCode230)) AND ([TbModelOtherInfo].[Type] = @Type231) 	
Parameters:
@ComponentCode227[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode228[String] = L21_Z17_00KT_DXT_DXT_D_D-B08_000
@ComponentCode229[String] = L21_Z17_00KT_DXT_DXT_D_D-B06_000
@ComponentCode230[String] = L21_Z17_00KT_DXT_DXT_D_D-B07_000
@Type231[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:09:44
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId232,@MxGjId233) 	
Parameters:
@MxGjId232[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId233[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 18:09:44
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode234,@ComponentCode235)) AND ([TbModelOtherInfo].[Type] = @Type236) 	
Parameters:
@ComponentCode234[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode235[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type236[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:09:47
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId237) 	
Parameters:
@MxGjId237[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 18:09:47
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode238)) AND ([TbModelOtherInfo].[Type] = @Type239) 	
Parameters:
@ComponentCode238[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type239[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:09:59
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:09:59
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:09:59
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type240) AND ([TbOrganizationMap].[ProjectId] = @ProjectId241)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode242,@CompanyCode243,@CompanyCode244,@CompanyCode245,@CompanyCode246,@CompanyCode247,@CompanyCode248,@CompanyCode249)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode250))) 	
Parameters:
@Type240[Int32] = 1
@ProjectId241[String] = 6372912251695766465
@CompanyCode242[String] = 6373083923489249281
@CompanyCode243[String] = 6373083925531366080
@CompanyCode244[String] = 6373083927883400612
@CompanyCode245[String] = 6373083918575368225
@CompanyCode246[String] = 6373083920445075162
@CompanyCode247[String] = 6373083908618598731
@CompanyCode248[String] = 6373083911842783146
@CompanyCode249[String] = 6373083913928202424
@ParentCompanyCode250[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type251) AND ([TbOrganizationMap].[ProjectId] = @ProjectId252)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode253,@CompanyCode254,@CompanyCode255,@CompanyCode256,@CompanyCode257,@CompanyCode258,@CompanyCode259,@CompanyCode260)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode261))) 	
Parameters:
@Type251[Int32] = 2
@ProjectId252[String] = 6372912251695766465
@CompanyCode253[String] = 6373083923489249281
@CompanyCode254[String] = 6373083925531366080
@CompanyCode255[String] = 6373083927883400612
@CompanyCode256[String] = 6373083918575368225
@CompanyCode257[String] = 6373083920445075162
@CompanyCode258[String] = 6373083908618598731
@CompanyCode259[String] = 6373083911842783146
@CompanyCode260[String] = 6373083913928202424
@ParentCompanyCode261[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode289)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId262) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode263,@SiteCode264,@SiteCode265,@SiteCode266,@SiteCode267,@SiteCode268,@SiteCode269,@SiteCode270,@SiteCode271,@SiteCode272,@SiteCode273,@SiteCode274,@SiteCode275,@SiteCode276,@SiteCode277,@SiteCode278,@SiteCode279,@SiteCode280,@SiteCode281,@SiteCode282,@SiteCode283,@SiteCode284,@SiteCode285,@SiteCode286,@SiteCode287,@SiteCode288)))	
Parameters:
@ProjectId262[String] = 6372912251695766465
@SiteCode263[String] = 6373083923489249281
@SiteCode264[String] = 6373083925531366080
@SiteCode265[String] = 6373083927883400612
@SiteCode266[String] = 6373083918575368225
@SiteCode267[String] = 6373083920445075162
@SiteCode268[String] = 6373083908618598731
@SiteCode269[String] = 6373083911842783146
@SiteCode270[String] = 6373083913928202424
@SiteCode271[String] = 6373083877551621804
@SiteCode272[String] = 6373083879921857377
@SiteCode273[String] = 6373083881542550067
@SiteCode274[String] = 6373083883689772886
@SiteCode275[String] = 6373083887136270013
@SiteCode276[String] = 6373083889697116488
@SiteCode277[String] = 6373083891969846476
@SiteCode278[String] = 6373083894422586761
@SiteCode279[String] = 6373083897509963358
@SiteCode280[String] = 6373083900444931227
@SiteCode281[String] = 6373083829464571372
@SiteCode282[String] = 6373083833327492328
@SiteCode283[String] = 6373083841964286321
@SiteCode284[String] = 6373083844982558950
@SiteCode285[String] = 6373083847585007801
@SiteCode286[String] = 6373083856887939900
@SiteCode287[String] = 6373083859102666584
@SiteCode288[String] = 6373083864919499284
@FDictionaryCode289[String] = OrderState
@FDictionaryCode290[String] = UrgentDegree
@FDictionaryCode291[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode290) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode291) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode289)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId262) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode263,@SiteCode264,@SiteCode265,@SiteCode266,@SiteCode267,@SiteCode268,@SiteCode269,@SiteCode270,@SiteCode271,@SiteCode272,@SiteCode273,@SiteCode274,@SiteCode275,@SiteCode276,@SiteCode277,@SiteCode278,@SiteCode279,@SiteCode280,@SiteCode281,@SiteCode282,@SiteCode283,@SiteCode284,@SiteCode285,@SiteCode286,@SiteCode287,@SiteCode288))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId262[String] = 6372912251695766465
@SiteCode263[String] = 6373083923489249281
@SiteCode264[String] = 6373083925531366080
@SiteCode265[String] = 6373083927883400612
@SiteCode266[String] = 6373083918575368225
@SiteCode267[String] = 6373083920445075162
@SiteCode268[String] = 6373083908618598731
@SiteCode269[String] = 6373083911842783146
@SiteCode270[String] = 6373083913928202424
@SiteCode271[String] = 6373083877551621804
@SiteCode272[String] = 6373083879921857377
@SiteCode273[String] = 6373083881542550067
@SiteCode274[String] = 6373083883689772886
@SiteCode275[String] = 6373083887136270013
@SiteCode276[String] = 6373083889697116488
@SiteCode277[String] = 6373083891969846476
@SiteCode278[String] = 6373083894422586761
@SiteCode279[String] = 6373083897509963358
@SiteCode280[String] = 6373083900444931227
@SiteCode281[String] = 6373083829464571372
@SiteCode282[String] = 6373083833327492328
@SiteCode283[String] = 6373083841964286321
@SiteCode284[String] = 6373083844982558950
@SiteCode285[String] = 6373083847585007801
@SiteCode286[String] = 6373083856887939900
@SiteCode287[String] = 6373083859102666584
@SiteCode288[String] = 6373083864919499284
@FDictionaryCode289[String] = OrderState
@FDictionaryCode290[String] = UrgentDegree
@FDictionaryCode291[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:10:09
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 18:10:13
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:10:13
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId292) AND ([TbModelOrg].[SiteCode] IN (@SiteCode293))) 	
Parameters:
@ProjectId292[String] = 6372912251695766465
@SiteCode293[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 18:10:23
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm294,@MxGjBm295,@MxGjBm296,@MxGjBm297,@MxGjBm298) 	
Parameters:
@MxGjBm294[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm295[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm296[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm297[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm298[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 18:10:23
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode299,@ComponentCode300,@ComponentCode301,@ComponentCode302,@ComponentCode303)) AND ([TbModelOtherInfo].[Type] = @Type304) 	
Parameters:
@ComponentCode299[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode300[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode301[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode302[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode303[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type304[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 18:11:49
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:11:49
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:11:49
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:11:49
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:11:49
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type305) AND ([TbOrganizationMap].[ProjectId] = @ProjectId306)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode307,@CompanyCode308,@CompanyCode309,@CompanyCode310,@CompanyCode311,@CompanyCode312,@CompanyCode313,@CompanyCode314)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode315))) 	
Parameters:
@Type305[Int32] = 1
@ProjectId306[String] = 6372912251695766465
@CompanyCode307[String] = 6373083923489249281
@CompanyCode308[String] = 6373083925531366080
@CompanyCode309[String] = 6373083927883400612
@CompanyCode310[String] = 6373083918575368225
@CompanyCode311[String] = 6373083920445075162
@CompanyCode312[String] = 6373083908618598731
@CompanyCode313[String] = 6373083911842783146
@CompanyCode314[String] = 6373083913928202424
@ParentCompanyCode315[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:11:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:11:50
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type316) AND ([TbOrganizationMap].[ProjectId] = @ProjectId317)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode318,@CompanyCode319,@CompanyCode320,@CompanyCode321,@CompanyCode322,@CompanyCode323,@CompanyCode324,@CompanyCode325)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode326))) 	
Parameters:
@Type316[Int32] = 2
@ProjectId317[String] = 6372912251695766465
@CompanyCode318[String] = 6373083923489249281
@CompanyCode319[String] = 6373083925531366080
@CompanyCode320[String] = 6373083927883400612
@CompanyCode321[String] = 6373083918575368225
@CompanyCode322[String] = 6373083920445075162
@CompanyCode323[String] = 6373083908618598731
@CompanyCode324[String] = 6373083911842783146
@CompanyCode325[String] = 6373083913928202424
@ParentCompanyCode326[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:11:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:11:50
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:11:50
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode354)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId327) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode328,@SiteCode329,@SiteCode330,@SiteCode331,@SiteCode332,@SiteCode333,@SiteCode334,@SiteCode335,@SiteCode336,@SiteCode337,@SiteCode338,@SiteCode339,@SiteCode340,@SiteCode341,@SiteCode342,@SiteCode343,@SiteCode344,@SiteCode345,@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353)))	
Parameters:
@ProjectId327[String] = 6372912251695766465
@SiteCode328[String] = 6373083923489249281
@SiteCode329[String] = 6373083925531366080
@SiteCode330[String] = 6373083927883400612
@SiteCode331[String] = 6373083918575368225
@SiteCode332[String] = 6373083920445075162
@SiteCode333[String] = 6373083908618598731
@SiteCode334[String] = 6373083911842783146
@SiteCode335[String] = 6373083913928202424
@SiteCode336[String] = 6373083877551621804
@SiteCode337[String] = 6373083879921857377
@SiteCode338[String] = 6373083881542550067
@SiteCode339[String] = 6373083883689772886
@SiteCode340[String] = 6373083887136270013
@SiteCode341[String] = 6373083889697116488
@SiteCode342[String] = 6373083891969846476
@SiteCode343[String] = 6373083894422586761
@SiteCode344[String] = 6373083897509963358
@SiteCode345[String] = 6373083900444931227
@SiteCode346[String] = 6373083829464571372
@SiteCode347[String] = 6373083833327492328
@SiteCode348[String] = 6373083841964286321
@SiteCode349[String] = 6373083844982558950
@SiteCode350[String] = 6373083847585007801
@SiteCode351[String] = 6373083856887939900
@SiteCode352[String] = 6373083859102666584
@SiteCode353[String] = 6373083864919499284
@FDictionaryCode354[String] = OrderState
@FDictionaryCode355[String] = UrgentDegree
@FDictionaryCode356[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:11:50
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode355) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode356) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode354)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId327) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode328,@SiteCode329,@SiteCode330,@SiteCode331,@SiteCode332,@SiteCode333,@SiteCode334,@SiteCode335,@SiteCode336,@SiteCode337,@SiteCode338,@SiteCode339,@SiteCode340,@SiteCode341,@SiteCode342,@SiteCode343,@SiteCode344,@SiteCode345,@SiteCode346,@SiteCode347,@SiteCode348,@SiteCode349,@SiteCode350,@SiteCode351,@SiteCode352,@SiteCode353))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId327[String] = 6372912251695766465
@SiteCode328[String] = 6373083923489249281
@SiteCode329[String] = 6373083925531366080
@SiteCode330[String] = 6373083927883400612
@SiteCode331[String] = 6373083918575368225
@SiteCode332[String] = 6373083920445075162
@SiteCode333[String] = 6373083908618598731
@SiteCode334[String] = 6373083911842783146
@SiteCode335[String] = 6373083913928202424
@SiteCode336[String] = 6373083877551621804
@SiteCode337[String] = 6373083879921857377
@SiteCode338[String] = 6373083881542550067
@SiteCode339[String] = 6373083883689772886
@SiteCode340[String] = 6373083887136270013
@SiteCode341[String] = 6373083889697116488
@SiteCode342[String] = 6373083891969846476
@SiteCode343[String] = 6373083894422586761
@SiteCode344[String] = 6373083897509963358
@SiteCode345[String] = 6373083900444931227
@SiteCode346[String] = 6373083829464571372
@SiteCode347[String] = 6373083833327492328
@SiteCode348[String] = 6373083841964286321
@SiteCode349[String] = 6373083844982558950
@SiteCode350[String] = 6373083847585007801
@SiteCode351[String] = 6373083856887939900
@SiteCode352[String] = 6373083859102666584
@SiteCode353[String] = 6373083864919499284
@FDictionaryCode354[String] = OrderState
@FDictionaryCode355[String] = UrgentDegree
@FDictionaryCode356[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:11:50
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:11:50
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:11:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:11:50
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 18:11:59
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:11:59
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId357) AND ([TbModelOrg].[SiteCode] IN (@SiteCode358))) 	
Parameters:
@ProjectId357[String] = 6372912251695766465
@SiteCode358[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 18:12:06
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm359,@MxGjBm360,@MxGjBm361,@MxGjBm362,@MxGjBm363) 	
Parameters:
@MxGjBm359[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm360[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm361[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm362[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm363[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 18:12:06
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode364,@ComponentCode365,@ComponentCode366,@ComponentCode367,@ComponentCode368)) AND ([TbModelOtherInfo].[Type] = @Type369) 	
Parameters:
@ComponentCode364[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode365[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode366[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode367[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode368[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type369[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type370) AND ([TbOrganizationMap].[ProjectId] = @ProjectId371)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode372,@CompanyCode373,@CompanyCode374,@CompanyCode375,@CompanyCode376,@CompanyCode377,@CompanyCode378,@CompanyCode379)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode380))) 	
Parameters:
@Type370[Int32] = 1
@ProjectId371[String] = 6372912251695766465
@CompanyCode372[String] = 6373083923489249281
@CompanyCode373[String] = 6373083925531366080
@CompanyCode374[String] = 6373083927883400612
@CompanyCode375[String] = 6373083918575368225
@CompanyCode376[String] = 6373083920445075162
@CompanyCode377[String] = 6373083908618598731
@CompanyCode378[String] = 6373083911842783146
@CompanyCode379[String] = 6373083913928202424
@ParentCompanyCode380[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type381) AND ([TbOrganizationMap].[ProjectId] = @ProjectId382)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode383,@CompanyCode384,@CompanyCode385,@CompanyCode386,@CompanyCode387,@CompanyCode388,@CompanyCode389,@CompanyCode390)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode391))) 	
Parameters:
@Type381[Int32] = 2
@ProjectId382[String] = 6372912251695766465
@CompanyCode383[String] = 6373083923489249281
@CompanyCode384[String] = 6373083925531366080
@CompanyCode385[String] = 6373083927883400612
@CompanyCode386[String] = 6373083918575368225
@CompanyCode387[String] = 6373083920445075162
@CompanyCode388[String] = 6373083908618598731
@CompanyCode389[String] = 6373083911842783146
@CompanyCode390[String] = 6373083913928202424
@ParentCompanyCode391[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode419)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId392) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode393,@SiteCode394,@SiteCode395,@SiteCode396,@SiteCode397,@SiteCode398,@SiteCode399,@SiteCode400,@SiteCode401,@SiteCode402,@SiteCode403,@SiteCode404,@SiteCode405,@SiteCode406,@SiteCode407,@SiteCode408,@SiteCode409,@SiteCode410,@SiteCode411,@SiteCode412,@SiteCode413,@SiteCode414,@SiteCode415,@SiteCode416,@SiteCode417,@SiteCode418)))	
Parameters:
@ProjectId392[String] = 6372912251695766465
@SiteCode393[String] = 6373083923489249281
@SiteCode394[String] = 6373083925531366080
@SiteCode395[String] = 6373083927883400612
@SiteCode396[String] = 6373083918575368225
@SiteCode397[String] = 6373083920445075162
@SiteCode398[String] = 6373083908618598731
@SiteCode399[String] = 6373083911842783146
@SiteCode400[String] = 6373083913928202424
@SiteCode401[String] = 6373083877551621804
@SiteCode402[String] = 6373083879921857377
@SiteCode403[String] = 6373083881542550067
@SiteCode404[String] = 6373083883689772886
@SiteCode405[String] = 6373083887136270013
@SiteCode406[String] = 6373083889697116488
@SiteCode407[String] = 6373083891969846476
@SiteCode408[String] = 6373083894422586761
@SiteCode409[String] = 6373083897509963358
@SiteCode410[String] = 6373083900444931227
@SiteCode411[String] = 6373083829464571372
@SiteCode412[String] = 6373083833327492328
@SiteCode413[String] = 6373083841964286321
@SiteCode414[String] = 6373083844982558950
@SiteCode415[String] = 6373083847585007801
@SiteCode416[String] = 6373083856887939900
@SiteCode417[String] = 6373083859102666584
@SiteCode418[String] = 6373083864919499284
@FDictionaryCode419[String] = OrderState
@FDictionaryCode420[String] = UrgentDegree
@FDictionaryCode421[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode420) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode421) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode419)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId392) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode393,@SiteCode394,@SiteCode395,@SiteCode396,@SiteCode397,@SiteCode398,@SiteCode399,@SiteCode400,@SiteCode401,@SiteCode402,@SiteCode403,@SiteCode404,@SiteCode405,@SiteCode406,@SiteCode407,@SiteCode408,@SiteCode409,@SiteCode410,@SiteCode411,@SiteCode412,@SiteCode413,@SiteCode414,@SiteCode415,@SiteCode416,@SiteCode417,@SiteCode418))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId392[String] = 6372912251695766465
@SiteCode393[String] = 6373083923489249281
@SiteCode394[String] = 6373083925531366080
@SiteCode395[String] = 6373083927883400612
@SiteCode396[String] = 6373083918575368225
@SiteCode397[String] = 6373083920445075162
@SiteCode398[String] = 6373083908618598731
@SiteCode399[String] = 6373083911842783146
@SiteCode400[String] = 6373083913928202424
@SiteCode401[String] = 6373083877551621804
@SiteCode402[String] = 6373083879921857377
@SiteCode403[String] = 6373083881542550067
@SiteCode404[String] = 6373083883689772886
@SiteCode405[String] = 6373083887136270013
@SiteCode406[String] = 6373083889697116488
@SiteCode407[String] = 6373083891969846476
@SiteCode408[String] = 6373083894422586761
@SiteCode409[String] = 6373083897509963358
@SiteCode410[String] = 6373083900444931227
@SiteCode411[String] = 6373083829464571372
@SiteCode412[String] = 6373083833327492328
@SiteCode413[String] = 6373083841964286321
@SiteCode414[String] = 6373083844982558950
@SiteCode415[String] = 6373083847585007801
@SiteCode416[String] = 6373083856887939900
@SiteCode417[String] = 6373083859102666584
@SiteCode418[String] = 6373083864919499284
@FDictionaryCode419[String] = OrderState
@FDictionaryCode420[String] = UrgentDegree
@FDictionaryCode421[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:12:42
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type422) AND ([TbOrganizationMap].[ProjectId] = @ProjectId423)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode424,@CompanyCode425,@CompanyCode426,@CompanyCode427,@CompanyCode428,@CompanyCode429,@CompanyCode430,@CompanyCode431)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode432))) 	
Parameters:
@Type422[Int32] = 1
@ProjectId423[String] = 6372912251695766465
@CompanyCode424[String] = 6373083923489249281
@CompanyCode425[String] = 6373083925531366080
@CompanyCode426[String] = 6373083927883400612
@CompanyCode427[String] = 6373083918575368225
@CompanyCode428[String] = 6373083920445075162
@CompanyCode429[String] = 6373083908618598731
@CompanyCode430[String] = 6373083911842783146
@CompanyCode431[String] = 6373083913928202424
@ParentCompanyCode432[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type433) AND ([TbOrganizationMap].[ProjectId] = @ProjectId434)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode435,@CompanyCode436,@CompanyCode437,@CompanyCode438,@CompanyCode439,@CompanyCode440,@CompanyCode441,@CompanyCode442)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode443))) 	
Parameters:
@Type433[Int32] = 2
@ProjectId434[String] = 6372912251695766465
@CompanyCode435[String] = 6373083923489249281
@CompanyCode436[String] = 6373083925531366080
@CompanyCode437[String] = 6373083927883400612
@CompanyCode438[String] = 6373083918575368225
@CompanyCode439[String] = 6373083920445075162
@CompanyCode440[String] = 6373083908618598731
@CompanyCode441[String] = 6373083911842783146
@CompanyCode442[String] = 6373083913928202424
@ParentCompanyCode443[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode471)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId444) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode445,@SiteCode446,@SiteCode447,@SiteCode448,@SiteCode449,@SiteCode450,@SiteCode451,@SiteCode452,@SiteCode453,@SiteCode454,@SiteCode455,@SiteCode456,@SiteCode457,@SiteCode458,@SiteCode459,@SiteCode460,@SiteCode461,@SiteCode462,@SiteCode463,@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470)))	
Parameters:
@ProjectId444[String] = 6372912251695766465
@SiteCode445[String] = 6373083923489249281
@SiteCode446[String] = 6373083925531366080
@SiteCode447[String] = 6373083927883400612
@SiteCode448[String] = 6373083918575368225
@SiteCode449[String] = 6373083920445075162
@SiteCode450[String] = 6373083908618598731
@SiteCode451[String] = 6373083911842783146
@SiteCode452[String] = 6373083913928202424
@SiteCode453[String] = 6373083877551621804
@SiteCode454[String] = 6373083879921857377
@SiteCode455[String] = 6373083881542550067
@SiteCode456[String] = 6373083883689772886
@SiteCode457[String] = 6373083887136270013
@SiteCode458[String] = 6373083889697116488
@SiteCode459[String] = 6373083891969846476
@SiteCode460[String] = 6373083894422586761
@SiteCode461[String] = 6373083897509963358
@SiteCode462[String] = 6373083900444931227
@SiteCode463[String] = 6373083829464571372
@SiteCode464[String] = 6373083833327492328
@SiteCode465[String] = 6373083841964286321
@SiteCode466[String] = 6373083844982558950
@SiteCode467[String] = 6373083847585007801
@SiteCode468[String] = 6373083856887939900
@SiteCode469[String] = 6373083859102666584
@SiteCode470[String] = 6373083864919499284
@FDictionaryCode471[String] = OrderState
@FDictionaryCode472[String] = UrgentDegree
@FDictionaryCode473[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode472) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode473) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode471)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId444) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode445,@SiteCode446,@SiteCode447,@SiteCode448,@SiteCode449,@SiteCode450,@SiteCode451,@SiteCode452,@SiteCode453,@SiteCode454,@SiteCode455,@SiteCode456,@SiteCode457,@SiteCode458,@SiteCode459,@SiteCode460,@SiteCode461,@SiteCode462,@SiteCode463,@SiteCode464,@SiteCode465,@SiteCode466,@SiteCode467,@SiteCode468,@SiteCode469,@SiteCode470))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId444[String] = 6372912251695766465
@SiteCode445[String] = 6373083923489249281
@SiteCode446[String] = 6373083925531366080
@SiteCode447[String] = 6373083927883400612
@SiteCode448[String] = 6373083918575368225
@SiteCode449[String] = 6373083920445075162
@SiteCode450[String] = 6373083908618598731
@SiteCode451[String] = 6373083911842783146
@SiteCode452[String] = 6373083913928202424
@SiteCode453[String] = 6373083877551621804
@SiteCode454[String] = 6373083879921857377
@SiteCode455[String] = 6373083881542550067
@SiteCode456[String] = 6373083883689772886
@SiteCode457[String] = 6373083887136270013
@SiteCode458[String] = 6373083889697116488
@SiteCode459[String] = 6373083891969846476
@SiteCode460[String] = 6373083894422586761
@SiteCode461[String] = 6373083897509963358
@SiteCode462[String] = 6373083900444931227
@SiteCode463[String] = 6373083829464571372
@SiteCode464[String] = 6373083833327492328
@SiteCode465[String] = 6373083841964286321
@SiteCode466[String] = 6373083844982558950
@SiteCode467[String] = 6373083847585007801
@SiteCode468[String] = 6373083856887939900
@SiteCode469[String] = 6373083859102666584
@SiteCode470[String] = 6373083864919499284
@FDictionaryCode471[String] = OrderState
@FDictionaryCode472[String] = UrgentDegree
@FDictionaryCode473[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:13:41
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
2020-08-12 18:13:46
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6373083847585007801
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:13:46
Text:	 SELECT   [TbModelOrg].*,[TbCompany].[CompanyFullName] FROM [TbModelOrg] LEFT OUTER JOIN [TbCompany] ON ([TbModelOrg].[SiteCode] = [TbCompany].[CompanyCode])  WHERE (([TbModelOrg].[ProjectId] = @ProjectId474) AND ([TbModelOrg].[SiteCode] IN (@SiteCode475))) 	
Parameters:
@ProjectId474[String] = 6372912251695766465
@SiteCode475[String] = 6373083847585007801


-----------------------------------------------------------------------------
2020-08-12 18:13:55
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjBm] IN (@MxGjBm476,@MxGjBm477,@MxGjBm478,@MxGjBm479,@MxGjBm480) 	
Parameters:
@MxGjBm476[String] = L21_Z17_00KT_DXT_DXT_D_D-B09
@MxGjBm477[String] = L21_Z17_00KT_DXT_DXT_D_D-B01
@MxGjBm478[String] = L21_Z17_00KT_DXT_DXT_D_D-B02
@MxGjBm479[String] = L21_Z17_00KT_DXT_DXT_D_D
@MxGjBm480[String] = L21_Z17_00KT_DXT_DXT_D_D


-----------------------------------------------------------------------------
2020-08-12 18:13:55
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode481,@ComponentCode482,@ComponentCode483,@ComponentCode484,@ComponentCode485)) AND ([TbModelOtherInfo].[Type] = @Type486) 	
Parameters:
@ComponentCode481[String] = L21_Z17_00KT_DXT_DXT_D_D-B09_000
@ComponentCode482[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@ComponentCode483[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@ComponentCode484[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@ComponentCode485[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type486[Int32] = 1


-----------------------------------------------------------------------------
2020-08-12 18:14:08
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId487) 	
Parameters:
@MxGjId487[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a3f


-----------------------------------------------------------------------------
2020-08-12 18:14:08
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode488)) AND ([TbModelOtherInfo].[Type] = @Type489) 	
Parameters:
@ComponentCode488[String] = L21_Z17_00KT_DXT_DXT_D_D-B01_000
@Type489[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:14:09
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId490) 	
Parameters:
@MxGjId490[String] = aa169fcc-7a43-45d4-9d69-be9cdc3145e9


-----------------------------------------------------------------------------
2020-08-12 18:14:09
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode491)) AND ([TbModelOtherInfo].[Type] = @Type492) 	
Parameters:
@ComponentCode491[String] = L21_Z17_00KT_DXT_DXT_D_D-B02_000
@Type492[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:14:11
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId493,@MxGjId494) 	
Parameters:
@MxGjId493[String] = 0be57225-cecd-4cb9-8b11-cbe11692c94d
@MxGjId494[String] = 0be57225-cecd-4cb9-8b11-cbe11692cbe8


-----------------------------------------------------------------------------
2020-08-12 18:14:11
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode495,@ComponentCode496)) AND ([TbModelOtherInfo].[Type] = @Type497) 	
Parameters:
@ComponentCode495[String] = L21_Z17_00KT_DXT_DXT_D_D_001
@ComponentCode496[String] = L21_Z17_00KT_DXT_DXT_D_D_002
@Type497[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:14:13
Text:	 SELECT   * FROM [TbWorkOrderDetail]  WHERE [TbWorkOrderDetail].[MxGjId] IN (@MxGjId498) 	
Parameters:
@MxGjId498[String] = aa169fcc-7a43-45d4-9d69-be9cdc315a39


-----------------------------------------------------------------------------
2020-08-12 18:14:13
Text:	 SELECT   * FROM [TbModelOtherInfo]  WHERE ([TbModelOtherInfo].[ComponentCode] IN (@ComponentCode499)) AND ([TbModelOtherInfo].[Type] = @Type500) 	
Parameters:
@ComponentCode499[String] = L21_Z17_00KT_DXT_DXT_D_D_000
@Type500[Int32] = 2


-----------------------------------------------------------------------------
2020-08-12 18:15:24
Text:	select tsm.* from TbRoleMenu tum
                           left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                           where tsm.IsShow=0 and tsm.MenuType='PC' and tum.RoleCode in('6372919444627396738','6372919451594895243') order by tsm.Sort asc	


-----------------------------------------------------------------------------
2020-08-12 18:15:24
Text:	select 
                        	tsm.*
                        from TbUserMenu tum
                        left join TbSysMenu tsm on tum.MenuCode=tsm.MenuCode
                        where tsm.IsShow=0 and tsm.MenuType='PC' and tum.UserCode=@userCode order by tsm.Sort asc	
Parameters:
@userCode[String] = 6372930471544160074


-----------------------------------------------------------------------------
2020-08-12 18:15:24
Text:	select COUNT(1) as MsgCount from TbFlowPerformOpinions o
                           left join TbFlowPerform p on o.FlowPerformID=p.FlowPerformID
                           left join TbFlowDefine d on p.FlowCode=d.FlowCode
                           where o.UserCode=@UserCode and (ISNULL(@ProjectId,'')='' or d.ProjectId=@ProjectId) and (PerformState=-1 or PerformState=7)
                           union all
                           select COUNT(1) as MsgCount from TbFormEarlyWarningNodeInfo m where m.MsgType=1 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select SUM(Tb.EarlyCount) as earlywarningcount from (select COUNT(1) as EarlyCount from TbFormEarlyWarningNodeInfo m where m.MsgType=2 and m.EWStart=0 and m.EWUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or m.ProjectId=@ProjectId)
                           union all
                           select COUNT(1) as EarlyCount from TbFlowEarlyWarningOtherInfo o where o.EarlyWarningStart=0 and o.FlowYjUserCode=@UserCode and (ISNULL(@ProjectId,'')='' or o.ProjectId=@ProjectId)) Tb	
Parameters:
@UserCode[String] = 6372930471544160074
@ProjectId[String] = 6372912251695766465


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type501) AND ([TbOrganizationMap].[ProjectId] = @ProjectId502)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode503,@CompanyCode504,@CompanyCode505,@CompanyCode506,@CompanyCode507,@CompanyCode508,@CompanyCode509,@CompanyCode510)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode511))) 	
Parameters:
@Type501[Int32] = 1
@ProjectId502[String] = 6372912251695766465
@CompanyCode503[String] = 6373083923489249281
@CompanyCode504[String] = 6373083925531366080
@CompanyCode505[String] = 6373083927883400612
@CompanyCode506[String] = 6373083918575368225
@CompanyCode507[String] = 6373083920445075162
@CompanyCode508[String] = 6373083908618598731
@CompanyCode509[String] = 6373083911842783146
@CompanyCode510[String] = 6373083913928202424
@ParentCompanyCode511[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921389720849710
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	 SELECT   [TbOrganizationMap].* FROM [TbOrganizationMap]  WHERE ((([TbOrganizationMap].[Type] = @Type512) AND ([TbOrganizationMap].[ProjectId] = @ProjectId513)) AND (([TbOrganizationMap].[CompanyCode] IN (@CompanyCode514,@CompanyCode515,@CompanyCode516,@CompanyCode517,@CompanyCode518,@CompanyCode519,@CompanyCode520,@CompanyCode521)) OR ([TbOrganizationMap].[ParentCompanyCode] = @ParentCompanyCode522))) 	
Parameters:
@Type512[Int32] = 2
@ProjectId513[String] = 6372912251695766465
@CompanyCode514[String] = 6373083923489249281
@CompanyCode515[String] = 6373083925531366080
@CompanyCode516[String] = 6373083927883400612
@CompanyCode517[String] = 6373083918575368225
@CompanyCode518[String] = 6373083920445075162
@CompanyCode519[String] = 6373083908618598731
@CompanyCode520[String] = 6373083911842783146
@CompanyCode521[String] = 6373083913928202424
@ParentCompanyCode522[String] = 6372921389720849710


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/GISGridList


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	WITH TREE AS(SELECT * FROM TbCompany WHERE CompanyCode =@parentCode UNION ALL SELECT TbCompany.* FROM TbCompany, TREE WHERE TbCompany.ParentCompanyCode = TREE.CompanyCode) SELECT CompanyCode FROM TREE where TREE.OrgType=@type	
Parameters:
@parentCode[String] = 6372921375874657752
@type[Int32] = 5


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	 SELECT count(*) as r_cnt FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode550)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode]) WHERE (([TbWorkOrder].[ProjectId] = @ProjectId523) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode524,@SiteCode525,@SiteCode526,@SiteCode527,@SiteCode528,@SiteCode529,@SiteCode530,@SiteCode531,@SiteCode532,@SiteCode533,@SiteCode534,@SiteCode535,@SiteCode536,@SiteCode537,@SiteCode538,@SiteCode539,@SiteCode540,@SiteCode541,@SiteCode542,@SiteCode543,@SiteCode544,@SiteCode545,@SiteCode546,@SiteCode547,@SiteCode548,@SiteCode549)))	
Parameters:
@ProjectId523[String] = 6372912251695766465
@SiteCode524[String] = 6373083923489249281
@SiteCode525[String] = 6373083925531366080
@SiteCode526[String] = 6373083927883400612
@SiteCode527[String] = 6373083918575368225
@SiteCode528[String] = 6373083920445075162
@SiteCode529[String] = 6373083908618598731
@SiteCode530[String] = 6373083911842783146
@SiteCode531[String] = 6373083913928202424
@SiteCode532[String] = 6373083877551621804
@SiteCode533[String] = 6373083879921857377
@SiteCode534[String] = 6373083881542550067
@SiteCode535[String] = 6373083883689772886
@SiteCode536[String] = 6373083887136270013
@SiteCode537[String] = 6373083889697116488
@SiteCode538[String] = 6373083891969846476
@SiteCode539[String] = 6373083894422586761
@SiteCode540[String] = 6373083897509963358
@SiteCode541[String] = 6373083900444931227
@SiteCode542[String] = 6373083829464571372
@SiteCode543[String] = 6373083833327492328
@SiteCode544[String] = 6373083841964286321
@SiteCode545[String] = 6373083844982558950
@SiteCode546[String] = 6373083847585007801
@SiteCode547[String] = 6373083856887939900
@SiteCode548[String] = 6373083859102666584
@SiteCode549[String] = 6373083864919499284
@FDictionaryCode550[String] = OrderState
@FDictionaryCode551[String] = UrgentDegree
@FDictionaryCode552[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	 SELECT   TOP 50 [TbWorkOrder].*,[TbCompany].[CompanyFullName] AS [SiteName],[TbSysDictionaryData].[DictionaryText] AS [OrderStateNew],[TbUser].[UserName],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[UrgentDegree]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode551) ) AS [UrgentDegreeNew],( SELECT   [TbSysDictionaryData].[DictionaryText] FROM [TbSysDictionaryData]  WHERE ([TbSysDictionaryData].[DictionaryCode] = [TbWorkOrder].[OrderType]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode552) ) AS [OrderTypeNew],( SELECT   count([TbWorkOrderPack].[ID]) AS [ID] FROM [TbWorkOrderPack]  WHERE [TbWorkOrderPack].[OrderCode] = [TbWorkOrder].[OrderCode] ) AS [PackNum] FROM [TbWorkOrder] LEFT OUTER JOIN [TbCompany] ON ([TbWorkOrder].[SiteCode] = [TbCompany].[CompanyCode]) LEFT OUTER JOIN [TbSysDictionaryData] ON (([TbWorkOrder].[OrderState] = [TbSysDictionaryData].[DictionaryCode]) AND ([TbSysDictionaryData].[FDictionaryCode] = @FDictionaryCode550)) LEFT OUTER JOIN [TbUser] ON ([TbWorkOrder].[InsertUserCode] = [TbUser].[UserCode])  WHERE (([TbWorkOrder].[ProjectId] = @ProjectId523) AND ([TbWorkOrder].[SiteCode] IN (@SiteCode524,@SiteCode525,@SiteCode526,@SiteCode527,@SiteCode528,@SiteCode529,@SiteCode530,@SiteCode531,@SiteCode532,@SiteCode533,@SiteCode534,@SiteCode535,@SiteCode536,@SiteCode537,@SiteCode538,@SiteCode539,@SiteCode540,@SiteCode541,@SiteCode542,@SiteCode543,@SiteCode544,@SiteCode545,@SiteCode546,@SiteCode547,@SiteCode548,@SiteCode549))) ORDER BY [TbWorkOrder].[ID] DESC 	
Parameters:
@ProjectId523[String] = 6372912251695766465
@SiteCode524[String] = 6373083923489249281
@SiteCode525[String] = 6373083925531366080
@SiteCode526[String] = 6373083927883400612
@SiteCode527[String] = 6373083918575368225
@SiteCode528[String] = 6373083920445075162
@SiteCode529[String] = 6373083908618598731
@SiteCode530[String] = 6373083911842783146
@SiteCode531[String] = 6373083913928202424
@SiteCode532[String] = 6373083877551621804
@SiteCode533[String] = 6373083879921857377
@SiteCode534[String] = 6373083881542550067
@SiteCode535[String] = 6373083883689772886
@SiteCode536[String] = 6373083887136270013
@SiteCode537[String] = 6373083889697116488
@SiteCode538[String] = 6373083891969846476
@SiteCode539[String] = 6373083894422586761
@SiteCode540[String] = 6373083897509963358
@SiteCode541[String] = 6373083900444931227
@SiteCode542[String] = 6373083829464571372
@SiteCode543[String] = 6373083833327492328
@SiteCode544[String] = 6373083841964286321
@SiteCode545[String] = 6373083844982558950
@SiteCode546[String] = 6373083847585007801
@SiteCode547[String] = 6373083856887939900
@SiteCode548[String] = 6373083859102666584
@SiteCode549[String] = 6373083864919499284
@FDictionaryCode550[String] = OrderState
@FDictionaryCode551[String] = UrgentDegree
@FDictionaryCode552[String] = OrderType


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	SELECT mm.MenuUrl, pp.UserCode, pp.menuCode, pp.OperationView, pp.OperationAdd
	                        , pp.OperationEdit, pp.OperationDel, pp.OperationExamination, pp.OperationOutput, pp.OperationOther1
	                        , mm.OperationOther1Fun, mm.OperationOther1IconCls, pp.OperationOther2, mm.OperationOther2Fun, mm.OperationOther2IconCls
	                        , pp.OperationOther3, mm.OperationOther3Fun, mm.OperationOther3IconCls, pp.OperationOther4, mm.OperationOther4Fun
	                        , mm.OperationOther4IconCls, pp.OperationOther5, mm.OperationOther5Fun, mm.OperationOther5IconCls
                        FROM (
	                        SELECT UserCode, menuCode, MAX(OperationView) AS OperationView
		                        , MAX(OperationAdd) AS OperationAdd, MAX(OperationEdit) AS OperationEdit
		                        , MAX(OperationDel) AS OperationDel, MAX(OperationExamination) AS OperationExamination
		                        , MAX(OperationOutput) AS OperationOutput, MAX(OperationOther1) AS OperationOther1
		                        , MAX(OperationOther2) AS OperationOther2, MAX(OperationOther3) AS OperationOther3
		                        , MAX(OperationOther4) AS OperationOther4, MAX(OperationOther5) AS OperationOther5
	                        FROM (
		                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
			                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
			                        , OperationOther3, OperationOther4, OperationOther5
		                        FROM (
			                        SELECT a.UserCode, b.menuCode, MAX(b.OperationView) AS OperationView
				                        , MAX(b.OperationAdd) AS OperationAdd, MAX(b.OperationEdit) AS OperationEdit
				                        , MAX(b.OperationDel) AS OperationDel, MAX(b.OperationExamination) AS OperationExamination
				                        , MAX(b.OperationOutput) AS OperationOutput, MAX(b.OperationOther1) AS OperationOther1
				                        , MAX(b.OperationOther2) AS OperationOther2, MAX(b.OperationOther3) AS OperationOther3
				                        , MAX(b.OperationOther4) AS OperationOther4, MAX(b.OperationOther5) AS OperationOther5
			                        FROM dbo.TbUserRole a
				                        INNER JOIN dbo.TbRoleMenu b ON a.RoleCode = b.RoleCode
                                        where b.RoleCode in('6372919444627396738','6372919451594895243')
			                        GROUP BY a.UserCode, b.menuCode
			                        UNION ALL
			                        SELECT UserCode, menuCode, OperationView, OperationAdd, OperationEdit
				                        , OperationDel, OperationExamination, OperationOutput, OperationOther1, OperationOther2
				                        , OperationOther3, OperationOther4, OperationOther5
			                        FROM dbo.TbUserMenu
			                        union all
			                        SELECT p.UserCode, d.menuCode, MAX(d.OperationView) AS OperationView
				                        , MAX(d.OperationAdd) AS OperationAdd, MAX(d.OperationEdit) AS OperationEdit
				                        , MAX(d.OperationDel) AS OperationDel, MAX(d.OperationExamination) AS OperationExamination
				                        , MAX(d.OperationOutput) AS OperationOutput, MAX(d.OperationOther1) AS OperationOther1
				                        , MAX(d.OperationOther2) AS OperationOther2, MAX(d.OperationOther3) AS OperationOther3
				                        , MAX(d.OperationOther4) AS OperationOther4, MAX(d.OperationOther5) AS OperationOther5
			                        FROM dbo.TbPositionUser p
				                        INNER JOIN dbo.TbPositionMenu d ON p.PositionCode = d.PositionCode
			                        GROUP BY p.UserCode, d.menuCode
			
		                        ) c
	                        ) aa
	                        GROUP BY UserCode, menuCode
                        ) pp
                        INNER JOIN dbo.TbSysMenu mm ON pp.menuCode = mm.menuCode 
                        left join dbo.TbUser u on pp.UserCode=u.UserId
                        where u.UserCode=@UserCode And mm.MenuUrl=@menuURI	
Parameters:
@UserCode[String] = 500000
@menuURI[String] = /BIM/3DGridList


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	select a.*,a.FullCode as ProjectId,b.CompanyFullName as ParentCompanyName from TbCompany a
left join TbCompany b on a.ParentCompanyCode=b.CompanyCode 
where 1=1  order by a.id asc	


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=2;	


-----------------------------------------------------------------------------
2020-08-12 18:15:35
Text:	select FullCode,CompanyCode,CompanyFullName,Address,OrgType,PostalCode from TbCompany where OrgType=1 order by CompanyCode asc;	


-----------------------------------------------------------------------------
